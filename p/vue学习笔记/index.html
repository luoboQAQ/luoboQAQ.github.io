<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="记录学习Vue的心得"><title>Vue学习笔记</title><link rel=canonical href=https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><link rel=stylesheet href=/scss/style.min.ae1eb7f887336befbb146467b4baee8138bb2b0004f1f7aa9fcf3b40efa7e299.css><meta property='og:title' content="Vue学习笔记"><meta property='og:description' content="记录学习Vue的心得"><meta property='og:url' content='https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/'><meta property='og:site_name' content='luoboQAQ'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='笔记'><meta property='article:tag' content='Vue'><meta property='article:published_time' content='2021-09-22T08:21:14+08:00'><meta property='article:modified_time' content='2021-10-01T16:00:00+08:00'><meta property='og:image' content='https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/88417243.webp'><meta name=twitter:title content="Vue学习笔记"><meta name=twitter:description content="记录学习Vue的心得"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/88417243.webp'><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><style>:root{--sys-font-family:-apple-system, "LXGW WenKai", 'Microsoft Yahei', 'WenQuanYi Micro Hei', sans-serif;--code-font-family:"JetBrains Mono", "LXGW WenKai Mono", Menlo, Monaco, Consolas, monospace;--article-font-family:"LXGW WenKai", sans-serif;--base-font-family:"LXGW WenKai", var(--sys-font-family), sans-serif}</style><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","smhd51txrk")</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/Mint_hu_90cbcbb19cfdb02a.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🌞</span></figure><div class=site-meta><h1 class=site-name><a href=/>luoboQAQ</a></h1><h2 class=site-description>快乐学习每一天</h2></div></header><ol class=menu-social><li><a href=https://github.com/luoboQAQ target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://lbqaq.top/index.xml target=_blank title=RSS订阅 rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=https://pan.lbqaq.top target=_blank title=我的个人云盘 rel=me><svg class="icon icon-tabler icon-tabler-cloud" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 18a4.6 4.4.0 010-9 5 4.5.0 0111 2h1a3.5 3.5.0 010 7H7"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>文章</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>查询</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友链</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#vue2基础>Vue2基础</a><ol><li><a href=#初识vue>初识Vue</a></li><li><a href=#vue模板语法>Vue模板语法</a></li><li><a href=#数据绑定>数据绑定</a></li><li><a href=#el与data的两种写法>el与data的两种写法</a></li><li><a href=#数据代理>数据代理</a></li><li><a href=#事件处理>事件处理</a></li><li><a href=#计算属性>计算属性</a></li><li><a href=#监视属性>监视属性</a></li><li><a href=#绑定样式>绑定样式</a></li><li><a href=#条件渲染>条件渲染</a></li><li><a href=#列表渲染>列表渲染</a><ol><li><a href=#基本列表>基本列表</a></li><li><a href=#列表过滤>列表过滤</a></li><li><a href=#列表排序>列表排序</a></li></ol></li><li><a href=#收集表单数据>收集表单数据</a></li><li><a href=#过滤器>过滤器</a></li><li><a href=#内置指令>内置指令</a></li><li><a href=#生命周期>生命周期</a></li><li><a href=#组件>组件</a></li></ol></li><li><a href=#vue2进阶>Vue2进阶</a><ol><li><a href=#脚手架文件结构>脚手架文件结构</a></li><li><a href=#关于不同版本的vue>关于不同版本的Vue</a></li><li><a href=#vueconfigjs配置文件>vue.config.js配置文件</a></li><li><a href=#ref属性>ref属性</a></li><li><a href=#props配置项>props配置项</a></li><li><a href=#mixin混入>mixin(混入)</a></li><li><a href=#插件>插件</a></li><li><a href=#scoped样式>scoped样式</a></li><li><a href=#总结todolist案例>总结TodoList案例</a></li><li><a href=#webstorage>webStorage</a></li><li><a href=#组件的自定义事件>组件的自定义事件</a></li><li><a href=#全局事件总线globaleventbus>全局事件总线（GlobalEventBus）</a></li><li><a href=#消息订阅与发布pubsub>消息订阅与发布（pubsub）</a></li><li><a href=#nexttick>nextTick</a></li><li><a href=#vue封装的过度与动画>Vue封装的过度与动画</a></li><li><a href=#vue脚手架配置代理>vue脚手架配置代理</a><ol><li><a href=#方法一>方法一</a></li><li><a href=#方法二>方法二</a></li></ol></li><li><a href=#插槽>插槽</a></li><li><a href=#vuex>Vuex</a><ol><li><a href=#概念>概念</a></li><li><a href=#何时使用>何时使用？</a></li><li><a href=#搭建vuex环境>搭建vuex环境</a></li><li><a href=#基本使用>基本使用</a></li><li><a href=#getters的使用>getters的使用</a></li><li><a href=#四个map方法的使用>四个map方法的使用</a></li><li><a href=#模块化命名空间>模块化+命名空间</a></li></ol></li><li><a href=#路由>路由</a><ol><li><a href=#基本使用-1>基本使用</a></li><li><a href=#几个注意点>几个注意点</a></li><li><a href=#多级路由多级路由>多级路由（多级路由）</a></li><li><a href=#路由的query参数>路由的query参数</a></li><li><a href=#命名路由>命名路由</a></li><li><a href=#路由的params参数>路由的params参数</a></li><li><a href=#路由的props配置>路由的props配置</a></li><li><a href=#router-link的replace属性><code>&lt;router-link></code>的replace属性</a></li><li><a href=#编程式路由导航>编程式路由导航</a></li><li><a href=#缓存路由组件>缓存路由组件</a></li><li><a href=#两个新的生命周期钩子>两个新的生命周期钩子</a></li><li><a href=#路由守卫>路由守卫</a></li><li><a href=#路由器的两种工作模式>路由器的两种工作模式</a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><img src=/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/88417243.webp width=1536 height=864 loading=lazy alt="Featured image of post Vue学习笔记"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>Vue学习笔记</a></h2><h3 class=article-subtitle>记录学习Vue的心得</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2021-09-22</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 44 分钟</time></div></footer></div></header><section class=article-content><p>最近看了很久的Vue教程，为了避免之后的遗忘，还是停下脚步，花点时间讲笔记写出来吧。</p><p>这篇笔记是基于B站上的<a class=link href=https://www.bilibili.com/video/BV1Zy4y1K7SH target=_blank rel=noopener>尚硅谷Vue2.0+Vue3.0全套教程</a>而成，在此感谢提供这么优秀的学习教程。</p><h2 id=vue2基础><a href=#vue2%e5%9f%ba%e7%a1%80 class=header-anchor></a>Vue2基础</h2><p>想要学好Vue，那肯定还是从Vue2开始学起。那么这一章主要是Vue2中的基础内容，没有使用到脚手架。</p><h3 id=初识vue><a href=#%e5%88%9d%e8%af%86vue class=header-anchor></a>初识Vue</h3><p>每学一个新的语言，HelloWord是必不可少的。话不多说，上代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 准备好一个容器 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;demo&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Hello，{{name.toUpperCase()}}，{{address}}<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>productionTip</span> <span class=o>=</span> <span class=kc>false</span> <span class=c1>//阻止 vue 在启动时生成生产提示。
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>//创建Vue实例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#demo&#39;</span><span class=p>,</span> <span class=c1>//el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span> 		<span class=c1>//data中用于存储数据，数据供el所指定的容器去使用，值我们暂时先写成一个对象。
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;vue&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>address</span><span class=o>:</span><span class=s1>&#39;北京&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>这样就完成了一个基础的Vue程序。</p><p>1.想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象；</p><p>2.root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法；</p><p>3.root容器里的代码被称为【Vue模板】；</p><p>4.Vue实例和容器是一一对应的；</p><p>5.真实开发中只有一个Vue实例，并且会配合着组件一起使用；</p><p>6.{{xxx}}中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性；</p><p>7.一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新；</p><h3 id=vue模板语法><a href=#vue%e6%a8%a1%e6%9d%bf%e8%af%ad%e6%b3%95 class=header-anchor></a>Vue模板语法</h3><p>Vue模板语法有2大类：</p><p>1.插值语法：</p><p>​ 功能：用于解析标签体内容。</p><p>​ 写法：{{xxx}}，xxx是js表达式，且可以直接读取到data中的所有属性。</p><p>2.指令语法：</p><p>​ 功能：用于解析标签（包括：标签属性、标签体内容、绑定事件&mldr;..）。</p><p>​ 举例：v-bind:href=&ldquo;xxx&rdquo; 或 简写为 :href=&ldquo;xxx&rdquo;，xxx同样要写js表达式，</p><p>​ 且可以直接读取到data中的所有属性。</p><p>​ 备注：Vue中有很多的指令，且形式都是：v-????，此处我们只是拿v-bind举个例子。</p><p>其实很好理解，想要显示在页面上的内容就使用<code>{{value}}</code>这样的写法，而<code>v-bind:</code>则是用于html标签中的属性绑定。</p><h3 id=数据绑定><a href=#%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a class=header-anchor></a>数据绑定</h3><p>Vue中有2种数据绑定的方式：</p><p>​ 1.单向绑定(v-bind)：数据只能从data流向页面。</p><p>​ 2.双向绑定(v-model)：数据不仅能从data流向页面，还可以从页面流向data。</p><p>​ 备注：</p><p>​ 1.双向绑定一般都应用在表单类元素上（如：input、select等）</p><p>​ 2.v-model:value 可以简写为 v-model，因为v-model默认收集的就是value值。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 普通写法 --&gt;</span>
</span></span><span class=line><span class=cl>单向数据绑定：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>v-bind:value</span><span class=o>=</span><span class=s>&#34;name&#34;</span><span class=p>&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>双向数据绑定：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>v-model:value</span><span class=o>=</span><span class=s>&#34;name&#34;</span><span class=p>&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 简写 --&gt;</span>
</span></span><span class=line><span class=cl>单向数据绑定：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>:value</span><span class=o>=</span><span class=s>&#34;name&#34;</span><span class=p>&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>双向数据绑定：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;name&#34;</span><span class=p>&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=el与data的两种写法><a href=#el%e4%b8%8edata%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%86%99%e6%b3%95 class=header-anchor></a>el与data的两种写法</h3><p>data与el的2种写法</p><p>​ 1.el有2种写法</p><p>​ (1).new Vue时候配置el属性。</p><p>​ (2).先创建Vue实例，随后再通过vm.$mount(&rsquo;#root&rsquo;)指定el的值。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>v</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=c1>//el:&#39;#root&#39;, //第一种写法
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Vue&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>.</span><span class=nx>$mount</span><span class=p>(</span><span class=s1>&#39;#root&#39;</span><span class=p>)</span> <span class=c1>//第二种写法
</span></span></span></code></pre></td></tr></table></div></div><p>​ 2.data有2种写法</p><p>​ (1).对象式</p><p>​ (2).函数式</p><p>​ 如何选择：目前哪种写法都可以，以后学习到组件时，data必须使用函数式，否则会报错。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1>//data的第一种写法：对象式
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=cm>/* data:{
</span></span></span><span class=line><span class=cl><span class=cm>				name:&#39;Vue&#39;
</span></span></span><span class=line><span class=cl><span class=cm>			} */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//data的第二种写法：函数式
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>data</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;@@@&#39;</span><span class=p>,</span><span class=k>this</span><span class=p>)</span> <span class=c1>//此处的this是Vue实例对象
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Vue&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 3.一个重要的原则：</p><p>​ 由Vue管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是Vue实例了。</p><h3 id=数据代理><a href=#%e6%95%b0%e6%8d%ae%e4%bb%a3%e7%90%86 class=header-anchor></a>数据代理</h3><p>在讲Vue中的数据代理之前，先讲一下js中<code>Object.defineproperty</code>方法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>number</span> <span class=o>=</span> <span class=mi>18</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>Object</span><span class=p>.</span><span class=nx>defineProperty</span><span class=p>(</span><span class=nx>person</span><span class=p>,</span><span class=s1>&#39;age&#39;</span><span class=p>,{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// value:18,
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// enumerable:true, //控制属性是否可以枚举，默认值是false
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// writable:true, //控制属性是否可以被修改，默认值是false
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// configurable:true //控制属性是否可以被删除，默认值是false
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>//当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>get</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;有人读取age属性了&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>number</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>set</span><span class=p>(</span><span class=nx>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;有人修改了age属性，且值是&#39;</span><span class=p>,</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nx>number</span> <span class=o>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出person中所有的key
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(Object.keys(person))
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>通过<code>Object.defineProperty</code>添加进的属性，默认是不可枚举、不可修改、不可删除的，可以通过上面的三条配置项，让其和普通的属性一样。</p><p>所谓数据代理，就是指通过一个对象代理对另一个对象中属性的操作（读/写）。</p><p>1.Vue中的数据代理：</p><p>​ 通过vm对象来代理data对象中属性的操作（读/写）</p><p>2.Vue中数据代理的好处：</p><p>​ 更加方便的操作data中的数据</p><p>3.基本原理：</p><p>​ 通过Object.defineProperty()把data对象中所有属性添加到vm上。</p><p>​ 为每一个添加到vm上的属性，都指定一个getter/setter。</p><p>​ 在getter/setter内部去操作（读/写）data中对应的属性。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Vue&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>password</span><span class=o>:</span><span class=mi>123</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>通过在控制台查看<code>vm</code>，可以发现<code>data</code>中的数据都通过数据代理在<code>vm</code>身上了</p><h3 id=事件处理><a href=#%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86 class=header-anchor></a>事件处理</h3><p>事件的基本使用：</p><p>​ 1.使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名；</p><p>​ 2.事件的回调需要配置在methods对象中，最终会在vm上；</p><p>​ 3.methods中配置的函数，不要用箭头函数！否则this就不是vm了；</p><p>​ 4.methods中配置的函数，都是被Vue所管理的函数，this的指向是vm 或 组件实例对象；</p><p>​ 5.@click=&ldquo;demo&rdquo; 和 @click=&ldquo;demo($event)&rdquo; 效果一致，但后者可以传参；</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 准备好一个容器--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>Hello,{{name}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- &lt;button v-on:click=&#34;showInfo&#34;&gt;点我提示信息&lt;/button&gt; --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;showInfo1&#34;</span><span class=p>&gt;</span>点我提示信息1（不传参）<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;showInfo2($event,66)&#34;</span><span class=p>&gt;</span>点我提示信息2（传参）<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Vue&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>methods</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>showInfo1</span><span class=p>(</span><span class=nx>event</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=c1>// console.log(event.target.innerText)
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>// console.log(this) //此处的this是vm
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;同学你好！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>showInfo2</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span><span class=nx>number</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span><span class=nx>number</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>// console.log(event.target.innerText)
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>// console.log(this) //此处的this是vm
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;同学你好！！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Vue中的事件修饰符：</p><p>​ 1.prevent：阻止默认事件（常用）；</p><p>​ 2.stop：阻止事件冒泡（常用）；</p><p>​ 3.once：事件只触发一次（常用）；</p><p>​ 4.capture：使用事件的捕获模式；</p><p>​ 5.self：只有event.target是当前操作的元素时才触发事件；</p><p>​ 6.passive：事件的默认行为立即执行，无需等待事件回调执行完毕；</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 阻止默认事件（常用） --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;http://www.baidu.com&#34;</span> <span class=err>@</span><span class=na>click</span><span class=err>.</span><span class=na>prevent</span><span class=o>=</span><span class=s>&#34;showInfo&#34;</span><span class=p>&gt;</span>点我提示信息<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 阻止事件冒泡（常用） --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;demo1&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;showInfo&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=err>.</span><span class=na>stop</span><span class=o>=</span><span class=s>&#34;showInfo&#34;</span><span class=p>&gt;</span>点我提示信息<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 修饰符可以连续写 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- &lt;a href=&#34;http://www.baidu.com&#34; @click.prevent.stop=&#34;showInfo&#34;&gt;点我提示信息&lt;/a&gt; --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 事件只触发一次（常用） --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=err>.</span><span class=na>once</span><span class=o>=</span><span class=s>&#34;showInfo&#34;</span><span class=p>&gt;</span>点我提示信息<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>1.Vue中常用的按键别名：</p><p>​ 回车 => enter</p><p>​ 删除 => delete (捕获“删除”和“退格”键)</p><p>​ 退出 => esc</p><p>​ 空格 => space</p><p>​ 换行 => tab (特殊，必须配合keydown去使用)</p><p>​ 上 => up</p><p>​ 下 => down</p><p>​ 左 => left</p><p>​ 右 => right</p><p>2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）</p><p>3.系统修饰键（用法特殊）：ctrl、alt、shift、meta</p><p>​ (1).配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。</p><p>​ (2).配合keydown使用：正常触发事件。</p><p>4.也可以使用keyCode去指定具体的按键（不推荐）</p><p>5.Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名</p><p>一般都是<code>@keydown.xxx</code>或者<code>@keyup.xxx</code>来绑定按键</p><h3 id=计算属性><a href=#%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7 class=header-anchor></a>计算属性</h3><p>计算属性：</p><p>​ 1.定义：要用的属性不存在，要通过已有属性计算得来。</p><p>​ 2.原理：底层借助了Objcet.defineproperty方法提供的getter和setter。</p><p>​ 3.get函数什么时候执行？</p><p>​ (1).初次读取时会执行一次。</p><p>​ (2).当依赖的数据发生改变时会被再次调用。</p><p>​ 4.优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。</p><p>​ 5.备注：</p><p>​ 1.计算属性最终会出现在vm上，直接读取使用即可。</p><p>​ 2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>firstName</span><span class=o>:</span><span class=s1>&#39;张&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>lastName</span><span class=o>:</span><span class=s1>&#39;三&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>x</span><span class=o>:</span><span class=s1>&#39;你好&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>computed</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fullName</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//get有什么作用？当有人读取fullName时，get就会被调用，且返回值就作为fullName的值
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//get什么时候调用？1.初次读取fullName时。2.所依赖的数据发生变化时。
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>get</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;get被调用了&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>// console.log(this) //此处的this是vm
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>+</span> <span class=s1>&#39;-&#39;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>lastName</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=c1>//set什么时候调用? 当fullName被修改时。
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>set</span><span class=p>(</span><span class=nx>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;set&#39;</span><span class=p>,</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=nx>value</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;-&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>lastName</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>计算属性调用就和普通属性的调用一样，用<code>{{key}}</code>就行了。</p><p>当我们不需要计算属性的set方法时，我们就可以使用简写方法：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>firstName</span><span class=o>:</span><span class=s1>&#39;张&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>lastName</span><span class=o>:</span><span class=s1>&#39;三&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>computed</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//简写
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>fullName</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;get被调用了&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>+</span> <span class=s1>&#39;-&#39;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>lastName</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=监视属性><a href=#%e7%9b%91%e8%a7%86%e5%b1%9e%e6%80%a7 class=header-anchor></a>监视属性</h3><p>监视属性watch：</p><p>1.当被监视的属性变化时, 回调函数自动调用, 进行相关操作</p><p>2.监视的属性必须存在，才能进行监视！！</p><p>3.监视的两种写法：</p><p>​ (1).new Vue时传入watch配置</p><p>​ (2).通过vm.$watch监视</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 准备好一个容器--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>今天天气很{{info}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;changeWeather&#34;</span><span class=p>&gt;</span>切换天气<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>isHot</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>computed</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>info</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>isHot</span> <span class=o>?</span> <span class=s1>&#39;炎热&#39;</span> <span class=o>:</span> <span class=s1>&#39;凉爽&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>changeWeather</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>isHot</span> <span class=o>=</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>isHot</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=cm>/* watch:{
</span></span></span><span class=line><span class=cl><span class=cm>				isHot:{
</span></span></span><span class=line><span class=cl><span class=cm>					immediate:true, //初始化时让handler调用一下
</span></span></span><span class=line><span class=cl><span class=cm>					//handler什么时候调用？当isHot发生改变时。
</span></span></span><span class=line><span class=cl><span class=cm>					handler(newValue,oldValue){
</span></span></span><span class=line><span class=cl><span class=cm>						console.log(&#39;isHot被修改了&#39;,newValue,oldValue)
</span></span></span><span class=line><span class=cl><span class=cm>					}
</span></span></span><span class=line><span class=cl><span class=cm>				}
</span></span></span><span class=line><span class=cl><span class=cm>			} */</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>vm</span><span class=p>.</span><span class=nx>$watch</span><span class=p>(</span><span class=s1>&#39;isHot&#39;</span><span class=p>,{</span>
</span></span><span class=line><span class=cl>        <span class=nx>immediate</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span> <span class=c1>//初始化时让handler调用一下
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//handler什么时候调用？当isHot发生改变时。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>handler</span><span class=p>(</span><span class=nx>newValue</span><span class=p>,</span><span class=nx>oldValue</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isHot被修改了&#39;</span><span class=p>,</span><span class=nx>newValue</span><span class=p>,</span><span class=nx>oldValue</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>深度监视：</p><p>​ (1).Vue中的watch默认不监测对象内部值的改变（一层）。</p><p>​ (2).配置<code>deep:true</code>可以监测对象内部值改变（多层）。</p><p>备注：</p><p>​ (1).Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以！</p><p>​ (2).使用watch时根据数据的具体结构，决定是否采用深度监视。</p><p>计算属性也同样可以简写：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>watch</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//简写
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>isHot</span><span class=p>(</span><span class=nx>newValue</span><span class=p>,</span><span class=nx>oldValue</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isHot被修改了&#39;</span><span class=p>,</span><span class=nx>newValue</span><span class=p>,</span><span class=nx>oldValue</span><span class=p>,</span><span class=k>this</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>computed和watch之间的区别：</strong></p><p>​ 1.computed能完成的功能，watch都可以完成。</p><p>​ 2.watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</p><p>两个重要的小原则：</p><p>​ 1.所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。</p><p>​ 2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，</p><p>​ 这样this的指向才是vm 或 组件实例对象。</p><h3 id=绑定样式><a href=#%e7%bb%91%e5%ae%9a%e6%a0%b7%e5%bc%8f class=header-anchor></a>绑定样式</h3><p>绑定样式：</p><ol><li><p>class样式</p><p>写法:class=&ldquo;xxx&rdquo; xxx可以是字符串、对象、数组。</p><p>字符串写法适用于：类名不确定，要动态获取。</p><p>对象写法适用于：要绑定多个样式，个数不确定，名字也不确定。</p><p>数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用。</p></li><li><p>style样式</p><p>:style="{fontSize: xxx}&ldquo;其中xxx是动态值。</p><p>:style="[a,b]&ldquo;其中a、b是样式对象。</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;basic&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;mood&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;changeMood&#34;</span><span class=p>&gt;</span>{{name}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定、名字也不确定 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;basic&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;classArr&#34;</span><span class=p>&gt;</span>{{name}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定、名字也确定，但要动态决定用不用 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;basic&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;classObj&#34;</span><span class=p>&gt;</span>{{name}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定style样式--对象写法 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;basic&#34;</span> <span class=na>:style</span><span class=o>=</span><span class=s>&#34;styleObj&#34;</span><span class=p>&gt;</span>{{name}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定style样式--数组写法 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;basic&#34;</span> <span class=na>:style</span><span class=o>=</span><span class=s>&#34;styleArr&#34;</span><span class=p>&gt;</span>{{name}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>productionTip</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>vm</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;尚硅谷&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>mood</span><span class=o>:</span><span class=s1>&#39;normal&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>classArr</span><span class=o>:</span><span class=p>[</span><span class=s1>&#39;atguigu1&#39;</span><span class=p>,</span><span class=s1>&#39;atguigu2&#39;</span><span class=p>,</span><span class=s1>&#39;atguigu3&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>classObj</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>atguigu1</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>atguigu2</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>styleObj</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>fontSize</span><span class=o>:</span> <span class=s1>&#39;40px&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>color</span><span class=o>:</span><span class=s1>&#39;red&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>styleObj2</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>backgroundColor</span><span class=o>:</span><span class=s1>&#39;orange&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>styleArr</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>fontSize</span><span class=o>:</span> <span class=s1>&#39;40px&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>color</span><span class=o>:</span><span class=s1>&#39;blue&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>backgroundColor</span><span class=o>:</span><span class=s1>&#39;gray&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>changeMood</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;happy&#39;</span><span class=p>,</span><span class=s1>&#39;sad&#39;</span><span class=p>,</span><span class=s1>&#39;normal&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>index</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span><span class=o>*</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>mood</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=条件渲染><a href=#%e6%9d%a1%e4%bb%b6%e6%b8%b2%e6%9f%93 class=header-anchor></a>条件渲染</h3><p>条件渲染：</p><p>​ 1.v-if</p><p>​ 写法：</p><p>​ (1).v-if=&ldquo;表达式&rdquo;</p><p>​ (2).v-else-if=&ldquo;表达式&rdquo;</p><p>​ (3).v-else=&ldquo;表达式&rdquo;</p><p>​ 适用于：切换频率较低的场景。</p><p>​ 特点：不展示的DOM元素直接被移除。</p><p>​ 注意：v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”。</p><p>​ 2.v-show</p><p>​ 写法：v-show=&ldquo;表达式&rdquo;</p><p>​ 适用于：切换频率较高的场景。</p><p>​ 特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</p><p>​ 3.备注：使用v-if的时，元素可能无法获取到，而使用v-show一定可以获取到。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 使用v-show做条件渲染 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-show</span><span class=o>=</span><span class=s>&#34;false&#34;</span><span class=p>&gt;</span>欢迎来到{{name}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-show</span><span class=o>=</span><span class=s>&#34;1 === 1&#34;</span><span class=p>&gt;</span>欢迎来到{{name}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 使用v-if做条件渲染 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;1 === 1&#34;</span><span class=p>&gt;</span>欢迎来到{{name}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;false&#34;</span><span class=p>&gt;</span>欢迎来到{{name}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- v-else和v-else-if --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;n === 1&#34;</span><span class=p>&gt;</span>Angular<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-else-if</span><span class=o>=</span><span class=s>&#34;n === 2&#34;</span><span class=p>&gt;</span>React<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-else-if</span><span class=o>=</span><span class=s>&#34;n === 3&#34;</span><span class=p>&gt;</span>Vue<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-else</span><span class=p>&gt;</span>哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- v-if与template的配合使用 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;n === 1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>你好<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>尚硅谷<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>北京<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=列表渲染><a href=#%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93 class=header-anchor></a>列表渲染</h3><h4 id=基本列表><a href=#%e5%9f%ba%e6%9c%ac%e5%88%97%e8%a1%a8 class=header-anchor></a>基本列表</h4><p>v-for指令:</p><p>​ 1.用于展示列表数据</p><p>​ 2.语法：v-for="(item, index) in xxx&rdquo; :key=&ldquo;yyy&rdquo;</p><p>​ 3.可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 遍历数组 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>人员列表（遍历数组）<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(p,index) of persons&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;index&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{p.name}}-{{p.age}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 遍历对象 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>汽车信息（遍历对象）<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(value,k) of car&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;k&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{k}}-{{value}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 遍历字符串 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>测试遍历字符串（用得少）<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(char,index) of str&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;index&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{char}}-{{index}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 遍历指定次数 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>测试遍历指定次数（用得少）<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(number,index) of 5&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;index&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{index}}-{{number}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>persons</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;001&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>18</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;002&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;李四&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>19</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;003&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;王五&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>20</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>car</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;奥迪A8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>price</span><span class=o>:</span><span class=s1>&#39;70万&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>color</span><span class=o>:</span><span class=s1>&#39;黑色&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>str</span><span class=o>:</span><span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>面试题：react、vue中的key有什么作用？（key的内部原理）</p><ol><li>虚拟DOM中key的作用：</li></ol><p>​ key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】,</p><p>​ 随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p><p>​ 2.对比规则：</p><p>​ (1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</p><p>​ ①.若虚拟DOM中内容没变, 直接使用之前的真实DOM！</p><p>​ ②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</p><p>​ (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</p><p>​ 创建新的真实DOM，随后渲染到到页面。</p><p>​ 3. 用index作为key可能会引发的问题：</p><p>​ 1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</p><p>​ 会产生没有必要的真实DOM更新 ==> 界面效果没问题, 但效率低。</p><p>​ 2. 如果结构中还包含输入类的DOM：</p><p>​ 会产生错误DOM更新 ==> 界面有问题。</p><p>​ 4. 开发中如何选择key?:</p><p>​ 1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</p><p>​ 2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</p><p>​ 使用index作为key是没有问题的。</p><h4 id=列表过滤><a href=#%e5%88%97%e8%a1%a8%e8%bf%87%e6%bb%a4 class=header-anchor></a>列表过滤</h4><p>可以通过<code>watch</code>或者<code>computed</code>实现。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 准备好一个容器--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>人员列表<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>placeholder</span><span class=o>=</span><span class=s>&#34;请输入名字&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;keyWord&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(p,index) of filPerons&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;index&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            {{p.name}}-{{p.age}}-{{p.sex}}
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>productionTip</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//用watch实现
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//#region 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>keyWord</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>persons</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;001&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;马冬梅&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>19</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;002&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周冬雨&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>20</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;003&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周杰伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>21</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;004&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;温兆伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>22</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>filPerons</span><span class=o>:</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>watch</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>keyWord</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>immediate</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>handler</span><span class=p>(</span><span class=nx>val</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=k>this</span><span class=p>.</span><span class=nx>filPerons</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>persons</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>p</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>                        <span class=k>return</span> <span class=nx>p</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=nx>val</span><span class=p>)</span> <span class=o>!==</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>                    <span class=p>})</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=c1>//#endregion
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>//用computed实现
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>keyWord</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>persons</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;001&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;马冬梅&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>19</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;002&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周冬雨&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>20</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;003&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周杰伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>21</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;004&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;温兆伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>22</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>computed</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>filPerons</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>persons</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>p</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>p</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>keyWord</span><span class=p>)</span> <span class=o>!==</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span> 
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=列表排序><a href=#%e5%88%97%e8%a1%a8%e6%8e%92%e5%ba%8f class=header-anchor></a>列表排序</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 准备好一个容器--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>人员列表<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>placeholder</span><span class=o>=</span><span class=s>&#34;请输入名字&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;keyWord&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;sortType = 2&#34;</span><span class=p>&gt;</span>年龄升序<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;sortType = 1&#34;</span><span class=p>&gt;</span>年龄降序<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;sortType = 0&#34;</span><span class=p>&gt;</span>原顺序<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(p,index) of filPerons&#34;</span> <span class=na>:key</span><span class=o>=</span><span class=s>&#34;p.id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            {{p.name}}-{{p.age}}-{{p.sex}}
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>productionTip</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>keyWord</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>sortType</span><span class=o>:</span><span class=mi>0</span><span class=p>,</span> <span class=c1>//0原顺序 1降序 2升序
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>persons</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;001&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;马冬梅&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>30</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;002&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周冬雨&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>31</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;女&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;003&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;周杰伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>18</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=nx>id</span><span class=o>:</span><span class=s1>&#39;004&#39;</span><span class=p>,</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;温兆伦&#39;</span><span class=p>,</span><span class=nx>age</span><span class=o>:</span><span class=mi>19</span><span class=p>,</span><span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>computed</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>filPerons</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>arr</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>persons</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>p</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>p</span><span class=p>.</span><span class=nx>name</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>keyWord</span><span class=p>)</span> <span class=o>!==</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span>
</span></span><span class=line><span class=cl>                <span class=c1>//判断一下是否需要排序
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>sortType</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=nx>arr</span><span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>p1</span><span class=p>,</span><span class=nx>p2</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>                        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>sortType</span> <span class=o>===</span> <span class=mi>1</span> <span class=o>?</span> <span class=nx>p2</span><span class=p>.</span><span class=nx>age</span><span class=o>-</span><span class=nx>p1</span><span class=p>.</span><span class=nx>age</span> <span class=o>:</span> <span class=nx>p1</span><span class=p>.</span><span class=nx>age</span><span class=o>-</span><span class=nx>p2</span><span class=p>.</span><span class=nx>age</span>
</span></span><span class=line><span class=cl>                    <span class=p>})</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nx>arr</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Vue监视数据的原理：</p><ol><li><p>vue会监视data中所有层次的数据。</p></li><li><p>如何监测对象中的数据？</p></li></ol><p>​ 通过setter实现监视，且要在new Vue时就传入要监测的数据。</p><p>​ (1).对象中后追加的属性，Vue默认不做响应式处理</p><p>​ (2).如需给后添加的属性做响应式，请使用如下API：</p><p>​ Vue.set(target，propertyName/index，value) 或</p><p>​ vm.$set(target，propertyName/index，value)</p><ol start=3><li>如何监测数组中的数据？</li></ol><p>​ 通过包裹数组更新元素的方法实现，本质就是做了两件事：</p><p>​ (1).调用原生对应的方法对数组进行更新。</p><p>​ (2).重新解析模板，进而更新页面。</p><p>4.在Vue修改数组中的某个元素一定要用如下方法：</p><p>​ 1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()</p><p>​ 2.Vue.set() 或 vm.$set()</p><p>特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</p><h3 id=收集表单数据><a href=#%e6%94%b6%e9%9b%86%e8%a1%a8%e5%8d%95%e6%95%b0%e6%8d%ae class=header-anchor></a>收集表单数据</h3><p>若：<code>&lt;input type="text"/></code>，则v-model收集的是value值，用户输入的就是value值。</p><p>若：<code>&lt;input type="radio"/></code>，则v-model收集的是value值，且要给标签配置value值。</p><p>若：<code>&lt;input type="checkbox"/></code></p><p>​ 1.没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</p><p>​ 2.配置input的value属性:</p><p>​ (1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</p><p>​ (2)v-model的初始值是数组，那么收集的的就是value组成的数组</p><p>备注：v-model的三个修饰符：</p><p>​ lazy：失去焦点再收集数据</p><p>​ number：输入字符串转为有效的数字</p><p>​ trim：输入首尾空格过滤</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>form</span> <span class=err>@</span><span class=na>submit</span><span class=err>.</span><span class=na>prevent</span><span class=o>=</span><span class=s>&#34;demo&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    账号：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>v-model</span><span class=err>.</span><span class=na>trim</span><span class=o>=</span><span class=s>&#34;userInfo.account&#34;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    密码：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;password&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.password&#34;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    年龄：<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;number&#34;</span> <span class=na>v-model</span><span class=err>.</span><span class=na>number</span><span class=o>=</span><span class=s>&#34;userInfo.age&#34;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    性别：
</span></span><span class=line><span class=cl>    男<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;radio&#34;</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;sex&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.sex&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;male&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    女<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;radio&#34;</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;sex&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.sex&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;female&#34;</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    爱好：
</span></span><span class=line><span class=cl>    学习<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;checkbox&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.hobby&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;study&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    打游戏<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;checkbox&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.hobby&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;game&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    吃饭<span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;checkbox&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.hobby&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;eat&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    所属校区
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>select</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.city&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>option</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>请选择校区<span class=p>&lt;/</span><span class=nt>option</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>option</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;beijing&#34;</span><span class=p>&gt;</span>北京<span class=p>&lt;/</span><span class=nt>option</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>option</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;shanghai&#34;</span><span class=p>&gt;</span>上海<span class=p>&lt;/</span><span class=nt>option</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>option</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;shenzhen&#34;</span><span class=p>&gt;</span>深圳<span class=p>&lt;/</span><span class=nt>option</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>option</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;wuhan&#34;</span><span class=p>&gt;</span>武汉<span class=p>&lt;/</span><span class=nt>option</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>select</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    其他信息：
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>textarea</span> <span class=na>v-model</span><span class=err>.</span><span class=na>lazy</span><span class=o>=</span><span class=s>&#34;userInfo.other&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>textarea</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>/&gt;&lt;</span><span class=nt>br</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;checkbox&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;userInfo.agree&#34;</span><span class=p>&gt;</span>阅读并接受<span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;http://www.atguigu.com&#34;</span><span class=p>&gt;</span>《用户协议》<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>提交<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>userInfo</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>account</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>password</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>age</span><span class=o>:</span><span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>sex</span><span class=o>:</span><span class=s1>&#39;female&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>hobby</span><span class=o>:</span><span class=p>[],</span>
</span></span><span class=line><span class=cl>                <span class=nx>city</span><span class=o>:</span><span class=s1>&#39;beijing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>other</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>agree</span><span class=o>:</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>demo</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>userInfo</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=过滤器><a href=#%e8%bf%87%e6%bb%a4%e5%99%a8 class=header-anchor></a>过滤器</h3><p>过滤器：</p><p>定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。</p><p>语法：</p><p>​ 1.注册过滤器：Vue.filter(name,callback) 或 new Vue{filters:{}}</p><p>​ 2.使用过滤器：{{ xxx | 过滤器名}} 或 v-bind:属性 = &ldquo;xxx | 过滤器名&rdquo;</p><p>备注：</p><p>​ 1.过滤器也可以接收额外参数、多个过滤器也可以串联</p><p>​ 2.并没有改变原本的数据, 是产生新的对应的数据</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>显示格式化后的时间<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 计算属性实现 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>现在是：{{fmtTime}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- methods实现 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>现在是：{{getFmtTime()}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 过滤器实现 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>现在是：{{time | timeFormater}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 过滤器实现（传参） --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>现在是：{{time | timeFormater(&#39;YYYY_MM_DD&#39;) | mySlice}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h3</span> <span class=na>:x</span><span class=o>=</span><span class=s>&#34;msg | mySlice&#34;</span><span class=p>&gt;</span>尚硅谷<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>{{msg | mySlice}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=s1>&#39;mySlice&#39;</span><span class=p>,</span><span class=kd>function</span><span class=p>(</span><span class=nx>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>value</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>time</span><span class=o>:</span><span class=mi>1621561377603</span><span class=p>,</span> <span class=c1>//时间戳
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>msg</span><span class=o>:</span><span class=s1>&#39;你好，尚硅谷&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>computed</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fmtTime</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nx>dayjs</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>time</span><span class=p>).</span><span class=nx>format</span><span class=p>(</span><span class=s1>&#39;YYYY年MM月DD日 HH:mm:ss&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>getFmtTime</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nx>dayjs</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>time</span><span class=p>).</span><span class=nx>format</span><span class=p>(</span><span class=s1>&#39;YYYY年MM月DD日 HH:mm:ss&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=c1>//局部过滤器
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>filters</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>timeFormater</span><span class=p>(</span><span class=nx>value</span><span class=p>,</span><span class=nx>str</span><span class=o>=</span><span class=s1>&#39;YYYY年MM月DD日 HH:mm:ss&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=c1>// console.log(&#39;@&#39;,value)
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=nx>dayjs</span><span class=p>(</span><span class=nx>value</span><span class=p>).</span><span class=nx>format</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#root2&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>msg</span><span class=o>:</span><span class=s1>&#39;hello,atguigu!&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=内置指令><a href=#%e5%86%85%e7%bd%ae%e6%8c%87%e4%bb%a4 class=header-anchor></a>内置指令</h3><p>我们学过的指令：</p><p>​ v-bind : 单向绑定解析表达式, 可简写为 :xxx</p><p>​ v-model : 双向数据绑定</p><p>​ v-for : 遍历数组/对象/字符串</p><p>​ v-on : 绑定事件监听, 可简写为@</p><p>​ v-if : 条件渲染（动态控制节点是否存存在）</p><p>​ v-else : 条件渲染（动态控制节点是否存存在）</p><p>​ v-show : 条件渲染 (动态控制节点是否展示)</p><p>v-text指令：</p><p>​ 1.作用：向其所在的节点中渲染文本内容。</p><p>​ 2.与插值语法的区别：v-text会替换掉节点中的内容，{{xx}}则不会。</p><p>v-html指令：</p><p>​ 1.作用：向指定节点中渲染包含html结构的内容。</p><p>​ 2.与插值语法的区别：</p><p>​ (1).v-html会替换掉节点中所有的内容，{{xx}}则不会。</p><p>​ (2).v-html可以识别html结构。</p><p>​ 3.严重注意：v-html有安全性问题！！！！</p><p>​ (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</p><p>​ (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</p><p>v-cloak指令（没有值）：</p><p>​ 1.本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</p><p>​ 2.使用css配合v-cloak可以解决网速慢时页面展示出{{xxx}}的问题。</p><p>v-once指令：</p><p>​ 1.v-once所在节点在初次动态渲染后，就视为静态内容了。</p><p>​ 2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</p><p>v-pre指令：</p><p>​ 1.跳过其所在节点的编译过程。</p><p>​ 2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</p><h3 id=生命周期><a href=#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f class=header-anchor></a>生命周期</h3><p>话不多说先上图：</p><p><img src=/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png width=1469 height=1892 srcset="/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_8ea12fe64b578039.png 480w, /p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_669a05a3cc3243ef.png 1024w" loading=lazy alt=生命周期 class=gallery-image data-flex-grow=77 data-flex-basis=186px></p><p>生命周期：</p><p>​ 1.又名：生命周期回调函数、生命周期函数、生命周期钩子。</p><p>​ 2.是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数。</p><p>​ 3.生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。</p><p>​ 4.生命周期函数中的this指向是vm 或 组件实例对象。</p><p>常用的生命周期钩子：</p><p>​ 1.<code>mounted</code>: 发送ajax请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】。</p><p>​ 2.<code>beforeDestroy</code>: 清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】。</p><p>关于销毁Vue实例</p><p>​ 1.销毁后借助Vue开发者工具看不到任何信息。</p><p>​ 2.销毁后自定义事件会失效，但原生DOM事件依然有效。</p><p>​ 3.一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。</p><h3 id=组件><a href=#%e7%bb%84%e4%bb%b6 class=header-anchor></a>组件</h3><p>Vue中使用组件的三大步骤：</p><p>​ 一、定义组件(创建组件)</p><p>​ 二、注册组件</p><p>​ 三、使用组件(写组件标签)</p><p>一、如何定义一个组件？</p><p>​ 使用Vue.extend(options)创建，其中options和new Vue(options)时传入的那个options几乎一样，但也有点区别；</p><p>​ 区别如下：</p><p>​ 1.el不要写，为什么？ ——— 最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器。</p><p>​ 2.data必须写成函数，为什么？ ———— 避免组件被复用时，数据存在引用关系。</p><p>​ 备注：使用template可以配置组件结构。</p><p>二、如何注册组件？</p><p>​ 1.局部注册：靠new Vue的时候传入components选项</p><p>​ 2.全局注册：靠Vue.component(&lsquo;组件名&rsquo;,组件)</p><p>三、编写组件标签：</p><p>​ <code>&lt;school>&lt;/school></code></p><p>几个注意点：</p><p>​ 1.关于组件名:</p><p>​ 一个单词组成：</p><p>​ 第一种写法(首字母小写)：school</p><p>​ 第二种写法(首字母大写)：School</p><p>​ 多个单词组成：</p><p>​ 第一种写法(kebab-case命名)：my-school</p><p>​ 第二种写法(CamelCase命名)：MySchool (需要Vue脚手架支持)</p><p>​ 备注：</p><p>​ (1).组件名尽可能回避HTML中已有的元素名称，例如：h2、H2都不行。</p><p>​ (2).可以使用name配置项指定组件在开发者工具中呈现的名字。</p><p>​ 2.关于组件标签:</p><p>​ 第一种写法：<code>&lt;school>&lt;/school></code></p><p>​ 第二种写法：<code>&lt;school/></code></p><p>​ 备注：不用使用脚手架时，<code>&lt;school/></code>会导致后续组件不能渲染。</p><p>​ 3.一个简写方式：</p><p>​ const school = Vue.extend(options) 可简写为：const school = options</p><p>关于VueComponent：</p><p>​ 1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。</p><p>​ 2.我们只需要写<code>&lt;school/></code>或<code>&lt;school>&lt;/school></code>，Vue解析时会帮我们创建school组件的实例对象，</p><p>​ 即Vue帮我们执行的：new VueComponent(options)。</p><p>​ 3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</p><p>​ 4.关于this指向：</p><p>​ (1).组件配置中：</p><p>​ data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】。</p><p>​ (2).new Vue(options)配置中：</p><p>​ data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】。</p><p>​ 5.VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）。</p><p>​ Vue的实例对象，以后简称vm。</p><h2 id=vue2进阶><a href=#vue2%e8%bf%9b%e9%98%b6 class=header-anchor></a>Vue2进阶</h2><p>到这一部分，就要使用到脚手架了，同时也向正式的项目靠近了。</p><h3 id=脚手架文件结构><a href=#%e8%84%9a%e6%89%8b%e6%9e%b6%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84 class=header-anchor></a>脚手架文件结构</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>├── node_modules 
</span></span><span class=line><span class=cl>├── public
</span></span><span class=line><span class=cl>│   ├── favicon.ico: 页签图标
</span></span><span class=line><span class=cl>│   └── index.html: 主页面
</span></span><span class=line><span class=cl>├── src
</span></span><span class=line><span class=cl>│   ├── assets: 存放静态资源
</span></span><span class=line><span class=cl>│   │   └── logo.png
</span></span><span class=line><span class=cl>│   │── component: 存放组件
</span></span><span class=line><span class=cl>│   │   └── HelloWorld.vue
</span></span><span class=line><span class=cl>│   │── App.vue: 汇总所有组件
</span></span><span class=line><span class=cl>│   │── main.js: 入口文件
</span></span><span class=line><span class=cl>├── .gitignore: git版本管制忽略的配置
</span></span><span class=line><span class=cl>├── babel.config.js: babel的配置文件
</span></span><span class=line><span class=cl>├── package.json: 应用包配置文件 
</span></span><span class=line><span class=cl>├── README.md: 应用描述文件
</span></span><span class=line><span class=cl>├── package-lock.json：包版本控制文件
</span></span></code></pre></td></tr></table></div></div><h3 id=关于不同版本的vue><a href=#%e5%85%b3%e4%ba%8e%e4%b8%8d%e5%90%8c%e7%89%88%e6%9c%ac%e7%9a%84vue class=header-anchor></a>关于不同版本的Vue</h3><ol><li>vue.js与vue.runtime.xxx.js的区别：<ol><li>vue.js是完整版的Vue，包含：核心功能 + 模板解析器。</li><li>vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。</li></ol></li><li>因为vue.runtime.xxx.js没有模板解析器，所以不能使用template这个配置项，需要使用render函数接收到的createElement函数去指定具体内容。也就是代码中的这句<code>render: h => h(App)</code></li></ol><h3 id=vueconfigjs配置文件><a href=#vueconfigjs%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 class=header-anchor></a>vue.config.js配置文件</h3><ol><li>使用vue inspect > output.js可以查看到Vue脚手架的默认配置。</li><li>使用vue.config.js可以对脚手架进行个性化定制，详情见：<a class=link href=https://cli.vuejs.org/zh target=_blank rel=noopener>https://cli.vuejs.org/zh</a></li></ol><h3 id=ref属性><a href=#ref%e5%b1%9e%e6%80%a7 class=header-anchor></a>ref属性</h3><ol><li>被用来给元素或子组件注册引用信息（id的替代者）</li><li>应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象（vc）</li><li>使用方式：<ol><li>打标识：<code>&lt;h1 ref="xxx">.....&lt;/h1></code> 或 <code>&lt;School ref="xxx">&lt;/School></code></li><li>获取：<code>this.$refs.xxx</code></li></ol></li></ol><h3 id=props配置项><a href=#props%e9%85%8d%e7%bd%ae%e9%a1%b9 class=header-anchor></a>props配置项</h3><ol><li><p>功能：让组件接收外部传过来的数据</p></li><li><p>传递数据：<code>&lt;Demo name="xxx"/></code></p></li><li><p>接收数据：</p><ol><li><p>第一种方式（只接收）：<code>props:['name']</code></p></li><li><p>第二种方式（限制类型）：<code>props:{name:String}</code></p></li><li><p>第三种方式（限制类型、限制必要性、指定默认值）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>props</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>type</span><span class=o>:</span><span class=nb>String</span><span class=p>,</span> <span class=c1>//类型
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>required</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span> <span class=c1>//必要性
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>default</span><span class=o>:</span><span class=s1>&#39;老王&#39;</span> <span class=c1>//默认值
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><blockquote><p>备注：props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中的数据。</p></blockquote></li></ol><h3 id=mixin混入><a href=#mixin%e6%b7%b7%e5%85%a5 class=header-anchor></a>mixin(混入)</h3><ol><li><p>功能：可以把多个组件共用的配置提取成一个混入对象</p></li><li><p>使用方式：</p><p>第一步定义混合：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>(){....},</span>
</span></span><span class=line><span class=cl>    <span class=nx>methods</span><span class=o>:</span><span class=p>{....}</span>
</span></span><span class=line><span class=cl>    <span class=p>....</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>第二步使用混入：</p><p>​ 全局混入：<code>Vue.mixin(xxx)</code>
​ 局部混入：<code>mixins:['xxx']</code></p></li></ol><h3 id=插件><a href=#%e6%8f%92%e4%bb%b6 class=header-anchor></a>插件</h3><ol><li><p>功能：用于增强Vue</p></li><li><p>本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</p></li><li><p>定义插件：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>对象</span><span class=p>.</span><span class=nx>install</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>Vue</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 1. 添加全局过滤器
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>filter</span><span class=p>(....)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 2. 添加全局指令
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>directive</span><span class=p>(....)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 3. 配置全局混入(合)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>mixin</span><span class=p>(....)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 4. 添加实例方法
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>$myMethod</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{...}</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>$myProperty</span> <span class=o>=</span> <span class=nx>xxxx</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用插件：<code>Vue.use()</code></p></li></ol><h3 id=scoped样式><a href=#scoped%e6%a0%b7%e5%bc%8f class=header-anchor></a>scoped样式</h3><ol><li>作用：让样式在局部生效，防止冲突。</li><li>写法：<code>&lt;style scoped></code></li></ol><h3 id=总结todolist案例><a href=#%e6%80%bb%e7%bb%93todolist%e6%a1%88%e4%be%8b class=header-anchor></a>总结TodoList案例</h3><ol><li><p>组件化编码流程：</p><p>​ (1).拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突。</p><p>​ (2).实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用：</p><p>​ 1).一个组件在用：放在组件自身即可。</p><p>​ 2). 一些组件在用：放在他们共同的父组件上（<strong>状态提升</strong>）。</p><p>​ (3).实现交互：从绑定事件开始。</p></li><li><p>props适用于：</p><p>​ (1).父组件 ==> 子组件 通信</p><p>​ (2).子组件 ==> 父组件 通信（要求父先给子一个函数）</p></li><li><p>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的！</p></li><li><p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。</p></li></ol><h3 id=webstorage><a href=#webstorage class=header-anchor></a>webStorage</h3><ol><li><p>存储内容大小一般支持5MB左右（不同浏览器可能还不一样）</p></li><li><p>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p></li><li><p>相关API：</p><ol><li><p><code>xxxxxStorage.setItem('key', 'value');</code>
该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p></li><li><p><code>xxxxxStorage.getItem('person');</code></p><p>​ 该方法接受一个键名作为参数，返回键名对应的值。</p></li><li><p><code>xxxxxStorage.removeItem('key');</code></p><p>​ 该方法接受一个键名作为参数，并把该键名从存储中删除。</p></li><li><p><code>xxxxxStorage.clear()</code></p><p>​ 该方法会清空存储中的所有数据。</p></li></ol></li><li><p>备注：</p><ol><li>SessionStorage存储的内容会随着浏览器窗口关闭而消失。</li><li>LocalStorage存储的内容，需要手动清除才会消失。</li><li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getItem的返回值是null。</li><li><code>JSON.parse(null)</code>的结果依然是null。</li></ol></li></ol><h3 id=组件的自定义事件><a href=#%e7%bb%84%e4%bb%b6%e7%9a%84%e8%87%aa%e5%ae%9a%e4%b9%89%e4%ba%8b%e4%bb%b6 class=header-anchor></a>组件的自定义事件</h3><ol><li><p>一种组件间通信的方式，适用于：<strong>子组件 ===> 父组件</strong></p></li><li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（<strong>事件的回调在A中</strong>）。</p></li><li><p>绑定自定义事件：</p><ol><li><p>第一种方式，在父组件中：<code>&lt;Demo @atguigu="test"/></code> 或 <code>&lt;Demo v-on:atguigu="test"/></code></p></li><li><p>第二种方式，在父组件中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>Demo</span> <span class=nx>ref</span><span class=o>=</span><span class=s2>&#34;demo&#34;</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl><span class=nx>mounted</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=k>this</span><span class=p>.</span><span class=nx>$refs</span><span class=p>.</span><span class=nx>xxx</span><span class=p>.</span><span class=nx>$on</span><span class=p>(</span><span class=s1>&#39;atguigu&#39;</span><span class=p>,</span><span class=k>this</span><span class=p>.</span><span class=nx>test</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p></li></ol></li><li><p>触发自定义事件：<code>this.$emit('atguigu',数据)</code></p></li><li><p>解绑自定义事件<code>this.$off('atguigu')</code></p></li><li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符。</p></li><li><p>注意：通过<code>this.$refs.xxx.$on('atguigu',回调)</code>绑定自定义事件时，回调<strong>要么配置在methods中</strong>，<strong>要么用箭头函数</strong>，否则this指向会出问题！</p></li></ol><h3 id=全局事件总线globaleventbus><a href=#%e5%85%a8%e5%b1%80%e4%ba%8b%e4%bb%b6%e6%80%bb%e7%ba%bfglobaleventbus class=header-anchor></a>全局事件总线（GlobalEventBus）</h3><ol><li><p>一种组件间通信的方式，适用于<strong>任意组件间通信</strong>。</p></li><li><p>安装全局事件总线：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=p>......</span>
</span></span><span class=line><span class=cl>	<span class=nx>beforeCreate</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>Vue</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>$bus</span> <span class=o>=</span> <span class=k>this</span> <span class=c1>//安装全局事件总线，$bus就是当前应用的vm
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>......</span>
</span></span><span class=line><span class=cl><span class=p>})</span> 
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用事件总线：</p><ol><li><p>接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的<strong>回调留在A组件自身</strong>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>methods</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>demo</span><span class=p>(</span><span class=nx>data</span><span class=p>){......}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl><span class=nx>mounted</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>$bus</span><span class=p>.</span><span class=nx>$on</span><span class=p>(</span><span class=s1>&#39;xxxx&#39;</span><span class=p>,</span><span class=k>this</span><span class=p>.</span><span class=nx>demo</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>提供数据：<code>this.$bus.$emit('xxxx',数据)</code></p></li></ol></li><li><p>最好在beforeDestroy钩子中，用$off去解绑<strong>当前组件所用到的</strong>事件。</p></li></ol><h3 id=消息订阅与发布pubsub><a href=#%e6%b6%88%e6%81%af%e8%ae%a2%e9%98%85%e4%b8%8e%e5%8f%91%e5%b8%83pubsub class=header-anchor></a>消息订阅与发布（pubsub）</h3><ol><li><p>一种组件间通信的方式，适用于<strong>任意组件间通信</strong>。</p></li><li><p>使用步骤：</p><ol><li><p>安装pubsub：<code>npm i pubsub-js</code></p></li><li><p>引入: <code>import pubsub from 'pubsub-js'</code></p></li><li><p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的<strong>回调留在A组件自身</strong>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>methods</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>demo</span><span class=p>(</span><span class=nx>data</span><span class=p>){......}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl><span class=nx>mounted</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>pid</span> <span class=o>=</span> <span class=nx>pubsub</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;xxx&#39;</span><span class=p>,</span><span class=k>this</span><span class=p>.</span><span class=nx>demo</span><span class=p>)</span> <span class=c1>//订阅消息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>提供数据：<code>pubsub.publish('xxx',数据)</code></p></li><li><p>最好在beforeDestroy钩子中，用<code>PubSub.unsubscribe(pid)</code>去<strong>取消订阅</strong>。</p></li></ol></li></ol><h3 id=nexttick><a href=#nexttick class=header-anchor></a>nextTick</h3><ol><li>语法：<code>this.$nextTick(回调函数)</code></li><li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li><li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行。</li></ol><h3 id=vue封装的过度与动画><a href=#vue%e5%b0%81%e8%a3%85%e7%9a%84%e8%bf%87%e5%ba%a6%e4%b8%8e%e5%8a%a8%e7%94%bb class=header-anchor></a>Vue封装的过度与动画</h3><ol><li><p>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。</p></li><li><p>图示：无了</p></li><li><p>写法：</p><ol><li><p>准备好样式：</p><ul><li>元素进入的样式：<ol><li>v-enter：进入的起点</li><li>v-enter-active：进入过程中</li><li>v-enter-to：进入的终点</li></ol></li><li>元素离开的样式：<ol><li>v-leave：离开的起点</li><li>v-leave-active：离开过程中</li><li>v-leave-to：离开的终点</li></ol></li></ul></li><li><p>使用<code>&lt;transition></code>包裹要过度的元素，并配置name属性：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>transition</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;hello&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>h1</span> <span class=nt>v-show</span><span class=o>=</span><span class=s>&#34;isShow&#34;</span><span class=p>&gt;</span><span class=na>你好啊</span><span class=err>！</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>transition</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group></code>，且每个元素都要指定<code>key</code>值。</p></li></ol></li></ol><h3 id=vue脚手架配置代理><a href=#vue%e8%84%9a%e6%89%8b%e6%9e%b6%e9%85%8d%e7%bd%ae%e4%bb%a3%e7%90%86 class=header-anchor></a>vue脚手架配置代理</h3><h4 id=方法一><a href=#%e6%96%b9%e6%b3%95%e4%b8%80 class=header-anchor></a>方法一</h4><p>​ 在vue.config.js中添加如下配置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>devServer</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxy</span><span class=o>:</span><span class=s2>&#34;http://localhost:5000&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol><h4 id=方法二><a href=#%e6%96%b9%e6%b3%95%e4%ba%8c class=header-anchor></a>方法二</h4><p>​ 编写vue.config.js配置具体代理规则：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>devServer</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>proxy</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;/api1&#39;</span><span class=o>:</span> <span class=p>{</span><span class=c1>// 匹配所有以 &#39;/api1&#39;开头的请求路径
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5000&#39;</span><span class=p>,</span><span class=c1>// 代理目标的基础路径
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span><span class=s1>&#39;^/api1&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;/api2&#39;</span><span class=o>:</span> <span class=p>{</span><span class=c1>// 匹配所有以 &#39;/api2&#39;开头的请求路径
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5001&#39;</span><span class=p>,</span><span class=c1>// 代理目标的基础路径
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span><span class=s1>&#39;^/api2&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000
</span></span></span><span class=line><span class=cl><span class=cm>   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080
</span></span></span><span class=line><span class=cl><span class=cm>   changeOrigin默认值为true
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></td></tr></table></div></div><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol><h3 id=插槽><a href=#%e6%8f%92%e6%a7%bd class=header-anchor></a>插槽</h3><ol><li><p>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于 父组件 ===> 子组件。</p></li><li><p>分类：默认插槽、具名插槽、作用域插槽</p></li><li><p>使用方式：</p><ol><li><p>默认插槽：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=nx>父组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>           <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span><span class=nx>html结构1</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=nx>子组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>               <span class=c>&lt;!--</span> <span class=nx>定义插槽</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>               <span class=p>&lt;</span><span class=nt>slot</span><span class=p>&gt;</span><span class=nx>插槽默认内容</span><span class=p>...&lt;/</span><span class=nt>slot</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>具名插槽：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=nx>父组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>template</span> <span class=na>slot</span><span class=o>=</span><span class=s>&#34;center&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span><span class=nx>html结构1</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v</span><span class=nt>-slot</span><span class=o>:</span><span class=na>footer</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>               <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span><span class=nx>html结构2</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=nx>子组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>               <span class=c>&lt;!--</span> <span class=nx>定义插槽</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>               <span class=p>&lt;</span><span class=nt>slot</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;center&#34;</span><span class=p>&gt;</span><span class=nx>插槽默认内容</span><span class=p>...&lt;/</span><span class=nt>slot</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>               <span class=p>&lt;</span><span class=nt>slot</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;footer&#34;</span><span class=p>&gt;</span><span class=nx>插槽默认内容</span><span class=p>...&lt;/</span><span class=nt>slot</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>作用域插槽：</p><ol><li><p>理解：数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。（games数据在Category组件中，但使用数据所遍历出来的结构由App组件决定）</p></li><li><p>具体编码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=nx>父组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>			<span class=p>&lt;</span><span class=nt>template</span> <span class=na>scope</span><span class=o>=</span><span class=s>&#34;scopeData&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>				<span class=c>&lt;!--</span> <span class=nx>生成的是ul列表</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>				<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>					<span class=p>&lt;</span><span class=nt>li</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;g in scopeData.games&#34; :key=&#34;g&#34;</span><span class=p>&gt;{{</span><span class=na>g</span><span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>				<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>			<span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;/</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>			<span class=p>&lt;</span><span class=nt>template</span> <span class=na>slot</span><span class=nt>-scope</span><span class=err>=&#34;</span><span class=na>scopeData</span><span class=err>&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>				<span class=c>&lt;!--</span> <span class=nx>生成的是h4标题</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>				<span class=p>&lt;</span><span class=nt>h4</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;g in scopeData.games&#34; :key=&#34;g&#34;</span><span class=p>&gt;{{</span><span class=na>g</span><span class=p>}}&lt;/</span><span class=nt>h4</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>			<span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;/</span><span class=nt>Category</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=na>子组件中</span><span class=err>：</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>slot</span> <span class=nt>:games</span><span class=o>=</span><span class=s>&#34;games&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>slot</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Category&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>props</span><span class=o>:</span><span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=c1>//数据在子组件自身
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=nx>games</span><span class=o>:</span><span class=p>[</span><span class=s1>&#39;红色警戒&#39;</span><span class=p>,</span><span class=s1>&#39;穿越火线&#39;</span><span class=p>,</span><span class=s1>&#39;劲舞团&#39;</span><span class=p>,</span><span class=s1>&#39;超级玛丽&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol></li></ol></li></ol><h3 id=vuex><a href=#vuex class=header-anchor></a>Vuex</h3><h4 id=概念><a href=#%e6%a6%82%e5%bf%b5 class=header-anchor></a>概念</h4><p>​ 在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，且适用于任意组件间通信。</p><h4 id=何时使用><a href=#%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8 class=header-anchor></a>何时使用？</h4><p>​ 多个组件需要共享数据时</p><h4 id=搭建vuex环境><a href=#%e6%90%ad%e5%bb%bavuex%e7%8e%af%e5%a2%83 class=header-anchor></a>搭建vuex环境</h4><ol><li><p>创建文件：<code>src/store/index.js</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//引入Vue核心库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Vue</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>//引入Vuex
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Vuex</span> <span class=nx>from</span> <span class=s1>&#39;vuex&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>//应用Vuex插件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Vue</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>Vuex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//准备actions对象——响应组件中用户的动作
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>actions</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=c1>//准备mutations对象——修改state中的数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>mutations</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=c1>//准备state对象——保存具体的数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>state</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//创建并暴露store
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=k>new</span> <span class=nx>Vuex</span><span class=p>.</span><span class=nx>Store</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>actions</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>mutations</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>state</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl><span class=c1>//引入store
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>store</span> <span class=nx>from</span> <span class=s1>&#39;./store&#39;</span>
</span></span><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//创建vm
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>new</span> <span class=nx>Vue</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>el</span><span class=o>:</span><span class=s1>&#39;#app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>render</span><span class=o>:</span> <span class=nx>h</span> <span class=p>=&gt;</span> <span class=nx>h</span><span class=p>(</span><span class=nx>App</span><span class=p>),</span>
</span></span><span class=line><span class=cl>	<span class=nx>store</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=基本使用><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8 class=header-anchor></a>基本使用</h4><ol><li><p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store.js</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//引入Vue核心库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Vue</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>//引入Vuex
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Vuex</span> <span class=nx>from</span> <span class=s1>&#39;vuex&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>//引用Vuex
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Vue</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>Vuex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>actions</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//响应组件中加的动作
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>jia</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span><span class=nx>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=c1>// console.log(&#39;actions中的jia被调用了&#39;,miniStore,value)
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=nx>context</span><span class=p>.</span><span class=nx>commit</span><span class=p>(</span><span class=s1>&#39;JIA&#39;</span><span class=p>,</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>mutations</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//执行加
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>JIA</span><span class=p>(</span><span class=nx>state</span><span class=p>,</span><span class=nx>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=c1>// console.log(&#39;mutations中的JIA被调用了&#39;,state,value)
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=nx>state</span><span class=p>.</span><span class=nx>sum</span> <span class=o>+=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//初始化数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>sum</span><span class=o>:</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//创建并暴露store
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=k>new</span> <span class=nx>Vuex</span><span class=p>.</span><span class=nx>Store</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>actions</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>mutations</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>state</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>组件中读取vuex中的数据：<code>$store.state.sum</code></p></li><li><p>组件中修改vuex中的数据：<code>$store.dispatch('action中的方法名',数据)</code> 或 <code>$store.commit('mutations中的方法名',数据)</code></p><blockquote><p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p></blockquote></li></ol><h4 id=getters的使用><a href=#getters%e7%9a%84%e4%bd%bf%e7%94%a8 class=header-anchor></a>getters的使用</h4><ol><li><p>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。</p></li><li><p>在<code>store.js</code>中追加<code>getters</code>配置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>......</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>getters</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>bigSum</span><span class=p>(</span><span class=nx>state</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nx>state</span><span class=p>.</span><span class=nx>sum</span> <span class=o>*</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//创建并暴露store
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=k>new</span> <span class=nx>Vuex</span><span class=p>.</span><span class=nx>Store</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=p>......</span>
</span></span><span class=line><span class=cl>	<span class=nx>getters</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>组件中读取数据：<code>$store.getters.bigSum</code></p></li></ol><h4 id=四个map方法的使用><a href=#%e5%9b%9b%e4%b8%aamap%e6%96%b9%e6%b3%95%e7%9a%84%e4%bd%bf%e7%94%a8 class=header-anchor></a>四个map方法的使用</h4><ol><li><p>mapState方法：用于帮助我们映射<code>state</code>中的数据为计算属性</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>computed</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//借助mapState生成计算属性：sum、school、subject（对象写法）
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>...</span><span class=nx>mapState</span><span class=p>({</span><span class=nx>sum</span><span class=o>:</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span><span class=nx>school</span><span class=o>:</span><span class=s1>&#39;school&#39;</span><span class=p>,</span><span class=nx>subject</span><span class=o>:</span><span class=s1>&#39;subject&#39;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//借助mapState生成计算属性：sum、school、subject（数组写法）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapState</span><span class=p>([</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span><span class=s1>&#39;school&#39;</span><span class=p>,</span><span class=s1>&#39;subject&#39;</span><span class=p>]),</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>mapGetters方法：用于帮助我们映射<code>getters</code>中的数据为计算属性</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>computed</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//借助mapGetters生成计算属性：bigSum（对象写法）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapGetters</span><span class=p>({</span><span class=nx>bigSum</span><span class=o>:</span><span class=s1>&#39;bigSum&#39;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//借助mapGetters生成计算属性：bigSum（数组写法）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapGetters</span><span class=p>([</span><span class=s1>&#39;bigSum&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>mapActions方法：用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>methods</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//靠mapActions生成：incrementOdd、incrementWait（对象形式）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapActions</span><span class=p>({</span><span class=nx>incrementOdd</span><span class=o>:</span><span class=s1>&#39;jiaOdd&#39;</span><span class=p>,</span><span class=nx>incrementWait</span><span class=o>:</span><span class=s1>&#39;jiaWait&#39;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//靠mapActions生成：incrementOdd、incrementWait（数组形式）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapActions</span><span class=p>([</span><span class=s1>&#39;jiaOdd&#39;</span><span class=p>,</span><span class=s1>&#39;jiaWait&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>mapMutations方法：用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>methods</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//靠mapActions生成：increment、decrement（对象形式）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapMutations</span><span class=p>({</span><span class=nx>increment</span><span class=o>:</span><span class=s1>&#39;JIA&#39;</span><span class=p>,</span><span class=nx>decrement</span><span class=o>:</span><span class=s1>&#39;JIAN&#39;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//靠mapMutations生成：JIA、JIAN（对象形式）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>...</span><span class=nx>mapMutations</span><span class=p>([</span><span class=s1>&#39;JIA&#39;</span><span class=p>,</span><span class=s1>&#39;JIAN&#39;</span><span class=p>]),</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><blockquote><p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h4 id=模块化命名空间><a href=#%e6%a8%a1%e5%9d%97%e5%8c%96%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4 class=header-anchor></a>模块化+命名空间</h4><ol><li><p>目的：让代码更好维护，让多种数据分类更加明确。</p></li><li><p>修改<code>store.js</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>countAbout</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>namespaced</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span><span class=c1>//开启命名空间
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>state</span><span class=o>:</span><span class=p>{</span><span class=nx>x</span><span class=o>:</span><span class=mi>1</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>mutations</span><span class=o>:</span> <span class=p>{</span> <span class=p>...</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>actions</span><span class=o>:</span> <span class=p>{</span> <span class=p>...</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>getters</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>bigSum</span><span class=p>(</span><span class=nx>state</span><span class=p>){</span>
</span></span><span class=line><span class=cl>       <span class=k>return</span> <span class=nx>state</span><span class=p>.</span><span class=nx>sum</span> <span class=o>*</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>personAbout</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>namespaced</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span><span class=c1>//开启命名空间
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>state</span><span class=o>:</span><span class=p>{</span> <span class=p>...</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>mutations</span><span class=o>:</span> <span class=p>{</span> <span class=p>...</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>actions</span><span class=o>:</span> <span class=p>{</span> <span class=p>...</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>store</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Vuex</span><span class=p>.</span><span class=nx>Store</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>modules</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>countAbout</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>personAbout</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>开启命名空间后，组件中读取state数据：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//方式一：自己直接读取
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$store</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>personAbout</span><span class=p>.</span><span class=nx>list</span>
</span></span><span class=line><span class=cl><span class=c1>//方式二：借助mapState读取：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>...</span><span class=nx>mapState</span><span class=p>(</span><span class=s1>&#39;countAbout&#39;</span><span class=p>,[</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span><span class=s1>&#39;school&#39;</span><span class=p>,</span><span class=s1>&#39;subject&#39;</span><span class=p>]),</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>开启命名空间后，组件中读取getters数据：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//方式一：自己直接读取
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$store</span><span class=p>.</span><span class=nx>getters</span><span class=p>[</span><span class=s1>&#39;personAbout/firstPersonName&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1>//方式二：借助mapGetters读取：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>...</span><span class=nx>mapGetters</span><span class=p>(</span><span class=s1>&#39;countAbout&#39;</span><span class=p>,[</span><span class=s1>&#39;bigSum&#39;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>开启命名空间后，组件中调用dispatch</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//方式一：自己直接dispatch
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$store</span><span class=p>.</span><span class=nx>dispatch</span><span class=p>(</span><span class=s1>&#39;personAbout/addPersonWang&#39;</span><span class=p>,</span><span class=nx>person</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//方式二：借助mapActions：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>...</span><span class=nx>mapActions</span><span class=p>(</span><span class=s1>&#39;countAbout&#39;</span><span class=p>,{</span><span class=nx>incrementOdd</span><span class=o>:</span><span class=s1>&#39;jiaOdd&#39;</span><span class=p>,</span><span class=nx>incrementWait</span><span class=o>:</span><span class=s1>&#39;jiaWait&#39;</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>开启命名空间后，组件中调用commit</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//方式一：自己直接commit
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$store</span><span class=p>.</span><span class=nx>commit</span><span class=p>(</span><span class=s1>&#39;personAbout/ADD_PERSON&#39;</span><span class=p>,</span><span class=nx>person</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//方式二：借助mapMutations：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>...</span><span class=nx>mapMutations</span><span class=p>(</span><span class=s1>&#39;countAbout&#39;</span><span class=p>,{</span><span class=nx>increment</span><span class=o>:</span><span class=s1>&#39;JIA&#39;</span><span class=p>,</span><span class=nx>decrement</span><span class=o>:</span><span class=s1>&#39;JIAN&#39;</span><span class=p>}),</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=路由><a href=#%e8%b7%af%e7%94%b1 class=header-anchor></a>路由</h3><ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key是路径，value是组件。</li></ol><h4 id=基本使用-1><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8-1 class=header-anchor></a>基本使用</h4><ol><li><p>安装vue-router，命令：<code>npm i vue-router</code></p></li><li><p>应用插件：<code>Vue.use(VueRouter)</code></p></li><li><p>编写router配置项:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//引入VueRouter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>VueRouter</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>//引入Luyou 组件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>About</span> <span class=nx>from</span> <span class=s1>&#39;../components/About&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Home</span> <span class=nx>from</span> <span class=s1>&#39;../components/Home&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//创建router实例对象，去管理一组一组的路由规则
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>VueRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>routes</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>component</span><span class=o>:</span><span class=nx>About</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>component</span><span class=o>:</span><span class=nx>Home</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//暴露router
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=nx>router</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>实现切换（active-class可配置高亮样式）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=na>active</span><span class=nt>-class</span><span class=err>=&#34;</span><span class=na>active</span><span class=err>&#34;</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/about&#34;</span><span class=p>&gt;</span><span class=nx>About</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>指定展示位置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-view</span><span class=p>&gt;&lt;/</span><span class=nt>router-view</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=几个注意点><a href=#%e5%87%a0%e4%b8%aa%e6%b3%a8%e6%84%8f%e7%82%b9 class=header-anchor></a>几个注意点</h4><ol><li>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到。</li></ol><h4 id=多级路由多级路由><a href=#%e5%a4%9a%e7%ba%a7%e8%b7%af%e7%94%b1%e5%a4%9a%e7%ba%a7%e8%b7%af%e7%94%b1 class=header-anchor></a>多级路由（多级路由）</h4><ol><li><p>配置路由规则，使用children配置项：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>routes</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>component</span><span class=o>:</span><span class=nx>About</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>component</span><span class=o>:</span><span class=nx>Home</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>children</span><span class=o>:</span><span class=p>[</span> <span class=c1>//通过children配置子级路由
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;news&#39;</span><span class=p>,</span> <span class=c1>//此处一定不要写：/news
</span></span></span><span class=line><span class=cl><span class=c1></span>				<span class=nx>component</span><span class=o>:</span><span class=nx>News</span>
</span></span><span class=line><span class=cl>			<span class=p>},</span>
</span></span><span class=line><span class=cl>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;message&#39;</span><span class=p>,</span><span class=c1>//此处一定不要写：/message
</span></span></span><span class=line><span class=cl><span class=c1></span>				<span class=nx>component</span><span class=o>:</span><span class=nx>Message</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>]</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>跳转（要写完整路径）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/home/news&#34;</span><span class=p>&gt;</span><span class=nx>News</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=路由的query参数><a href=#%e8%b7%af%e7%94%b1%e7%9a%84query%e5%8f%82%e6%95%b0 class=header-anchor></a>路由的query参数</h4><ol><li><p>传递参数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>跳转并携带query参数</span><span class=err>，</span><span class=nx>to的字符串写法</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=nt>:to</span><span class=o>=</span><span class=s>&#34;/home/message/detail?id=666&amp;title=你好&#34;</span><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>跳转并携带query参数</span><span class=err>，</span><span class=nx>to的对象写法</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> 
</span></span><span class=line><span class=cl>	<span class=o>:</span><span class=na>to</span><span class=o>=</span><span class=s>&#34;{
</span></span></span><span class=line><span class=cl><span class=s>		path:&#39;/home/message/detail&#39;,
</span></span></span><span class=line><span class=cl><span class=s>		query:{
</span></span></span><span class=line><span class=cl><span class=s>		   id:666,
</span></span></span><span class=line><span class=cl><span class=s>            title:&#39;你好&#39;
</span></span></span><span class=line><span class=cl><span class=s>		}
</span></span></span><span class=line><span class=cl><span class=s>	}&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>接收参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>$route</span><span class=p>.</span><span class=nx>query</span><span class=p>.</span><span class=nx>id</span>
</span></span><span class=line><span class=cl><span class=nx>$route</span><span class=p>.</span><span class=nx>query</span><span class=p>.</span><span class=nx>title</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=命名路由><a href=#%e5%91%bd%e5%90%8d%e8%b7%af%e7%94%b1 class=header-anchor></a>命名路由</h4><ol><li><p>作用：可以简化路由的跳转。</p></li><li><p>如何使用</p><ol><li><p>给路由命名：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/demo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>component</span><span class=o>:</span><span class=nx>Demo</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>children</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;test&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>component</span><span class=o>:</span><span class=nx>Test</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>children</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>				<span class=p>{</span>
</span></span><span class=line><span class=cl>                      <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;hello&#39;</span> <span class=c1>//给路由命名
</span></span></span><span class=line><span class=cl><span class=c1></span>					<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;welcome&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>					<span class=nx>component</span><span class=o>:</span><span class=nx>Hello</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=p>]</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>简化跳转：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span><span class=nx>简化前</span><span class=err>，</span><span class=nx>需要写完整的路径</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/demo/test/welcome&#34;</span><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span><span class=nx>简化后</span><span class=err>，</span><span class=nx>直接通过名字跳转</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=nt>:to</span><span class=o>=</span><span class=s>&#34;{name:&#39;hello&#39;}&#34;</span><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span><span class=nx>简化写法配合传递参数</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> 
</span></span><span class=line><span class=cl>	<span class=o>:</span><span class=na>to</span><span class=o>=</span><span class=s>&#34;{
</span></span></span><span class=line><span class=cl><span class=s>		name:&#39;hello&#39;,
</span></span></span><span class=line><span class=cl><span class=s>		query:{
</span></span></span><span class=line><span class=cl><span class=s>		   id:666,
</span></span></span><span class=line><span class=cl><span class=s>            title:&#39;你好&#39;
</span></span></span><span class=line><span class=cl><span class=s>		}
</span></span></span><span class=line><span class=cl><span class=s>	}&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol></li></ol><h4 id=路由的params参数><a href=#%e8%b7%af%e7%94%b1%e7%9a%84params%e5%8f%82%e6%95%b0 class=header-anchor></a>路由的params参数</h4><ol><li><p>配置路由，声明接收params参数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>component</span><span class=o>:</span><span class=nx>Home</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>children</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;news&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>component</span><span class=o>:</span><span class=nx>News</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>component</span><span class=o>:</span><span class=nx>Message</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>children</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>				<span class=p>{</span>
</span></span><span class=line><span class=cl>					<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;xiangqing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>					<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;detail/:id/:title&#39;</span><span class=p>,</span> <span class=c1>//使用占位符声明接收params参数
</span></span></span><span class=line><span class=cl><span class=c1></span>					<span class=nx>component</span><span class=o>:</span><span class=nx>Detail</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=p>]</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>传递参数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>跳转并携带params参数</span><span class=err>，</span><span class=nx>to的字符串写法</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> <span class=nt>:to</span><span class=o>=</span><span class=s>&#34;/home/message/detail/666/你好&#34;</span><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>跳转并携带params参数</span><span class=err>，</span><span class=nx>to的对象写法</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>router-link</span> 
</span></span><span class=line><span class=cl>	<span class=o>:</span><span class=na>to</span><span class=o>=</span><span class=s>&#34;{
</span></span></span><span class=line><span class=cl><span class=s>		name:&#39;xiangqing&#39;,
</span></span></span><span class=line><span class=cl><span class=s>		params:{
</span></span></span><span class=line><span class=cl><span class=s>		   id:666,
</span></span></span><span class=line><span class=cl><span class=s>            title:&#39;你好&#39;
</span></span></span><span class=line><span class=cl><span class=s>		}
</span></span></span><span class=line><span class=cl><span class=s>	}&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span><span class=nx>跳转</span><span class=p>&lt;/</span><span class=nt>router-link</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>特别注意：路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p></blockquote></li><li><p>接收参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>$route</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span>
</span></span><span class=line><span class=cl><span class=nx>$route</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>title</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=路由的props配置><a href=#%e8%b7%af%e7%94%b1%e7%9a%84props%e9%85%8d%e7%bd%ae class=header-anchor></a>路由的props配置</h4><p>​ 作用：让路由组件更方便的收到参数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;xiangqing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>path</span><span class=o>:</span><span class=s1>&#39;detail/:id&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>component</span><span class=o>:</span><span class=nx>Detail</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// props:{a:900}
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=c1>//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// props:true
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=c1>//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>props</span><span class=p>(</span><span class=nx>route</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>id</span><span class=o>:</span><span class=nx>route</span><span class=p>.</span><span class=nx>query</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>title</span><span class=o>:</span><span class=nx>route</span><span class=p>.</span><span class=nx>query</span><span class=p>.</span><span class=nx>title</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=router-link的replace属性><a href=#router-link%e7%9a%84replace%e5%b1%9e%e6%80%a7 class=header-anchor></a><code>&lt;router-link></code>的replace属性</h4><ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code></li><li>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......>News&lt;/router-link></code></li></ol><h4 id=编程式路由导航><a href=#%e7%bc%96%e7%a8%8b%e5%bc%8f%e8%b7%af%e7%94%b1%e5%af%bc%e8%88%aa class=header-anchor></a>编程式路由导航</h4><ol><li><p>作用：不借助<code>&lt;router-link> </code>实现路由跳转，让路由跳转更加灵活</p></li><li><p>具体编码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//$router的两个API
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;xiangqing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>params</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>id</span><span class=o>:</span><span class=nx>xxx</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>title</span><span class=o>:</span><span class=nx>xxx</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>replace</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;xiangqing&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>params</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>id</span><span class=o>:</span><span class=nx>xxx</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>title</span><span class=o>:</span><span class=nx>xxx</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>forward</span><span class=p>()</span> <span class=c1>//前进
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>back</span><span class=p>()</span> <span class=c1>//后退
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>this</span><span class=p>.</span><span class=nx>$router</span><span class=p>.</span><span class=nx>go</span><span class=p>()</span> <span class=c1>//可前进也可后退
</span></span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=缓存路由组件><a href=#%e7%bc%93%e5%ad%98%e8%b7%af%e7%94%b1%e7%bb%84%e4%bb%b6 class=header-anchor></a>缓存路由组件</h4><ol><li><p>作用：让不展示的路由组件保持挂载，不被销毁。</p></li><li><p>具体编码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>keep-alive</span> <span class=na>include</span><span class=o>=</span><span class=s>&#34;News&#34;</span><span class=p>&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>router-view</span><span class=p>&gt;&lt;/</span><span class=nt>router-view</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>keep-alive</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=两个新的生命周期钩子><a href=#%e4%b8%a4%e4%b8%aa%e6%96%b0%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e9%92%a9%e5%ad%90 class=header-anchor></a>两个新的生命周期钩子</h4><ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li><li>具体名字：<ol><li><code>activated</code>路由组件被激活时触发。</li><li><code>deactivated</code>路由组件失活时触发。</li></ol></li></ol><h4 id=路由守卫><a href=#%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab class=header-anchor></a>路由守卫</h4><ol><li><p>作用：对路由进行权限控制</p></li><li><p>分类：全局守卫、独享守卫、组件内守卫</p></li><li><p>全局守卫:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//全局前置守卫：初始化时执行、每次路由切换前执行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>router</span><span class=p>.</span><span class=nx>beforeEach</span><span class=p>((</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>,</span><span class=nx>next</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;beforeEach&#39;</span><span class=p>,</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span><span class=p>(</span><span class=nx>to</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>isAuth</span><span class=p>){</span> <span class=c1>//判断当前路由是否需要进行权限控制
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>if</span><span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s1>&#39;school&#39;</span><span class=p>)</span> <span class=o>===</span> <span class=s1>&#39;atguigu&#39;</span><span class=p>){</span> <span class=c1>//权限控制的具体规则
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nx>next</span><span class=p>()</span> <span class=c1>//放行
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;暂无权限查看&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=c1>// next({name:&#39;guanyu&#39;})
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>next</span><span class=p>()</span> <span class=c1>//放行
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//全局后置守卫：初始化时执行、每次路由切换后执行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>router</span><span class=p>.</span><span class=nx>afterEach</span><span class=p>((</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;afterEach&#39;</span><span class=p>,</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span><span class=p>(</span><span class=nx>to</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>title</span><span class=p>){</span> 
</span></span><span class=line><span class=cl>		<span class=nb>document</span><span class=p>.</span><span class=nx>title</span> <span class=o>=</span> <span class=nx>to</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>title</span> <span class=c1>//修改网页的title
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nb>document</span><span class=p>.</span><span class=nx>title</span> <span class=o>=</span> <span class=s1>&#39;vue_test&#39;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>独享守卫:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>beforeEnter</span><span class=p>(</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>,</span><span class=nx>next</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;beforeEnter&#39;</span><span class=p>,</span><span class=nx>to</span><span class=p>,</span><span class=nx>from</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span><span class=p>(</span><span class=nx>to</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>isAuth</span><span class=p>){</span> <span class=c1>//判断当前路由是否需要进行权限控制
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>if</span><span class=p>(</span><span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s1>&#39;school&#39;</span><span class=p>)</span> <span class=o>===</span> <span class=s1>&#39;atguigu&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nx>next</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;暂无权限查看&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=c1>// next({name:&#39;guanyu&#39;})
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>next</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>组件内守卫：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//进入守卫：通过路由规则，进入该组件时被调用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>beforeRouteEnter</span> <span class=p>(</span><span class=nx>to</span><span class=p>,</span> <span class=nx>from</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=c1>//离开守卫：通过路由规则，离开该组件时被调用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>beforeRouteLeave</span> <span class=p>(</span><span class=nx>to</span><span class=p>,</span> <span class=nx>from</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=路由器的两种工作模式><a href=#%e8%b7%af%e7%94%b1%e5%99%a8%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f class=header-anchor></a>路由器的两种工作模式</h4><ol><li><p>对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值。</p></li><li><p>hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器。</p></li><li><p>hash模式：</p><ol><li>地址中永远带着#号，不美观 。</li><li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol></li><li><p>history模式：</p><ol><li>地址干净，美观 。</li><li>兼容性和hash模式相比略差。</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li></ol></li></ol></section><footer class=article-footer><section class=article-tags><a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a>
<a href=/tags/vue/>Vue</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2021-10-01 16:00:00</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><link href=//unpkg.com/@waline/client@v3/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

    setTimeout(function () {
        
        init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.2.0/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":null},"requiredMeta":["name","email","url"],"serverURL":"https://waline.lbqaq.top/"});
    }, 300);


</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 luoboQAQ</section><section class=powerby><a href=https://beian.miit.gov.cn>苏ICP备2021037116号</a><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://npm.elemecdn.com/node-vibrant@latest/dist/vibrant.min.js crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e);const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/npm/@callmebill/lxgw-wenkai-web@latest/style.css",t.type="text/css",t.rel="stylesheet",document.head.appendChild(t)})()</script></body></html>