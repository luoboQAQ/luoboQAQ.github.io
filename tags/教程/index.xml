<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æ•™ç¨‹ on luoboQAQ</title><link>https://lbqaq.top/tags/%E6%95%99%E7%A8%8B/</link><description>Recent content in æ•™ç¨‹ on luoboQAQ</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 26 Sep 2024 20:09:00 +0800</lastBuildDate><atom:link href="https://lbqaq.top/tags/%E6%95%99%E7%A8%8B/index.xml" rel="self" type="application/rss+xml"/><item><title>ä½¿ç”¨micromambaä»£æ›¿anaconda</title><link>https://lbqaq.top/p/micromamba/</link><pubDate>Mon, 05 Aug 2024 09:34:00 +0800</pubDate><guid>https://lbqaq.top/p/micromamba/</guid><description>&lt;img src="https://lbqaq.top/p/micromamba/119683453.webp" alt="Featured image of post ä½¿ç”¨micromambaä»£æ›¿anaconda" />&lt;p>ç»å¸¸ä½¿ç”¨anacondaçš„å°ä¼™ä¼´éƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡æƒ³è¦å®‰è£…æ–°çš„åŒ…ï¼Œä½†ä¼šåœ¨solve environmentè¿™ä¸€æ­¥å¡ä¸ŠåŠå¤©ï¼Œä¹‹åè£…åŒ…åˆè¦èŠ±ä¸Šä¸å°‘çš„æ—¶é—´ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°äº†ä¸€æ¬¾æ›¿ä»£å“ï¼Œå°±æ˜¯micromambaï¼Œæ®å…¶å®˜ç½‘æ‰€å±ï¼Œå®ƒæ˜¯çº¯ç”¨C++ç¼–å†™çš„ï¼ŒåŒæ—¶ä½¿ç”¨äº†å¤šçº¿ç¨‹ã€‚ç»è¿‡æˆ‘çš„ä½“éªŒï¼Œç¡®å®æ˜¯æ¯”anacondaè¦å¿«ä¸€ç‚¹çš„ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;p>å®‰è£…å¾ˆç®€å•ï¼Œè·Ÿç€&lt;a class="link" href="https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>åšå°±å¥½äº†ã€‚ä¾‹å¦‚ï¼ŒLinuxå°±åªè¦è¾“å…¥ä¸‹é¢çš„ä¸€ä¸²å‘½ä»¤å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">SHELL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &amp;lt;&lt;span class="o">(&lt;/span>curl -L micro.mamba.pm/install.sh&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸è¿‡é»˜è®¤çš„å‘½ä»¤æ˜¯&lt;code>micromamba&lt;/code>ï¼Œè¿™å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆ«åï¼Œæ–¹ä¾¿å¹³æ—¶ä½¿ç”¨ã€‚åœ¨&lt;code>~/.bashrc&lt;/code>åŠ å…¥ä¸‹é¢çš„å†…å®¹å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">conda&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;micromamba&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºé»˜è®¤æ˜¯ä¸å« Anaconda ä»“åº“æºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å†é…ç½®ä¸€ä¸‹ï¼Œæ­£å¥½æŠŠé•œåƒä¹Ÿé…ç½®å¥½ã€‚åœ¨&lt;code>~/.condarc&lt;/code>ä¸­åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">defaults&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">show_channel_urls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">default_channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">custom_channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">conda-forge&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">msys2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bioconda&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">menpo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pytorch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pytorch-lts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">simpleitk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deepmodeling&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åœ¨vscodeä¸­ä½¿ç”¨">&lt;a href="#%e5%9c%a8vscode%e4%b8%ad%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>åœ¨vscodeä¸­ä½¿ç”¨
&lt;/h2>&lt;p>è¿™è¾¹æ‰æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œç”±äºæ˜¯ç¬¬ä¸‰æ–¹çš„è½¯ä»¶ï¼Œæ‰€ä»¥vscodeçš„Pythonæ’ä»¶é»˜è®¤æ˜¯è¯»å–ä¸åˆ°ç¯å¢ƒçš„ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸€ä¸‹é…ç½®ã€‚&lt;/p>
&lt;p>åœ¨å®‰è£…çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹é»˜è®¤çš„è®¾ç½®ï¼Œåˆ™mambaçš„è·¯å¾„åº”è¯¥åœ¨&lt;code>~/micromamba&lt;/code>&lt;/p>
&lt;p>æˆ‘ä»¬æ‰“å¼€VSCodeçš„è®¾ç½®ï¼Œæ·»åŠ ä¸‹é¢çš„è®¾ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>python.venvFolders&lt;/code>è¿™ä¸€é¡¹ï¼Œæ·»åŠ mambaçš„ç›®å½•åï¼Œå³&lt;code>micromamba&lt;/code>&lt;/li>
&lt;li>&lt;code>python.venvPath&lt;/code>è¿™ä¸€é¡¹ï¼Œæ·»åŠ mambaè™šæ‹Ÿç¯å¢ƒçš„ç›®å½•ï¼Œå³&lt;code>~/micromamba/envs&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>åªè¦æ·»åŠ å¥½è¿™ä¸¤ä¸ªè®¾ç½®ï¼Œå°±å¯ä»¥å‘ç°VSCodeèƒ½è¯»å–åˆ°è™šæ‹Ÿç¯å¢ƒäº†ã€‚&lt;/p>
&lt;p>æ­¤æ—¶æˆ‘ä»¬å·²ç»å®Œæˆäº†æ‰€æœ‰çš„é…ç½®ï¼Œåƒä»¥å‰ä¸€æ ·åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€è£…åŒ…å°±èƒ½å¼€å§‹ä½¿ç”¨äº†ã€‚æ ¹æ®æˆ‘çš„ä½“éªŒï¼Œanacondaçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥æ— ç¼ä½¿ç”¨ã€‚&lt;/p></description></item><item><title>æˆ‘çš„rimeï¼šæ‰“é€ å¤šç«¯åŒæ­¥çš„æœ¬åœ°è¾“å…¥æ³•</title><link>https://lbqaq.top/p/rime-sync/</link><pubDate>Sun, 16 Jun 2024 20:59:00 +0800</pubDate><guid>https://lbqaq.top/p/rime-sync/</guid><description>&lt;img src="https://lbqaq.top/p/rime-sync/112900405.webp" alt="Featured image of post æˆ‘çš„rimeï¼šæ‰“é€ å¤šç«¯åŒæ­¥çš„æœ¬åœ°è¾“å…¥æ³•" />&lt;p>èº«è¾¹çš„äººæ€»æ˜¯æåˆ°ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸Šä¸€ç§’æåˆ°çš„ä¸œè¥¿ï¼Œé©¬ä¸Šå°±å‡ºç°åœ¨äº†ç›¸å…³æœç´¢ä¸­å‘¢ï¼Ÿä¸€ä¸ªå¾ˆå¤§çš„å¯èƒ½æ€§å°±æ˜¯ä½ çš„è¾“å…¥æ³•æš´éœ²äº†ã€‚æœ‰ç ”ç©¶æŒ‡å‡º&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼Œç›®å‰å¸‚é¢ä¸Šè®¸å¤šè¾“å…¥æ³•éƒ½å­˜åœ¨å®‰å…¨éšç§æ¼æ´ã€‚è¾“å…¥æ³•ä½œä¸ºæˆ‘ä»¬å¹³æ—¶ç”¨åˆ°æœ€å¤šçš„ç³»ç»Ÿçº§åº”ç”¨ï¼Œæˆ‘ä¸æƒ³è‡ªå·±çš„éšç§è¢«å…¶æ³„éœ²ã€‚æ‰€ä»¥ï¼Œæˆ‘å¯»æ‰¾åˆ°äº†ä¸€æ¬¾çº¯æœ¬åœ°çš„å…¨å¹³å°è¾“å…¥æ³•â€”â€”rimeè¾“å…¥æ³•&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>ã€‚å®ƒçš„ä¼˜åŠ¿å°±æ˜¯ç®€æ´ã€æ— å¹¿å‘Šã€ä¸è”ç½‘ï¼Œä¸è¿‡å¯¹åº”çš„ç¼ºç‚¹å°±æ˜¯æ²¡æœ‰äº‘è¾“å…¥ï¼Œä¸€äº›æ¯”è¾ƒæ–°çš„è¯ä¸å¥½æ‰“å‡ºæ¥ï¼Œè¿˜æœ‰å°±æ˜¯é…ç½®æ¯”è¾ƒéº»çƒ¦ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨åˆ«äººé¢„å…ˆè®¾è®¡å¥½çš„é…ç½®æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æˆ‘é€‰æ‹©äº†é›¾å‡‡æ‹¼éŸ³&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>è¿™ä¸ªå¼€æºçš„æ–¹æ¡ˆæ¥å®ç°ï¼Œå®ƒçš„ä¼˜åŠ¿å°±æ˜¯è‡ªå·±ç»´æŠ¤äº†ä¸€å¥—å¸¸ç”¨çš„è¯åº“ï¼ŒåŒæ—¶é…ç½®å¥½äº†ä¸€äº›é»˜è®¤çš„è¾“å…¥çš„æ–¹æ¡ˆï¼Œæˆ‘å°±åœ¨å®ƒçš„æ–¹æ¡ˆä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œæ‰“é€ ä¸€å¥—å±äºè‡ªå·±çš„è¾“å…¥ä½“éªŒã€‚&lt;/p>
&lt;p>ç”±äºæˆ‘ç°åœ¨è¾“å…¥çš„æ–¹å¼æ˜¯å°é¹¤åŒæ‹¼ï¼Œæ‰€ä»¥æˆ‘çš„æ–¹æ¡ˆä¹Ÿå…¨éƒ¨æ˜¯åŸºäºåŒæ‹¼æ‰“é€ çš„ï¼Œå…¨æ‹¼çš„è¯å¯ä»¥å‚è€ƒé›¾å‡‡æ‹¼éŸ³çš„æ–‡æ¡£æ¥é…ç½®ã€‚ï¼ˆåœ¨è¿™å¼ºçƒˆå®‰åˆ©åŒæ‹¼çš„è¾“å…¥æ–¹å¼ï¼Œå­¦ä¹ æˆæœ¬ä¸é«˜ä½†æ”¶ç›Šå¾ˆé«˜ï¼Œèƒ½å¾ˆå¤§ç¨‹åº¦çš„æ”¹å–„ä½ è¾“å…¥çš„ä½“éªŒğŸ‘ï¼‰&lt;/p>
&lt;h2 id="åŸºæœ¬é…ç½®">&lt;a href="#%e5%9f%ba%e6%9c%ac%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>åŸºæœ¬é…ç½®
&lt;/h2>&lt;p>rimeè¾“å…¥æ³•é€šè¿‡&lt;code>.yaml&lt;/code>æ–‡ä»¶æ¥ç®¡ç†é…ç½®ï¼Œå¹¶æ”¯æŒä»¥&lt;code>patch&lt;/code>çš„å½¢å¼å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™&lt;code>*.custom.yaml&lt;/code>æ–‡ä»¶å°±å¯ä»¥åœ¨åˆ«äººçš„æ¡†æ¶ä¸Šæ„å»ºè‡ªå·±çš„è¾“å…¥æ³•äº†ã€‚ç”±äºé…ç½®æ–‡ä»¶åœ¨å…¨ç«¯éƒ½æ˜¯é€šç”¨çš„ï¼Œè¿™é‡Œå°±å…ˆä»‹ç»å…±åŒçš„é…ç½®ï¼Œæ¯ä¸ªå¹³å°ç‹¬ç«‹çš„é…ç½®åœ¨åé¢å†ä»‹ç»ã€‚&lt;/p>
&lt;p>rimeçš„é…ç½®å…¥å£æ˜¯&lt;code>default.yaml&lt;/code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä»å®ƒå¼€å§‹ä¿®æ”¹ã€‚åˆ›å»º&lt;code>default.custom.yaml&lt;/code>ï¼Œå¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schema_list&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">schema&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">double_pinyin_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">schema&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rime_ice&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">menu/page_size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">7&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ascii_composer/switch_key/Shift_L&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">commit_code&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ascii_composer/switch_key/Shift_R&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clear&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬é¦–å…ˆé€‰æ‹©äº†éœ€è¦ç”¨åˆ°çš„ä¸¤ä¸ªæ–¹æ¡ˆ&lt;code>double_pinyin_flypy&lt;/code>å’Œ&lt;code>rime_ice&lt;/code>ï¼Œåˆ†åˆ«æ˜¯å°é¹¤åŒæ‹¼å’Œå…¨æ‹¼ï¼Œè¿™é‡ŒåŠ å…¥å…¨æ‹¼æ˜¯é¿å…åˆ«äººä½¿ç”¨æˆ‘ç”µè„‘æ—¶ä¸ä¼šä½¿ç”¨æ‰€é¢„ç•™çš„ã€‚&lt;code>menu/page_size&lt;/code>æŒ‡å®šäº†å€™é€‰è¯çš„ä¸ªæ•°ï¼Œæœ€åä¸¤ä¸ªåˆ™æ˜¯æŒ‡å®šäº†å·¦å³Shifté”®çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åŒæ‹¼ï¼Œè¿˜éœ€è¦ä¿®æ”¹â€œéƒ¨ä»¶æ‹†å­—â€åŠŸèƒ½ä¸­çš„è®¾ç½®&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>ã€‚åˆ›å»º&lt;code>radical_pinyin.custom.yaml&lt;/code>ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºå°é¹¤åŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">radical_pinyin.schema.yaml:/algebra_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ ·ï¼Œ&amp;ldquo;æ‹¼å†™æ´¾ç”Ÿ&amp;quot;åŠŸèƒ½ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚åˆ›å»º&lt;code>melt_eng.custom.yaml&lt;/code>æ–‡ä»¶ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºå°é¹¤åŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">melt_eng.schema.yaml:/algebra_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±é…ç½®å®Œæˆäº†ï¼Œè¿˜æ˜¯å¾ˆç®€å•çš„ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„è¯ï¼Œæˆ‘åŒæ ·ä½¿ç”¨çš„æ˜¯è·¨å¹³å°çš„è½¯ä»¶rcloneï¼Œå¦‚æœè¦ä½¿ç”¨å®ƒï¼Œéœ€è¦å…ˆé…ç½®å¥½è¿œç«¯ã€‚&lt;/p>
&lt;p>é€šè¿‡æ‰§è¡Œ&lt;code>rclone config&lt;/code>å¹¶æŒ‰ç…§æŒ‡ç¤ºæ·»åŠ å³å¯ã€‚ä¹‹åï¼Œæˆ‘åˆ†åˆ«ä»‹ç»æ¯ä¸ªå¹³å°çš„å…·ä½“é…ç½®å’ŒåŒæ­¥è®¾ç½®ã€‚&lt;/p>
&lt;h2 id="è¯¦ç»†é…ç½®">&lt;a href="#%e8%af%a6%e7%bb%86%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>è¯¦ç»†é…ç½®
&lt;/h2>&lt;h3 id="win">&lt;a href="#win" class="header-anchor">&lt;/a>Win
&lt;/h3>&lt;p>winä¸‹çš„å®¢æˆ·ç«¯å«å°ç‹¼æ¯«ï¼Œä¸‹è½½å®‰è£…å¥½åå°±å¯ä»¥è¿›è¡Œé…ç½®äº†ã€‚é…ç½®ç›®å½•ä¸º&lt;code>%APPDATA%\Rime&lt;/code>ï¼Œæˆ‘ç›´æ¥å°†é‡Œé¢çš„æ–‡ä»¶æ¸…ç©ºï¼Œç„¶åä½¿ç”¨&lt;code>git&lt;/code>å°†é›¾å‡‡æ‹¼éŸ³çš„ä»“åº“æ•´ä¸ªå…‹éš†è¿›æ¥ã€‚æ¥ç€å°†ä¸Šé¢â€œåŸºæœ¬é…ç½®â€ä¸­æåˆ°çš„ä¸‰ä¸ªæ–‡ä»¶åˆ›å»ºå¥½ã€‚ç”±äºé»˜è®¤çš„çš®è‚¤æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥æˆ‘æ‰¾äº†ä¸€ä¸ªå¾®è½¯æ‹¼éŸ³çš„çš®è‚¤æ¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>åˆ›å»º&lt;code>weasel.custom.yaml&lt;/code>å¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">preset_color_schemes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">microsoft_sim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ä»¿å¾®è½¯è¾“å…¥æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">author&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">plutotree&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xF4F4F4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xDCDCDC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xF4F4F4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xFFD8A6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_candidate_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_candidate_back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xFFD8A6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">candidate_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">comment_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x888888&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">color_scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">microsoft_sim&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">label_format&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;%s&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">font_face&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;å¾®è½¯é›…é»‘&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">font_point&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">horizontal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">inline_preedit&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">layout&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">min_width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">140&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">min_height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">margin_x&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">margin_y&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">candidate_spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">20&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilite_spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">7&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilite_padding&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">round_corner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹æ¥éœ€è¦é…ç½®&lt;code>installation.yaml&lt;/code>ï¼Œæˆ‘ä»¬ä¸»è¦ä¿®æ”¹é‡Œé¢çš„&lt;code>installation_id&lt;/code>ï¼Œè¿™æ˜¯åŒæ­¥æ–‡ä»¶å¤¹ä¸­çš„åç§°ï¼Œé»˜è®¤æ˜¯ä¸€ä¸²UUIDï¼Œä½†æ˜¯è¿™ä¸æ–¹ä¾¿æˆ‘ä»¬åŒæ­¥ï¼Œå»ºè®®å°†å…¶ä¿®æ”¹æˆä¾¿äºæ“ä½œçš„åç§°ã€‚&lt;/p>
&lt;p>è¿™æ ·æˆ‘ä»¬å°±é…ç½®å¥½äº†rimeè¾“å…¥æ³•ï¼Œæ¥ä¸‹æ¥åªéœ€è¦å°†é…ç½®ç›®å½•ä¸‹çš„&lt;code>sync&lt;/code>æ–‡ä»¶å¤¹åŒæ­¥å°±å¥½äº†ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„å·¥å…·rcloneåœ¨ä¹‹å‰å·²ç»è®¾ç½®å¥½äº†ï¼Œæˆ‘è¿™é‡Œç¼–å†™äº†ä¸€ä¸ªcmdè„šæœ¬æ¥è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ä»»åŠ¡ã€‚ä½¿ç”¨æ—¶è®°å¾—ä¿®æ”¹æœ¬åœ°å’Œè¿œç«¯çš„åœ°å€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">rime_path&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s2">&amp;#34;D:\Program Files (x86)\Rime\weasel-0.16.1\WeaselDeployer.exe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">remote_path&lt;/span>&lt;span class="p">=&lt;/span>a1:\rime_sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">local_path&lt;/span>&lt;span class="p">=&lt;/span>C:\Users\luobo\AppData\Roaming\Rime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">sync_path&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nv">%local_path%&lt;/span>\sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">device_name&lt;/span>&lt;span class="p">=&lt;/span>lab-Win
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> æ›´æ–°è¾“å…¥æ³•è¯åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">cd&lt;/span> /d &lt;span class="nv">%local_path%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">%rime_path%&lt;/span> /deploy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> åŒæ­¥è¾“å…¥æ³•è¯åº“ä¸­...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">%rime_path%&lt;/span> /sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">%sync_path%&lt;/span>\&lt;span class="nv">%device_name%&lt;/span> &lt;span class="nv">%remote_path%&lt;/span>\&lt;span class="nv">%device_name%&lt;/span> -P
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> ä¸‹è½½è¿œç«¯è¯åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">%remote_path%&lt;/span> &lt;span class="nv">%sync_path%&lt;/span> -P --exclude &lt;span class="nv">%device_name%&lt;/span>/**
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="android">&lt;a href="#android" class="header-anchor">&lt;/a>Android
&lt;/h3>&lt;p>å®‰å“ç«¯çš„åº”ç”¨æ˜¯fcitx5-android&lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>ï¼Œä¸‹è½½è½¯ä»¶æœ¬ä½“å’Œrimeæ’ä»¶åå°±å¯ä»¥è¿›è¡Œé…ç½®äº†ã€‚å®‰å“ç«¯çš„é…ç½®æ–‡ä»¶ä½äº&lt;code>/sdcard/Android/data/org.fcitx.fcitx5.android/files/data/rime&lt;/code>ï¼Œæˆ‘ä»¬ç›´æ¥å°†ç”µè„‘ç«¯çš„é…ç½®æ–‡ä»¶å¤åˆ¶è¿›å»å°±å¯ä»¥äº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>installation.yaml&lt;/code>é‡Œé¢çš„&lt;code>installation_id&lt;/code>è¦æ”¹æˆä¸åŒçš„å€¼ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„è¯ï¼Œrcloneå¹¶æ²¡æœ‰å®˜æ–¹çš„å®‰å“å®¢æˆ·ç«¯ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨termuxâ€”â€”ä¸€æ¬¾è¿è¡ŒäºAndroid ç³»ç»Ÿçš„å¼€æºç»ˆç«¯æ¨¡æ‹Ÿå™¨&lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup>ï¼Œå¹¶åœ¨é‡Œé¢å®‰è£…rcloneæ¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ä¸‹è½½å¹¶å®‰è£…å¥½åï¼Œé¦–å…ˆè¿›è¡Œæ¢æºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/apt/termux-main stable main@&amp;#39;&lt;/span> &lt;span class="nv">$PREFIX&lt;/span>/etc/apt/sources.list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå®‰è£…&lt;code>rclone&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">apt install rclone
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âš ç”±äºå®‰å“çš„å®‰å…¨æ€§è®¾ç½®ï¼Œæ™®é€šåº”ç”¨æ˜¯æ— æƒè®¿é—®åˆ«çš„åº”ç”¨ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™äºˆrootæƒé™ï¼ˆæˆ–è€…ä½¿ç”¨åˆ«çš„æœ‰æƒé™çš„åº”ç”¨ï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡ï¼‰&lt;/p>
&lt;p>æˆ‘è¿™é‡ŒåŒæ ·æ˜¯é€šè¿‡è„šæœ¬æ¥å®ç°è‡ªåŠ¨åŒæ­¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/data/com.termux/files/usr/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CONFIG_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/data/com.termux/files/home/.config/rclone/rclone.conf&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">RIME_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/sdcard/Android/data/org.fcitx.fcitx5.android/files/data/rime/sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">REMOTE_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;a1:/rime_sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LOCAL_FOLDER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;K50U-Android&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;download...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">$REMOTE_PATH&lt;/span> &lt;span class="nv">$RIME_PATH&lt;/span> -P --exclude &lt;span class="nv">$LOCAL_FOLDER&lt;/span>/** --config &lt;span class="nv">$CONFIG_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;upload...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">$RIME_PATH&lt;/span>/&lt;span class="nv">$LOCAL_FOLDER&lt;/span> &lt;span class="nv">$REMOTE_PATH&lt;/span>/&lt;span class="nv">$LOCAL_FOLDER&lt;/span> -P --config &lt;span class="nv">$CONFIG_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨rootèº«ä»½æ¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–è®¾ç½®&lt;code>PATH&lt;/code>å¹¶æ‰‹åŠ¨æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„&lt;/p>
&lt;h2 id="ä½“éªŒ">&lt;a href="#%e4%bd%93%e9%aa%8c" class="header-anchor">&lt;/a>ä½“éªŒ
&lt;/h2>&lt;p>æ—¥å¸¸ä½¿ç”¨rimeè¾“å…¥æ³•å·²ç»æœ‰å¤§åŠå¹´äº†ï¼Œæµ‹è¯•ä¸‹æ¥ä¸äº‘è¾“å…¥æ³•åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸€äº›æ¯”è¾ƒæ–°çš„è¯æ‰“ä¸€éä¹Ÿèƒ½è¢«è¯åº“å­¦ä¹ åˆ°ã€‚é…åˆä¸Šå¤šç«¯åŒæ­¥ï¼Œä½¿ç”¨è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚æ­¤å¤–ï¼Œé›¾å‡‡æ‹¼éŸ³è¿˜å†…ç½®äº†ä¸€äº›ä¾¿æ·åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>symbolsï¼šå…¨æ‹¼ &lt;code>v&lt;/code> å¼€å¤´ã€åŒæ‹¼å¤§å†™ &lt;code>V&lt;/code> å¼€å¤´&lt;/li>
&lt;li>éƒ¨ä»¶æ‹†å­—çš„åæŸ¥ï¼š&lt;code>uU&lt;/code> å¼€å¤´ï¼ŒåæŸ¥æ—¶å‰ç¼€ä¼šæ¶ˆå¤±å½±å“æ‰“è‹±æ–‡æ‰€ä»¥è®¾å®šä¸ºä¸¤ä¸ªå­—æ¯ï¼Œæˆ–å¯æ”¹æˆä¸€ä¸ªéå­—æ¯ç¬¦å·ã€‚&lt;/li>
&lt;li>éƒ¨ä»¶æ‹†å­—çš„è¾…ç ï¼š` è§¦å‘ã€‚&lt;/li>
&lt;li>Unicodeï¼šå¤§å†™ &lt;code>U&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>U62fc&lt;/code> å¾—åˆ°ã€Œæ‹¼ã€ã€‚&lt;/li>
&lt;li>æ•°å­—ã€é‡‘é¢å¤§å†™ï¼šå¤§å†™ &lt;code>R&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>R1234&lt;/code> å¾—åˆ°ã€Œä¸€åƒäºŒç™¾ä¸‰åå››ã€å£¹ä»Ÿè´°ä½°åæ‹¾è‚†å…ƒæ•´ã€ã€‚&lt;/li>
&lt;li>å†œå†æŒ‡å®šæ—¥æœŸï¼šå¤§å†™ &lt;code>N&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>N20240210&lt;/code> å¾—åˆ°ã€ŒäºŒã€‡äºŒå››å¹´æ­£æœˆåˆä¸€ã€ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœæ˜¯æ¯”è¾ƒåœ¨ä¹ä¸ªäººéšç§çš„ç”¨æˆ·ï¼Œæˆ‘æ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨è¿™æ ·ä¸€æ¬¾ä¸è”ç½‘çš„æœ¬åœ°è¾“å…¥æ³•çš„ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://citizenlab.ca/2024/04/%e6%95%b2%e6%95%b2%e6%89%93%e6%89%93%e4%b8%80%e7%b3%bb%e5%88%97%e4%ba%91%e7%ab%af%e8%be%93%e5%85%a5%e6%b3%95%e6%bc%8f%e6%b4%9e%e4%bd%bf%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e8%80%85%e5%be%97-zh-cn/" target="_blank" rel="noopener"
>æ•²æ•²æ‰“æ‰“ï¼šä¸€ç³»åˆ—äº‘ç«¯è¾“å…¥æ³•æ¼æ´ä½¿ç½‘ç»œæ”»å‡»è€…å¾—ä»¥ç›‘çœ‹ä¸ªäººç”¨æˆ·çš„è¾“å…¥å†…å®¹ï¼ˆæ‘˜è¦ï¼‰ - The Citizen Lab&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://rime.im/" target="_blank" rel="noopener"
>RIME | ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://github.com/iDvel/rime-ice" target="_blank" rel="noopener"
>iDvel/rime-ice: Rime é…ç½®ï¼šé›¾å‡‡æ‹¼éŸ³ | é•¿æœŸç»´æŠ¤çš„ç®€ä½“è¯åº“&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://github.com/iDvel/rime-ice/issues/133" target="_blank" rel="noopener"
>å¸¸è§é—®é¢˜ Â· iDvel/rime-ice&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5">
&lt;p>&lt;a class="link" href="https://github.com/fcitx5-android/fcitx5-android" target="_blank" rel="noopener"
>fcitx5-android/fcitx5-android&lt;/a>&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6">
&lt;p>&lt;a class="link" href="https://termux.dev/cn/index.html" target="_blank" rel="noopener"
>Termux | The main termux site and help pages.&lt;/a>&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>åŸºäºDNSçš„åˆ†æµæ–¹æ¡ˆ</title><link>https://lbqaq.top/p/dns-shunt/</link><pubDate>Fri, 22 Mar 2024 20:47:00 +0800</pubDate><guid>https://lbqaq.top/p/dns-shunt/</guid><description>&lt;img src="https://lbqaq.top/p/dns-shunt/115597971.webp" alt="Featured image of post åŸºäºDNSçš„åˆ†æµæ–¹æ¡ˆ" />&lt;p>æœ€è¿‘å°†è·¯ç”±å™¨ä¸Šçš„å·¥å…·æ¢ä¸ºå°çŒ«ï¼Œä½¿ç”¨é»˜è®¤çš„redir-hostæ¨¡å¼è™½ç„¶èƒ½ç”¨ï¼Œä½†æ€»æ˜¯å‡ºç°å„ç§å„æ ·å¥‡æ€ªçš„é—®é¢˜ï¼Œå†åŠ ä¸Šå°çŒ«å®˜æ–¹å·²ç»åˆ é™¤äº†redir-hostæ¨¡å¼ï¼Œäºæ˜¯æˆ‘ä¾¿æƒ³æ‰¾åˆ°ä¸€ä¸ªåŸºäºfake-ipçš„åˆ†æµæ–¹å¼ã€‚é€šè¿‡åœ¨äº’è”ç½‘ä¸Šæ£€ç´¢å‘ç°ï¼Œæ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« â€”â€”ã€Š&lt;a class="link" href="https://songchenwen.com/tproxy-split-by-dns" target="_blank" rel="noopener"
>åŸºäº DNS çš„å†…ç½‘é€æ˜ä»£ç†åˆ†æµæ–¹æ¡ˆ&lt;/a>ã€‹ã€‚ä»”ç»†ç ”è¯»ä¸‹æ¥ï¼Œå®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚ï¼Œç„¶è€Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å†…å­˜æ‰è¥Ÿè§è‚˜çš„ç¡¬è·¯ç”±ï¼Œå¹¶æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´è£…ä¸‹AdGuardHome+mosdns+å°çŒ«ä¸‰å‘˜å¤§å°†ã€‚äºæ˜¯ï¼Œæˆ‘ä¾¿åœ¨ä»–æ–¹æ¡ˆçš„åŸºç¡€ä¸Šåˆ é™¤äº†AdGuardHomeï¼Œä¼˜åŒ–å‡ºäº†ç°åœ¨çš„æ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="å®ç°æ•ˆæœ">&lt;a href="#%e5%ae%9e%e7%8e%b0%e6%95%88%e6%9e%9c" class="header-anchor">&lt;/a>å®ç°æ•ˆæœ
&lt;/h2>&lt;p>å’ŒåŸæ¥çš„æ–¹æ¡ˆä¸€æ ·ï¼Œæˆ‘å°±ç›´æ¥ç²˜è´´äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>åŸºäºDNSçš„æµé‡åˆ†æµï¼Œå›½å†…æµé‡ç»•è¿‡å°çŒ«æ ¸å¿ƒ&lt;/li>
&lt;li>ç”¨Fake-IPæ¨¡å¼æ¥è§£å†³DNSæ±¡æŸ“çš„é—®é¢˜ï¼Œä½†é™åˆ¶Fake-IPçš„èŒƒå›´ï¼Œä¸éœ€è¦ä»£ç†çš„åŸŸåä»è¿”å›æ­£å¸¸IP&lt;/li>
&lt;li>ä¸ç”¨å†è´¹å¿ƒæ‰¾æ— æ±¡æŸ“çš„DNSæœåŠ¡å™¨ï¼Œä½¿ç”¨è¿è¥å•†æä¾›çš„DNSä¹Ÿæ²¡é—®é¢˜&lt;/li>
&lt;li>å› ä¸ºå½»åº•è§£å†³äº†DNSæ±¡æŸ“ï¼Œå¯ä»¥æ”¾å¿ƒç¼“å­˜DNSè¯·æ±‚ç»“æœ&lt;/li>
&lt;li>å®Œç¾å…¼å®¹IPv6ã€‚å›½å†…æµé‡å¯æ­£å¸¸ä½¿ç”¨IPv6æœåŠ¡ã€‚åªè¦ä»£ç†æœ‰IPv6å‡ºå£ï¼Œé‚£å›½å¤–ä¹Ÿå¯æ­£å¸¸ä½¿ç”¨ã€‚&lt;/li>
&lt;li>å…¼å®¹BT/PTåº”ç”¨ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®ä¹Ÿä¸ä¼šæ¶ˆè€—ä»£ç†æµé‡&lt;/li>
&lt;li>å¯ä»¥æ¾åˆ‡æ¢å†…ç½‘è®¾å¤‡æ˜¯å¦èµ°ä»£ç†&lt;/li>
&lt;/ol>
&lt;h2 id="é‡åˆ°é—®é¢˜">&lt;a href="#%e9%81%87%e5%88%b0%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>é‡åˆ°é—®é¢˜
&lt;/h2>&lt;p>åœ¨æŒ‰ç…§åŸæ¥çš„æ–¹æ¡ˆæ„å»ºå¹¶åˆ å»AdGuardHomeåï¼Œå¯ä»¥å®ç°å¤§éƒ¨åˆ†çš„åŠŸèƒ½ã€‚ç„¶è€Œåœ¨æˆ‘çš„ä½¿ç”¨ä¸­ï¼Œå´é‡åˆ°äº†ä¸€ä¸ªå…³é”®çš„é—®é¢˜ï¼š&lt;strong>æ— æ³•åŒºåˆ†æµé‡æ¥æº&lt;/strong>â€”â€”ç”±äºmosdnsæ˜¯ä½œä¸ºDnsmasqçš„ä¸Šæ¸¸æ¥ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æ— æ³•è¯†åˆ«è¯·æ±‚çš„å®¢æˆ·ç«¯ï¼Œæ•…æ— æ³•å®ç°æ˜¯å¦èµ°ä»£ç†ã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œæˆ‘å°è¯•å°†mosdnsä»£æ›¿dnsmasqæ¥ç›‘å¬53ç«¯å£ï¼Œç»“æœåˆé‡åˆ°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼š&lt;strong>æ‰€æœ‰çš„è¯·æ±‚éƒ½è¿”å›fake-ip&lt;/strong>â€”â€”ç”±äºdnså­˜åœ¨ä¸»æœºåè§£æåŠŸèƒ½ï¼Œå¯¼è‡´è¯·æ±‚è¢«é”™è¯¯çš„å‘å¾€å°çŒ«çš„DNSç«¯å£ï¼Œä»è€Œè¿”å›äº†fake-ipã€‚&lt;/p>
&lt;h2 id="æ–¹æ¡ˆè®¾è®¡">&lt;a href="#%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1" class="header-anchor">&lt;/a>æ–¹æ¡ˆè®¾è®¡
&lt;/h2>&lt;p>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘é‡æ–°è®¾è®¡äº†DNSè§£æçš„æµç¨‹ï¼Œä»è€Œå¾—åˆ°äº†ç°åœ¨çš„è¿™ä¸€å¥—æ–¹æ¡ˆã€‚&lt;/p>
&lt;h3 id="dnsåˆ†æµ">&lt;a href="#dns%e5%88%86%e6%b5%81" class="header-anchor">&lt;/a>DNSåˆ†æµ
&lt;/h3>&lt;pre class="mermaid" align=center>graph TB
client[DNS è¯·æ±‚] -- é˜²ç«å¢™åŠ«æŒ --> mosdns
mosdns -- éœ€è¦ä»£ç†çš„è®¾å¤‡ --> query[æŒ‰è§„åˆ™è¿›è¡ŒDNSæŸ¥è¯¢]
mosdns -- ä¸éœ€è¦ä»£ç†çš„è®¾å¤‡ --> dnsmasq
query -- å›½å†…åŸŸå --> dnsmasq
query -- å›½å¤–åŸŸå --> drop_ipv6[\å¿½ç•¥ IPv6 è¯·æ±‚/]
query -- å…¶å®ƒ --> fallback
fallback -- å›½å†…IP --> dnsmasq
fallback -- å›½å¤–IP --> drop_ipv6
dnsmasq --> sp_dns[çœŸå®IP]
query -- åŸŸåç™½åå• --> dnsmasq
query -- åŸŸåç°åå• --> drop_ipv6
drop_ipv6 --> fake[Fake IP]
&lt;/pre>
&lt;p>ç»è¿‡DNSåˆ†æµåï¼Œæ‰€æœ‰éœ€è¦ä»£ç†çš„åŸŸåéƒ½åˆ†é…åˆ°äº†Fake IPï¼Œæ— éœ€ä»£ç†çš„åŸŸåéƒ½æ˜¯ç”±è¿è¥å•†DNSè¿”å›çš„æœ€ä¼˜ç»“æœã€‚å°çŒ«çš„DNSåœ¨Fake IPæ¨¡å¼ä¸‹å¯ä»¥æ— éœ€è¯·æ±‚ç½‘ç»œç›´æ¥è¿”å›ç»“æœï¼Œæ‰€ä»¥æ•´ä½“çš„DNSå“åº”é€Ÿåº¦éå¸¸å¿«ã€‚åœ¨å¤„ç†Fake IPçš„æµé‡æ—¶ï¼Œå°çŒ«ä¼šæŠŠhostnameå‘é€åˆ°è¿œç«¯è¿›è¡ŒDNSè§£æï¼Œä¹Ÿå°±è‡ªç„¶ä¸å­˜åœ¨DNSæ±¡æŸ“çš„é—®é¢˜äº†ã€‚&lt;/p>
&lt;h3 id="ä¿®å¤åœ°å€è§£æé”™è¯¯">&lt;a href="#%e4%bf%ae%e5%a4%8d%e5%9c%b0%e5%9d%80%e8%a7%a3%e6%9e%90%e9%94%99%e8%af%af" class="header-anchor">&lt;/a>ä¿®å¤åœ°å€è§£æé”™è¯¯
&lt;/h3>&lt;p>ç”±äºdnså­˜åœ¨ä¸»æœºåè§£æåŠŸèƒ½ï¼Œä¼šå¯¼è‡´è¯·æ±‚é”™è¯¯çš„è½¬å‘ã€‚æ­£æ‰€è°“â€œå¤´ç—›åŒ»å¤´ï¼Œè„šç—›åŒ»è„šâ€ï¼Œæœ€ç®€å•å’Œæ— è„‘çš„æ–¹æ³•å°±æ˜¯ç›´æ¥å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼š&lt;/p>
&lt;p>åœ¨&lt;code>ç½‘ç»œ&lt;/code>-&lt;code>DHCP/DNS&lt;/code>-&lt;code>é«˜çº§è®¾ç½®&lt;/code>é‡Œï¼Œå°†&lt;code>æœ¬åœ°åŸŸå&lt;/code>é‡Œçš„å€¼åˆ é™¤ã€‚ï¼ˆæœªæµ‹è¯•ï¼Œä¸ç¡®å®šğŸ¤”ï¼‰&lt;/p>
&lt;p>ä½†æ˜¯æˆ‘ä»¬éƒ½ä½¿ç”¨äº†mosdnsäº†ï¼Œä¸ºä»€ä¹ˆä¸å¥½å¥½çš„åˆ©ç”¨å®ƒé‚£å¼ºå¤§çš„è§„åˆ™å‘¢ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœ‰å…³ä¸»æœºåè§£æçš„æµé‡å…¨éƒ¨è½¬å‘åˆ°dnsmasqï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºé—®é¢˜äº†ã€‚&lt;/p>
&lt;h3 id="åŒºåˆ†æµé‡æ¥æº">&lt;a href="#%e5%8c%ba%e5%88%86%e6%b5%81%e9%87%8f%e6%9d%a5%e6%ba%90" class="header-anchor">&lt;/a>åŒºåˆ†æµé‡æ¥æº
&lt;/h3>&lt;p>ä¸€å¼€å§‹ï¼Œmosdnsæ˜¯ä½œä¸ºdnsmasqçš„ä¸Šæ¸¸çš„ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è¯·æ±‚æ¥æºéƒ½æ˜¯æœ¬åœ°ï¼Œè¿™å°±å¯¼è‡´äº†æˆ‘ä»¬æ— æ³•æ§åˆ¶mosdnsï¼Œè®©å…¶ä¸ºä¸éœ€è¦ä»£ç†çš„è®¾å¤‡åˆ†é…çœŸå®çš„IPã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰dnsè¯·æ±‚é€šè¿‡é˜²ç«å¢™åŠ«æŒåˆ°mosdnsä¸Šï¼Œå°±èƒ½çŸ¥é“è®¾å¤‡çš„æ¥æºçš„ipäº†ã€‚å…³äºé˜²ç«å¢™çš„å†™æ³•ï¼Œæˆ‘å‚è€ƒäº†&lt;a class="link" href="https://github.com/rufengsuixing/luci-app-adguardhome/blob/master/root/etc/init.d/AdGuardHome#L59" target="_blank" rel="noopener"
>luci-app-adguardhomeçš„å¼€æºä»£ç &lt;/a>ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¿™æ ·è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºæˆ‘ä»¬é…ç½®äº†ipv6ï¼Œæ‰€ä»¥è¯·æ±‚çš„å®¢æˆ·ç«¯åœ°å€å¾ˆå¤§å¯èƒ½ä¹Ÿæ˜¯ipv6çš„ã€‚ç”±äºipv6åœ°å€æ”¯æŒæ— çŠ¶æ€åˆ†é…ï¼Œè¿™å°±å¯¼è‡´è¯·æ±‚çš„åœ°å€ä¼šä¸€ç›´å˜åŠ¨ï¼Œè¿™ä¹Ÿå¯¼è‡´æ— æ³•ä¸ºç‰¹å®šå®¢æˆ·ç«¯å®ç°åˆ†æµã€‚è¿™é‡Œæˆ‘é€‰æ‹©äº†æœ€ç®€å•å’Œæ— è„‘çš„æ–¹æ³•â€”â€”ç›´æ¥å…³é—­ipv6çš„DNSæœåŠ¡ã€‚é€šè¿‡æŸ¥è¯¢Openwrtçš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å‘ç°å®˜æ–¹æä¾›äº†&lt;a class="link" href="https://openwrt.org/docs/guide-user/base-system/dhcp_configuration?s#disabling_ipv6_dns_for_odhcpd" target="_blank" rel="noopener"
>å…³é—­ipv6 DNSæœåŠ¡çš„æ–¹æ³•&lt;/a>ã€‚è¿™æ ·å°±å¯ä»¥è®©å®¢æˆ·ç«¯å§‹ç»ˆé€šè¿‡ipv4æ¥è¯·æ±‚äº†ã€‚ç¡®ä¿äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„é˜²ç«å¢™ä¹Ÿåªç”¨åŠ«æŒipv4çš„æµé‡äº†ã€‚&lt;/p>
&lt;h2 id="å…·ä½“é…ç½®">&lt;a href="#%e5%85%b7%e4%bd%93%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>å…·ä½“é…ç½®
&lt;/h2>&lt;p>ä¸Šé¢éƒ½åœ¨è®²æ€è·¯ï¼Œç»ˆäºè½®åˆ°å…·ä½“çš„é…ç½®äº†ã€‚æˆ‘ä»¬ç°åœ¨åªéœ€è¦å°çŒ«å’Œ&lt;a class="link" href="https://github.com/sbwml/luci-app-mosdns" target="_blank" rel="noopener"
>luci-app-mosdns&lt;/a>è¿™ä¸¤ä¸ªåŒ…å°±å¥½äº†ã€‚&lt;/p>
&lt;h3 id="å°çŒ«">&lt;a href="#%e5%b0%8f%e7%8c%ab" class="header-anchor">&lt;/a>å°çŒ«
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æ¨¡å¼è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿è¡Œæ¨¡å¼&lt;/code>&lt;/strong>ï¼š åˆ‡æ¢åˆ°Â &lt;strong>&lt;code>Fake-IPï¼ˆå¢å¼ºï¼‰æ¨¡å¼&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æœ¬åœ° DNS åŠ«æŒ&lt;/code>&lt;/strong>Â é€‰æ‹©Â &lt;strong>&lt;code>ç¦ç”¨&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æµé‡æ§åˆ¶&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>ç»•è¿‡ä¸­å›½å¤§é™† IP&lt;/code>&lt;/strong>Â å–æ¶ˆå‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æµé‡æ§åˆ¶&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>ä»…å…è®¸å†…ç½‘&lt;/code>&lt;/strong>Â å¼€å¯&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>IPv6 è®¾ç½®&lt;/code>&lt;/strong>Â è¿™é¡µçš„é€‰é¡¹å…¨éƒ½å…³é—­å°±è¡Œäº†&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>å¸¸è§„è®¾ç½®&lt;/code>&lt;/strong>Â è¿™é‡Œéƒ½ä¸ç”¨æ”¹ï¼Œåªéœ€è¦è®°ä½ DNS ç›‘å¬ï¼Œåé¢é…ç½® mosdns è¦ç”¨&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è‡ªå®šä¹‰ä¸Šæ¸¸ DNS æœåŠ¡å™¨&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿½åŠ ä¸Šæ¸¸ DNS&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿½åŠ é»˜è®¤ DNS&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>Fake-IP æŒä¹…åŒ–&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â é¡µé¢ä¸‹æ–¹Â &lt;strong>&lt;code>NameServer&lt;/code>&lt;/strong>ï¼Œ&lt;strong>&lt;code>FallBack&lt;/code>&lt;/strong>ï¼Œ&lt;strong>&lt;code>Default-NameServer&lt;/code>&lt;/strong>Â é‡Œçš„ DNS æœåŠ¡å™¨å…¨éƒ½å–æ¶ˆå‹¾é€‰ï¼Œæˆ‘ä»¬åªç”¨è¿è¥å•†æä¾›çš„ DNS æœåŠ¡å™¨å°±å¤Ÿäº†ï¼Œä¸€èˆ¬è¿è¥å•† DNS éƒ½æ˜¯æœ€å¿«çš„ï¼Œä¹Ÿæ˜¯ CDN æœ€ä¼˜åŒ–çš„ã€‚&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>å¼€å‘è€…é€‰é¡¹&lt;/code>&lt;/strong> é‡Œï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸‹é˜²ç«å¢™è§„åˆ™ï¼Œå¢åŠ å¦‚ä¸‹è¿™äº›è¡Œã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;limit route to only fake ips with proxy port 7892&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/mosdns/genipset.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D openclash -p tcp -j REDIRECT --to-ports &lt;span class="m">7892&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A openclash -m &lt;span class="nb">set&lt;/span> --match-set telegram dst -p tcp -j REDIRECT --to-ports &lt;span class="m">7892&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;restart mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;å°†53ç«¯å£é‡å®šå‘åˆ°mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼Œéƒ½æ˜¯æˆ‘è¸©è¿‡çš„å‘ğŸ˜¢ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯èƒ½æ˜¯æˆ‘å†…æ ¸ç‰ˆæœ¬å¤ªæ—§äº†ï¼Œè¿™é‡Œä½¿ç”¨ä»»ä½•å˜é‡éƒ½æ˜¯ç©ºå€¼ï¼Œæ‰€ä»¥æˆ‘æŠŠæ‰€æœ‰åœ°å€éƒ½å†™æ­»äº†ï¼Œè®°å¾—æ ¹æ®è‡ªå·±çš„è·¯ç”±å™¨åœ°å€è¿›è¡Œä¿®æ”¹&lt;/li>
&lt;li>ä¸è¦å¿˜è®°åŠ«æŒTCPæµé‡ï¼æˆ‘ä¹‹å‰ä»…ä»…åŠ«æŒäº†UDPæµé‡å¯¼è‡´æµè§ˆå™¨ä¸€ç›´è¯·æ±‚åˆ°çœŸå®ipè€Œæ— æ³•è®¿é—®ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="#20240926" >2024.09.26æ›´æ–°&lt;/a> ä½¿ç”¨&lt;code>nftables&lt;/code>çš„é«˜ç‰ˆæœ¬openwrtéœ€è¦ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;Start Add Custom Firewall Rules...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FW4&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">command&lt;/span> -v fw4&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">en_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci -q get openclash.config.en_mode&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">proxy_port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci -q get openclash.config.proxy_port&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$en_mode&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;fake-ip&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;limit route to only fake ips with proxy port &lt;/span>&lt;span class="nv">$proxy_port&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /root/genipset.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">handle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>nft -a list chain inet fw4 openclash &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;ip protocol tcp counter&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $NF}&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;deleting nft rule handle &lt;/span>&lt;span class="nv">$handle&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft delete rule inet fw4 openclash handle &lt;span class="nv">$handle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet fw4 openclash ip protocol tcp ip daddr @telegram counter redirect to &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D openclash -p tcp -j REDIRECT --to-ports &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A openclash -m &lt;span class="nb">set&lt;/span> --match-set telegram dst -p tcp -j REDIRECT --to-ports &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;restart mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;å°†53ç«¯å£é‡å®šå‘åˆ°mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ! nft --check list table inet mosdns &amp;gt; &lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span> 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="o">||&lt;/span> nft delete table inet mosdns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add table inet mosdns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add chain inet mosdns prerouting &lt;span class="s2">&amp;#34;{ type nat hook prerouting priority -110; policy accept; }&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet mosdns prerouting &lt;span class="s2">&amp;#34;meta nfproto { ipv4 } udp dport 53 ip daddr 192.168.6.1 counter redirect to :5335 comment \&amp;#34;MOSDNS HIJACK\&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet mosdns prerouting &lt;span class="s2">&amp;#34;meta nfproto { ipv4 } tcp dport 53 ip daddr 192.168.6.1 counter redirect to :5335 comment \&amp;#34;MOSDNS HIJACK\&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>genipset.sh&lt;/code> çš„ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯é’ˆå¯¹æŸäº›åº”ç”¨ä¸é€šè¿‡DNSç›´æ¥ç”¨ipè®¿é—®ï¼Œè¦å°†è¿™éƒ¨åˆ†æµé‡åŠ«æŒåˆ°å°çŒ«ã€‚è¿™ä¸ªæ–‡ä»¶æ”¾åˆ°è·¯ç”±å™¨ä¸Šåï¼Œè®°å¾—è¦æ‰§è¡Œ &lt;code>chmod a+x /etc/mosdns/genipset.sh&lt;/code> ç»™å®ƒèµ‹äºˆå¯æ‰§è¡Œæƒé™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">tag&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;telegram&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/etc/mosdns/data/telegram-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FW4&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">command&lt;/span> -v fw4&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nb">test&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">type&lt;/span> ipv4_addr&lt;span class="se">\;&lt;/span> flags interval&lt;span class="se">\;&lt;/span> auto-merge&lt;span class="se">\;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">type&lt;/span> ipv6_addr&lt;span class="se">\;&lt;/span> flags interval&lt;span class="se">\;&lt;/span> auto-merge&lt;span class="se">\;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft flush &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft flush &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset create &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> hash:net -!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset create &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> hash:net family inet6 -!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset flush &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset flush &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="nb">read&lt;/span> p&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> ! grep -q &lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&amp;lt;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add element inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset add &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add element inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset add &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span> &amp;lt;&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2"> missing.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="mosdns">&lt;a href="#mosdns" class="header-anchor">&lt;/a>Mosdns
&lt;/h3>&lt;p>é€‰è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå…³é—­&lt;code>DNS è½¬å‘&lt;/code>çš„å‹¾ï¼Œç„¶åæˆ‘å°±ç›´æ¥è´´é…ç½®äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Powered by luoboQAQ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€‚é…Clashçš„fake-ipæ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 24-08-29ï¼šè®©ç°åå•ä¼˜å…ˆç”Ÿæ•ˆï¼Œé¿å…è¢«geosite_cnæŠ¢ç­”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">log:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> level: info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> file: &lt;span class="s2">&amp;#34;/tmp/log/mosdns.log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># API å…¥å£è®¾ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">api:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http: &lt;span class="s2">&amp;#34;0.0.0.0:9091&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">plugins:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†…åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geosite_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/direct-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/whitelist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†… IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geoip_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: ip_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/CN-ip-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å¤–åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geosite_no_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/proxy-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç°åå•åŸŸåï¼Œå¼ºåˆ¶è¿œç¨‹è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: greylist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/greylist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é»‘åå•åŸŸåï¼šå±è”½ DNS è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: blocklist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/blocklist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ddnsåŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: ddnslist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/ddnslist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è‡ªå®šä¹‰ Hosts é‡å†™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: hosts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: hosts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/hosts.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¹¿å‘ŠåŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: adlist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/ad-domains.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># PTRé»‘åå•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: local_ptr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/local-ptr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç¼“å­˜æ’ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> size: &lt;span class="m">10240&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> lazy_cache_ttl: &lt;span class="m">86400&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å°†ç¼“å­˜ä¿å­˜åœ¨ç£ç›˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># dump_file: /tmp/mosdns/cache.dump&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†…è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: local_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å¤–è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: remote_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">28&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: forward 127.127.127.127:7874
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: ttl 1800-0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æœ‰å“åº”ç»ˆæ­¢è¿”å›&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$ddnslist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: ttl 5-5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: has_resp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: accept
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è¿”å›éå›½å†… ip åˆ™ drop_resp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: fallback_local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: &lt;span class="s2">&amp;#34;!resp_ip &lt;/span>&lt;span class="nv">$geoip_cn&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: drop_resp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: fallback
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: fallback
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> primary: fallback_local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> secondary: remote_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> threshold: &lt;span class="m">500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> always_standby: &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä¸»è¦çš„è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># sequence æ’ä»¶ä¸­è°ƒç”¨çš„æ’ä»¶ tag å¿…é¡»åœ¨ sequence å‰å®šä¹‰ï¼Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¦åˆ™ sequence æ‰¾ä¸åˆ°å¯¹åº”æ’ä»¶ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä¸èµ°ä»£ç†çš„ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#- matches: client_ip 192.168.6.144&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># exec: forward 127.0.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#- exec: jump has_resp_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$ddnslist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$blocklist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$adlist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$local_ptr&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æŸ¥è¯¢æ‹’ç»åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$blocklist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$adlist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qtype &lt;span class="m">65&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$local_ptr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># handle local ptr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># handle lan query&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname regexp:lan regexp:local regexp:arpa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$ddnslist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç°åå•åœ¨geosite_cnä¹‹å‰æŸ¥è¯¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$greylist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$remote_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$geosite_cn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$geosite_no_cn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$remote_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$fallback&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: udp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: udp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> entry: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen: &lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: tcp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: tcp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> entry: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen: &lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä»¥ä¸‹é¡¹ç›®æä¾›çš„åŸŸå/IPæ–‡ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat" target="_blank" rel="noopener"
>direct-list.txtå’Œproxy-list.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Hackl0us/GeoIP2-CN/" target="_blank" rel="noopener"
>CN-ip-cidr.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://anti-ad.net/" target="_blank" rel="noopener"
>ad-domains.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://core.telegram.org/resources/cidr.txt" target="_blank" rel="noopener"
>telegram-cidr.txt&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ä¸ºäº†æ–¹ä¾¿æœŸé—´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è„šæœ¬ä¸€é”®æ›´æ–°å®ƒä»¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/direct-list.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/direct-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/proxy-list.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/proxy-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/CN-ip-cidr.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/CN-ip-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/ad-domains.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://anti-ad.net/domains.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl --resolve core.telegram.org:443:&lt;span class="sb">`&lt;/span>nslookup -port&lt;span class="o">=&lt;/span>&lt;span class="m">5335&lt;/span> core.telegram.org 192.168.6.1 &lt;span class="p">|&lt;/span> grep &lt;span class="m">198&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span> -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/telegram-cidr.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://core.telegram.org/resources/cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºæŸä¸ªåœ°å€éœ€è¦å°çŒ«æ‰èƒ½è®¿é—®ï¼ŒåŒæ—¶æˆ‘ä»¬æ²¡æœ‰åŠ«æŒè·¯ç”±å™¨çš„dnsæŸ¥è¯¢ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ‰‹åŠ¨æŸ¥ä¸€ä¸‹ipå†ä¸‹è½½ã€‚&lt;/p>
&lt;h2 id="åè®°">&lt;a href="#%e5%90%8e%e8%ae%b0" class="header-anchor">&lt;/a>åè®°
&lt;/h2>&lt;p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤§å·¥ç¨‹äº†ï¼Œå‰å‰ååä¹ŸèŠ±äº†å¥½å¤šå¤©ï¼Œä¸è¿‡åšå®Œåä½¿ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ»‘å’Œé¡ºç•…çš„ï¼Œæœ€é‡è¦çš„æ˜¯è‡ªå·±æŠ˜è…¾å‡ºæ¥è¿™æ˜¯åœ¨æ˜¯å¤ªé…·äº†ğŸ¤“ã€‚è¿™é‡Œè¿˜æ˜¯è¦æ„Ÿè°¢æ–¹æ¡ˆçš„åŸä½œè€…å’Œå¼€æºé¡¹ç›®ä½œè€…ï¼Œæˆ‘ä»ä¸­å­¦åˆ°äº†è®¸å¤šğŸ™ã€‚&lt;/p>
&lt;h2 id="åç»­æ›´æ–°">&lt;a href="#%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0" class="header-anchor">&lt;/a>åç»­æ›´æ–°
&lt;/h2>&lt;h3 id="20240829">&lt;a href="#20240829" class="header-anchor">&lt;/a>2024.08.29
&lt;/h3>&lt;p>åœ¨ä½¿ç”¨æ—¶ï¼Œä¼šå‘ç°Google Playå•†åº—ä¸èƒ½æ­£å¸¸ä¸‹è½½æˆ–æ›´æ–°åº”ç”¨ã€‚åœ¨&lt;a class="link" href="https://www.yetpage.com/archives/278" target="_blank" rel="noopener"
>ã€Šå¤§é™†ç”¨æˆ· Google Play å•†åº—æ— æ³•ä¸‹è½½æˆ–æ›´æ–°åº”ç”¨çš„åŸå› åˆ†æä¸è§£å†³åŠæ³•ã€‹&lt;/a>è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…æŒ‡å‡ºäº†è¿™æ˜¯ç”±äºå›½å†…ç‰ˆå•†åº—çš„apiè¯·æ±‚é“¾æ¥å’Œä¸‹è½½é“¾æ¥åˆ†åˆ«é€šè¿‡ç›´è¿å’Œä»£ç†å¯¼è‡´çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆå°±æ˜¯è®©è¯·æ±‚éƒ½ä»ä»£ç†å‡ºå»ã€‚&lt;/p>
&lt;p>å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸‹é¢è¿™å‡ ä¸ªåŸŸåæ·»åŠ åˆ°ä»£ç†è§„åˆ™ä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">domain:googleapis.cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">domain:googleapis.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">domain:xn--ngstr-lra8j.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Mosdns&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>åœ¨&lt;code>è§„åˆ™åˆ—è¡¨&lt;/code>-&lt;code>ç°åå•&lt;/code>ä¸­æ·»åŠ ä¸Šé¢çš„åŸŸå&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å°çŒ«&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>åœ¨&lt;code>è¦†å†™è®¾ç½®&lt;/code>-&lt;code>è§„åˆ™è®¾ç½®&lt;/code>-&lt;code>è‡ªå®šä¹‰è§„åˆ™&lt;/code>ä¸­æ·»åŠ ä¸‹é¢çš„åˆ†æµè§„åˆ™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rules:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Google Play
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,googleapis.cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,googleapis.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸çš„ä½¿ç”¨Playå•†åº—äº†&lt;/p>
&lt;h3 id="20240926">&lt;a href="#20240926" class="header-anchor">&lt;/a>2024.09.26
&lt;/h3>&lt;p>å°†è·¯ç”±å™¨åˆ·åˆ°äº†æœ€æ–°çš„immortalWrtï¼Œé˜²ç«å¢™ä»iptableså‡çº§åˆ°äº†nftablesï¼Œæ‰€ä»¥åŸæ¥çš„å‘½ä»¤ä¸èƒ½ç”¨äº†ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„å‘½ä»¤ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨WireGuard+ipv6è¿›è¡Œå¼‚åœ°ç»„ç½‘</title><link>https://lbqaq.top/p/wireguard-ipv6/</link><pubDate>Sat, 03 Feb 2024 23:00:08 +0800</pubDate><guid>https://lbqaq.top/p/wireguard-ipv6/</guid><description>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/104589070.webp" alt="Featured image of post ä½¿ç”¨WireGuard+ipv6è¿›è¡Œå¼‚åœ°ç»„ç½‘" />&lt;p>æ”¾å‡å›å®¶ï¼Œæ‰‹é‡Œåªæœ‰æ€§èƒ½å­±å¼±çš„è½»è–„æœ¬ï¼Œç”¨å®ƒè·‘ä¸ªå®éªŒæˆ–è€…æ˜¯æ‰“ä¸ªæ¸¸æˆå®åœ¨æ˜¯å¤ªéš¾ä¸ºå®ƒäº†ã€‚äºæ˜¯ï¼Œè¿œç¨‹åˆ°å®éªŒå®¤çš„é«˜æ€§èƒ½ä¸»æœºä¾¿æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©ã€‚ä¸è¿‡ï¼Œå’Œä¹‹å‰åœ¨å®¿èˆå±€åŸŸç½‘ä¸²æµä¸ä¸€æ ·ï¼Œå®¶é‡Œå’Œå®éªŒå®¤å±äºä¸åŒçš„å±€åŸŸç½‘ï¼Œä¹‹é—´æ— æ³•ç›¸äº’è¿æ¥ã€‚&lt;/p>
&lt;p>åœ¨ä¹‹å‰&lt;a class="link" href="https://lbqaq.top/p/ax6000/#%E9%85%8D%E7%BD%AEwireguard" target="_blank" rel="noopener"
>é…ç½®å®éªŒå®¤è·¯ç”±å™¨&lt;/a>æ—¶ï¼Œæˆ‘å·²ç»é…ç½®è¿‡äº†WireGuardã€‚é€šè¿‡åœ¨ç”µè„‘ä¸Šå®‰è£…WireGuardï¼Œæ¯æ¬¡å¼€æœºæ—¶å¯åŠ¨ä¸€ä¸‹å°±å¯ä»¥è¿å…¥å®éªŒå®¤çš„å±€åŸŸç½‘äº†ã€‚ä¼¼ä¹è¿™æ ·å·²ç»å¯ä»¥äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘æƒ³åœ¨å…¶ä»–è®¾å¤‡ä¸Šè®¿é—®å®éªŒå®¤ï¼Œå°±è¦é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œè¿™å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†ã€‚åŒæ—¶ï¼Œå®éªŒå®¤æƒ³è¦è®¿é—®ä½äºå®¶é‡Œçš„è®¾å¤‡ä¹Ÿæ— æ³•å®ç°ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œæˆ‘å†³å®šé€šè¿‡æŠ˜è…¾ä¸€æ³¢è·¯ç”±å™¨ï¼Œæ¥å®ç°æ— æ„ŸçŸ¥çš„å¼‚åœ°ç»„ç½‘ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>2å°åˆ·å¥½OpenWrtçš„è·¯ç”±å™¨ï¼Œå¹¶ä¿è¯æ‹¥æœ‰WireGuardåŒ…&lt;/p>
&lt;p>å¦‚æœä½ çš„å›ºä»¶é‡Œæ²¡æœ‰é¢„è£…WireGuardï¼Œå¯ä»¥é€‰æ‹©æ‰‹åŠ¨ç¼–è¯‘ï¼Œå°±åƒæˆ‘è¿™ç¯‡æ–‡ç« ä¸€æ ·ï¼ˆè¿˜æ²¡å†™ğŸ•Šï¸ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>2å°è·¯ç”±å™¨å‡æ‹¥æœ‰å…¬ç½‘ipv6åœ°å€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸€ä¸ªåŸŸåï¼Œç”¨æ¥åšddns&lt;/p>
&lt;p>å¦‚ä½•é…ç½®ddnsä¸æ˜¯æœ¬ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« æˆ–è€…ç™¾åº¦ä¸€ä¸‹&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬é¦–å…ˆè®¾è®¡ä¸€ä¸‹ç½‘ç»œæ‹“æ‰‘ï¼Œå…¶ä¸­å®éªŒå®¤çš„ipæ®µä¸º&lt;code>192.168.6.0/24&lt;/code>ï¼Œå®¶é‡Œçš„ipæ®µä¸º&lt;code>192.168.10.0/24&lt;/code>ã€‚æˆ‘è¿™é‡Œé€‰å–&lt;code>192.168.100.0/24&lt;/code>ä¸ºWireGuradçš„è™šæ‹Ÿå±€åŸŸç½‘ç½‘æ®µï¼Œå¹¶åˆ†åˆ«ç»™å®¶ä¸­å’Œå®éªŒå®¤è·¯ç”±å™¨åˆ†é…&lt;code>192.168.100.100/32&lt;/code>å’Œ&lt;code>192.168.100.1/32&lt;/code>ä¸¤ä¸ªåœ°å€ã€‚ä¸ºäº†æ¥ä¸‹æ¥ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘å»ºè®®ç”¨è¡¨æ ¼æ•´ç†ä¸€ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">&lt;/th>
&lt;th style="text-align: center">å®éªŒå®¤&lt;/th>
&lt;th style="text-align: center">å®¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">å±€åŸŸç½‘æ®µ&lt;/td>
&lt;td style="text-align: center">192.168.6.0/24&lt;/td>
&lt;td style="text-align: center">192.168.10.0/24&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ddnsåœ°å€&lt;/td>
&lt;td style="text-align: center">school.example.com&lt;/td>
&lt;td style="text-align: center">home.example.com&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradæ¥å£ipåœ°å€&lt;/td>
&lt;td style="text-align: center">192.168.100.1/32&lt;/td>
&lt;td style="text-align: center">192.168.100.100/32&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å…·ä½“æ“ä½œ">&lt;a href="#%e5%85%b7%e4%bd%93%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>å…·ä½“æ“ä½œ
&lt;/h2>&lt;h3 id="æ¥å£é…ç½®">&lt;a href="#%e6%8e%a5%e5%8f%a3%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>æ¥å£é…ç½®
&lt;/h3>&lt;p>æˆ‘ä»¬é¦–å…ˆä»å®éªŒå®¤çš„è·¯ç”±å™¨å¼€å§‹é…ç½®ã€‚ç™»å…¥OpenWrtåå°ï¼Œä¾æ¬¡ç‚¹å‡»ç½‘ç»œâ€”â€”æ¥å£â€”â€”æ·»åŠ æ–°æ¥å£ï¼Œé€‰æ‹©åè®®ä¸º&lt;code>WireGuard VPN&lt;/code>ï¼Œåç§°è¿™é‡Œéšæ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/1.png"
width="698"
height="241"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/1_hu_53b3b15b32bbb04.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/1_hu_4f127e7470372986.png 1024w"
loading="lazy"
alt="æ·»åŠ æ–°æ¥å£"
class="gallery-image"
data-flex-grow="289"
data-flex-basis="695px"
>&lt;/p>
&lt;p>æ¥ç€å¼€å§‹è¿›è¡Œè¯¦ç»†çš„é…ç½®&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/2.png"
width="805"
height="788"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/2_hu_7838dc690eb0e131.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/2_hu_738f92cb3b8d01a4.png 1024w"
loading="lazy"
alt="æ¥å£è¯¦ç»†é…ç½®"
class="gallery-image"
data-flex-grow="102"
data-flex-basis="245px"
>&lt;/p>
&lt;p>è¿™é‡Œçš„ç›‘å¬ç«¯å£æŒ‰ç…§ä¸ªäººå–œå¥½è‡ªå·±æŒ‡å®šå³å¯ï¼Œä¸ºäº†æ¼”ç¤ºæˆ‘åˆ†åˆ«æŒ‡å®šç«¯å£å·ä¸º&lt;code>6789&lt;/code>å’Œ&lt;code>7890&lt;/code>ã€‚&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°è¾ƒæ–°çš„OpenWrtè¿™é‡Œæ˜¯æœ‰ç”Ÿæˆå¯†é’¥çš„é€‰é¡¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç”¨å‘½ä»¤è¡Œæ¥ç”Ÿæˆå¯†é’¥å¯¹ï¼Œä¸è¿‡æˆ‘è¿™ä¸ªç‰ˆæœ¬ç¼ºå°‘å…¬é’¥çš„æ¡†ï¼Œå¦‚æœæƒ³æŸ¥çœ‹å…¬é’¥çš„è¯ï¼Œè¦åˆ°çŠ¶æ€â€”â€”WireGuardé‡Œå»æŸ¥çœ‹ã€‚æ‰€ä»¥æˆ‘å»ºè®®è¿˜æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œé¢„å…ˆç”Ÿæˆå¥½å…¬ç§é’¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºå…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆé¢„å…±äº«å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genpsk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤æ¬¡å…¬ç§é’¥ï¼Œé¢„å…±äº«å¯†é’¥æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥åªéœ€åˆ›å»ºä¸€æ¬¡å³å¯ï¼Œä¸ºäº†ä¾¿äºä¹‹åçš„æ“ä½œï¼Œæˆ‘ä»¬å°†å…¶å­˜æ”¾åˆ°ä¸Šæ–‡åˆ—å¥½çš„è¡¨ä¸­ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">&lt;/th>
&lt;th style="text-align: center">å®éªŒå®¤&lt;/th>
&lt;th style="text-align: center">å®¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">å±€åŸŸç½‘æ®µ&lt;/td>
&lt;td style="text-align: center">192.168.6.0/24&lt;/td>
&lt;td style="text-align: center">192.168.10.0/24&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ddnsåœ°å€&lt;/td>
&lt;td style="text-align: center">school.example.com&lt;/td>
&lt;td style="text-align: center">home.example.com&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradæ¥å£ipåœ°å€&lt;/td>
&lt;td style="text-align: center">192.168.100.1/32&lt;/td>
&lt;td style="text-align: center">192.168.100.100/32&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ç›‘å¬ç«¯å£&lt;/td>
&lt;td style="text-align: center">6789&lt;/td>
&lt;td style="text-align: center">7890&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradå…¬é’¥&lt;/td>
&lt;td style="text-align: center">YJF1c//jJ0K2HSZ+yNqfjBfJL6Z90lyfVCyML8To1lI=&lt;/td>
&lt;td style="text-align: center">Q/gtGW5xBK5sEgPTrSo3CWqGOv3SYhzkqw8CBOJ3ZHs=&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradç§é’¥&lt;/td>
&lt;td style="text-align: center">0MyNAHWVI0owbbZ3Et9gWtNFSVWiOqiHHYJAj86Wq0E=&lt;/td>
&lt;td style="text-align: center">eKGSiCzaVi9IHfDLv4atx//wE8LGCR2xWAwc3XBw9kg=&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">é¢„å…±äº«å¯†é’¥&lt;/td>
&lt;td style="text-align: center">OQrD6nvzMGQklARhwwhlrinFiumrGe2SIBxcRSOuIEo=&lt;/td>
&lt;td style="text-align: center">åŒå·¦&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>&lt;strong>ç‰¹åˆ«æ³¨æ„&lt;/strong>&lt;/p>
&lt;p>ç§é’¥å’Œé¢„å…±äº«å¯†é’¥å°±åƒå¯†ç ä¸€æ ·ï¼Œä¸è¦è½»æ˜“æ³„éœ²ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æ¼”ç¤ºç”¨æ‰å±•ç¤ºå‡ºæ¥ã€‚&lt;/p>&lt;/div>
&lt;p>æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾çš„å°†å‰å›¾ä¸­çš„é…ç½®å¡«å¥½äº†ï¼Œä¸è¦å‹¾é€‰æ— ä¸»æœºè·¯ç”±ã€‚&lt;/p>
&lt;p>ä¹‹åæˆ‘ä»¬è¦é…ç½®å¯¹ç«¯&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/3.png"
width="1042"
height="870"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/3_hu_2ab2cdb953ce9df0.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/3_hu_db8112180e8f3abb.png 1024w"
loading="lazy"
alt="å¯¹ç«¯é…ç½®"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;p>æœ‰äº†ä¹‹å‰çš„è¡¨æ ¼ï¼Œè¿™é‡Œçš„å†…å®¹å°±å¾ˆç®€å•äº†ã€‚ç›´æ¥åç€å†™å°±å¥½äº†ã€‚æˆ‘è¿™é‡Œæ˜¯å®éªŒå®¤æ‰€ä»¥å°±å¯¹ç€å®¶çš„é‚£ä¸€åˆ—ä¾æ¬¡å¾€é‡Œé¢å¡«å³å¯ã€‚&lt;/p>
&lt;ul>
&lt;li>å…è®¸çš„IPæˆ‘ä»¬ç›´æ¥æ·»åŠ ä¸¤æ¡ï¼Œåˆ†åˆ«æ˜¯å¯¹æ–¹çš„å±€åŸŸç½‘æ®µå’Œæ¥å£ipåœ°å€ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œå°±å¡«&lt;code>192.168.10.0/24&lt;/code>å’Œ&lt;code>192.168.100.100/32&lt;/code>å³å¯ã€‚&lt;/li>
&lt;li>å‹¾é€‰è·¯ç”±å…è®¸çš„IP&lt;/li>
&lt;li>ç«¯ç‚¹ä¸»æœºå’Œç«¯å£åˆ†åˆ«å¡«å†™ddnsåœ°å€å’Œç›‘å¬ç«¯å£ã€‚&lt;/li>
&lt;li>Keep-Aliveä½¿ç”¨é»˜è®¤å€¼25å³å¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>è¿™æ ·æˆ‘ä»¬çš„WireGuardå°±ç®—é…ç½®å¥½äº†ã€‚&lt;/p>
&lt;h3 id="é˜²ç«å¢™é…ç½®">&lt;a href="#%e9%98%b2%e7%81%ab%e5%a2%99%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é˜²ç«å¢™é…ç½®
&lt;/h3>&lt;p>ä¾æ¬¡ç‚¹å‡»ç½‘ç»œâ€”â€”é˜²ç«å¢™ï¼Œé€‰æ‹©æ·»åŠ ã€‚&lt;/p>
&lt;p>è¿™é‡Œå¤§éƒ¨åˆ†äººï¼ˆåŒ…æ‹¬ä¹‹å‰çš„æˆ‘ï¼‰ä¼šè¯´ç›´æ¥å°†WireGuardæ¥å£æ”¾å…¥LANä¸­ï¼Œä¸è¿‡è¿™æ ·è¿˜æ˜¯ä¸å¤ªä¼˜é›…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªæ–°åŒºåŸŸã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/4.png"
width="1700"
height="845"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/4_hu_a4d8298fc44bd5ac.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/4_hu_cb62f3d86f398bd.png 1024w"
loading="lazy"
alt="é˜²ç«å¢™é…ç½®"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="482px"
>&lt;/p>
&lt;ul>
&lt;li>å‡ºç«™ã€å…¥ç«™ã€è½¬å‘å‡ä¸ºå…è®¸&lt;/li>
&lt;li>å‹¾é€‰MSS é’³åˆ¶ï¼šè¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢å†…ç½‘MTUè¿‡å¤§å¯¼è‡´WireGuardæ•ˆç‡é™ä½&lt;/li>
&lt;li>æ¶µç›–çš„ç½‘ç»œä¸ºä¹‹å‰åˆ›å»ºçš„æ¥å£&lt;/li>
&lt;li>å…è®¸è½¬å‘åˆ°ç›®æ ‡åŒºåŸŸå’Œå…è®¸æ¥è‡ªæºåŒºåŸŸçš„è½¬å‘éƒ½é€‰æ‹©LAN&lt;/li>
&lt;/ul>
&lt;p>ä¿å­˜åé€‰æ‹©ä¸Šé¢çš„é€šä¿¡è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦å¼€å¯è·¯ç”±å™¨ä¸Šçš„ç«¯å£&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/5.png"
width="709"
height="642"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/5_hu_bfdf419a8159e588.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/5_hu_58611f170f28856.png 1024w"
loading="lazy"
alt="è·¯ç”±ç«¯å£é…ç½®"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
>&lt;/p>
&lt;p>ç”±äºWireGuardæ˜¯åŸºäºUDPçš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¾è¡ŒUDPæµé‡å³å¯ã€‚ç«¯å£ä¸ºä¹‹å‰è¡¨ä¸­å¡«å†™çš„ã€‚&lt;/p>
&lt;p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„é…ç½®å°±ç®—å®Œæˆäº†ï¼Œå¦ä¸€å°è·¯ç”±å™¨ä¹Ÿæ˜¯åŒæ ·çš„é…ç½®æ–¹æ³•ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚&lt;/p>
&lt;h2 id="è¸©å‘å’Œä¸€äº›æ³¨æ„äº‹é¡¹">&lt;a href="#%e8%b8%a9%e5%9d%91%e5%92%8c%e4%b8%80%e4%ba%9b%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" class="header-anchor">&lt;/a>è¸©å‘å’Œä¸€äº›æ³¨æ„äº‹é¡¹
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>ä¸¤ç«¯éƒ½è¦é…ç½®ç«¯ç‚¹ä¸»æœº&lt;/p>
&lt;p>WireGuardæŒ‰åŸç†æ¥è¯´ï¼Œåªè¦ä¸€æ–¹å‘èµ·æ¡æ‰‹å³å¯ç›¸äº’é€šä¿¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åªé…ç½®ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè®©å®ƒå‘èµ·æ¡æ‰‹ã€‚ä¸è¿‡æˆ‘å°è¯•åå‘ç°è¿™æ ·ä¼šå¯¼è‡´åªæœ‰å‘èµ·æ¡æ‰‹çš„è·¯ç”±å™¨å¯ä»¥è¿åˆ°å¯¹ç«¯ï¼Œä¸‹é¢çš„è®¾å¤‡å°±æ— æ³•è¿æ¥ï¼Œè¢«æ¡æ‰‹çš„è·¯ç”±å™¨ä¹Ÿæ— æ³•pingé€šå‘èµ·æ¡æ‰‹çš„è·¯ç”±å™¨ã€‚ï¼ˆğŸ¤”éš¾é“æ˜¯å› ä¸ºè¢«æ¡æ‰‹çš„è·¯ç”±å™¨ä¸­æ²¡æœ‰è‡ªåŠ¨é…ç½®å¥½è·¯ç”±è¡¨å—ï¼Ÿï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WireGuardé…ç½®å¥½åéœ€è¦é‡å¯ç«¯å£æ‰èƒ½ç”Ÿæ•ˆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ddnså˜åŠ¨åï¼ŒWireGuardåªä¼šå°è¯•è¿æ¥ä¹‹å‰çš„åœ°å€è€Œä¸ä¼šé‡æ–°è§£æ&lt;/p>
&lt;p>å¯èƒ½æ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘å§ï¼Œè¿™æ ·åªèƒ½æ‰‹åŠ¨é‡å¯ç«¯å£æ¥è®©å…¶é‡æ–°è§£æï¼Œè¿˜æœ‰å…¶ä»–è‡ªåŠ¨åŒ–çš„æ–¹æ³•ä¸è¿‡æˆ‘å°±æ²¡æœ‰ç ”ç©¶äº†&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1r3411G796" target="_blank" rel="noopener"
>ã€è€æ¹¿åŸºã€‘WireGuard å¼‚åœ°ç»„ç½‘æ‰‹æŠŠæ‰‹æ•™å­¦ | ä»å…¥é—¨åˆ°ç²¾é€š | å±€åŸŸç½‘èåˆ_å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>çº¢ç±³AX6000æŠ˜è…¾è®°</title><link>https://lbqaq.top/p/ax6000/</link><pubDate>Sat, 21 Oct 2023 21:36:58 +0800</pubDate><guid>https://lbqaq.top/p/ax6000/</guid><description>&lt;img src="https://lbqaq.top/p/ax6000/112545261.webp" alt="Featured image of post çº¢ç±³AX6000æŠ˜è…¾è®°" />&lt;h2 id="èµ·å› ">&lt;a href="#%e8%b5%b7%e5%9b%a0" class="header-anchor">&lt;/a>èµ·å› 
&lt;/h2>&lt;p>ç”±äºå®éªŒå®¤çš„ç½‘çº¿å£è¿‡äºç¨€å°‘ä¸”ç¦»æˆ‘è·ç¦»å¤ªè¿œï¼Œå­¦æ ¡çš„WIFIåˆæ˜¯WIFI5ï¼Œå¹³æ—¶æœ€å¤šåªèƒ½è·‘åˆ°30MB/sã€‚ä½†æˆ‘çš„ç¬”è®°æœ¬æ”¯æŒWIFi6ï¼Œå­¦æ ¡åˆæ˜¯åƒå…†ç½‘ã€‚ä¸¤æ¡åŸå› ä¸€å åŠ ï¼Œé‚£å°±ç›´æ¥ä¸ŠWIFI6çš„è·¯ç”±å™¨å§ã€‚é¦–è¦çš„é€‰æ‹©æ¡ä»¶å°±æ˜¯æ”¯æŒåˆ·æœºï¼Œåœ¨æ©å±±ä¸Šé€›äº†ä¸€é˜µå­ï¼Œå°±å†³å®šå…¥æ‰‹çº¢ç±³çš„AX6000ã€‚å¯è§£é”ã€æœ‰ç¬¬ä¸‰æ–¹å›ºä»¶ã€512MBå†…å­˜ã€‚ç‰¹åˆ«æ˜¯è¿™512MBå†…å­˜ï¼Œæ¯”èµ·æˆ‘ä¹‹å‰ç”¨çš„çº¢ç±³AC2100ï¼Œç›´æ¥ç¿»äº†4å€ï¼Œç›¸è¾ƒäºåŸæ¥éšä¾¿å¼€ä¸ªæ’ä»¶å°±æ²¡æœ‰å†…å­˜çš„æƒ…å†µï¼Œç›´æ¥èµ·é£å¥½å§ğŸ˜ã€‚&lt;/p>
&lt;h2 id="æˆæœ">&lt;a href="#%e6%88%90%e6%9e%9c" class="header-anchor">&lt;/a>æˆæœ
&lt;/h2>&lt;p>å…ˆæ¥ä¸€æ‰‹å€’åº(æ¯•ç«Ÿé…ç½®çš„è¿‡ç¨‹æ¯”è¾ƒæ— èŠğŸ˜‡ã€‚ä½¿ç”¨å—äº¬å¤§å­¦æµ‹é€Ÿç«™è¿›è¡Œæµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°ç½‘é€Ÿç›´æ¥æ‹‰æ»¡ï¼Œä¸‹è½½ä¸œè¥¿çš„æ—¶å€™ç»ˆäºä¸ç”¨ç­‰é‚£ä¹ˆä¹…äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506.png"
width="564"
height="335"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506_hu_6915e9da78c79fac.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506_hu_119274955b3a2e6a.png 1024w"
loading="lazy"
alt="å­¦æ ¡WIFIæµ‹è¯•"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="404px"
> &lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644.png"
width="641"
height="351"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644_hu_61ee69c866462efa.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644_hu_890f3f4025fa58ea.png 1024w"
loading="lazy"
alt="AX6000æµ‹é€Ÿ"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="438px"
>&lt;/p>
&lt;p>å†åŠ ä¸Šå„ç§æ’ä»¶ï¼ŒçœŸçš„å¾ˆèˆ’é€‚ğŸ¤¤ï¼Œä¸Šç½‘ä½“éªŒç›´æ¥æ‹‰æ»¡ã€‚ä¸‹é¢å°±æ˜¯å°†ç›¸å…³çš„é…ç½®è¿‡ç¨‹åšä¸ªè®°å½•ã€‚&lt;/p>
&lt;h2 id="é…ç½®">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é…ç½®
&lt;/h2>&lt;h3 id="è§£é”ä¸åˆ·æœº">&lt;a href="#%e8%a7%a3%e9%94%81%e4%b8%8e%e5%88%b7%e6%9c%ba" class="header-anchor">&lt;/a>è§£é”ä¸åˆ·æœº
&lt;/h3>&lt;p>è¿™é‡Œå¯ä»¥å‚è€ƒBç«™å¤§ä½¬çš„è§†é¢‘&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼Œæ­¥éª¤éå¸¸è¯¦ç»†ï¼Œç›´æ¥è·Ÿç€åšå°±å¥½äº†ã€‚ä¸ºäº†å¤‡å¿˜ï¼Œæˆ‘è¿™é‡Œå†ç®€å•æŠŠæ­¥éª¤å†™ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>é«˜ç‰ˆæœ¬çš„ç³»ç»Ÿå·²ç»å°å µäº†è§£é”çš„æ¼æ´ï¼Œæˆ‘ä»¬è¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯ä½¿ç”¨å°ç±³ä¿®å¤å·¥å…·è¿›è¡Œé™çº§ã€‚&lt;/p>
&lt;p>ä¹‹åè¿›å…¥ç®¡ç†ç•Œé¢å¹¶ç™»å½•ï¼Œæ­¤æ—¶åœ°å€æ ¼å¼ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">http://192.168.31.15/cgi-bin/luci/;stok=030b24d39b1a4a549aa12dac23c52313/web/home#router
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å°†&lt;code>/web/home#router&lt;/code>åˆ é™¤ï¼Œå¹¶åŠ ä¸Šä¸‹é¢ä¸€æ®µï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3B%20zz%3D%24%28dd%20if%3D%2Fdev%2Fzero%20bs%3D1%20count%3D2%202%3E%2Fdev%2Fnull%29%20%3B%20printf%20%27%A5%5A%25c%25c%27%20%24zz%20%24zz%20%7C%20mtd%20write%20-%20crash%20%3B%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å³è¿æ¥åº”è¯¥ä¸º&lt;code>http://192.168.31.15/cgi-bin/luci/;stok=030b24d39b1a4a549aa12dac23c52313/api/......&lt;/code>&lt;/p>
&lt;p>å›è½¦è®¿é—®ï¼Œæ˜¾ç¤º&lt;code>{&amp;quot;code&amp;quot;:0}&lt;/code>è¡¨ç¤ºæˆåŠŸ&lt;/p>
&lt;p>åŒç†ï¼Œç»§ç»­æ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…é‡å¯å®Œæˆ&lt;/p>
&lt;p>ç™»å½•è·¯ç”±å™¨ï¼Œæ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3B%20bdata%20set%20telnet_en%3D1%20%3B%20bdata%20set%20ssh_en%3D1%20%3B%20bdata%20set%20uart_en%3D1%20%3B%20bdata%20commit%20%3B%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»§ç»­æ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…é‡å¯å®Œæˆ&lt;/p>
&lt;p>æ­¤æ—¶&lt;code>telnet&lt;/code>å·²ç»å¼€å¯ï¼Œè¿æ¥è¿›å…¥ï¼Œæ˜¾ç¤ºã€ARE U OKã€‘çš„ç•Œé¢ï¼Œè¡¨ç¤ºtelnetæˆåŠŸã€‚&lt;/p>
&lt;p>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å¼€å¯&lt;code>ssh&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">bdata &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bdata commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">ssh_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">telnet_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s/channel=.*/channel=&amp;#34;debug&amp;#34;/g&amp;#39;&lt;/span> /etc/init.d/dropbear
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/dropbear restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> -e &lt;span class="s1">&amp;#39;admin\nadmin&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> passwd root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»§ç»­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œå…³é—­å¼€å‘è€…æ¨¡å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mtd erase crash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨sshè¿æ¥è¿›å…¥ï¼Œå°†&lt;code>xwrt&lt;/code>ç›®å½•é‡Œçš„&lt;code>stock-initramfs-factory.ubi&lt;/code>ä¼ å…¥&lt;code>tmp&lt;/code>ç›®å½•&lt;/p>
&lt;p>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿåˆ†åŒº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat /proc/cmdline
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºç±»ä¼¼è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">console=ttyS0,115200n1 loglevel=8 firmware=1 uart_en=1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬ä¸»è¦å…³æ³¨&lt;code>firmware=1&lt;/code>è¿™é¡¹&lt;/p>
&lt;p>å¦‚firmware=0è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_rootfs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_last_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys1_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys2_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ·å…¥å›ºä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ubiformat /dev/mtd9 -y -f /tmp/stock-initramfs-factory.ubi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚firmware=1è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_rootfs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_last_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys1_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys2_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ·å…¥å›ºä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ubiformat /dev/mtd8 -y -f /tmp/stock-initramfs-factory.ubi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>rebooté‡å¯ å›ºä»¶åå°ï¼šhttp://192.168.15.1/ è´¦æˆ·å¯†ç ï¼šadmin/admin åœ¨åå°å‡çº§xwrtæ­£å¼å›ºä»¶&lt;/p>
&lt;p>è¿›å…¥xwrtæ­£å¼å›ºä»¶åå°â€”ç³»ç»Ÿâ€”ç®¡ç†æƒâ€”sshè®¿é—®â€”æ‰“å¼€å¯†ç éªŒè¯å’Œå…è®¸rootç”¨æˆ·å‡­å¯†ç ç™»å½•-ä¿å­˜å¹¶åº”ç”¨ã€‚ å†æ¬¡è¿æ¥SSHï¼ˆip192.168.15.1ç”¨æˆ·årootå¯†ç adminï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">fw_setenv boot_wait on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv uart_en &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_boot_rootfs &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_last_success &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_boot_success &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_try_sys1_failed &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_try_sys2_failed &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ·å…¥æœ€æ–°237å¤§ä½¬å›ºä»¶&lt;/p>
&lt;h3 id="åˆ·å…¥uboot">&lt;a href="#%e5%88%b7%e5%85%a5uboot" class="header-anchor">&lt;/a>åˆ·å…¥uboot
&lt;/h3>&lt;p>ä¹‹å‰åˆ·å…¥çš„å®˜æ–¹ç‰ˆçš„é•œåƒï¼Œè™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯ç”¨ç©ºé—´å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œä¸ºäº†æ¦¨å¹²å®ƒå…¨éƒ¨çš„æ€§èƒ½ï¼Œæˆ‘è¿˜æ˜¯å†³å®šåˆ·å…¥ç¬¬ä¸‰æ–¹ubootï¼Œå°†å®˜æ–¹åŸå§‹çš„ä¸‰ä¸ªåˆ†åŒºåˆå¹¶æˆä¸€ä¸ªå¤§åˆ†åŒºã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œåˆ·å…¥çš„hanwckfå¤§ä½¬åˆ¶ä½œçš„ubootï¼Œä»–æ”¯æŒå¤šåˆ†åŒºçš„åˆ‡æ¢ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚å…·ä½“çš„åŠŸèƒ½å’Œä¸‹è½½é“¾æ¥å¯ä»¥çœ‹å¤§ä½¬çš„åšå®¢â€”â€”&lt;a class="link" href="https://cmi.hanwckf.top/p/mt798x-uboot-usage/" target="_blank" rel="noopener"
>mt798x uboot åŠŸèƒ½ä»‹ç»&lt;/a>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä¹‹å‰åˆ·å…¥è¿‡237å¤§ä½¬çš„å›ºä»¶äº†ï¼Œæ‰€ä»¥FIPåˆ†åŒºå·²ç»è§£é”ï¼Œå¯ä»¥ç›´æ¥åˆ·ã€‚&lt;/p>
&lt;p>é¦–å…ˆè¦&lt;strong>å¤‡ä»½&lt;/strong>åŸå§‹çš„åˆ†åŒºï¼ŒåƒFactoryä¸ºæ— çº¿EEPROMåˆ†åŒºï¼›Bdataå­˜å‚¨ç€ä½ çš„SNå’ŒMACã€‚å¦‚æœæ²¡äº†åº”è¯¥æ˜¯æ— æ³•ä½¿ç”¨åˆ«äººçš„åˆ†åŒºæ¥ä½¿ç”¨çš„ã€‚æ‰€ä»¥ä¸€å®šè¦å¤‡ä»½å¥½ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨ddå‘½ä»¤å¤‡ä»½åˆ†åŒºåˆ°tmpæ–‡ä»¶å¤¹ï¼š&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd1 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd1_BL2.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd2 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd2_Nvram.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd3 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd3_Bdata.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd4 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd4_Factory.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd5 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd5_FIP.bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åä½¿ç”¨WinSCPç­‰è½¯ä»¶å°†å¤‡ä»½çš„æ–‡ä»¶ä¸‹è½½åˆ°ç”µè„‘ä¸Šã€‚&lt;/p>
&lt;p>å¤‡ä»½å¥½åï¼Œå°±å¯ä»¥é€šè¿‡WinSCPå°†ubootæ–‡ä»¶ä¸Šä¼ åˆ°tmpç›®å½•ä¸‹ï¼Œå¹¶æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œåˆ·å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">d5sum /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mtd write /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin FIP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mtd verify /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin FIP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„å¯¹æ¯”md5çš„å€¼æ˜¯å¦ä¸€è‡´ã€‚æœ€åå¦‚æœæˆåŠŸåˆ™ä¼šè¾“å‡º&lt;code>Success&lt;/code>&lt;/p>
&lt;p>å°†è·¯ç”±å™¨æ–­ç”µï¼ŒæŒ‰ä½Reseté”®å¹¶é€šç”µï¼ŒæŒç»­æŒ‰ä½10Så³å¯è¿›å…¥ubootäº†ã€‚&lt;/p>
&lt;p>ç”±äºHå¤§çš„ubootæ²¡æœ‰é…ç½®DHCPï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ç”µè„‘ipï¼š&lt;/p>
&lt;ul>
&lt;li>IPåœ°å€ï¼š192.168.31.100&lt;/li>
&lt;li>å­ç½‘æ©ç ï¼š255.255.255.0&lt;/li>
&lt;li>é»˜è®¤ç½‘å…³ï¼š192.168.31.1&lt;/li>
&lt;li>DNSï¼š192.168.31.1&lt;/li>
&lt;/ul>
&lt;p>è®¿é—®192.168.31.1å³å¯è¿›å…¥ubooté¡µé¢ï¼Œè¿™æ—¶å°±å¯ä»¥åˆ·å…¥å¤§åˆ†åŒºçš„å›ºä»¶äº†&lt;/p>
&lt;h3 id="é…ç½®æ ¡å›­ç½‘è‡ªåŠ¨è¿æ¥">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%a0%a1%e5%9b%ad%e7%bd%91%e8%87%aa%e5%8a%a8%e8%bf%9e%e6%8e%a5" class="header-anchor">&lt;/a>é…ç½®æ ¡å›­ç½‘è‡ªåŠ¨è¿æ¥
&lt;/h3>&lt;p>åœ¨æˆ‘ä¹‹å‰ï¼Œå·²ç»æœ‰å¤§ä½¬é’ˆå¯¹æ ¡å›­ç½‘çš„ç™»å½•å†™äº†è‡ªåŠ¨åŒ–è„šæœ¬&lt;/p>
&lt;div class="github">
&lt;div class="logo">
&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 16 16">&lt;path fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C2 1.83696 2.26339 1.20107 2.73223 0.732233C3.20108 0.263392 3.83696 0 4.5 0L13.25 0C13.4489 0 13.6397 0.0790176 13.7803 0.21967C13.921 0.360322 14 0.551088 14 0.75V13.25C14 13.4489 13.921 13.6397 13.7803 13.7803C13.6397 13.921 13.4489 14 13.25 14H10.75C10.5511 14 10.3603 13.921 10.2197 13.7803C10.079 13.6397 10 13.4489 10 13.25C10 13.0511 10.079 12.8603 10.2197 12.7197C10.3603 12.579 10.5511 12.5 10.75 12.5H12.5V10.5H4.5C4.30308 10.5 4.11056 10.5582 3.94657 10.6672C3.78257 10.7762 3.65442 10.9312 3.57816 11.1128C3.50191 11.2943 3.48096 11.4943 3.51793 11.6878C3.5549 11.8812 3.64816 12.0594 3.786 12.2C3.92524 12.3422 4.0023 12.5338 4.00024 12.7328C3.99818 12.9318 3.91716 13.1218 3.775 13.261C3.63285 13.4002 3.4412 13.4773 3.24222 13.4752C3.04325 13.4732 2.85324 13.3922 2.714 13.25C2.25571 12.7829 1.99929 12.1544 2 11.5V2.5ZM12.5 1.5V9H4.5C4.144 9 3.806 9.074 3.5 9.208V2.5C3.5 2.23478 3.60536 1.98043 3.79289 1.79289C3.98043 1.60536 4.23478 1.5 4.5 1.5H12.5ZM5 12.25V15.5C5 15.5464 5.01293 15.5919 5.03734 15.6314C5.06175 15.6709 5.09667 15.7028 5.1382 15.7236C5.17972 15.7444 5.22621 15.7532 5.27245 15.749C5.31869 15.7448 5.36286 15.7279 5.4 15.7L6.85 14.613C6.89328 14.5805 6.94591 14.563 7 14.563C7.05409 14.563 7.10673 14.5805 7.15 14.613L8.6 15.7C8.63714 15.7279 8.68131 15.7448 8.72755 15.749C8.77379 15.7532 8.82028 15.7444 8.8618 15.7236C8.90333 15.7028 8.93826 15.6709 8.96266 15.6314C8.98707 15.5919 9 15.5464 9 15.5V12.25C9 12.1837 8.97366 12.1201 8.92678 12.0732C8.87989 12.0263 8.81631 12 8.75 12H5.25C5.1837 12 5.12011 12.0263 5.07322 12.0732C5.02634 12.1201 5 12.1837 5 12.25Z"/>&lt;/svg>
&lt;a class="name" href=https://github.com/TerraceCN/yzu-campusnet-login target="_blank">yzu-campusnet-login&lt;/a>
&lt;/div>
&lt;div class="visibility">public&lt;/div>
&lt;div class="description">æ ¡å›­ç½‘ç™»å½•å™¨&lt;/div>
&lt;div class="language">
&lt;span class="language-color" style="background-color: #3572A5">&lt;/span>
&lt;span class="language-name">Python&lt;/span>
&lt;/div>
&lt;/div>
&lt;p>ç„¶è€Œï¼Œè¿™å¹¶ä¸é€‚ç”¨æˆ‘çš„ç¯å¢ƒã€‚ç”±äºçº¢ç±³AX6000çš„å®˜æ–¹å¸ƒå±€é‡‡ç”¨äº†A/Båˆ†åŒºï¼Œå¯¼è‡´å¯ç”¨çš„è½¯ä»¶åŒ…åˆ†åŒºåªæœ‰20å¤šMBã€‚åœ¨è¿™ä¹ˆå°çš„ç©ºé—´ä¸­å®‰è£…ä¸ªPythonï¼Œå†åŠ ä¸Šå„ç§å„æ ·çš„åº“ï¼Œæƒ³æƒ³å°±å¯æ€•ã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œæˆ‘éœ€è¦ä½¿ç”¨ä¸€é—¨å¯ä»¥æ‰“åŒ…æˆå°ä½“ç§¯çš„è¯­è¨€æ¥é‡æ„æ­¤ç¨‹åºã€‚ä¸€å¼€å§‹ï¼Œæˆ‘æƒ³é€‰æ‹©C++ï¼Œä½†æ˜¯C++çš„ç½‘ç»œç¼–ç¨‹æˆ‘è¿˜æ²¡äº†è§£è¿‡ï¼Œæ­£åœ¨æˆ‘æ€è€ƒè¦ä¸è¦èŠ±äº›æ—¶é—´å­¦ä¹ ä¸€ä¸‹ï¼Œçªç„¶æƒ³åˆ°äº†æœ‰ä¸€é—¨è¯­è¨€å®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚â€”â€”Golangã€‚è·¨å¹³å°ã€æœ‰æ–¹ä¾¿çš„ç½‘ç»œåº“ï¼Œäºæ˜¯æˆ‘ä¾¿èŠ±äº†ä¸€å¤©æ—¶é—´å­¦ä¹ Goï¼ŒæˆåŠŸå°†å¤§ä½¬çš„ç¨‹åºé‡æ„äº†ï¼ˆæ­£å¥½å½“å­¦ä¹ Goè¯­è¨€çš„ç»ƒæ‰‹ç¨‹åºã€‚&lt;/p>
&lt;div class="github">
&lt;div class="logo">
&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 16 16">&lt;path fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C2 1.83696 2.26339 1.20107 2.73223 0.732233C3.20108 0.263392 3.83696 0 4.5 0L13.25 0C13.4489 0 13.6397 0.0790176 13.7803 0.21967C13.921 0.360322 14 0.551088 14 0.75V13.25C14 13.4489 13.921 13.6397 13.7803 13.7803C13.6397 13.921 13.4489 14 13.25 14H10.75C10.5511 14 10.3603 13.921 10.2197 13.7803C10.079 13.6397 10 13.4489 10 13.25C10 13.0511 10.079 12.8603 10.2197 12.7197C10.3603 12.579 10.5511 12.5 10.75 12.5H12.5V10.5H4.5C4.30308 10.5 4.11056 10.5582 3.94657 10.6672C3.78257 10.7762 3.65442 10.9312 3.57816 11.1128C3.50191 11.2943 3.48096 11.4943 3.51793 11.6878C3.5549 11.8812 3.64816 12.0594 3.786 12.2C3.92524 12.3422 4.0023 12.5338 4.00024 12.7328C3.99818 12.9318 3.91716 13.1218 3.775 13.261C3.63285 13.4002 3.4412 13.4773 3.24222 13.4752C3.04325 13.4732 2.85324 13.3922 2.714 13.25C2.25571 12.7829 1.99929 12.1544 2 11.5V2.5ZM12.5 1.5V9H4.5C4.144 9 3.806 9.074 3.5 9.208V2.5C3.5 2.23478 3.60536 1.98043 3.79289 1.79289C3.98043 1.60536 4.23478 1.5 4.5 1.5H12.5ZM5 12.25V15.5C5 15.5464 5.01293 15.5919 5.03734 15.6314C5.06175 15.6709 5.09667 15.7028 5.1382 15.7236C5.17972 15.7444 5.22621 15.7532 5.27245 15.749C5.31869 15.7448 5.36286 15.7279 5.4 15.7L6.85 14.613C6.89328 14.5805 6.94591 14.563 7 14.563C7.05409 14.563 7.10673 14.5805 7.15 14.613L8.6 15.7C8.63714 15.7279 8.68131 15.7448 8.72755 15.749C8.77379 15.7532 8.82028 15.7444 8.8618 15.7236C8.90333 15.7028 8.93826 15.6709 8.96266 15.6314C8.98707 15.5919 9 15.5464 9 15.5V12.25C9 12.1837 8.97366 12.1201 8.92678 12.0732C8.87989 12.0263 8.81631 12 8.75 12H5.25C5.1837 12 5.12011 12.0263 5.07322 12.0732C5.02634 12.1201 5 12.1837 5 12.25Z"/>&lt;/svg>
&lt;a class="name" href=https://github.com/luoboQAQ/yzu-campusnet-login target="_blank">yzu-campusnet-login&lt;/a>
&lt;/div>
&lt;div class="visibility">public&lt;/div>
&lt;div class="description">Goç‰ˆæœ¬çš„æ ¡å›­ç½‘ç™»å½•å™¨&lt;/div>
&lt;div class="language">
&lt;span class="language-color" style="background-color: #00ADD8">&lt;/span>
&lt;span class="language-name">Go&lt;/span>
&lt;/div>
&lt;/div>
&lt;p>ç›´æ¥å°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¼ å…¥åˆ°è·¯ç”±å™¨ä¸­ï¼Œå¹¶å†™å¥½é…ç½®æ–‡ä»¶ï¼Œä¹‹ååœ¨åå°â€”â€”â€œç³»ç»Ÿâ€â€”â€”â€œå¯åŠ¨é¡¹â€ä¸‹é¢çš„æœ¬åœ°å¯åŠ¨è„šæœ¬æ·»åŠ ä¸€æ¡è¿è¡Œå‘½ä»¤å°±å¯ä»¥å¼€æœºå¯åŠ¨äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /root/login &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> nohup ./YzuCampusnetLogin &amp;gt; /tmp/login.log 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®ipv6">&lt;a href="#%e9%85%8d%e7%bd%aeipv6" class="header-anchor">&lt;/a>é…ç½®ipv6
&lt;/h3>&lt;p>å­¦æ ¡çš„ipv6ä¸‹å‘çš„æ˜¯/64åœ°å€ï¼Œä¸€å¼€å§‹æˆ‘å‚è€ƒ&lt;a class="link" href="https://wjk.moe/2022/%E9%94%90%E6%8D%B7%E6%A0%A1%E5%9B%AD%E7%BD%91IPv6%E7%9A%84%EF%BC%8F64%E5%86%85%E7%BD%91%E4%B8%AD%E7%BB%A7%E9%85%8D%E7%BD%AE%EF%BC%9Andp-proxy%E3%80%81relay/" target="_blank" rel="noopener"
>è¿™ä¸ªå¤§ä½¬çš„æ•™ç¨‹&lt;/a>ï¼Œä½¿ç”¨å†…ç½‘ä¸­ç»§çš„æ–¹æ¡ˆæ¥å®ç°ipv6ã€‚ç„¶è€Œæ— è®ºæˆ‘æ€ä¹ˆé…ç½®ï¼Œéƒ½æ— æ³•è¿æ¥äº’è”ç½‘ã€‚æœ€åå‘ç°æ˜¯å­¦æ ¡ç½‘å…³å¯¹æ¯ä¸€ä¸ªipv6åœ°å€éƒ½ä¼šè¿›è¡Œç™»å½•çš„æ ¡éªŒï¼Œå¦‚æœæ²¡æœ‰ç™»å½•å°±ä¸ä¼šæ”¾è¡Œï¼Œé‚£è¿™æ¡è·¯ç®—æ˜¯å½»åº•å µæ­»äº†ğŸ˜¥ã€‚&lt;/p>
&lt;p>è¿™æ ·çš„è¯ï¼Œå°±åªèƒ½ä½¿ç”¨nat6äº†,è¯¦ç»†çš„æ­¥éª¤å¯ä»¥å‚è€ƒè¿™ç¯‡æ•™ç¨‹&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å°†æ¥å£â€”â€”LANâ€”â€”IPV6è®¾ç½®ä¸­çš„è·¯ç”±é€šå‘ŠæœåŠ¡é€‰ä¸ºâ€œæœåŠ¡å™¨æ¨¡å¼â€ã€DHCPv6 æœåŠ¡é€‰ä¸ºâ€œæœåŠ¡å™¨æ¨¡å¼â€ã€NDP ä»£ç†é€‰ä¸ºâ€œç¦ç”¨â€ã€DHCPv6 æ¨¡å¼é€‰ä¸ºâ€œæ— çŠ¶æ€çš„ + æœ‰çŠ¶æ€çš„â€ã€æ€»æ˜¯é€šå‘Šé»˜è®¤è·¯ç”±å‹¾ä¸Š&lt;/p>
&lt;p>ä½¿ç”¨sshè¿æ¥è·¯ç”±å™¨ï¼Œåœ¨&lt;code>/etc/init.d&lt;/code>ç›®å½•ä¸‹æ–°å»º&lt;code>nat6&lt;/code>å¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;span class="lnt">97
&lt;/span>&lt;span class="lnt">98
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh /etc/rc.common
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># NAT6 init script for OpenWrt // Depends on package: kmod-ipt-nat6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># edited by Sad Pencil at 2020-02-09&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># replace route command with ip command to solve issues on new OpenWRT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># edited by Sad Pencil at 2021-11-29&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># update line WAN6_INTERFACE=$(uci get &amp;#34;network.$WAN6_NAME.device&amp;#34; || uci get &amp;#34;network.$WAN6_NAME.ifname&amp;#34;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">START&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">55&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Options&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Use temporary addresses (IPv6 privacy extensions) for outgoing connections? Yes: 1 / No: 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PRIVACY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Maximum number of attempts before this script will stop in case no IPv6 route is available&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This limits the execution time of the IPv6 route lookup to (MAX_TRIES+1)*(MAX_TRIES/2) seconds. The default (15) equals 120 seconds.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MAX_TRIES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># An initial delay (in seconds) helps to avoid looking for the IPv6 network too early. Ideally, the first probe is successful.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This would be the case if the time passed between the system log messages &amp;#34;Probing IPv6 route&amp;#34; and &amp;#34;Setting up NAT6&amp;#34; is 1 second.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DELAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Logical interface name of outbound IPv6 connection&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># There should be no need to modify this, unless you changed the default network interface names&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Edit by Vincent: I never changed my default network interface names, but still I have to change the WAN6_NAME to &amp;#34;wan&amp;#34; instead of &amp;#34;wan6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">WAN6_NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wan6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ---------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Options end here - no need to change anything below&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">boot&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[&lt;/span> &lt;span class="nv">$DELAY&lt;/span> -gt &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sleep &lt;span class="nv">$DELAY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">WAN6_INTERFACE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci get &lt;span class="s2">&amp;#34;network.&lt;/span>&lt;span class="nv">$WAN6_NAME&lt;/span>&lt;span class="s2">.ifname&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Probing IPv6 route&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">PROBE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">COUNT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$PROBE&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$COUNT&lt;/span> -gt &lt;span class="nv">$MAX_TRIES&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: No IPv6 route found (reached retry limit)&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="nv">$COUNT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">COUNT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$((&lt;/span>COUNT+1&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">PROBE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ip -6 route &lt;span class="p">|&lt;/span> grep -i &lt;span class="s1">&amp;#39;^default.*via&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -F &lt;span class="s2">&amp;#34;dev &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -o &lt;span class="s1">&amp;#39;via.*&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> wc -l&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Setting up NAT6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">[&lt;/span> ! -e &lt;span class="s2">&amp;#34;/sys/class/net/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: Lookup of &lt;/span>&lt;span class="nv">$WAN6_NAME&lt;/span>&lt;span class="s2"> interface failed. Were the default interface names changed?&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#WAN6_GATEWAY=$(ip -6 route | grep -o &amp;#39;2001.*1102&amp;#39; | sed s&amp;#39;/1102/1101::1/g&amp;#39;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">WAN6_GATEWAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ip -6 route &lt;span class="p">|&lt;/span> grep -i &lt;span class="s1">&amp;#39;^default.*via&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -F &lt;span class="s2">&amp;#34;dev &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -o &lt;span class="s1">&amp;#39;via.*&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">2&lt;/span> &lt;span class="p">|&lt;/span> head -n 1&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: No IPv6 gateway for &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> found&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">LAN_ULA_PREFIX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci get network.globals.ula_prefix&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -c -E &lt;span class="s2">&amp;#34;^([0-9a-fA-F]{4}):([0-9a-fA-F]{0,4}):&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span> -ne &lt;span class="m">1&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: IPv6 ULA prefix &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> seems invalid. Please verify that a prefix is set and valid.&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ip6tables -t nat -I POSTROUTING -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -o &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -j MASQUERADE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Added IPv6 masquerading rule to the firewall (Src: &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> - Dst: &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: Failed to add IPv6 masquerading rule to the firewall (Src: &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> - Dst: &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">)&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ip -6 route add 2000::/3 via &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> dev &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Added &lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2"> to routing table as gateway on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> for outgoing connections&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to add &lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2"> to routing table as gateway on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> for outgoing connections&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$PRIVACY&lt;/span> -eq &lt;span class="m">1&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="m">2&lt;/span> &amp;gt; &lt;span class="s2">&amp;#34;/proc/sys/net/ipv6/conf/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/accept_ra&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Accepting router advertisements on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> even if forwarding is enabled (required for temporary addresses)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to change router advertisements accept policy on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> (required for temporary addresses)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="m">2&lt;/span> &amp;gt; &lt;span class="s2">&amp;#34;/proc/sys/net/ipv6/conf/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/use_tempaddr&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Using temporary addresses for outgoing connections on interface &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to enable temporary addresses for outgoing connections on interface &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿è„šæœ¬å¼€æœºè¿è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">chmod +x /etc/init.d/nat6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/nat6 &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹&lt;code>/etc/sysctl.conf&lt;/code>ï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.forwarding=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.forwarding=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.accept_ra=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.accept_ra=2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€ååœ¨è‡ªå®šä¹‰é˜²ç«å¢™ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ip6tables -t nat -A POSTROUTING -o &lt;span class="k">$(&lt;/span>uci get network.wan6.ifname&lt;span class="k">)&lt;/span> -j MASQUERADE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºç¡¬ä»¶çš„BUGï¼Œè¿˜éœ€è¦åœ¨å¼€æœºè„šæœ¬é‡Œæ·»åŠ ä¸€æ¡å‘½ä»¤ï¼Œå…³é—­ipv6çš„ç¡¬ä»¶åŠ é€Ÿï¼Œä¸ç„¶é€Ÿåº¦å°±ä¼šå…¶æ…¢æ— æ¯”&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="m">0&lt;/span> &amp;gt; /sys/kernel/debug/hnat/hnat_setting
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆåé‡å¯å°±ä¼šå‘ç°æœ‰ipv6äº†&lt;/p>
&lt;p>ç„¶è€Œï¼Œåœ¨æˆ‘ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œå¼€å¯äº†ipv6åæ‰‹æœºæ‰“å¼€appæ—¶åŠ è½½çš„é€Ÿåº¦è‚‰çœ¼å¯è§çš„å˜æ…¢ã€‚ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯DNSçš„é—®é¢˜ï¼Œä½†ä¿®æ”¹äº†é»˜è®¤çš„DNSæœåŠ¡å™¨åè¿˜æ˜¯ä¸è¡Œã€‚&lt;del>ä¸ºäº†ä¿è¯ä½¿ç”¨çš„ä½“éªŒï¼Œç›®å‰æˆ‘è¿˜æ˜¯æŠŠnat6ç»™å…³é—­äº†ğŸ˜­ã€‚&lt;/del>&lt;/p>
&lt;p>å·²ç»æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆğŸ˜‰ï¼Œè§ä¸‹ä¸€èŠ‚&lt;/p>
&lt;h3 id="é…ç½®mosdns">&lt;a href="#%e9%85%8d%e7%bd%aemosdns" class="header-anchor">&lt;/a>é…ç½®mosdns
&lt;/h3>&lt;p>mosdnsä½œä¸ºä¸€æ¬¾è‡ªå®šä¹‰ç¨‹åº¦å¾ˆé«˜çš„DNSè½¬å‘å™¨ï¼Œåœ¨ä¹‹å‰çš„åšæ–‡&lt;a class="link" href="https://lbqaq.top/p/mydns/" target="_blank" rel="noopener"
>ã€Šè‡ªå»ºDNSå®ç°åˆ†æµåŠå¹¿å‘Šè¿‡æ»¤ã€‹&lt;/a>å°±å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä»–æ¥è§£å†³ipv6 NATåçš„å¡é¡¿é—®é¢˜ã€‚åŒæ—¶ï¼Œé…ç½®å¥½mosdnsåï¼Œä¹Ÿå¯ä»¥å®ç°å¹¿å‘Šè¿‡æ»¤ï¼Œdnsé˜²æ±¡æŸ“çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>å®‰è£…å¯ä»¥ä½¿ç”¨&lt;a class="link" href="https://github.com/sbwml/luci-app-mosdns" target="_blank" rel="noopener"
>luci-app-mosdns&lt;/a>è¿™ä¸ªé¡¹ç›®æ¥å®ç°ï¼Œç›´æ¥æ‰§è¡Œå®ƒçš„è„šæœ¬å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sh -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>curl -ksS https://raw.githubusercontent.com/sbwml/luci-app-mosdns/v5/install.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å’Œä¹‹å‰çš„æ–¹æ¡ˆä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦ä»¥ä¸‹é¡¹ç›®æä¾›çš„åŸŸå/IPæ–‡ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat#%e8%a7%84%e5%88%99%e6%96%87%e4%bb%b6%e4%b8%8b%e8%bd%bd%e5%8f%8a%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" target="_blank" rel="noopener"
>reject-list.txt å’Œ direct-list.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Masaiki/GeoIP2-CN#-%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5" target="_blank" rel="noopener"
>CN-ip-cidr.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://anti-ad.net/" target="_blank" rel="noopener"
>ad-domains.txt&lt;/a>ï¼šä¸‹è½½&lt;code>domains.txt&lt;/code>å¹¶æ”¹å&lt;/li>
&lt;/ul>
&lt;p>å…¶å®luci-app-mosdnsé»˜è®¤æä¾›äº†ä¸€å¥—é…ç½®ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ä½¿ç”¨mosdnsçš„ä¼˜å…ˆipv4çš„åŠŸèƒ½ï¼Œæ‰€ä»¥åªèƒ½è‡ªå·±æ’¸é…ç½®äº†ã€‚æ²¡é”™ï¼Œè§£å†³ipv6å¡é¡¿çš„æœ€å¥½æ–¹å¼å°±æ˜¯ä¸ç”¨ğŸ˜¥ï¼Œé€šè¿‡mosdnså¯ä»¥é¿å…æ“ä½œç³»ç»Ÿä½¿ç”¨ä¼˜å…ˆipv6çš„ç­–ç•¥ã€‚è¿™æ ·æ—¢å®ç°äº†ä¸å¡é¡¿ï¼Œåˆå¯ä»¥è®¿é—®çº¯ipv6ç½‘ç«™ã€‚&lt;/p>
&lt;p>è¿™å¥—é…ç½®å¯ä»¥å®ç°å±è”½å¹¿å‘Šï¼Œå›½å†…åŸŸåç”¨æœ¬åœ°DNSè§£æï¼Œå›½å¤–åŸŸåèµ°è¿œç¨‹DNSè§£æã€‚é‡åˆ°ä¸åœ¨åˆ—è¡¨ä¸­çš„åŸŸåï¼Œä¼šæŸ¥è¯¢æœ¬åœ°DNSï¼Œå¦‚æœè¿”å›çš„æ˜¯å›½å¤–åœ°å€ï¼Œåˆ™ä»¥è¿œç¨‹DNSçš„ç»“æœä¸ºå‡†ã€‚&lt;/p>
&lt;p>å…·ä½“çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Powered by luoboQAQ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">level&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">warn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/tmp/log/mosdns.log&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># API å…¥å£è®¾ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">api&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:9091&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">plugins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geosite_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/direct-list.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…IP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geoip_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ip_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/CN-ip-cidr.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å¤–åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geosite_no_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/proxy-list.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># é»‘åå•åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">blocklist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/etc/mosdns/rule/blocklist.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¹¿å‘ŠåŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adlist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/ad-domains.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># PTRé»‘åå•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ptr&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/etc/mosdns/rule/local-ptr.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ç¼“å­˜æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10240&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lazy_cache_ttl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">86400&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å°†ç¼“å­˜ä¿å­˜åœ¨ç£ç›˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dump_file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/tmp/mosdns/cache.dump&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³æœ¬åœ°æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">alidns_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dnspod_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://120.53.53.53&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³è¿œç¨‹æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># - tag: easymosdns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># addr: &amp;#34;https://doh.apad.pro/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># bootstrap: &amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloudflare_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://1.1.1.1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…è§£æ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿”å›ä¸åŒ…å«æœ¬åœ° ip åˆ™ reject&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!resp_ip $geoip_cn&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">drop_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallbackæ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secondary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">threshold&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">500&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">always_standby&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æœ‰å“åº”ç»ˆæ­¢è¿”å›&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢å›½å†…åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $geosite_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$local_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢å›½å¤–åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_no_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $geosite_no_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢æ‹’ç»åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_reject_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $blocklist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $adlist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qtype 12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qname $local_ptr&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qtype 65&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¸»è¦è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å»å¹¿å‘Š&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_reject_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ipv4åœ°å€ä¼˜å…ˆï¼Œé¿å…NATå ç”¨CPU&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prefer_ipv4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_no_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¯åŠ¨ udp æœåŠ¡å™¨ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listen&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¯åŠ¨ tcp æœåŠ¡å™¨ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tcp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tcp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listen&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h3 id="é…ç½®wireguard">&lt;a href="#%e9%85%8d%e7%bd%aewireguard" class="header-anchor">&lt;/a>é…ç½®Wireguard
&lt;/h3>&lt;p>å­¦é™¢çš„æœåŠ¡å™¨æ˜¯åœ¨å†…ç½‘ä¸­çš„ï¼Œå¦‚æœæ²¡æœ‰è¿æ ¡å›­ç½‘å°±æ— æ³•è®¿é—®ã€‚ä¸ºäº†éšæ—¶éšåœ°å¯ä»¥è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Wireguardè¿›è¡Œè™šæ‹Ÿç»„ç½‘ã€‚åŸºäºipv6ç›´æ¥æ˜¯å…¬ç½‘çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p>
&lt;p>è¿æ¥è·¯ç”±å™¨ï¼Œä½¿ç”¨å‘½ä»¤åˆ›å»ºé¢„å…±äº«å¯†é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºç›®å½•å­˜æ”¾å…¬é’¥ç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir wg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> wg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½®åˆ›å»ºå¯†é’¥çš„æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">umask&lt;/span> &lt;span class="m">077&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºé¢„å…±äº«å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genpsk &amp;gt; sharekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å¯†é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat sharekey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ›å»ºæœåŠ¡ç«¯å…¬é’¥ç§é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºæœåŠ¡ç«¯å…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee server_privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; server_publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–æœåŠ¡ç«¯ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat server_privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–æœåŠ¡ç«¯å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat server_publickey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ›å»ºå®¢æˆ·ç«¯çš„å…¬é’¥ç§é’¥ï¼Œæœ‰å¤šå°‘ä¸ªå°±è¦æ‰§è¡Œå‡ æ¬¡ &lt;strong>æ³¨æ„æ–‡ä»¶çš„å‘½å&lt;/strong>ï¼Œè¿™é‡Œä»¥clinetä¸ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºå®¢æˆ·ç«¯å…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee clinet_privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; clinet_publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å®¢æˆ·ç«¯ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat clinet_privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å®¢æˆ·ç«¯å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat clinet_publickey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åæ‰¾åˆ°ç½‘ç»œâ€”â€”æ¥å£â€”â€”æ·»åŠ æ–°æ¥å£ï¼Œé€‰æ‹©åè®®ä¸º&lt;code>WireGuard VPN&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135.png"
width="1042"
height="303"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135_hu_27b60ca4f9871526.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135_hu_e307dcc14126bc3.png 1024w"
loading="lazy"
alt="åˆ›å»ºæ–°æ¥å£"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="825px"
>
æ¥ç€ä¿®æ”¹ç›¸åº”çš„é…ç½®ï¼š&lt;/p>
&lt;p>æ¥å£åŸºæœ¬è®¾ç½®&lt;/p>
&lt;ul>
&lt;li>ç§é’¥ - ä¸Šæ–‡è·å–çš„&lt;code>æœåŠ¡ç«¯ç§é’¥&lt;/code>&lt;/li>
&lt;li>ç›‘å¬æ¥å£ - éšæœºä¸€ä¸ªé«˜ä½çš„ç«¯å£ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨10800&lt;/li>
&lt;li>IPåœ°å€ - è¿™é‡Œå¡«ä¸€ä¸ªä¸“ç”¨çš„ç½‘æ®µ IPï¼Œæˆ‘é€‰æ‹©&lt;code>192.168.100.1/24&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Peers&lt;/strong>è®¾ç½®&lt;/p>
&lt;p>é€‰æ‹©&lt;code>é¢„å…±äº«å¯†é’¥&lt;/code> - æ·»åŠ &lt;/p>
&lt;ul>
&lt;li>å…¬é’¥ - å¡«å†™ä¸Šæ–‡è·å–çš„&lt;code>å®¢æˆ·ç«¯å…¬é’¥&lt;/code>&lt;/li>
&lt;li>å…è®¸çš„ IP - ä¸ºæ­¤å®¢æˆ·ç«¯åˆ†é…çš„å›ºå®š IPï¼Œæˆ‘è¿™é‡Œæ˜¯&lt;code>192.168.100.2/32&lt;/code>&lt;strong>æ³¨æ„ä¸è¦å†²çª&lt;/strong>&lt;/li>
&lt;li>é¢„å…±äº«å¯†é’¥ - å¡«å†™ä¸Šæ–‡è·å–çš„&lt;code>é¢„å…±äº«å¯†é’¥&lt;/code>&lt;/li>
&lt;li>è·¯ç”±å…è®¸çš„ IP - å‹¾é€‰&lt;/li>
&lt;/ul>
&lt;p>é˜²ç«å¢™è®¾ç½®&lt;/p>
&lt;ul>
&lt;li>é€‰æ‹©&lt;code>LAN&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>ä¹‹å‰æˆ‘å°è¯•è‡ªå·±åˆ›å»ºä¸€ä¸ª&lt;code>VPN&lt;/code>åˆ†åŒºè¿›è¡Œç®¡ç†ï¼Œä½†æ˜¯æ— æ³•è®¿é—®è·¯ç”±å™¨ä¸Šä¸€å±‚å†…ç½‘çš„åœ°å€ï¼Œä¼°è®¡æ˜¯é˜²ç«å¢™ä¹‹å‰çš„è½¬å‘è§„åˆ™æ²¡è®¾ç½®å¥½ï¼Œå¦‚æœä¸æƒ³æŠ˜è…¾å°±é€‰&lt;code>LAN&lt;/code>å§&lt;/p>&lt;/div>
&lt;p>ä¹‹ååœ¨é˜²ç«å¢™ä¸­çš„â€”â€”â€æ‰“å¼€è·¯ç”±å™¨ç«¯å£â€œï¼Œå°†ä¹‹å‰è®¾ç½®çš„WireGuardç›‘å¬ç«¯å£çš„UDPæµé‡æ”¾è¡Œ&lt;/p>
&lt;p>è¿™æ ·å°±ç®—é…ç½®å¥½äº†ã€‚&lt;/p>
&lt;p>å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Interface]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å¯¹åº”ä¹‹å‰é…ç½®çš„é™æ€åœ°å€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Address = 192.168.100.2/32
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å®¢æˆ·ç«¯çš„ç§é’¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PrivateKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æœ¬åœ°çš„ DNS æœåŠ¡å™¨æˆ–è€…å…¬æœ‰ DNS æœåŠ¡å™¨,ä¾‹å¦‚: 114.114.114.114
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#DNS = 192.168.6.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Peer]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è·¯ç”±å™¨å…¬é’¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PublicKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è®¾ç½®é‚£äº›åœ°å€èµ°WireGuardï¼Œå¦‚ä¸‹è®¾ç½®åªç”¨å±€åŸŸç½‘èµ°WireGuard,äº’è”ç½‘èµ°æœ¬åœ°ç½‘ç»œ.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#AllowedIPs = 192.168.6.0/24, 192.168.100.0/24, 192.168.101.0/24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å…¨å±€æ¨¡å¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AllowedIps = 0.0.0.0/0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># é¢„å…±äº«å¯†é’¥ï¼ŒåŒä¹‹å‰æ‰€é…ç½®
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PresharedKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è·¯ç”±å™¨çš„ipåœ°å€å’Œç«¯å£
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Endpoint = 10.134.10.10:10800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ¯éš”å¤šå°‘ç§’æ£€æŸ¥ä¸€æ¬¡è¿æ¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PersistentKeepalive = 25
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®ddns">&lt;a href="#%e9%85%8d%e7%bd%aeddns" class="header-anchor">&lt;/a>é…ç½®ddns
&lt;/h3>&lt;p>è™½ç„¶æˆ‘ä»¬æ‹¥æœ‰äº†å…¬ç½‘ipv6ï¼Œä½†è¿™æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ddnsä½¿å…¶è‡ªåŠ¨å¯¹åº”åˆ°åŸŸåä¸Šã€‚ä»¥åä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åŸŸåå³å¯ï¼Œæ— éœ€è®°ä½ipã€‚&lt;/p>
&lt;p>237å¤§ä½¬çš„å›ºä»¶å·²ç»å†…ç½®äº†ddnsï¼Œæˆ‘çš„åŸŸåæ˜¯åœ¨cloudflareä¸Šï¼Œæ‰€ä»¥é€‰æ‹©DDNS æœåŠ¡æä¾›å•† [IPv6]ä¸ºcloudflare.com-v4ï¼ŒåŸŸåå¡«å†™éœ€è¦ddnsçš„åŸŸåï¼Œæ³¨æ„è¿™é‡Œè¦ç”¨@éš”ç¦»å­åŸŸåå’Œæ ¹ï¼Œä¾‹å¦‚&lt;code>ddns@lbqaq.top&lt;/code>ï¼Œå¯†ç å¡«å†™å…¨å±€è®¿é—®å¯†é’¥ã€‚&lt;/p>
&lt;p>åœ¨é«˜çº§è®¾ç½®é‡Œï¼Œæˆ‘å°†IP åœ°å€æ¥æº [IPv6]è®¾ç½®ä¸ºäº†&lt;code>URL&lt;/code>ï¼Œè¿™æ ·é¿å…äº†è„šæœ¬é”™è¯¯è¯»å–ipåœ°å€çš„æƒ…å†µã€‚&lt;/p>
&lt;p>éƒ½è®¾ç½®å¥½åï¼Œå°±å¯ä»¥çœ‹åˆ°åŸŸåæ‰€å¯¹åº”çš„åœ°å€å·²ç»è¢«æ›´æ–°äº†ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>Openwrtä½œä¸ºä¸€ä¸ªå¼€æ”¾çš„ç³»ç»Ÿï¼Œå¯ç©æ€§è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œé€šè¿‡è£…ä¸Šæ‰€éœ€çš„æ’ä»¶ï¼Œæå¤§çš„æé«˜äº†æˆ‘çš„ä¸Šç½‘ä½“éªŒï¼Œåªèƒ½è¯´ï¼šçœŸé¦™~&lt;/p>
&lt;p>ï¼ˆæœ¬æ¥æ˜¯æ‰“ç®—ä»‹ç»æˆ‘å†™çš„æ ¡å›­ç½‘è¿æ¥ç¨‹åºï¼Œç»“æœä¸ºäº†è¿™ç¢Ÿé†‹åŒ…äº†è¿™ç›˜é¥ºå­QwQï¼‰&lt;/p>
&lt;h2 id="æ›´æ–°æ—¥å¿—">&lt;a href="#%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97" class="header-anchor">&lt;/a>æ›´æ–°æ—¥å¿—
&lt;/h2>&lt;ul>
&lt;li>23.11.22ï¼šæ·»åŠ äº†ubootå’Œmosdnsçš„å†…å®¹&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/BV1Co4y1F7wM/" target="_blank" rel="noopener"
>çº¢ç±³AX6000å®Œç¾åˆ·æœº | åˆ·æœºæ— é£é™© å°ç™½é€‚ç”¨&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://www.right.com.cn/forum/thread-8265832-1-2.html" target="_blank" rel="noopener"
>çº¢ç±³AX6000åˆ·hanwckfå¤§ä½¬çš„ä¸æ­»uboot+åˆ·å›å®˜æ–¹å›ºä»¶+TTLä½¿ç”¨+ç¼–ç¨‹å™¨æ•‘ç –æ•™ç¨‹&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/492774540" target="_blank" rel="noopener"
>æ ¡å›­ç½‘ç¯å¢ƒä¸‹Openwrté…ç½®ipv6æ•™ç¨‹â€”â€”ä»¥nat6ä¸ºä¾‹&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—</title><link>https://lbqaq.top/p/langchao/</link><pubDate>Sun, 03 Sep 2023 14:10:14 +0800</pubDate><guid>https://lbqaq.top/p/langchao/</guid><description>&lt;img src="https://lbqaq.top/p/langchao/102879503.webp" alt="Featured image of post æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—" />&lt;p>éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹ç®—åŠ›çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚ä½†æˆ‘å®éªŒå®¤çš„ç”µè„‘å¹¶æ²¡æœ‰é…ç½®æ˜¾å¡ï¼Œæ‰€ä»¥ä¾¿éœ€è¦ä½¿ç”¨å­¦é™¢çš„æœåŠ¡å™¨ã€‚æˆåŠŸæ‹¿åˆ°è´¦å·åï¼Œå´å‘ç°è¿™ä¸ªå¹³å°å¹¶æ²¡æœ‰æˆ‘æƒ³è±¡çš„é‚£ä¹ˆå¥½ç”¨ğŸ˜‡ä¸ºäº†è¾¾åˆ°æœ€èˆ’é€‚çš„ä½¿ç”¨ä½“éªŒï¼Œå¼€æï¼&lt;/p>
&lt;h2 id="é…ç½®å¼€å‘é•œåƒ">&lt;a href="#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%8f%91%e9%95%9c%e5%83%8f" class="header-anchor">&lt;/a>é…ç½®å¼€å‘é•œåƒ
&lt;/h2>&lt;p>å¹³å°é‡Œè™½ç„¶é¢„ç½®äº†ä¸€äº›å¼€å‘ç¯å¢ƒï¼Œä½†ä»ç„¶ç¼ºå°‘ä¸€äº›éœ€è¦çš„è½¯ä»¶ï¼Œæ¯æ¬¡è¿å…¥åå†é‡æ–°å®‰è£…å®åœ¨æ˜¯ä¸ä¼˜é›…ã€‚é‚£ä¹ˆæœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯é…ç½®å¥½ä¸€å¥—ç¯å¢ƒï¼Œç›´æ¥æ‹‰å–å°±èƒ½ä½¿ç”¨ã€‚åœ¨æˆ‘ä¹‹å‰ï¼Œå·²ç»æœ‰ä½å¤§ä½¬æ„å»ºäº†ä¸€å¥—å¼€å‘ç¯å¢ƒå¹¶è¿›è¡Œäº†åˆ†äº«ï¼Œå¯æ˜¯é•œåƒå¤§å°è¾¾åˆ°äº†æƒŠäººçš„18.4GğŸ˜¯ï¼ˆå®¹é‡å¤§è¯´æ˜åŠŸèƒ½å¤šï¼Œæ­¤å¤„å¹¶æ²¡æœ‰è´¬ä½çš„æ„æ€ï¼‰ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢Archçš„å“²å­¦ï¼Œå³Keep It Simple, Stupidï¼ˆå¯¹åº”ä¸­æ–‡ä¸ºâ€œä¿æŒç®€å•ï¼Œä¸”ä¸€ç›®äº†ç„¶â€ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘å†³å®šæ„å»ºä¸€ä¸ªæœ€å°åŒ–çš„å¼€å‘ç¯å¢ƒä¸”å¯ä»¥å¼€ç®±å³ç”¨ã€‚&lt;/p>
&lt;p>é€šè¿‡æ¢ç©¶å‘ç°ï¼Œè¿™ä¸ªå¹³å°ä¸Šæ‰€æœ‰çš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯ä¸€ä¸ªDockerå®¹å™¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦æ„å»ºå¥½é•œåƒå¹¶ä¸Šä¼ å°±OKäº†ã€‚æ„å»ºé•œåƒæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è¿›å…¥å®¹å™¨æ‰‹åŠ¨é…ç½®ç„¶åä½¿ç”¨&lt;code>docker commit ...&lt;/code>ä¿å­˜ä¿®æ”¹ï¼›å¦ä¸€ç§åˆ™æ˜¯ä½¿ç”¨&lt;code>Dockerfile&lt;/code>ã€‚ä¸ºäº†ä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ï¼Œæˆ‘é€‰æ‹©äº†ç¬¬äºŒç§ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥å°±æ˜¯æ˜ç¡®éœ€æ±‚äº†ï¼Œæˆ‘å¯¹å…¶çš„è¦æ±‚æœ‰å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰è£…å¥½æ˜¾å¡é©±åŠ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨cuda&lt;/li>
&lt;li>å®‰è£…å¥½condaï¼Œå¯ä»¥ä¾¿æ·çš„ç®¡ç†pythonå¼€å‘ç¯å¢ƒ&lt;/li>
&lt;li>æœ‰ä¸€ä¸ªæ˜“ç”¨çš„ç»ˆç«¯ï¼Œæ–¹ä¾¿è°ƒè¯•&lt;/li>
&lt;/ul>
&lt;p>cudaå¾ˆå¥½è§£å†³ï¼Œç›´æ¥åœ¨nvidiaå®˜æ–¹çš„é•œåƒä¸Šè¿›è¡Œä¿®æ”¹å°±è¡Œäº†&lt;/p>
&lt;p>å¯¹äºcondaï¼ŒåŸç‰ˆçš„Anacondaè¿‡äºè‡ƒè‚¿ï¼Œä¸ç¬¦åˆKISSåŸåˆ™ã€‚åŒæ—¶ï¼Œå½“ç¯å¢ƒå¤æ‚(&lt;code>conda&lt;/code>å’Œ&lt;code>pip&lt;/code>æ··ç”¨)æ—¶ï¼Œ&lt;code>solving environment&lt;/code>è¿™ä¸€æ­¥å¯ä»¥å¡åˆ°ä½ æ€€ç–‘äººç”Ÿï¼Œäºæ˜¯æˆ‘é€‰æ‹©äº†ä½¿ç”¨C++é‡æ„çš„&lt;a class="link" href="https://github.com/mamba-org/mamba" target="_blank" rel="noopener"
>mamba&lt;/a>ï¼Œå¹¶é€‰æ‹©&lt;code>micromamba&lt;/code>è¿›ä¸€æ­¥å‹ç¼©ä½“ç§¯ã€‚&lt;/p>
&lt;p>å¯¹äºç»ˆç«¯ï¼Œé‚£å°±æ— è„‘ä½¿ç”¨&lt;code>zsh&lt;/code>å¹¶åŠ è½½&lt;code>oh-my-zsh&lt;/code>å¹¶å®‰è£…æˆ‘æ—¥å¸¸ä½¿ç”¨çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥å¼€å†™Dockerfileäº†ã€‚&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># base image&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nvidia/cuda:11.3.1-cudnn8-runtime-ubuntu20.04&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> luoboQAQ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># è®¾ç½®å›½å†…é•œåƒæºå¹¶å®‰è£…è½¯ä»¶&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s1">&amp;#39;s@/archive.ubuntu.com/@/mirrors.bfsu.edu.cn/@g&amp;#39;&lt;/span> /etc/apt/sources.list &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get clean &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get update &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y --no-install-recommends openssh-client openssh-server git zsh curl vim &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/* &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®openssh[https://github.com/wjyzzu/inpsur-dockerfile/blob/main/base/ubuntu/Dockerfile]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mkdir -p /var/run/sshd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> /usr/bin/ssh-keygen -A &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/ssh_config &lt;span class="p">|&lt;/span> grep -v StrictHostKeyChecking &amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34; StrictHostKeyChecking no&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/sshd_config &lt;span class="p">|&lt;/span> grep -v PermitRootLogin&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;PermitRootLogin yes&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/ssh_config.new /etc/ssh/ssh_config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/sshd_config.new /etc/ssh/sshd_config&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®oh-my-zsh&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/mirrors/oh-my-zsh ~/.oh-my-zsh &lt;span class="se">\ &lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/lightnear/zsh-syntax-highlighting.git &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-syntax-highlighting &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s2">&amp;#34;s/plugins=(git.*)&lt;/span>$&lt;span class="s2">/plugins=(git zsh-syntax-highlighting)/&amp;#34;&lt;/span> ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> chsh -s /bin/zsh &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å®‰è£…micromambaå¹¶é…ç½®å›½å†…æº&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest &lt;span class="p">|&lt;/span> tar -xvj bin/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> ./bin/micromamba shell init -s zsh -p ~/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nalias conda=&amp;#39;micromamba&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - defaults \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">show_channel_urls: true \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">default_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/main \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/r \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/msys2 \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">custom_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> conda-forge: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> msys2: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> bioconda: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> menpo: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch-lts: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> simpleitk: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> deepmodeling: https://mirrors.bfsu.edu.cn/anaconda/cloud/&amp;#34;&lt;/span> &amp;gt; ~/.condarc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;[global] \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">index-url = https://mirrors.bfsu.edu.cn/pypi/web/simple&amp;#34;&lt;/span> &amp;gt; /etc/pip.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®ç½‘ç»œä»£ç†&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nexport HTTP_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export HTTPS_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export ALL_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 22&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /root&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;/bin/zsh&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>é™¤äº†ä¸Šé¢æåˆ°çš„å‡ ç‚¹ï¼Œæˆ‘è¿˜å¢åŠ äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>é•œåƒå·²é…ç½®å¥½å›½å†…é•œåƒæºï¼Œæ–¹ä¾¿æ„å»ºä»¥åŠä½¿ç”¨æ—¶å®‰è£…æ–°çš„åŒ…&lt;/li>
&lt;li>é…ç½®opensshï¼Œä½¿å…¶å¯ä»¥è¢«æµªæ½®å¹³å°æ¥å…¥å¹¶æä¾›SSHæœåŠ¡&lt;/li>
&lt;li>é¢„å…ˆå®‰è£…å¥½vimï¼Œä¾¿äºé…ç½®æ–‡ä»¶çš„ä¿®æ”¹&lt;/li>
&lt;li>æå‰è®¾ç½®å¥½ç½‘ç»œä»£ç†ï¼Œä¾¿äºè¿æ¥äº’è”ç½‘&lt;/li>
&lt;li>è®¾ç½®åˆ«åï¼š&lt;code>conda&lt;/code>-&amp;gt;&lt;code>micromamba&lt;/code>ï¼Œæ–¹ä¾¿æ—¥å¸¸ä½¿ç”¨&lt;/li>
&lt;/ul>
&lt;p>ç”±äºæœåŠ¡å™¨æ²¡æœ‰ç½‘ç»œï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¸Šä¼ é•œåƒï¼Œä½¿ç”¨å‘½ä»¤&lt;code>docker save -o [TAGS]&lt;/code>æ‰“åŒ…æˆtaråŒ…å¹¶ä¸Šä¼ è‡³ç³»ç»Ÿä¸­ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©å¤§ä¼™å¿«é€Ÿä¸Šæ‰‹è¯¥å¹³å°ï¼Œæ¯•ç«Ÿæœ‰è¿™ä¹ˆå¥½çš„èµ„æºå°±è¦å¥½å¥½åˆ©ç”¨èµ·æ¥ã€‚&lt;/p></description></item><item><title>ä»é›¶å¼€å§‹ç¼–å†™Xposedæ¨¡å—</title><link>https://lbqaq.top/p/init-xposed/</link><pubDate>Fri, 21 Jul 2023 14:22:44 +0800</pubDate><guid>https://lbqaq.top/p/init-xposed/</guid><description>&lt;img src="https://lbqaq.top/p/init-xposed/109457609.webp" alt="Featured image of post ä»é›¶å¼€å§‹ç¼–å†™Xposedæ¨¡å—" />&lt;p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äº&lt;a class="link" href="https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/" target="_blank" rel="noopener"
>Magiskæ¨¡å—&lt;/a>çš„ç¼–å†™çš„æ–‡ç« ï¼Œä¸è¿‡Magiskä¿®æ”¹çš„éƒ½æ˜¯æ¯”è¾ƒåç³»ç»Ÿçš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨çš„å¹¶ä¸æ˜¯å¾ˆå¤šã€‚äºæ˜¯æˆ‘ä¾¿æŠŠç›®å…‰è½¬å‘Xposedï¼Œæ¯•ç«Ÿä¼šHookçœŸçš„å¤ªé…·è¾£ğŸ˜&lt;/p>
&lt;h2 id="xposedçš„åŸºæœ¬æ¦‚å¿µ">&lt;a href="#xposed%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>Xposedçš„åŸºæœ¬æ¦‚å¿µ
&lt;/h2>&lt;p>æåˆ°Xposedï¼Œçˆ±ç©æœºçš„ç”¨æˆ·éƒ½åº”è¯¥å¬è¿‡ä»–çš„å¤§åï¼Œä½œä¸ºä¸€æ¬¾å¯ä»¥åœ¨ä¸ä¿®æ”¹APKçš„æƒ…å†µä¸‹å½±å“ç¨‹åºè¿è¡Œçš„æ¡†æ¶ï¼Œå¯ä»¥åŸºäºå®ƒå¯ä»¥åˆ¶ä½œå‡ºè®¸å¤šåŠŸèƒ½å¼ºå¤§çš„æ¨¡å—ï¼Œä¸”åœ¨åŠŸèƒ½ä¸å†²çªçš„æƒ…å†µä¸‹åŒæ—¶è¿ä½œã€‚å¾®ä¿¡é˜²æ’¤å›ã€æ­¥æ•°ä¿®æ”¹ã€å»å¹¿å‘Šã€ç¾åŒ–&amp;hellip;&amp;hellip;.ä»–èƒ½å®ç°è®¸è®¸å¤šå¤šçš„åŠŸèƒ½ï¼Œå¯ä»¥è¯´æ²¡æœ‰å®ƒç©æœºçš„ä¸–ç•Œå°†ä¼šå°‘å¾ˆå¤šçš„ä¹è¶£ã€‚&lt;/p>
&lt;p>å®ƒçš„åŸç†å°±æ˜¯é€šè¿‡æ›¿æ¢ç³»ç»ŸåŸæœ¬çš„&lt;code>app_process&lt;/code>ï¼ŒåŠ è½½ä¸€ä¸ªé¢å¤–çš„jaråŒ…ï¼Œä»è€Œå®ç°å¯¹zygoteè¿›ç¨‹åŠå…¶åˆ›å»ºçš„Dalvik/ARTè™šæ‹Ÿæœºçš„åŠ«æŒã€‚&lt;/p>
&lt;p>æ²¡å¬æ‡‚ï¼Ÿæ²¡å…³ç³»ï¼Œ&lt;del>æˆ‘ä¹Ÿä¸æ‡‚&lt;/del>ã€‚ç›®å‰æˆ‘ä»¬åªè¦å…³æ³¨å¦‚ä½•ä½¿ç”¨å³å¯äº†ï¼Œè‡³äºåŸç†å¯ä»¥å…ˆæ”¾ä¸€æ”¾ã€‚&lt;/p>
&lt;h2 id="ç¯å¢ƒå‡†å¤‡">&lt;a href="#%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87" class="header-anchor">&lt;/a>ç¯å¢ƒå‡†å¤‡
&lt;/h2>&lt;p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€å°å¯ä»¥å®‰è£…Xposedæ¡†æ¶çš„æ‰‹æœºï¼ˆæ¨èLSPosedã€Android 10+ï¼‰&lt;/li>
&lt;li>ä¸€å°å¯ä»¥ç¼–å†™ä»£ç å¹¶ä¸”è£…æœ‰jdkçš„ç”µè„‘&lt;/li>
&lt;li>ä¸€ä¸ªåå«&lt;a class="link" href="https://developer.android.com/studio" target="_blank" rel="noopener"
>Android Studio&lt;/a>çš„è½¯ä»¶ï¼ˆæˆ‘ä¸»æ‰“ä¸€ä¸ªå›é€†ï¼Œç”¨&lt;a class="link" href="https://www.jetbrains.com/zh-cn/idea/download/" target="_blank" rel="noopener"
>IDEA&lt;/a>åŒæ ·å¯ä»¥ï¼‰&lt;/li>
&lt;li>ä¸€ä¸ªåç¼–è¯‘è½¯ä»¶ï¼Œå¦‚ï¼š&lt;a class="link" href="https://github.com/skylot/jadx" target="_blank" rel="noopener"
>JADX&lt;/a>&lt;/li>
&lt;li>ä¸€ä¸ªå¯ä»¥æŸ¥çœ‹å¸ƒå±€çš„Appï¼Œå¦‚ï¼šå¼€å‘è€…åŠ©æ‰‹&lt;/li>
&lt;/ul>
&lt;p>è¿™æ¬¡æˆ‘æ‰“ç®—ä»ä¸€ä¸ªå®ä¾‹å‡ºå‘ï¼šå°æ˜æ‰‹æœºä¸Šè£…äº†ä¸€äº›æ¶æ„è½¯ä»¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡Xposedè¿›è¡ŒHookï¼Œä¸è®©å°æ˜å¯åŠ¨è¿™äº›è½¯ä»¶ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;h3 id="åˆ›å»ºé¡¹ç›®å¼•å…¥ä¾èµ–">&lt;a href="#%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae%e5%bc%95%e5%85%a5%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>åˆ›å»ºé¡¹ç›®&amp;amp;å¼•å…¥ä¾èµ–
&lt;/h3>&lt;p>é¦–å…ˆåœ¨IDEAé€‰æ‹©æ–°å»ºé¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆå™¨ä¸‹æœ‰Androidè¿™é¡¹ï¼Œæˆ‘ä»¬é€‰æ‹©å®ƒã€‚&lt;/p>
&lt;p>ç¬¬ä¸€æ¬¡é€‰æ‹©æ—¶å¯èƒ½ä¼šè¦æ±‚ä½ ä¸‹è½½å®‰å“çš„SDKï¼ŒæŒ‰ç…§æŒ‡ç¤ºä¸€æ­¥ä¸€æ­¥è¿›è¡Œå°±å¥½ã€‚&lt;/p>
&lt;h4 id="java">&lt;a href="#java" class="header-anchor">&lt;/a>Java
&lt;/h4>&lt;p>æˆ‘ä»¬é€‰æ‹©åˆ›å»ºä¸€ä¸ª&lt;code>No Activity&lt;/code>ï¼Œè¯­è¨€é€‰æ‹©&lt;code>Java&lt;/code>ï¼ŒSDKé€‰é»˜è®¤çš„&lt;code>API 24&lt;/code>å°±å¯ã€‚&lt;/p>
&lt;p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥Xposedçš„åº“ï¼Œä¸è¿‡å®ƒå¹¶æ²¡æœ‰ä¸Šä¼ åˆ°MavenCentralä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨&lt;code>settings.gradle&lt;/code>é‡Œä¿®æ”¹ä¸€ä¸‹(gradle 7.0+)&lt;/p>
&lt;p>æ‰“å¼€&lt;code>settings.gradle&lt;/code>ï¼Œæ·»åŠ ä¸€è¡Œä»£ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencyResolutionManagement&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RepositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">FAIL_ON_PROJECT_REPOS&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositories&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">google&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mavenCentral&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maven&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="s1">&amp;#39;https://api.xposed.info/&amp;#39;&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="c1">// æ·»åŠ è¿™ä¸€è¡Œå³å¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åï¼Œè¿›å…¥æˆ‘ä»¬appç›®å½•ä¸‹çš„build.gradleï¼Œå¼•å…¥xposedçš„ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencies&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compileOnly&lt;/span> &lt;span class="s1">&amp;#39;de.robv.android.xposed:api:82&amp;#39;&lt;/span> &lt;span class="c1">//æ·»åŠ æˆ‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// compileOnly &amp;#39;de.robv.android.xposed:api:82:sources&amp;#39; // ä¸è¦å¯¼å…¥æºç ï¼Œè¿™ä¼šå¯¼è‡´ideaæ— æ³•ç´¢å¼•æ–‡ä»¶ï¼Œä»è€Œè®©è¯­æ³•æç¤ºå¤±æ•ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬è¿˜è¦åœ¨&lt;code>./app/src/main/res/values&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>arrays.xml&lt;/code>ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string-array&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;xposedscope&amp;#34;&lt;/span> &lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è¿™é‡Œå¡«å†™æ¨¡å—çš„ä½œç”¨åŸŸåº”ç”¨çš„åŒ…åï¼Œå¯ä»¥å¡«å¤šä¸ªã€‚ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>ceui.lisa.pixiv&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>com.xjs.ehviewer&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>com.picacomic.fregata&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/string-array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸€æ­¥ä¸»è¦æ˜¯æŒ‡å®šæ¨¡å—çš„ä½œç”¨åŸŸåŒ…åï¼Œæ•ˆæœå°±æ˜¯åœ¨Lsposedä¸­å‹¾é€‰ä½œç”¨åŸŸæ—¶ä¼šåœ¨åº”ç”¨ä¸‹æç¤ºæ¨èåº”ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/1.jpg"
width="864"
height="956"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/1_hu_844a5e10eae581d7.jpg 480w, https://lbqaq.top/p/init-xposed/IMAGE/1_hu_a27c19c76dcb8ce0.jpg 1024w"
loading="lazy"
alt="æ¨èåº”ç”¨æ•ˆæœ"
class="gallery-image"
data-flex-grow="90"
data-flex-basis="216px"
>&lt;/p>
&lt;p>æœ€åï¼Œæˆ‘ä»¬åœ¨Runé‚£é‡Œç¼–è¾‘ä¸€ä¸‹å¯åŠ¨é…ç½®ï¼Œå‹¾é€‰&lt;code>Always install with package manager&lt;/code>å¹¶ä¸”å°†&lt;code>Launch Options&lt;/code>æ”¹æˆ&lt;code>Nothing&lt;/code>&lt;/p>
&lt;h4 id="kotlin">&lt;a href="#kotlin" class="header-anchor">&lt;/a>Kotlin
&lt;/h4>&lt;p>åˆ›å»ºé¡¹ç›®çš„éƒ¨åˆ†å’ŒJavaçš„è®¾ç½®æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªä¸è¿‡æ˜¯éœ€è¦å°†è¯­è¨€åˆ‡æ¢ä¸€ä¸‹ã€‚æ–°ç‰ˆæœ¬çš„Android Studioå°†åŸæ¥çš„æ‰“åŒ…è¯­è¨€æ¢æˆäº†Kotlinï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è®¾ç½®æœ‰ä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚&lt;a class="link" href="#20240915" >2024.09.15æ›´æ–°&lt;/a>&lt;/p>
&lt;p>åŸæ¥çš„&lt;code>settings.gradle&lt;/code>å˜ä¸º&lt;code>settings.gradle.kts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencyResolutionManagement&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RepositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">FAIL_ON_PROJECT_REPOS&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositories&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">google&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mavenCentral&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maven&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uri&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;https://api.xposed.info/&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="c1">//æ·»åŠ è¿™ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸæ¥çš„&lt;code>build.gradle&lt;/code>å˜ä¸º&lt;code>build.gradle.kts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencies&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compileOnly&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;de.robv.android.xposed:api:82&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//æ·»åŠ æˆ‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å£°æ˜æ¨¡å—">&lt;a href="#%e5%a3%b0%e6%98%8e%e6%a8%a1%e5%9d%97" class="header-anchor">&lt;/a>å£°æ˜æ¨¡å—
&lt;/h3>&lt;p>æ¥ä¸‹æ¥å°±æ˜¯è¦å£°æ˜æˆ‘ä»¬æ˜¯ä¸€ä¸ªXposedæ¨¡å—ï¼Œæ–¹ä¾¿æ¡†æ¶å‘ç°ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>./app/src/main/AndroidManifest.xml&lt;/code>é‡Œï¼Œæˆ‘ä»¬å°†&lt;code>&amp;lt;application ... /&amp;gt;&lt;/code>æ”¹æˆä»¥ä¸‹å½¢å¼ï¼ˆæ³¨æ„ï¼Œæ˜¯æ”¹æˆï¼å°±æ˜¯æŠŠç»“å°¾çš„&lt;code>/&amp;gt;&lt;/code>æ¢æˆ&lt;code>&amp;gt; &amp;lt;/application&amp;gt;&lt;/code>ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;application&lt;/span> &lt;span class="err">...&lt;/span> &lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ˜¯å¦æ˜¯xposedæ¨¡å—ï¼Œxposedæ ¹æ®è¿™ä¸ªæ¥åˆ¤æ–­æ˜¯å¦æ˜¯æ¨¡å— --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedmodule&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ¨¡å—æè¿°ï¼Œæ˜¾ç¤ºåœ¨xposedæ¨¡å—åˆ—è¡¨é‚£é‡Œç¬¬äºŒè¡Œ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposeddescription&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;ä¸å¯ä»¥æ¶©æ¶©&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æœ€ä½xposedç‰ˆæœ¬å·(libæ–‡ä»¶åå¯çŸ¥,ä¸€èˆ¬å¡«54å³å¯) --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedminversion&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;54&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ¨¡å—ä½œç”¨åŸŸ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedscope&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:resource=&lt;/span>&lt;span class="s">&amp;#34;@array/xposedscope&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/application&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååœ¨&lt;code>src/main&lt;/code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åå«&lt;code>assets&lt;/code>ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å«&lt;code>xposed_init&lt;/code>ï¼Œ&lt;strong>æ³¨æ„ï¼Œå®ƒæ²¡æœ‰åç¼€åï¼ï¼&lt;/strong>ã€‚&lt;/p>
&lt;p>æ¥ç€æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå…¥å£ç±»ï¼Œåå«&lt;code>MainHook&lt;/code>ï¼ˆæˆ–è€…éšä¾¿ä½ æƒ³å–ä»€ä¹ˆåå­—éƒ½è¡Œï¼‰ï¼Œåˆ›å»ºå¥½åå›åˆ°æˆ‘ä»¬çš„&lt;code>xposed_init&lt;/code>é‡Œå¹¶ç”¨æ–‡æœ¬æ–‡ä»¶çš„æ–¹å¼æ‰“å¼€å®ƒï¼Œè¾“å…¥æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç±»çš„å®Œæ•´è·¯å¾„ã€‚å¦‚ï¼š&lt;code>top.lbqaq.nosese.MainHook&lt;/code>ï¼ŒåŒæ—¶&lt;strong>æ³¨æ„å¤§å°å†™&lt;/strong>ã€‚&lt;/p>
&lt;p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¼å¼€å§‹ç¼–å†™Xposedæ¨¡å—äº†ã€‚&lt;/p>
&lt;h2 id="æ¨¡å—ç¼–å†™">&lt;a href="#%e6%a8%a1%e5%9d%97%e7%bc%96%e5%86%99" class="header-anchor">&lt;/a>æ¨¡å—ç¼–å†™
&lt;/h2>&lt;h3 id="mainhook">&lt;a href="#mainhook" class="header-anchor">&lt;/a>MainHook
&lt;/h3>&lt;p>åœ¨&lt;code>MainHook&lt;/code>é‡Œï¼Œæˆ‘ä»¬éœ€è¦å®ç°Xposedçš„IXposedHookLoadPackageæ¥å£ï¼Œä»¥ä¾¿æ‰§è¡ŒHookæ“ä½œã€‚å°†ä»¥ä¸‹å†…å®¹æ›¿æ¢åŸæ¥çš„ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">de.robv.android.xposed.IXposedHookLoadPackage&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">de.robv.android.xposed.callbacks.XC_LoadPackage&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MainHook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IXposedHookLoadPackage&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">handleLoadPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¿‡æ»¤ä¸å¿…è¦çš„åº”ç”¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// æ‰§è¡ŒHook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å…·ä½“æµç¨‹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºKotlinï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">de.robv.android.xposed.IXposedHookLoadPackage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">de.robv.android.xposed.callbacks.XC_LoadPackage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MainHook&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">IXposedHookLoadPackage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">handleLoadPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nc">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LoadPackageParam&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¿‡æ»¤ä¸å¿…è¦çš„åº”ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s2">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰§è¡ŒHook
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">private&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nc">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LoadPackageParam&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…·ä½“æµç¨‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆï¼Œå®‰è£…æ¨¡å—å¹¶åœ¨æ¡†æ¶ä¸­æ¿€æ´»å®ƒï¼&lt;/p>
&lt;h3 id="é˜»æ­¢åº”ç”¨å¯åŠ¨">&lt;a href="#%e9%98%bb%e6%ad%a2%e5%ba%94%e7%94%a8%e5%90%af%e5%8a%a8" class="header-anchor">&lt;/a>é˜»æ­¢åº”ç”¨å¯åŠ¨
&lt;/h3>&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åç¼–è¯‘ç¨‹åºæ¥æ‰¾åˆ°éœ€è¦Hookçš„ç‚¹ã€‚æ ¹æ®å®ä¾‹çš„è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦é˜»æ­¢å°æ˜å¯åŠ¨æŸäº›åº”ç”¨ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬åªéœ€è¦Hookå¯åŠ¨å‡½æ•°ï¼Œè®©å…¶æ— æ³•è¿è¡Œå³å¯ã€‚&lt;/p>
&lt;p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆäº†è§£Androidçš„å››å¤§ç»„ä»¶ä¹‹ä¸€â€”â€”&amp;ldquo;Activity(æ´»åŠ¨)&amp;rdquo;&lt;/p>
&lt;blockquote>
&lt;p>åœ¨åº”ç”¨ä¸­çš„ä¸€ä¸ªActivityå¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç•Œé¢ï¼Œæ„æ€å¯ä»¥ç†è§£ä¸ºâ€œæ´»åŠ¨â€ï¼Œå³ä¸€ä¸ªæ´»åŠ¨å¼€å§‹ï¼Œä»£è¡¨ Activityç»„ä»¶å¯åŠ¨ï¼Œæ´»åŠ¨ç»“æŸï¼Œä»£è¡¨ä¸€ä¸ªActivityçš„ç”Ÿå‘½å‘¨æœŸç»“æŸã€‚ä¸€ä¸ªAndroidåº”ç”¨å¿…é¡»é€šè¿‡Activityæ¥è¿è¡Œå’Œå¯åŠ¨ï¼ŒActivityçš„ç”Ÿå‘½å‘¨æœŸäº¤ç»™ç³»ç»Ÿç»Ÿä¸€ç®¡ç†ã€‚&lt;/p>&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‡½æ•°åç§°&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>onCreate()&lt;/td>
&lt;td>ä¸€ä¸ªActivityå¯åŠ¨åç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„å‡½æ•°ï¼Œå¸¸ç”¨æ¥åœ¨æ­¤æ–¹æ³•ä¸­è¿›è¡ŒActivityçš„ä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚ä¾‹å¦‚åˆ›å»ºViewï¼Œç»‘å®šæ•°æ®ï¼Œæ³¨å†Œç›‘å¬ï¼ŒåŠ è½½å‚æ•°ç­‰ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onStart()&lt;/td>
&lt;td>å½“Activityæ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œæ­¤æ–¹æ³•è¢«è°ƒç”¨ä½†æ­¤æ—¶è¿˜æ— æ³•è¿›è¡Œä¸ç”¨æˆ·çš„äº¤äº’æ“ä½œã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onResume()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•åœ¨onStart()ä¹‹åè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨Activityå‡†å¤‡å¥½ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„æ—¶å€™è°ƒç”¨ï¼Œæ­¤æ—¶çš„Activityä¸€å®šä½äºActivityæ ˆé¡¶ï¼Œå¤„äºè¿è¡ŒçŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onPause()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç³»ç»Ÿå‡†å¤‡å»å¯åŠ¨æˆ–è€…æ¢å¤å¦å¤–ä¸€ä¸ªActivityçš„æ—¶å€™è°ƒç”¨ï¼Œé€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰§è¡Œä¸€äº›é‡Šæ”¾èµ„æºçš„æ–¹æ³•ï¼Œä»¥åŠä¿å­˜ä¸€äº›å…³é”®æ•°æ®ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onStop()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Activityå®Œå…¨ä¸å¯è§çš„æ—¶å€™è°ƒç”¨çš„ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onDestroy()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•åœ¨Activityé”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œä¹‹åActivityçš„çŠ¶æ€ä¸ºé”€æ¯çŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onRestart()&lt;/td>
&lt;td>å½“Activityä»åœæ­¢stopçŠ¶æ€æ¢è¿›å…¥startçŠ¶æ€æ—¶è°ƒç”¨çŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å½“ Activity è¿›å…¥æ–°çŠ¶æ€æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨å…¶ä¸­æ¯ä¸ªå›è°ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle.png"
width="513"
height="663"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle_hu_dee1c1ccebe80832.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle_hu_5724e3eb302afd88.png 1024w"
loading="lazy"
alt="Activityç”Ÿå‘½å‘¨æœŸ"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="185px"
>&lt;/p>
&lt;p>é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„æ€è·¯å°±å¾ˆæ˜ç¡®äº†ï¼šåªè¦æ‰¾åˆ°è¿™äº›ç¨‹åºçš„èµ·å§‹Activityï¼Œå¹¶Hookå®ƒçš„&lt;code>onCreate()&lt;/code>å‡½æ•°ï¼Œåœ¨å…¶å¯åŠ¨æ—¶å°±å°†å…¶æ€æ­»ï¼Œè¿™æ ·èƒ½å®ç°æ— æ³•å¯åŠ¨è¯¥ç¨‹åºã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨å¼€å‘è€…åŠ©æ‰‹ï¼Œé€‰æ‹©å¸ƒå±€æŸ¥çœ‹ï¼Œç„¶åæ‰“å¼€ç›®æ ‡åº”ç”¨ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ˜¾ç¤ºäº†å½“å‰çš„åŒ…åå’Œå½“å‰Activityã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/2.jpg"
width="432"
height="960"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/2_hu_52b78cececac8714.jpg 480w, https://lbqaq.top/p/init-xposed/IMAGE/2_hu_15ac3d3dccafb44b.jpg 1024w"
loading="lazy"
alt="å¸ƒå±€æŸ¥çœ‹"
class="gallery-image"
data-flex-grow="45"
data-flex-basis="108px"
>&lt;/p>
&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨jadx-guiï¼Œåç¼–è¯‘è¯¥åº”ç”¨ï¼Œæ‰¾åˆ°è¯¥Activity(&lt;code>ceui.lisa.activities.MainActivity&lt;/code>)ï¼Œå¹¶å¯»æ‰¾æ˜¯å¦æœ‰&lt;code>onCreate()&lt;/code>å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥Hookå³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336.png"
width="1790"
height="1004"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336_hu_730d6091497d831b.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336_hu_a03e790876a820cf.png 1024w"
loading="lazy"
alt="jadx-guiåç¼–è¯‘"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ç„¶è€Œï¼Œè¿™ä¸ªç¨‹åºå±…ç„¶æ²¡æœ‰ğŸ˜¥ï¼Œè¯´æ˜å®ƒæ²¡æœ‰é‡å†™è¯¥æ–¹æ³•ï¼Œé‚£è¯¥å¦‚ä½•åšå‘¢ï¼Ÿè¿™æ—¶å°±å¯ä»¥ç”¨ç¬¬äºŒç§æ–¹æ³•äº†ã€‚&lt;/p>
&lt;h3 id="éå†æ‰€æœ‰ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•">&lt;a href="#%e9%81%8d%e5%8e%86%e6%89%80%e6%9c%89%e7%b1%bb%e4%b8%8b%e7%9a%84%e6%89%80%e6%9c%89%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>éå†æ‰€æœ‰ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•
&lt;/h3>&lt;p>ä»æ ‡é¢˜å°±èƒ½çœ‹å‡ºæ¥ï¼Œæˆ‘ç›´æ¥æŠŠä½ æ‰€æœ‰èƒ½Hookçš„æ–¹æ³•å…¨éƒ¨è¯»å‡ºæ¥ï¼Œé‚£ä¸å°±éšä¾¿æˆ‘æŒ‘äº†å˜›ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“ï¼ŒJavaç¨‹åºéƒ½è¿è¡Œåœ¨jvmè™šæ‹Ÿæœºä¸­ï¼Œjvmè™šæ‹Ÿæœºé€šè¿‡ClassLoaderåŠ¨æ€è£…è½½æ‰€éœ€çš„classã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ç›´æ¥Hook ClassLoader ï¼Œä¸å°±çŸ¥é“ä½ æœ‰å“ªäº›æ–¹æ³•è¢«åŠ è½½è¿›æ¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ClassLoader&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;loadClass&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getResult&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazzName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ’é™¤éåŒ…åçš„ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazzName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getDeclaredMethods&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getModifiers&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å»é™¤æŠ½è±¡ã€nativeã€æ¥å£æ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAbstract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isNative&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAbstract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedBridge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">hookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;lbqaq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ï¼ˆPSï¼šè¿™ä¸ªç¨‹åºå¾ˆå¥‡æ€ªï¼ŒåŒ…åæœ‰pixivï¼Œä½†ç±»åæ²¡æœ‰ï¼Œæ‰€ä»¥ç”¨&lt;code>ceui.lisa.pixiv&lt;/code>ä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰&lt;/p>
&lt;p>å°†ä¸Šé¢è¿™æ®µä»£ç å¤åˆ¶åˆ°ä¹‹å‰å†™å¥½çš„&lt;code>MainHook&lt;/code>ä¸­å»ï¼Œç¼–è¯‘æ¨é€åˆ°æ‰‹æœºã€‚&lt;/p>
&lt;p>åœ¨ç»ˆç«¯æ‰§è¡Œ&lt;code>adb logcat &amp;quot;lbqaq:D *:S&amp;quot;&lt;/code>å¼€å¯logcatå¹¶è¿›è¡Œè¿‡æ»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">â¯ adb logcat &amp;#34;lbqaq:D *:S&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--------- beginning of main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.185 5050 5050 D lbqaq : public void ceui.lisa.activities.Shaft.onCreate()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.194 5050 5050 D lbqaq : private void ceui.lisa.activities.Shaft.updateTheme()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.216 5050 5050 D lbqaq : public static android.content.Context ceui.lisa.activities.Shaft.getContext()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.238 5050 5050 D lbqaq : protected int ceui.lisa.activities.MainActivity.initLayout()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.238 5050 5050 D lbqaq : public boolean ceui.lisa.activities.MainActivity.hideStatusBar()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : protected void ceui.lisa.activities.MainActivity.initView()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : public static com.tencent.mmkv.MMKV ceui.lisa.activities.Shaft.getMMKV()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : private void ceui.lisa.activities.MainActivity.initDrawerHeader()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.278 5050 5050 D lbqaq : public androidx.drawerlayout.widget.DrawerLayout ceui.lisa.activities.MainActivity.getDrawer()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.279 5050 5050 D lbqaq : protected void ceui.lisa.activities.MainActivity.initData()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.279 5050 5050 D lbqaq : private void ceui.lisa.activities.MainActivity.initFragment()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°è¯¥ç¨‹åºçš„è°ƒç”¨æ–¹æ³•ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©é åçš„&lt;code>ceui.lisa.activities.MainActivity.initFragment()&lt;/code>ä½œä¸ºæˆ‘ä»¬çš„Hookç›®æ ‡ã€‚&lt;/p>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>ä¸ºä»€ä¹ˆè¦é€‰æ‹©é åçš„æ–¹æ³•ä½œä¸ºæˆ‘ä»¬çš„Hookç›®æ ‡å‘¢ï¼Ÿ&lt;/p>
&lt;p>è¿™æ˜¯ç”±äºå¦‚æœé€‰æ‹©è¾ƒå‰çš„æ–¹æ³•ï¼Œæœ‰äº›å˜é‡è¿˜æ²¡åˆå§‹åŒ–å®Œæˆï¼Œè¿™æ—¶è°ƒç”¨&lt;code>finish()&lt;/code>å¯èƒ½ä¼šæŠ¥é”™ã€‚&lt;/p>&lt;/div>
&lt;h3 id="hook-activity">&lt;a href="#hook-activity" class="header-anchor">&lt;/a>Hook activity
&lt;/h3>&lt;p>æˆ‘ä»¬ä½¿ç”¨æœ€åŸºç¡€çš„hookæ–¹å¼ï¼Œå³Xposedè‡ªå¸¦çš„&lt;code>XposedHelpers.findAndHookMethod&lt;/code>ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å®ƒæœ‰ä¸¤ä¸ªé‡è½½ï¼ŒåŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯å¡«Classï¼Œä¸€ä¸ªæ˜¯å¡«ClassNameä»¥åŠClassLoader&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç¬¬ä¸€ç§ å¡«ClassName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Unhook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">unhook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;me.kyuubiran.xposedapp.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// className&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// classLoader ä½¿ç”¨lpparam.classLoader&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¦hookçš„æ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¦hookçš„æ–¹æ³•çš„å‚æ•°è¡¨ï¼Œå¦‚æœæœ‰å¤šä¸ªå°±ç”¨é€—å·éš”å¼€ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// æœ€åä¸€ä¸ªå¡«hookçš„å›è°ƒ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Hookæ–¹æ³•æ‰§è¡Œå‰ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Hookæ–¹æ³•æ‰§è¡Œå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å®ƒè¿”å›ä¸€ä¸ªunhook åœ¨ä½ ä¸éœ€è¦ç»§ç»­hookçš„æ—¶å€™å¯ä»¥è°ƒç”¨å®ƒæ¥å–æ¶ˆHook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">unhook&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">unhook&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// å–æ¶ˆç©ºçš„Hook &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç¬¬äºŒç§æ–¹å¼ å¡«Class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// é¦–å…ˆä½ å¾—åŠ è½½å®ƒçš„ç±» æˆ‘ä»¬ä½¿ç”¨XposedHelpers.findClasså³å¯ å‚æ•°æœ‰ä¸¤ä¸ª ä¸€ä¸ªæ˜¯ç±»å ä¸€ä¸ªæ˜¯ç±»åŠ è½½å™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;me.kyuubiran.xposedapp.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç”±äºæˆ‘ä»¬éœ€è¦åœ¨Activityåˆ›å»ºä¹‹åå†å¼¹å‡ºToastï¼Œæ‰€ä»¥æˆ‘ä»¬Hookæ–¹æ³•æ‰§è¡Œä¹‹å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ¨¡å—åŠ è½½æˆåŠŸï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ®ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºå¯¹åº”çš„æ–¹æ³•äº†ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ç»“æŸè¿™ä¸ªç¨‹åºå‘¢ï¼Ÿåœ¨å‰é¢æˆ‘ä»¬ä»‹ç»äº†Activityçš„ç”Ÿå­˜å‘¨æœŸï¼Œé€šè¿‡æŸ¥è¯¢å¯çŸ¥Activityå­˜åœ¨ä¸€ä¸ªå…³é—­çš„æ–¹æ³•&lt;code>finish()&lt;/code>ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦æ‰‹åŠ¨è°ƒç”¨å³å¯ï¼Œå…·ä½“çš„ä»£ç å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initFragment&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ ·ï¼Œå¦å¤–ä¸¤ä¸ªåº”ç”¨ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å®ç°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.xjs.ehviewer&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.hippo.ehviewer.ui.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initUserImage&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.picacomic.fregata&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.picacomic.fregata.activities.SplashActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œè¦æ³¨æ„ï¼Œä½¿ç”¨&lt;code>findAndHookMethod&lt;/code>æ—¶è¦hookçš„æ–¹æ³•çš„å‚æ•°è¡¨ä¸€å®šè¦å¡«å¯¹ã€‚å¦‚æœæ²¡æœ‰å¡«å¯¹å°±ä¼šæŠ¥&lt;code>java.lang.NoSuchMethodError&lt;/code>é”™è¯¯ã€‚æˆ‘ä¹‹å‰è¢«è¿™ä¸ªé—®é¢˜æŠ˜ç£¨äº†å¾ˆä¹…ğŸ˜­ï¼ˆä»”ç»†æƒ³æƒ³ä¹Ÿæ˜¯è¿™æ ·ï¼ŒJavaé‡Œæœ‰é‡è½½æœºåˆ¶ï¼Œå‚æ•°ä¸åŒå°±ä¸æ˜¯åŒä¸€ä¸ªæ–¹æ³•äº†ï¼‰&lt;/p>
&lt;p>kotlinæ‰€å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;com.xjs.ehviewer&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.hippo.ehviewer.ui.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">classLoader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;initUserImage&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">object&lt;/span> &lt;span class="err">: &lt;/span>&lt;span class="nc">XC&lt;/span>&lt;span class="n">_MethodHook&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MethodHookParam&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">makeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">finish&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¿®æ”¹å†…éƒ¨å‚æ•°">&lt;a href="#%e4%bf%ae%e6%94%b9%e5%86%85%e9%83%a8%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>ä¿®æ”¹å†…éƒ¨å‚æ•°
&lt;/h3>&lt;p>è™½ç„¶ä¸€è‚¡è„‘å…³é—­ç¨‹åºéå¸¸ç®€å•ï¼Œä½†å°æ˜ä¸ä¹æ„äº†ã€‚å¯¹äº&lt;code>ceui.lisa.pixiv&lt;/code>æ¥è¯´ï¼Œåªæœ‰é•¿æŒ‰å¤´åƒæ‰ä¼šè§¦å‘ï¼Œç›´æ¥ä¸€åˆ€åˆ‡å®åœ¨æ˜¯å¤ªç²—æš´äº†ã€‚æ²¡é—®é¢˜ï¼Œç›´æ¥å®‰æ’ä¸Šã€‚&lt;/p>
&lt;p>é¦–å…ˆæˆ‘ä»¬è¦å®šä½åˆ°è¿™ä¸ªåˆ‡æ¢çš„æ–¹æ³•ç©¶ç«Ÿåœ¨å“ªï¼Ÿä»”ç»†è§‚å¯Ÿï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªé¢œæ–‡å­—çš„Toastï¼Œæˆ‘ä»¬å°±ä»æ­¤å¤„åˆ‡å…¥ã€‚è¿™ä¸¤ä¸ªé¢œæ–‡å­—åˆ†åˆ«ä¸º&lt;code>Ô…(â™¡ï¹ƒâ™¡Ô…)&lt;/code>å’Œ&lt;code>Xï¹X&lt;/code>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨jadx-guiåç¼–è¯‘ç¨‹åºï¼Œå…¨å±€æœç´¢ï¼Œç›´æ¥å°±æ‰¾åˆ°äº†æ‰€åœ¨ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862.png"
width="793"
height="493"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862_hu_181bd4c880565686.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862_hu_e8c62698746d232f.png 1024w"
loading="lazy"
alt="å…¨å±€æœç´¢"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="386px"
>&lt;/p>
&lt;p>åŒå‡»æŸ¥çœ‹æ­¤å¤„çš„ä»£ç ï¼Œåèµ·æ¥äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬æ²¡æœ‰è¿™ä¸ªå‡½æ•°åï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•å¯¹å…¶è¿›è¡ŒHookã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571.png"
width="1788"
height="996"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571_hu_aeda4e86ca43434e.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571_hu_3083de029044a583.png 1024w"
loading="lazy"
alt="å…·ä½“ä»£ç "
class="gallery-image"
data-flex-grow="179"
data-flex-basis="430px"
>&lt;/p>
&lt;p>éš¾é“å°±è¦å¡åœ¨è¿™é‡Œäº†å—ï¼Ÿ&lt;del>å¦‚æœçœŸæ˜¯è¿™æ ·æˆ‘å°±ä¸ä¼šå†™è¿™ç¯‡æ–‡ç« äº†&lt;/del>&lt;/p>
&lt;p>ä»”ç»†åˆ†æè¿™æ®µä»£ç ï¼Œè¿™é‡Œå¯¹&lt;code>this.userHead&lt;/code>è®¾ç½®äº†ä¸€ä¸ª&lt;code>OnLongClickListener&lt;/code>ã€‚ä¸€ä¸ªæ§ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªä¾¦å¬å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ä¸ªæ›¿æ¢ï¼Œä¸å°±å®ç°å¯¹å…¶çš„Hookäº†å—ğŸ˜&lt;/p>
&lt;p>ç›´æ¥Hook &lt;code>initView&lt;/code>è¿™ä¸ªæ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initView&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getDeclaredField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userHead&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAccessible&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ImageView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ImageView&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// v.setLongClickable(false); //è®¾ç½®å…¶æ— æ³•å“åº”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setOnLongClickListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨äº†Javaçš„åå°„æœºåˆ¶ï¼Œæ‹¿åˆ°äº†å®ƒå†…éƒ¨çš„å˜é‡&lt;code>userHead&lt;/code>ï¼Œç„¶åé€šè¿‡&lt;code>setAccessible&lt;/code>å°†å…¶è®¾ç½®ä¸ºå¯è®¿é—®ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½å¯¹å…¶ç§æœ‰å˜é‡è¿›è¡Œä¿®æ”¹äº†ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥ç®€å•çš„å°†å…¶å¯ç‚¹å‡»å…³é—­ï¼Œä½†æ˜¯è¿™æ ·ä¸€ç‚¹ä¹Ÿä¸é…·ã€‚æˆ‘ç›´æ¥ä½¿ç”¨è‡ªå·±çš„å‡½æ•°å°†å…¶è¿›è¡Œæ›¿æ¢ï¼Œè¿™æ ·æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šå‡ºç°ä¸€ä¸ª&lt;code>Toast&lt;/code>ã€‚&lt;/p>
&lt;p>kotlinçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">classLoader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;initView&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">object&lt;/span> &lt;span class="err">: &lt;/span>&lt;span class="nc">XC&lt;/span>&lt;span class="n">_MethodHook&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MethodHookParam&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">f&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">javaClass&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getDeclaredField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;userHead&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">isAccessible&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">v&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">ImageView&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setOnLongClickListener&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">makeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„Xposedæ¨¡å—å°±å†™å¥½äº†ã€‚&lt;/p>
&lt;h2 id="é…ç½®æ–‡ä»¶è¯»å–">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e8%af%bb%e5%8f%96" class="header-anchor">&lt;/a>é…ç½®æ–‡ä»¶è¯»å–
&lt;/h2>&lt;p>ç°åœ¨çš„æ¨¡å—å¾€å¾€è¿˜ä¼šæ­é…ä¸€ä¸ªUIæ¥å®ç°é…ç½®æ–‡ä»¶çš„è®¾ç½®ï¼Œåœ¨å®‰å“å¼€å‘ä¸­ï¼Œå¸¸ç”¨&lt;code>SharedPreferences&lt;/code>æ¥å®ç°é…ç½®çš„ä¿å­˜ã€‚éšç€googleçš„æ›´æ–°ï¼Œç°åœ¨çš„é…ç½®æ–‡ä»¶æ— æ³•è®¾ç½®&lt;code>MODE_WORLD_READABLE&lt;/code>çš„æƒé™ï¼Œå³åªå…è®¸æœ¬åº”ç”¨è¯»å–ã€‚è™½ç„¶Xposedæœ¬èº«æä¾›äº†&lt;code>XSharedPreferences&lt;/code>æ¥è¯»å–é…ç½®æ–‡ä»¶ï¼Œç„¶è€Œæ¨¡å—æ˜¯ä¾é™„äºå®¿ä¸»ç¨‹åºæ‰€æ‰§è¡Œçš„ï¼Œå®ƒçš„è®¿é—®æƒé™å’Œå®¿ä¸»ä¸€è‡´ï¼Œæ‰€ä»¥æ— æ³•è®¿é—®åˆ°æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚&lt;a class="link" href="#20240915" >2024.09.15æ›´æ–°&lt;/a>&lt;/p>
&lt;p>å¥½åœ¨ç›®å‰å¸¸ç”¨çš„æ¡†æ¶LSPosedæä¾›äº†&lt;a class="link" href="https://github.com/LSPosed/LSPosed/wiki/New-XSharedPreferences" target="_blank" rel="noopener"
>New XSharedPreferences&lt;/a>ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®šxposedAPIçš„æœ€ä½ç‰ˆæœ¬â‰¥93å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>AndroidManifest.xml&lt;/code>é‡Œå°†&lt;code>xposedminversion&lt;/code>çš„å€¼æ”¹ä¸º&lt;code>93&lt;/code>&lt;/p>
&lt;p>å¯¹äºæ¨¡å—çš„Activityæ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®šæƒé™ä¸º&lt;code>Context.MODE_WORLD_READABLE&lt;/code>å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">sharedPreferences&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">SharedPreferences&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">getSharedPreferences&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;config&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nc">Context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">MODE_WORLD_READABLE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºhookçš„åº”ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸæ¥çš„&lt;code>XSharedPreferences&lt;/code>å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">xsp&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">XSharedPreferences&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;top.lbqaq.nosese&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;config&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç»“è¯­">&lt;a href="#%e7%bb%93%e8%af%ad" class="header-anchor">&lt;/a>ç»“è¯­
&lt;/h2>&lt;p>å®Œæ•´çš„é¡¹ç›®ä»£ç å¯ä»¥åœ¨&lt;a class="link" href="https://github.com/luoboQAQ/nosese" target="_blank" rel="noopener"
>Githubä»“åº“&lt;/a>ä¸­æŸ¥çœ‹ï¼Œé€šè¿‡è¿™æ¬¡çš„ç¼–å†™ï¼Œæˆ‘å‘ç°Xposedå®é™…ä¸Šè¿˜æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæƒ³è¦å®ç°å»å¹¿å‘Šç­‰åŠŸèƒ½ï¼Œéƒ½æ˜¯é€šè¿‡åç¼–è¯‘æ¥æ‰¾åˆ°çªç ´å£ï¼Œæœ‰äº†Hookçš„ç›®æ ‡åæ‰éœ€è¦Xposedã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œä¹‹åçš„å­¦ä¹ è¿˜æ˜¯è¦ä»¥å®‰å“é€†å‘ä¸ºä¸»ï¼Œåªæœ‰æ‰“å¥½åŸºæœ¬åŠŸï¼Œæ‰èƒ½å†™å‡ºä¼˜ç§€çš„ä»£ç ã€‚&lt;/p>
&lt;h2 id="åç»­æ›´æ–°">&lt;a href="#%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0" class="header-anchor">&lt;/a>åç»­æ›´æ–°
&lt;/h2>&lt;h3 id="20240915">&lt;a href="#20240915" class="header-anchor">&lt;/a>2024.09.15
&lt;/h3>&lt;p>å°†é¡¹ç›®ä½¿ç”¨äº†ç›®å‰æµè¡Œçš„Kotliné‡æ„äº†ä¸€æ³¢ï¼Œå¹¶æ·»åŠ äº†UIå’Œæ¨¡å—çš„é…ç½®è¯»å–çš„å†…å®¹&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1740944-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹ä¸ƒã€Sorryï¼Œä¼šHookçœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º-Xposedå¿«é€Ÿä¸Šæ‰‹(ä¸Š)æ¨¡å—ç¼–.. - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://blog.ketal.icu/cn/Xposed%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener"
>Xposedæ¨¡å—å¼€å‘å…¥é—¨ä¿å§†çº§æ•™ç¨‹ - ç‹è¨€ç‹è¯­å’Œä»™è´çš„é­”æ³•å­¦ä¹ è®°å½•&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1706691-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹å››ã€æ­å–œä½ è·å¾—å¹¿å‘Š&amp;amp;å¼¹çª—é™é»˜å¡ - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1748081-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹å…«ã€Sorryï¼Œä¼šHookçœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º-Xposedå¿«é€Ÿä¸Šæ‰‹(ä¸‹)æ¨¡å—ç¼–.. - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>fontconfigï¼šLinuxä¸‹çš„å­—ä½“é…ç½®</title><link>https://lbqaq.top/p/linux-font/</link><pubDate>Wed, 05 Jul 2023 20:58:15 +0800</pubDate><guid>https://lbqaq.top/p/linux-font/</guid><description>&lt;img src="https://lbqaq.top/p/linux-font/109572761.webp" alt="Featured image of post fontconfigï¼šLinuxä¸‹çš„å­—ä½“é…ç½®" />&lt;h2 id="å­—ä½“çš„åˆ†ç±»">&lt;a href="#%e5%ad%97%e4%bd%93%e7%9a%84%e5%88%86%e7%b1%bb" class="header-anchor">&lt;/a>å­—ä½“çš„åˆ†ç±»
&lt;/h2>&lt;p>å­—ä½“çš„æ•°é‡å¯ä»¥è¯´æ˜¯æˆåƒä¸Šä¸‡ï¼Œä½†ä¸€èˆ¬åœ¨ç”µè„‘ä¸Šæ˜¾ç¤ºçš„åŸºæœ¬ä¸ºä»¥ä¸‹è¿™ä¸‰ç±»&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>monospace [ç­‰å®½]&lt;/p>
&lt;p>ç­‰å®½å­—ä½“æ˜¯æŒ‡å­—ç¬¦å®½åº¦ç›¸åŒçš„å­—ä½“ï¼Œç”¨äºéœ€è¦å­—ç¬¦ä¸¥æ ¼å¯¹é½çš„åœºåˆï¼Œä¾‹å¦‚æ§åˆ¶å°å’Œæºä»£ç ã€‚ä¸æ­¤ç›¸å¯¹ï¼Œå­—ç¬¦å®½åº¦å„ä¸ç›¸åŒçš„å­—ä½“ç§°ä¸ºæ¯”ä¾‹å­—ä½“(å…¶ä½™å››ç±»å­—ä½“éƒ½æ˜¯)ã€‚ä¸è¿‡ï¼Œå¯¹äºä¸­æ–‡å­—ä½“è€Œè¨€ï¼Œå¹¶ä¸å­˜åœ¨ç­‰å®½ä¸æ¯”ä¾‹çš„å·®åˆ«ï¼Œå› ä¸ºæ‰€æœ‰ä¸­æ–‡å­—éƒ½æ˜¯ç­‰å®½çš„ã€‚ä¸­æ–‡å­—ä½“ä¸­çš„â€œç­‰å®½â€æŒ‡çš„æ˜¯å­—ä½“çš„è¥¿æ–‡éƒ¨åˆ†æ˜¯ç­‰å®½çš„ï¼Œ2ä¸ªå­—æ¯å¯¹åº”1ä¸ªæ±‰å­—ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>sans-serif [æ— è¡¬çº¿]&lt;/p>
&lt;p>æ˜¯æŒ‡ç¬”ç”»æœ«ç«¯æ²¡æœ‰ä¿®é¥°(è¡¬çº¿)çš„å­—ä½“ï¼Œé€šå¸¸ç”¨äºå±å¹•æ˜¾ç¤ºã€‚ä¸­æ–‡çš„é»‘ä½“ä¸åœ†ä½“å°±å±äºæ­¤ç±»å­—ä½“ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>serif [æœ‰è¡¬çº¿]&lt;/p>
&lt;p>æ˜¯æŒ‡ç¬”ç”»æœ«ç«¯æœ‰ä¿®é¥°(è¡¬çº¿)çš„å­—ä½“ï¼Œé€šå¸¸ç”¨äºæ‰“å°ã€‚ä¸­æ–‡çš„å®‹ä½“ä¸ä»¿å®‹å°±å±äºæ­¤ç±»å­—ä½“ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬è¦åšçš„å­—ä½“é…ç½®ä¸»è¦å°±æ˜¯é’ˆå¯¹ä¸Šé¢è¿™ä¸‰ç±»å­—ä½“ã€‚&lt;/p>
&lt;h2 id="é€‰å­—ä½“">&lt;a href="#%e9%80%89%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>é€‰å­—ä½“
&lt;/h2>&lt;p>æœ‰äº†ç›®æ ‡ï¼Œä¸‹é¢å°±æ˜¯é€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å­—ä½“äº†ã€‚ä¸è¿‡ï¼Œå¯¹äºä¸­æ–‡å­—ä½“ï¼Œç›®å‰ç°åœ¨ Linux ä¸Šå¸¸ç”¨çš„ã€åœ¨ç»´æŠ¤çš„å¼€æºä¸­æ–‡å­—ä½“å°±ä¸€å¥—â€”â€”â€œæ€æºé»‘ä½“â€å’Œâ€œæ€æºå®‹ä½“â€ï¼ŒåŒæ—¶è¢« &lt;a class="link" href="https://en.wikipedia.org/wiki/Noto_fonts" target="_blank" rel="noopener"
>Noto&lt;/a> å’Œ&lt;a class="link" href="https://en.wikipedia.org/wiki/Source_Han_Sans" target="_blank" rel="noopener"
>æ€æº&lt;/a>ä¸¤ä¸ªé¡¹ç›®æ”¶å½•ã€‚Noto ç³»åˆ—å­—ä½“æ˜¯ Google ä¸»å¯¼çš„ï¼Œæ€æºç³»åˆ—å­—ä½“æ˜¯ Adobe ä¸»å¯¼çš„ã€‚&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å¯¹äºç¼–ç¨‹å­—ä½“ï¼Œå¯ä»¥é€‰æ‹©çš„ä½™åœ°å°±å¤šå¤šäº†ï¼Œåƒæ˜¯Source Code Proï¼ŒConsolasï¼ŒMenloç­‰ç­‰ã€‚æˆ‘ä¸€å¼€å§‹é€‰æ‹©çš„æ˜¯ &lt;a class="link" href="https://github.com/be5invis/Iosevka" target="_blank" rel="noopener"
>Iosevka&lt;/a> ã€‚ä½†æ˜¯ï¼Œè¿™æ¬¾å­—ä½“ç»™æˆ‘æ„Ÿè§‰å¤ªç˜¦äº†ï¼Œçœ‹èµ·æ¥å¾ˆæ˜¯åˆ«æ‰­ã€‚æœ€åï¼Œæˆ‘é€‰æ‹©äº†å¹¿å—å¥½è¯„çš„ &lt;a class="link" href="https://github.com/tonsky/FiraCode" target="_blank" rel="noopener"
>Fira Code&lt;/a> ã€‚&lt;/p>
&lt;p>å°ç»“ä¸€ä¸‹ï¼Œæˆ‘çš„é€‰æ‹©æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>æ— è¡¬çº¿ï¼šè¥¿æ–‡ Noto Sansï¼Œä¸­æ–‡ Noto Sans CJK&lt;/li>
&lt;li>è¡¬çº¿ï¼šè¥¿æ–‡ Noto Serifï¼Œä¸­æ–‡ Noto Serif CJK&lt;/li>
&lt;li>ç­‰å®½ï¼šè¥¿æ–‡ Fira Codeï¼Œä¸­æ–‡ Noto Sans Mono CJK&lt;/li>
&lt;/ul>
&lt;p>åœ¨ArchLiunxä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å®‰è£…&lt;code>noto-fonts&lt;/code>å’Œ&lt;code>noto-fonts-cjk&lt;/code>è¿™ä¸¤ä¸ªåŒ…å³å¯ï¼Œä»–ä»¬åˆ†åˆ«æä¾›äº†è¥¿æ–‡å­—ä½“ Noto Sans / Noto Serifå’Œä¸­æ–‡å­—ä½“ Noto Sans CJK / Noto Serif CJK / Noto Sans Mono CJK ã€‚&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å…³äº emojiï¼Œæˆ‘é€‰æ‹©äº† Twitter æ¨å‡ºçš„å­—ä½“ Twemojiã€‚&lt;/p>
&lt;ul>
&lt;li>ttf-twemoji&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œå°‘ä¸äº†äººè§äººçˆ±çš„å›¾æ ‡å­—ä½“ Nerd Fontsã€‚&lt;/p>
&lt;ul>
&lt;li>ttf-nerd-fonts-symbols&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œå°±æœ‰å°ä¼™ä¼´å¼€å§‹å¥½å¥‡äº†ï¼Œå¦‚ä½•è®©è¥¿æ–‡å’Œä¸­æ–‡ä½¿ç”¨ä¸åŒçš„å­—ä½“å‘¢ï¼Ÿ&lt;/p>
&lt;p>åœ¨ Windows ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆæˆå­—ä½“ï¼Œå³å°†å„ç±»å­—ä½“æ‰“åŒ…åˆ°ä¸€èµ·ã€‚ä¾‹å¦‚&lt;a class="link" href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener"
>æ›´çº±é»‘ä½“&lt;/a>å°±æ˜¯ç”±æ€æºé»‘ä½“å’Œè¥¿æ–‡å­—ä½“ Iosevka æ•´åˆè€Œæ¥çš„ã€‚è¿™ç§å­—ä½“çš„å¥½å¤„å°±æ˜¯æ–¹ä¾¿ï¼Œç›´æ¥é€‰æ‹©ä½¿ç”¨å³å¯ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§ï¼Œå°±æ˜¯æ‰“åŒ…å¤ªéº»çƒ¦äº†ï¼Œå¼•å…¥ Iosevka è¦æ‰“ä¸€æ¬¡åŒ…ï¼Œæƒ³è¦æ”¯æŒ Nerd Fontsï¼Œåˆè¦æ‰“ä¸€æ¬¡åŒ…ã€‚å¦‚æœæ˜¯åˆ«äººå¸®ä½ æä¾›å¥½çš„åˆæˆå­—ä½“é‚£è¿˜å¥½è¯´ï¼Œ ä»ç½‘ä¸Šä¸‹è½½ã€ä»è½¯ä»¶ä»“åº“å®‰è£…å°±å®Œäº‹äº†ï¼Œè‡ªå·±æ‰“åŒ…çš„è¯çœŸçš„å·¥ä½œé‡å·¨å¤§ã€‚&lt;/p>
&lt;p>è€Œåœ¨ Liunx ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½® fontconfig å°±å¥½äº†ï¼Œæ— è®ºæƒ³æ€ä¹ˆæ­é…éƒ½å¯ä»¥å®ç°ï¼Œå¬èµ·æ¥æ˜¯ä¸æ˜¯ç‰¹åˆ«é…·ğŸ˜ã€‚å¯æƒœçš„æ˜¯ï¼Œæœ‰ä¸€äº›ç¨‹åºå¯¹ fontconfig æ”¯æŒå¹¶ä¸å®Œå–„ï¼Œè¿™å°±è¾¾ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚ï¼ˆè¯´çš„å°±æ˜¯ä½ ï¼ŒChromeğŸ˜ ï¼‰&lt;/p>
&lt;h2 id="fontconfig">&lt;a href="#fontconfig" class="header-anchor">&lt;/a>fontconfig
&lt;/h2>&lt;p>åœ¨æˆ‘ä»¬å¼€å§‹æ­£å¼é…ç½®å‰ï¼Œè¿˜æ˜¯æœ‰å¿…è¦äº†è§£ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ã€‚è¿™é‡Œæˆ‘å°±ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œå¦‚æœæƒ³è¦æ·±å…¥äº†è§£çš„è¯å¯ä»¥çœ‹çœ‹åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/post/2020-10-31/" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†Linux fontconfig çš„å­—ä½“åŒ¹é…æœºåˆ¶ã€‚&lt;/p>
&lt;h3 id="å­—ä½“çš„å±æ€§">&lt;a href="#%e5%ad%97%e4%bd%93%e7%9a%84%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>å­—ä½“çš„å±æ€§
&lt;/h3>&lt;p>å­—ä½“æœ‰å¾ˆå¤šå±æ€§ï¼Œå¸¸ç”¨çš„æœ‰å­—æ—ï¼ˆfamilyï¼‰ã€å€¾æ–œï¼ˆslantï¼‰ã€å­—é‡ï¼ˆweightï¼‰ã€‚åä¸¤è€…åˆä¸€èµ·å«æ ·å¼ï¼ˆstyleï¼‰ã€‚&lt;/p>
&lt;p>å­—æ—å°±æ˜¯å®ƒçš„åå­—å•¦ã€‚ä¸€ä¸ªå­—ä½“æ–‡ä»¶ï¼Œå¯ä»¥æä¾›å¤šä¸ªå­—ä½“æ—å (family)ã€‚æ¯”å¦‚ Arch Linux ç”¨æˆ·åœ¨å®‰è£… wqy-microhei åï¼Œç³»ç»Ÿç«¯å¢åŠ äº† wqy-microhei.ttc è¿™ä¸ªå­—ä½“æ–‡ä»¶ï¼Œåˆ†åˆ«æä¾›ã€ŒWenQuanYi Micro Heiã€ã€Œæ–‡æ³‰é©›å¾®ç±³é»‘ã€,ã€Œæ–‡æ³‰é©¿å¾®ç±³é»‘ã€ä¸‰ä¸ªå­—ä½“æ—åï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªæ„æ€ã€‚æˆ‘ä»¬å¯ä»¥è¿è¡Œ fontconfig æä¾›çš„å‘½ä»¤è¡Œå·¥å…· fc-list å»æŸ¥çœ‹ç³»ç»Ÿä¸Šå·²å®‰è£…çš„å­—ä½“å·²ç»å®ƒä»¬å¯¹åº”çš„å­—ä½“æ—åã€‚&lt;/p>
&lt;p>å€¾æ–œå°±æ˜¯æ–œä¸æ–œï¼Œè‹±æ–‡å«ã€ŒRomanã€ã€ŒItalicã€æˆ–è€…ã€ŒObliqueã€ï¼ŒItalic æ˜¯ä¸“é—¨çš„æ–œä½“å†™æ³•ï¼ˆæ›´æ¥è¿‘æ‰‹å†™æ ·å¼ï¼‰ï¼Œ Oblique æ˜¯æŠŠå¸¸è§„å†™æ³•å€¾æ–œä¸€ä¸‹å®Œäº‹ã€‚&lt;/p>
&lt;p>å­—é‡å°±æ›´ç®€å•äº†ï¼Œå°±æ˜¯ç¬”åˆ’çš„ç²—ç»†ã€‚å¸¸è§çš„æœ‰ Regularã€Normalã€Mediumã€Boldã€Semiboldã€Blackã€Thinã€Lightã€Extralight ç­‰ã€‚&lt;/p>
&lt;h3 id="é€šç”¨å­—æ—å">&lt;a href="#%e9%80%9a%e7%94%a8%e5%ad%97%e6%97%8f%e5%90%8d" class="header-anchor">&lt;/a>é€šç”¨å­—æ—å
&lt;/h3>&lt;p>å¾ˆå¤šæ—¶å€™ï¼Œç¨‹åºå¹¶ä¸åœ¨ä¹ç”¨æˆ·å…·ä½“ä½¿ç”¨çš„æ˜¯å“ªæ¬¾å­—ä½“ï¼Œåƒå¾ˆå¤šç½‘ç«™çš„ CSS é‚£æ ·æŠŠå„ä¸ªå¹³å°çš„å¸¸è§å­—ä½“å…¨éƒ¨åˆ—å‡ºæ¥å¤ªå‚»äº†ï¼Œåˆå®¹æ˜“å‡ºé—®é¢˜ã€‚æ‰€ä»¥ï¼Œäººä»¬å‘æ˜äº†ã€Œé€šç”¨å­—æ—åã€ï¼Œä¹Ÿå°±æ˜¯ sans-serif (sans)ã€serif å’Œ monospace (mono) è¿™äº›ã€‚å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„å­—ä½“ï¼Œè€Œæ˜¯åˆ†åˆ«æŒ‡ç¤ºç¨‹åºå»ä½¿ç”¨æ— è¡¬çº¿ã€è¡¬çº¿ã€ç­‰å®½å­—ä½“ã€‚é‚£ä¹ˆæ¡Œé¢ç¨‹åºåˆæ˜¯å¦‚ä½•çŸ¥é“å…·ä½“ä½¿ç”¨å“ªäº›å­—ä½“å‘¢ï¼Ÿå®ƒåªéœ€è¦å»æŸ¥è¯¢ fontconfig å°±è¡Œäº†ã€‚ç”±äºå®ƒä»¬å¿…å®šè¦ç»è¿‡ fontconfig çš„æŸ¥è¯¢æµç¨‹åæ‰èƒ½ä½¿ç”¨å­—ä½“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ fontconfig çš„é…ç½®å»ç²¾å‡†æ§åˆ¶ç¨‹åºä½¿ç”¨çš„å­—ä½“ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•è°ƒè¯•">&lt;a href="#%e5%a6%82%e4%bd%95%e8%b0%83%e8%af%95" class="header-anchor">&lt;/a>å¦‚ä½•è°ƒè¯•
&lt;/h3>&lt;p>ä¼ å…¥ç¯å¢ƒå˜é‡&lt;code>FC_DEBUG=4&lt;/code>å³å¯ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FC_DEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4&lt;/span> kitty
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>fontconfig å°±ä¼šæ‰“å°è°ƒè¯•ä¿¡æ¯ï¼Œå…¶ä¸­å¯ä»¥çœ‹åˆ°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">FcConfigSubstitute Pattern has 6 elts (size 16)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> family: &amp;#34;monospace&amp;#34;(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> slant: 0(i)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> weight: 80(i)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pixelsize: 19.1667(f)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> lang: &amp;#34;en&amp;#34;(w)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> prgname: &amp;#34;kitty&amp;#34;(s)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™¤äº†å¯åŠ¨ä¸€ä¸ªç¨‹åºæ¥çœ‹å®ƒå­—ä½“çš„è°ƒç”¨æ—¥å¿—ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³çœ‹ monospace åœ¨ç³»ç»Ÿé‡Œè¢«ä¿®æ”¹æˆäº†ä»€ä¹ˆå­—ä½“ï¼Œå°±å¯ä»¥æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FC_DEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4&lt;/span> fc-match &lt;span class="s1">&amp;#39;monospace&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“å°å‡ºçš„è°ƒè¯•ä¿¡æ¯ä¼šå¾ˆé•¿ï¼Œæˆ‘ä»¬ä¸»è¦çœ‹å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p>
&lt;p>ç¬¬ä¸€éƒ¨åˆ†ï¼ŒAdd Ruleï¼ŒæŒ‡å·²æ·»åŠ çš„é…ç½®æ–‡ä»¶è§„åˆ™ã€‚è¿™é‡Œé¢ä¹ŸåŒ…å«äº†å®¶ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ‰¾æ¥çœ‹çœ‹è¢«è§£ææˆäº†ä»€ä¹ˆã€‚&lt;/p>
&lt;p>ç¬¬äºŒéƒ¨åˆ†ï¼Œåœ¨ Add Rule ä¹‹åï¼Œè¿æ¥äº†æœ€å…³é”®çš„ã€æˆ‘ä»¬åº”å½“å…³å¿ƒçš„ FcConfigSubstitute Patternï¼Œå®ƒåŒ…å«äº† font patternã€‚(s) å’Œ (w) åˆ†åˆ«ä»£è¡¨å¼ºå¼±ç»‘å®šï¼›prgname ä»£è¡¨ç¨‹åºåï¼Œæ­¤æ—¶å°±æ˜¯ fc-matchã€‚è‡³äº langï¼Œç”±äºæ²¡æœ‰å¯¹ fc-match æŒ‡å®šè¯­è¨€ï¼Œæ‰€ä»¥é»˜è®¤æ˜¯ enã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥æœ‰å¾ˆå¤šæ¡ FcConfigSubstitute editPatternï¼Œä»£è¡¨å¯¹ font pattern çš„æ›¿æ¢æ“ä½œã€‚ä½†æ˜¯å¿…é¡»å½“è§„åˆ™åŒ¹é…çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ Rule Set ä¸æ˜¯ No match çš„æƒ…å†µä¸‹ï¼Œæ‰æ‰§è¡Œ FcConfigSubstitute editPatternã€‚é‚£ä¹ˆï¼Œåˆåº”è¯¥æ€ä¹ˆçœ‹ FcConfigSubstitute editPattern å‘¢ï¼Ÿä¸»è¦çœ‹ familyï¼Œå› ä¸º family ä»£è¡¨ç€å­—ä½“åŒ¹é…é¡ºåºã€‚å®ƒå°±æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„&lt;code>&amp;lt;edit target=&amp;quot;pattern&amp;quot;&amp;gt;&lt;/code>æ“ä½œã€‚&lt;/p>
&lt;p>æœ€ååº”è¯¥å…³å¿ƒ FcConfigSubstitute donePatternï¼Œè¿™æ˜¯ fontconfig æ‰§è¡Œå®Œå­—ä½“æ›¿æ¢åçš„ç»“æœã€‚&lt;/p>
&lt;h3 id="é…ç½®æ–‡ä»¶">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>é…ç½®æ–‡ä»¶
&lt;/h3>&lt;p>æ•´ä¸ªé…ç½®æ–‡ä»¶ç”±å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ä¾æ¬¡æ‹¼æ¥è€Œæˆï¼š&lt;/p>
&lt;ol>
&lt;li>ç›®å½•è®¾ç½®(&lt;code>&amp;lt;dir&amp;gt;&lt;/code>, &lt;code>&amp;lt;cachedir&amp;gt;&lt;/code>, &lt;code>&amp;lt;include&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ‚é¡¹è®¾ç½®(&lt;code>&amp;lt;config&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ‰«æé˜¶æ®µ(&lt;code>&amp;lt;match target=&amp;quot;scan&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;li>åŒ¹é…é˜¶æ®µ(&lt;code>&amp;lt;alias&amp;gt;&lt;/code>, &lt;code>&amp;lt;match target=&amp;quot;pattern&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ¸²æŸ“é˜¶æ®µ(&lt;code>&amp;lt;match target=&amp;quot;font&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;/ol>
&lt;p>æƒ³è¦å®ç°åˆæˆå­—ä½“çš„æ•ˆæœï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ€è·¯ï¼Œæœ¬æ–‡ä¹ŸåŸºäºè¯¥æ€è·¯ï¼šä¸è®©ç¨‹åºä½¿ç”¨æŸä¸ªå…·ä½“çš„å­—ä½“ï¼Œè€Œæ˜¯ä½¿ç”¨é€šç”¨å­—ä½“æ—å (Generic Font Family)ã€‚æ¯”å¦‚ï¼Œè®©ç¨‹åºä½¿ç”¨ sans-serifï¼Œä¹Ÿå°±æ˜¯é»˜è®¤çš„æ— è¡¬çº¿å­—ä½“ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¦å…³å¿ƒç¬¬å››ä¸ªéƒ¨åˆ†ï¼Œå³åŒ¹é…é˜¶æ®µï¼Œä½¿ç”¨ fontconfig é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ç§ font stack çš„æ–¹å¼ï¼Œå³å¯è®©ç¨‹åºæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ¸²æŸ“å­—ä½“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Noto Sans CJK SC â€”&amp;gt; Noto Sans -&amp;gt; Twemoji
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œçš„&lt;code>&amp;lt;test&amp;gt;&lt;/code>å°±æ˜¯æ¡ä»¶åˆ¤æ–­ï¼Œ&lt;code>mode=&amp;quot;prepend&amp;quot;&lt;/code>æŒ‡åœ¨å‰æ·»åŠ ï¼Œ&lt;code>binding=&amp;quot;strong&amp;quot;&lt;/code>åˆ™æ˜¯å¼ºç»‘å®š&lt;/p>
&lt;h2 id="å¼€å§‹é…ç½®">&lt;a href="#%e5%bc%80%e5%a7%8b%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>å¼€å§‹é…ç½®
&lt;/h2>&lt;p>æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯å°±æ˜¯ä¿®æ”¹é»˜è®¤çš„å­—æ—ï¼Œè®©å…¶æˆä¸ºæˆ‘ä»¬æƒ³è¦æŒ‡å®šçš„å­—ä½“ã€‚ç„¶åå°†æ‰€æœ‰ç¨‹åºçš„å­—ä½“é…ç½®æ”¹ä¸ºé€šç”¨å­—ä½“æ—åï¼šsans-serifï¼Œserifï¼Œmonospaceã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çš„é…ç½®éƒ½æ”¾åœ¨æ­¤ç›®å½•ä¸­&lt;code>~/.config/fontconfig/fonts.conf&lt;/code>ï¼Œæˆ‘çš„å®Œæ•´é…ç½®åœ¨&lt;a class="link" href="https://github.com/luoboQAQ/dotconfig/tree/main/fontconfig" target="_blank" rel="noopener"
>æ­¤ä»“åº“&lt;/a>ä¸­ã€‚&lt;/p>
&lt;h3 id="è®¾ç½®é»˜è®¤å­—ä½“">&lt;a href="#%e8%ae%be%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>è®¾ç½®é»˜è®¤å­—ä½“
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default system-ui fonts --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>system-ui&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default sans-serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default monospace fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>monospace&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Symbols Nerd Font&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Fira Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹ system-uiï¼Œsans-serifï¼Œserifï¼Œmonospace è®¾ç½®ä¼˜å…ˆæ˜¾ç¤ºçš„å­—ä½“ã€‚åœ¨è¿™é‡Œæˆ‘è®© system-ui é»˜è®¤ä¸ºæ— è¡¬çº¿ã€‚æ³¨æ„ï¼Œsystem-ui å¿…é¡»åœ¨æœ€å‰ã€‚ç”±äº fontconfig å¯¹ font pattern çš„æ“ä½œæ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œæ‰€ä»¥å¿…é¡»å…ˆè®© system-ui èƒ½ä¼˜å…ˆä»¥ sans-serif æ˜¾ç¤ºï¼Œç„¶åæ‰æ˜¯å¯¹ sans-serif çš„æ“ä½œã€‚&lt;/p>
&lt;p>æ‰€æœ‰çš„ Noto CJK å­—ä½“éƒ½ä»¥ SC ç»“å°¾ï¼Œå› ä¸ºæˆ‘å¸Œæœ›åœ¨æ²¡æŒ‡å®šè¯­è¨€çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œä»¥ç®€ä½“ä¸­æ–‡æ˜¾ç¤ºä¸­æ–‡å­—å½¢ã€‚&lt;/p>
&lt;h3 id="è®¾ç½®å¼‚å½¢å­—">&lt;a href="#%e8%ae%be%e7%bd%ae%e5%bc%82%e5%bd%a2%e5%ad%97" class="header-anchor">&lt;/a>è®¾ç½®å¼‚å½¢å­—
&lt;/h3>&lt;p>ä»€ä¹ˆæ˜¯å¼‚å½¢å­—ï¼ŸNoto Sans CJK ä¸­çš„å¼‚ä½“å­—ï¼Œæ˜¯åœ¨ &lt;strong>ç›¸åŒçš„&lt;/strong> Unicode ç ä½ä¸‹ï¼Œä¸åŒçš„è¯­è¨€ä¼šä½¿ç”¨ä¸åŒçš„å­—å½¢ã€‚&lt;/p>
&lt;p>å¯ä»¥åœ¨åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/raw/fontconfig.html#%E5%BC%82%E4%BD%93%E5%AD%97" target="_blank" rel="noopener"
>è¿™ä¸ªæµ‹è¯•ç½‘ç«™&lt;/a>ä¸­çœ‹åˆ°ï¼Œä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹ï¼Œè¿™äº›å­—çš„æ˜¾ç¤ºæ˜¯ä¸åŒçš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants.png"
width="250"
height="280"
srcset="https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants_hu_748a2ef604a61235.png 480w, https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants_hu_92a7f637e7b2aeb8.png 1024w"
loading="lazy"
alt="å¼‚å½¢å­—"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="214px"
>&lt;/p>
&lt;p>æˆ‘ä»¬æƒ³è¦å®ç°åœ¨ä¿ç•™å¼‚ä½“å­—çš„æƒ…å†µä¸‹ï¼Œè®©å®ƒé»˜è®¤æ˜¾ç¤ºä¸­å›½å¤§é™†å­—å½¢ï¼›åªåœ¨ç‰¹å®šè¯­è¨€ä¸‹æ˜¾ç¤ºå¼‚ä½“å­—ï¼Œæ¯”å¦‚ç”¨æµè§ˆå™¨æŸ¥çœ‹ä¸€ä¸ªæ—¥æ–‡é¡µé¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Replace fonts for Japanese --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ja&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK JP&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å­—ä½“åŒ¹é…æ—¶ï¼Œå°† Noto Sans CJK SC æ›¿æ¢æˆ Noto Sans CJK JPã€‚é™¤äº† ï¼Œä½ è¿˜éœ€è¦ç…§è‘«èŠ¦ç”»ç“¢åˆ†åˆ«æŒ‡å®š zh-TWã€zh-HKã€jaã€koï¼Œä»¥åŠå¯¹å®‹ä½“å’Œç­‰å®½å­—ä½“è¿›è¡Œé‡å¤çš„æ­¥éª¤ã€‚åœ¨æ­¤æˆ‘å°±ä¸é‡å¤äº†ã€‚&lt;/p>
&lt;h3 id="è§£å†³å…¨è§’å¼•å·">&lt;a href="#%e8%a7%a3%e5%86%b3%e5%85%a8%e8%a7%92%e5%bc%95%e5%8f%b7" class="header-anchor">&lt;/a>è§£å†³å…¨è§’å¼•å·
&lt;/h3>&lt;p>è‹±æ–‡ä¸­çš„å•å¼•å·æœ‰ä¸¤ç§ï¼Œ&lt;code>'&lt;/code>(U+0027) å’Œ&lt;code>â€™&lt;/code>(U+2019)ã€‚å¯èƒ½ä¼šè§‰å¾—å‰ä¸€ç§å‡ºç°åœ¨è‹±æ–‡æ–‡æœ¬ä¸­ï¼Œåä¸€ç§å‡ºç°åœ¨ä¸­æ–‡æ–‡æœ¬ä¸­ï¼Œå¹¶ä¸”å®½åº¦å’Œä¸­æ–‡ç­‰å®½ã€‚ç„¶è€Œï¼Œè‹±è¯­ä¸–ç•Œä¸­çš„ä¸€äº›äººåœ¨è‹±æ–‡æ–‡ç« ä¸­ä¹Ÿæ˜¯ä¼šä½¿ç”¨åä¸€ç§çš„ã€‚æ‰€ä»¥ï¼Œå­—ä½“åœ¨æ˜¾ç¤ºåä¸€ç§å¼•å·çš„æ—¶å€™ï¼Œç©¶ç«Ÿæ˜¯å’Œè‹±æ–‡å­—æ¯ä¸€æ ·çª„ï¼Œè¿˜æ˜¯è¯¥å’Œä¸­æ–‡å­—ä½“ç­‰å®½å‘¢ï¼Ÿå¦‚æœåœ¨è‹±æ–‡æ–‡ç« ä¸­æ˜¾ç¤ºæˆå…¨å®½å­—ç¬¦åˆ™ä¼šæ˜¾å¾—çªå…€ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œæ€æºé»‘ä½“å…¶å®ä¹ŸåŒ…å«äº†æ‹‰ä¸å­—æ¯çš„å­—å½¢ï¼Œå¯ä»¥å®Œå…¨ä½¿ç”¨æ€æºé»‘ä½“å»æ˜¾ç¤ºè¥¿æ–‡ã€‚æ­¤æ—¶ï¼Œåä¸€ç§å•å¼•å·çš„å®½åº¦ä¼šæ˜¾ç¤ºæˆä¸­æ–‡å­—å½¢çš„å®½åº¦ã€‚å¯¼è‡´å³ä½¿åœ¨å…¨è‹±æ–‡ç¯å¢ƒä¸­ï¼Œå•å¼•å·ä¹Ÿä¼šçªå…€åœ°åœ¨æ–‡æœ¬ä¸­è¿‡å®½ã€‚&lt;/p>
&lt;p>åŒæ ·åœ°ï¼Œ&lt;code>â€˜&lt;/code>(U+2018) &lt;code>â€œ&lt;/code>(U+201C) &lt;code>â€&lt;/code>(U+201D) ä¹Ÿæœ‰ç±»ä¼¼çš„æƒ…å†µã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¸åŒè¯­è¨€ç¯å¢ƒä¸‹å­—å½¢ä¼šæœ‰æ‰€åŒºåˆ«ï¼Œè®©å¼•å·åªåœ¨ä¸­æ–‡æ–‡æœ¬ä¸­å…¨å®½ã€‚&lt;/p>
&lt;p>åŒæ ·ï¼Œåœ¨åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/raw/fontconfig.html#%E5%BC%82%E4%BD%93%E5%AD%97" target="_blank" rel="noopener"
>è¿™ä¸ªæµ‹è¯•ç½‘ç«™&lt;/a>ä¸­å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/linux-font/IMAGE/font_quote.png"
width="280"
height="85"
srcset="https://lbqaq.top/p/linux-font/IMAGE/font_quote_hu_c4b7d90fcc11c9b2.png 480w, https://lbqaq.top/p/linux-font/IMAGE/font_quote_hu_4db44c4d82d44826.png 1024w"
loading="lazy"
alt="å…¨è§’å¼•å·"
class="gallery-image"
data-flex-grow="329"
data-flex-basis="790px"
>&lt;/p>
&lt;p>åˆ©ç”¨fontconfigï¼Œå¯ä»¥æ–¹ä¾¿çš„è§£å†³æ­¤é—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- è§£å†³å…¨è§’å¼•å· --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>en&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¦†ç›–è¥¿æ–‡å­—ä½“">&lt;a href="#%e8%a6%86%e7%9b%96%e8%a5%bf%e6%96%87%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>è¦†ç›–è¥¿æ–‡å­—ä½“
&lt;/h3>&lt;p>å¦‚æœå»è§‚å¯Ÿ Noto Sans CJK è¿™ä¸ªä¸­æ–‡å­—ä½“ï¼Œä¼šå‘ç°å®ƒçš„è¥¿æ–‡éƒ¨åˆ†çš„å­—å½¢å…¶å®å’Œ Noto Sans ä¸ä¸€æ ·ï¼Œè™½ç„¶å®ƒä»¬éƒ½ä»¥ Noto è‡ªç§°ã€‚ä¸­æ–‡å­—ä½“æºå¸¦çš„è‹±æ–‡å­—ç¬¦æœ‰å¯èƒ½ååˆ†ç³Ÿç³•ï¼Œç‰¹åˆ«æ˜¯ Windows è‡ªå¸¦çš„ SimHeiï¼Œä¹Ÿå°±æ˜¯ä¸­æ˜“é»‘ä½“ï¼Œå®ƒçš„è‹±æ–‡ç›¸å½“ç³Ÿç³•ã€‚å¦å¤–ï¼Œå¾®è½¯é›…é»‘çš„å­—é‡å®åœ¨æ˜¯å¤ªå°‘äº†ï¼Œå¯¹äºè®¾è®¡å¸ˆæ¥è¯´å¾ˆä¸å‹å¥½ã€‚è€Œå„ç§æµè¡Œçš„è‹±æ–‡å­—ä½“æ”¯æŒå¾ˆå¤šå­—é‡ã€‚&lt;/p>
&lt;p>Noto Sans CJK çš„è‹±æ–‡è¿˜æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œä¸ºäº†å­—ä½“çš„æ ·å¼ç»Ÿä¸€ï¼Œè¿™é‡Œå°±ä¸ä¿®æ”¹sans-serifå’Œseriäº†ã€‚ä¸»è¦å°†ç¼–ç¨‹ç”¨çš„ç­‰å®½å­—ä½“æ¢æˆFira Codeã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Replace english fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;prgname&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;not_eq&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>msedge&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Fira Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œä¸ºä»€ä¹ˆè¦å¤šåŠ ä¸€å¥åˆ¤æ–­å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæœ‰äº›ç¨‹åºå±…ç„¶åªä½¿ç”¨ font pattern ç»“æœä¸­çš„é¦–ä¸ªå­—ä½“ï¼Œæ¯”å¦‚ Chromeï¼ˆä»¥åŠè¡ç”Ÿçš„Chromiumï¼‰ï¼Œè™½ç„¶ Chrome æ¥å—äº†æˆ‘ä»¬æŒ‡å®šçš„è¥¿æ–‡å­—ä½“ï¼Œä½†æ˜¯å®ƒå¿½ç•¥äº†ç´§æ¥å…¶åçš„ä¸­æ–‡å­—ä½“ï¼Œå³ä½¿é…ç½®é‡‡ç”¨äº†å¼ºç»‘å®šï¼ç„¶åä¸­æ–‡å­—ä½“åˆä¸çŸ¥é“å®ƒ fallback åˆ°å“ªå»äº†ï¼Œå¯èƒ½ä¼šå‡ºç°ä½ æƒ³è¦çš„ä¸­æ–‡å­—ä½“ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ã€‚&lt;/p>
&lt;p>è¿™é‡Œæ˜¯ msedge ä¸»è¦æ˜¯æˆ‘å¹³æ—¶éƒ½ç”¨ edge è€Œä¸æ˜¯ Chromeã€‚å¯æƒœç”±äº Chromium åœ¨ Linux ä¸Šå°é—®é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œè¿˜æ˜¯è€è€å®å®çš„ç”¨ firefox å§ã€‚&lt;/p>
&lt;p>åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†ç¨‹åºåä¸º msedge çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨ Fira Code æ˜¾ç¤ºè¥¿æ–‡ï¼Œå†ç”¨ Noto Sans Mono CJK æ˜¾ç¤ºä¸­æ–‡ã€‚è™½ç„¶æˆ‘ä¸èƒ½è®© msedge ä½¿ç”¨ Fira Codeï¼Œä½†å®ƒä¸€å®šèƒ½ç”¨ä¸Š Noto Sans Mono CJK æ˜¾ç¤ºä¸­æ–‡ã€‚&lt;/p>
&lt;h3 id="æ›¿æ¢ä»»æ„å­—ä½“">&lt;a href="#%e6%9b%bf%e6%8d%a2%e4%bb%bb%e6%84%8f%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>æ›¿æ¢ä»»æ„å­—ä½“
&lt;/h3>&lt;p>å½“ç³»ç»Ÿé‡Œå·²ç»å®‰è£…äº†ä¸€äº›ä¸éœ€è¦çš„å­—ä½“ï¼Œä½†åˆä¸æƒ³åˆ é™¤æˆ–è€…å±è”½å®ƒæ€ä¹ˆåŠå‘¢ï¼Ÿæ›¿æ¢æ‰ font pattern å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œåˆ™æ˜¯ç”¨æ¥æ›¿æ¢æ€æºå­—ä½“ï¼Œæ¯•ç«Ÿå®ƒå°±æ˜¯ Noto å˜›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Han Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å­—ä½“æ¸²æŸ“å‚æ•°">&lt;a href="#%e5%ad%97%e4%bd%93%e6%b8%b2%e6%9f%93%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>å­—ä½“æ¸²æŸ“å‚æ•°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--rendering options--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;font&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;autohint&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hinting&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hintstyle&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>hintslight&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;antialias&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lcdfilter&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>lcddefault&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;rgba&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>rgb&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œä¸»è¦è®¾ç½®äº†ä¸€äº›å­—ä½“çš„æ¸²æŸ“æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>autohint&lt;/code>ï¼šä¼˜å…ˆä½¿ç”¨å†…åµŒå¾®è°ƒ&lt;/li>
&lt;li>&lt;code>hinting&lt;/code>ï¼šå¼€å¯å¾®è°ƒ&lt;/li>
&lt;li>&lt;code>hintstyle&lt;/code>ï¼šå¾®è°ƒçš„ç¨‹åº¦ï¼Œè½»å¾®&lt;/li>
&lt;li>&lt;code>antialias&lt;/code>ï¼šå¼€å¯æŠ—é”¯é½¿åŠŸèƒ½&lt;/li>
&lt;li>&lt;code>lcdfilter&lt;/code>ï¼šLCD filter çš„é£æ ¼ï¼Œé»˜è®¤&lt;/li>
&lt;li>&lt;code>rgba&lt;/code>ï¼šLCD å­åƒç´ çš„æ’åˆ—é¡ºåºï¼Œrgb&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œå°±ç›´æ¥æŠ„ä½œä¸šäº†ã€‚&lt;/p>
&lt;h2 id="é‡åˆ°çš„é—®é¢˜">&lt;a href="#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>é‡åˆ°çš„é—®é¢˜
&lt;/h2>&lt;h3 id="å…¨è§’å¼•å·è®¾ç½®æ— æ•ˆ">&lt;a href="#%e5%85%a8%e8%a7%92%e5%bc%95%e5%8f%b7%e8%ae%be%e7%bd%ae%e6%97%a0%e6%95%88" class="header-anchor">&lt;/a>å…¨è§’å¼•å·è®¾ç½®æ— æ•ˆ
&lt;/h3>&lt;p>ä¸€å¼€å§‹æˆ‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ— è®ºæ€ä¹ˆè®¾ç½®éƒ½æ˜¯åŠè§’ï¼Œç»è¿‡æ’æŸ¥ä»¥åŠç½‘å‹çš„ç•™è¨€åå‘ç°ï¼Œè¿™æ˜¯ç”±äºç³»ç»Ÿå˜é‡ä¸­çš„&lt;code>LANG&lt;/code>ä¸º&lt;code>en_US.utf-8&lt;/code>ï¼Œè¿™ä¼šå¯¼è‡´ä¼ é€’ç»™ fontconfig çš„ lang æ˜¯ &lt;code>lang: zh-cn(s) &amp;quot;en&amp;quot;(w)&lt;/code>ã€‚äºæ˜¯å°±ä¸€ç›´åŒ¹é…è¥¿æ–‡å­—ä½“ã€‚&lt;/p>
&lt;p>è§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç›´æ¥ä¿®æ”¹&lt;code>LANG&lt;/code>ç¯å¢ƒå˜é‡ä¸º&lt;code>zh_CN.UTF-8&lt;/code>ï¼Œæˆ‘ç›®å‰é‡‡ç”¨çš„å°±æ˜¯è¿™ç§å½¢å¼ã€‚&lt;/p>
&lt;p>æˆ–è€…å°±æ˜¯é»˜è®¤æ¸²æŸ“è‹±æ–‡ï¼Œå½“ç½‘é¡µå£°æ˜æ˜¯ä¸­æ–‡æ—¶å†æ¢å­—ä½“ï¼Œç›¸å…³é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Default sans-serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Color Emoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- cn --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>cn&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å¦‚æœç½‘é¡µå£°æ˜äº†&lt;code>lang=zh-cn&lt;/code>ï¼Œå°±ä¼šç”¨&lt;code>Noto Sans CJK SC&lt;/code>å­—ä½“è¿›è¡Œè¦†ç›–ï¼Œä¹Ÿå°±å®ç°äº†å…¨å®½å¼•å·ã€‚å‡å¦‚ç½‘é¡µæ²¡æœ‰å£°æ˜&lt;code>lang&lt;/code>æˆ–è€…é”™è¯¯åœ°å£°æ˜äº†&lt;code>lang=en&lt;/code>ï¼Œè¿™æ—¶å°±ä¼šå‡ºç°åŠè§’å¼•å·+æ±‰å­—çš„ç»„åˆäº†ã€‚&lt;/p>
&lt;h2 id="ä¸èƒ½è§£å†³çš„é—®é¢˜">&lt;a href="#%e4%b8%8d%e8%83%bd%e8%a7%a3%e5%86%b3%e7%9a%84%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>ä¸èƒ½è§£å†³çš„é—®é¢˜
&lt;/h2>&lt;p>Linux ä¸å¼ºè¿«ç¨‹åºå¿…é¡»ä½¿ç”¨ç‰¹å®šçš„ä¾èµ–ï¼Œè€Œæ˜¯ç¨‹åºä¸»åŠ¨é€‰æ‹©äº†çº¦å®šä¿—æˆçš„ä¾èµ–ã€‚è€è¯é‡è°ˆï¼Œç¨‹åºå¯ä»¥è‡ªç”±é€‰æ‹©å®Œå…¨éµå®ˆ fontconfigï¼Œä¹Ÿå¯ä»¥é€‰æ‹©éƒ¨åˆ†ä½¿ç”¨ fontconfig çš„é…ç½®ï¼Œæˆ–è€…å®Œå…¨ä¸éµå®ˆå®ƒã€‚è¿™ä¹Ÿå¯¼è‡´äº†å¯¹ä¸€äº›ç¨‹åºæ— æ³•å®ç°å­—ä½“çš„ä¿®æ”¹ã€‚ä»¥åŠä¸Šé¢æåˆ°çš„ chrome å¯¹ fontconfig å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæˆ–è®¸é¢å¯¹è¿™ç§ç¨‹åºï¼Œå°±éœ€è¦åˆæˆå­—ä½“çš„å‡ºåœºäº†ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="http://www.jinbuguo.com/gui/linux_fontconfig.html" target="_blank" rel="noopener"
>Linuxå­—ä½“ç¾åŒ–å®æˆ˜(Fontconfigé…ç½®) [é‡‘æ­¥å›½]&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://blog.lilydjwg.me/2023/3/5/linux-fonts.216591.html" target="_blank" rel="noopener"
>Linux ä¸Šçš„å­—ä½“é…ç½®ä¸æ•…éšœæ’é™¤ - ä¾äº‘&amp;rsquo;s Blog&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://catcat.cc/post/2021-03-07/" target="_blank" rel="noopener"
>ç”¨ fontconfig æ²»ç† Linux ä¸­çš„å­—ä½“ - åŒçŒ«CC&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ReDroid+MAAï¼šåœ¨Linuxä¸‹æ¸¸ç©æ˜æ—¥æ–¹èˆŸ</title><link>https://lbqaq.top/p/redroid-maa/</link><pubDate>Sat, 17 Jun 2023 16:47:00 +0800</pubDate><guid>https://lbqaq.top/p/redroid-maa/</guid><description>&lt;img src="https://lbqaq.top/p/redroid-maa/103123878.webp" alt="Featured image of post ReDroid+MAAï¼šåœ¨Linuxä¸‹æ¸¸ç©æ˜æ—¥æ–¹èˆŸ" />&lt;p>æœ€è¿‘æ‰“ç®—å°†ArchLinuxä½œä¸ºä¸»åŠ›ç³»ç»ŸæŒ‘æˆ˜ä¸€ä¸‹ï¼Œç”±äºå¹³æ—¶æœ‰ç”¨ç”µè„‘æŒ‚æ˜æ—¥æ–¹èˆŸçš„ä¹ æƒ¯ï¼Œäºæ˜¯æ‰“ç®—å®‰è£…æ¨¡æ‹Ÿå™¨åœ¨Linuxä¸Šã€‚ç›¸è¾ƒäºWindowsä¸‹å„ç§xxæ¨¡æ‹Ÿå™¨ç™¾èŠ±é½æ”¾ï¼ŒLinuxä¸‹å°±æƒ¨ä¸å¿ç¹äº†ã€‚ç½‘ä¸Šæœç´¢åˆ°çš„çŸ¥åæ¨¡æ‹Ÿå™¨ä¸­ï¼ŒAnboxå·²ç»è¢«ä½œè€…å¼ƒå‘äº†ï¼ŒAndroid Studioæ¨¡æ‹Ÿå™¨åˆ™æ˜¯é¢å‘å¼€å‘è€…ï¼Œæƒ³è¦ä½¿ç”¨è¿˜è¦å®‰è£…Android Studioå¼€å‘ç¯å¢ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA.jpg"
width="680"
height="652"
srcset="https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA_hu_c75c6775f0f9f0.jpg 480w, https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA_hu_ba1dee1c70dac098.jpg 1024w"
loading="lazy"
alt="be like"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>åœ¨æœç´¢ä¸­ï¼Œæˆ‘å‘ç°ReDroidå¯ä»¥æ»¡è¶³æˆ‘çš„éœ€æ±‚ã€‚ä½œä¸ºä¸€ä¸ªâ€œäº‘æ‰‹æœºâ€çš„æ–¹æ¡ˆï¼Œè‡ªç„¶æ˜¯å¯ä»¥éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œæ‘¸ç´¢æ˜ç™½äº†éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šä¹ŸæŒºä¸é”™(é›¾ã€‚&lt;/p>
&lt;p>å…·ä½“çš„å®‰è£…çš„æ•™ç¨‹æˆ‘å‚è€ƒçš„æ˜¯Ivonå¤§ä½¬çš„&lt;a class="link" href="https://ivonblog.com/posts/redroid-android-docker/" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šä½œäº†ä¸€äº›å°å°çš„ä¿®æ”¹ã€‚&lt;/p>
&lt;h2 id="redroidé…ç½®">&lt;a href="#redroid%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>ReDroidé…ç½®
&lt;/h2>&lt;h3 id="å®‰è£…ç¯å¢ƒ">&lt;a href="#%e5%ae%89%e8%a3%85%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>å®‰è£…ç¯å¢ƒ
&lt;/h3>&lt;p>ReDroidéœ€è¦Linuxå†…æ ¸å¯ç”¨binderfsæ¨¡å—ï¼ŒArch Liunxé»˜è®¤çš„linuxå†…æ ¸å¹¶ä¸åŒ…å«æ­¤æ¨¡å—ï¼Œéœ€è¦å®‰è£…linux-zenæ¨¡å—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">pacman -S linux-zen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘å¼ºçƒˆå»ºè®®å®‰è£…å®˜æ–¹çš„&lt;a class="link" href="https://github.com/remote-android/redroid-doc/blob/master/deploy/README.md" target="_blank" rel="noopener"
>å®‰è£…æŒ‡å—&lt;/a>æ¥ï¼Œæˆ‘ä¸€å¼€å§‹æŒ‰ç…§Ivonå¤§ä½¬çš„æ•™ç¨‹å°è¯•åœ¨é»˜è®¤çš„Linuxå†…æ ¸é‡Œå¯ç”¨è¯¥æ¨¡å—ï¼Œç»“æœReDroidä¸€ç›´å¯åŠ¨ä¸äº†ã€‚æœ€åæ›´æ¢å†…æ ¸åå°±æˆåŠŸè¿è¡Œèµ·æ¥äº†QAQã€‚&lt;/p>
&lt;p>æ¥ç€å®‰è£…dockerå’Œdocker-composeï¼Œç”¨æ¥è¿è¡ŒReDroidçš„å®¹å™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo pacman -S docker docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿˜è¦å®‰è£…ADBå’ŒScrcpyï¼Œç”¨äºè¿æ¥åˆ°å®‰å“è™šæ‹Ÿæœº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo pacman -S android-tools
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S scrcpy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯é€‰é…ç½®armè½¬è¯‘å™¨">&lt;a href="#%e5%8f%af%e9%80%89%e9%85%8d%e7%bd%aearm%e8%bd%ac%e8%af%91%e5%99%a8" class="header-anchor">&lt;/a>[å¯é€‰]é…ç½®ARMè½¬è¯‘å™¨
&lt;/h3>&lt;p>å¤§éƒ¨åˆ†å®‰å“åº”ç”¨éƒ½åªæœ‰ARMç‰ˆï¼Œè¿™ä¹Ÿæ„å‘³ç€æ— æ³•åœ¨X86çš„ç”µè„‘ä¸Šè¿è¡Œï¼Œè¿™æ—¶å°±éœ€è¦å®‰è£…ARMè½¬è¯‘å™¨äº†ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæ˜æ—¥æ–¹èˆŸå±…ç„¶æ”¯æŒX86ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‹ç¼©å·¥å…·è§£å‹æ–¹èˆŸçš„å®‰è£…åŒ…ï¼Œå¯ä»¥çœ‹åˆ°&lt;code>lib&lt;/code>ä¸‹æœ‰&lt;code>x86&lt;/code>ç›®å½•ã€‚è¿™ä¹Ÿæ„å‘³ç€å¦‚æœåªæ˜¯ç”¨æ¥ç©æ–¹èˆŸçš„è¯ï¼Œå®Œå…¨ä¸éœ€è¦é…ç½®ARMè½¬è¯‘ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œæ ¹æ®å¤§ä½¬çš„æ•™ç¨‹é…ç½®å¥½è½¬è¯‘å™¨åï¼Œæ–¹èˆŸåè€Œä¼šé—ªé€€ï¼Œæ‰€ä»¥å®Œå…¨ä¸ç”¨åšæ­¤æ­¥ğŸ˜¥ã€‚å¦‚æœéœ€è¦å®‰è£…armåº”ç”¨ï¼Œå¯ä»¥çœ‹ä¸Šé¢å¤§ä½¬çš„æ•™ç¨‹æ¥åšã€‚&lt;/p>
&lt;p>æˆ‘åé¢å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨libhoudiniæ¥ä½œä¸ºReDroidçš„è½¬è¯‘å™¨ã€‚&lt;/p>
&lt;h3 id="å¯åŠ¨é•œåƒ">&lt;a href="#%e5%90%af%e5%8a%a8%e9%95%9c%e5%83%8f" class="header-anchor">&lt;/a>å¯åŠ¨é•œåƒ
&lt;/h3>&lt;p>æˆ‘è¿™é‡Œå°±ä½¿ç”¨ä¸åŒ…å«ARMè½¬è¯‘å™¨çš„ReDroidç»§ç»­äº†ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å³å¯éƒ¨ç½²ReDroidï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo docker run -itd --privileged &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /home/luobo/redroid:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 5555:5555 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name redroid11 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> redroid/redroid:11.0.0-latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åä½¿ç”¨adbè¿æ¥ï¼Œå¹¶æ‰§è¡ŒScrcpyï¼Œæ˜¾ç¤ºæ‰‹æœºç”»é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">adb connect localhost:5555
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºGoogleæœåŠ¡æ¡†æ¶ï¼Œæˆ‘å¹¶ä¸æ˜¯åˆšéœ€ï¼Œå°±ä¸å®‰è£…äº†ã€‚å¦‚æœéœ€è¦å®‰è£…ï¼Œå¯ä»¥æŸ¥çœ‹ä¹‹å‰æåˆ°çš„æ•™ç¨‹ã€‚&lt;/p>
&lt;p>Scrcpy2.0ç‰ˆæœ¬ï¼Œå·²ç»è‡ªå¸¦äº†å£°éŸ³æ¨¡å—ï¼Œæ— éœ€å†å®‰è£…é¢å¤–çš„è½¯ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æœé‡åˆ°æŠ¥é”™&lt;code>Failed to initialize audio/opus, error 0xfffffffe&lt;/code>&lt;/p>
&lt;p>åªéœ€è¦æ‰‹åŠ¨æŒ‡å®šå…¶ä»–çš„éŸ³é¢‘è§£æå™¨å³å¯ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555 --audio-codec&lt;span class="o">=&lt;/span>aac
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä¸éœ€è¦å£°éŸ³ï¼Œåªéœ€è¦åŠ ä¸Š&lt;code>--no-audio&lt;/code>ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555 --no-audio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447.png"
width="1340"
height="928"
srcset="https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447_hu_3d7c40e95c733123.png 480w, https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447_hu_8f37323fcbd91ffd.png 1024w"
loading="lazy"
alt="è¿è¡Œæˆªå›¾"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;h3 id="å®‰è£…åº”ç”¨åŠå¼€å…³æœº">&lt;a href="#%e5%ae%89%e8%a3%85%e5%ba%94%e7%94%a8%e5%8f%8a%e5%bc%80%e5%85%b3%e6%9c%ba" class="header-anchor">&lt;/a>å®‰è£…åº”ç”¨åŠå¼€å…³æœº
&lt;/h3>&lt;p>å‘ReDroidå®‰è£…åº”ç”¨ï¼Œåªéœ€è¦ä½¿ç”¨adbå³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">adb -s localhost:5555 install &lt;span class="s2">&amp;#34;/mnt/data/Downloads/mrfz_2.0.11_20230605_102450_87eb5.apk&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¼€å…³æœºä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€å¯¹dockerå®¹å™¨è¿›è¡Œæ“ä½œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo docker stop redroid11 &lt;span class="c1">#å…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo docker start redroid11 &lt;span class="c1">#å¼€æœº&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="maaé…ç½®">&lt;a href="#maa%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>MAAé…ç½®
&lt;/h2>&lt;p>MAAä½œä¸ºè‡ªåŠ¨åŒ–çš„æŒ‚æœº&lt;del>é•¿è‰&lt;/del>ç¥å™¨ï¼Œè‚¯å®šæ˜¯è¦å®‰æ’ä¸Šçš„ã€‚&lt;/p>
&lt;h3 id="å®‰è£…maa">&lt;a href="#%e5%ae%89%e8%a3%85maa" class="header-anchor">&lt;/a>å®‰è£…MAA
&lt;/h3>&lt;p>&lt;del>Archç”¨æˆ·ç›´æ¥aurå®‰è£…å³å¯&lt;/del>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">yay -S maa-assistant-arknights
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä½¿ç”¨yayå®‰è£…æ—¶ï¼Œä¼šå®‰è£…è®¸å¤šç”¨ä¸åˆ°çš„åº“ï¼Œè€Œä¸”ä¼šå› ä¸ºä¾èµ–é”™è¯¯è€Œæ— æ³•å®‰è£…ã€‚æ•…è¿˜æ˜¯å»&lt;a class="link" href="https://maa.plus/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸‹è½½å‹ç¼©åŒ…è§£å‹ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="é…ç½®maa">&lt;a href="#%e9%85%8d%e7%bd%aemaa" class="header-anchor">&lt;/a>é…ç½®MAA
&lt;/h3>&lt;p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹&lt;code>./MAA-v{ç‰ˆæœ¬å·}-linux-{æ¶æ„}/Python/&lt;/code> ç›®å½•ä¸‹çš„ &lt;code>sample.py&lt;/code> æ–‡ä»¶&lt;/p>
&lt;p>é¦–å…ˆéœ€è¦é…ç½®adbè¿æ¥ï¼Œç”±äºæˆ‘ä»¬ä¹‹å‰å·²ç»å®‰è£…è¿‡adbäº†ï¼Œè¿™é‡Œç›´æ¥æ›¿æ¢åœ°å€å³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">connect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;adb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;127.0.0.1:5555&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ&lt;code>python sample.py&lt;/code>ï¼Œå¦‚æœè¾“å‡º&lt;code>è¿æ¥æˆåŠŸ&lt;/code>åˆ™é…ç½®æˆåŠŸ&lt;/p>
&lt;p>ä¹‹åæˆ‘ä»¬éœ€è¦é…ç½®MAAçš„ä»»åŠ¡ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://maa.plus/docs/3.1-%E9%9B%86%E6%88%90%E6%96%87%E6%A1%A3.html" target="_blank" rel="noopener"
>å®˜æ–¹çš„æ–‡æ¡£&lt;/a>è¿›è¡Œä¿®æ”¹&lt;/p>
&lt;p>è¿™é‡Œé™„ä¸Šæˆ‘çš„é…ç½®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;StartUp&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Fight&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;stage&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># å…³å¡åï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºç©ºï¼Œè¯†åˆ«å½“å‰/ä¸Šæ¬¡çš„å…³å¡ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;report_to_penguin&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ˜¯å¦æ±‡æŠ¥ä¼é¹…æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;expiring_medicine&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">999&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æœ€å¤§ä½¿ç”¨ 48 å°æ—¶å†…è¿‡æœŸç†æ™ºè¯æ•°é‡ï¼Œå¯é€‰ï¼Œé»˜è®¤ 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># &amp;#39;penguin_id&amp;#39;: &amp;#39;1234567&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Recruit&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;enable&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ˜¯å¦å¯ç”¨æœ¬ä»»åŠ¡ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸º true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;select&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="c1"># ä¼šå»ç‚¹å‡»æ ‡ç­¾çš„ Tag ç­‰çº§ï¼Œå¿…é€‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;confirm&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;times&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Infrast&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;facility&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mfg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Trade&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Control&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Power&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Reception&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Office&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Dorm&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;drones&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Money&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ— äººæœºç”¨é€” &amp;#34;_NotUse&amp;#34;ã€&amp;#34;Money&amp;#34;ã€&amp;#34;SyntheticJade&amp;#34;ã€&amp;#34;CombatRecord&amp;#34;ã€&amp;#34;PureGold&amp;#34;ã€&amp;#34;OriginStone&amp;#34;ã€&amp;#34;Chip&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;replenish&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># è´¸æ˜“ç«™â€œæºçŸ³ç¢ç‰‡â€æ˜¯å¦è‡ªåŠ¨è¡¥è´§,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;dorm_trust_enabled&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="c1"># æ˜¯å¦å°†å®¿èˆå‰©ä½™ä½ç½®å¡«å…¥ä¿¡èµ–æœªæ»¡å¹²å‘˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Visit&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Mall&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;shopping&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;buy_first&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;æ‹›è˜è®¸å¯&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;é¾™é—¨å¸&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;blacklist&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;å®¶å…·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ç¢³&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Award&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®å¥½ååªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥æ‰§è¡Œè„šæœ¬äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">python sample.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ„‰å¿«çš„æŒ‚æœºäº†ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä½“åŠ›è¢«æµªè´¹äº†ï¼ˆé›¾&lt;/p>
&lt;p>ç”±äºReDroidæ˜¯åŸºäºDokcerçš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€å¯ä»¥å°†å…¶é…ç½®åˆ°æœåŠ¡å™¨ä¸Šï¼Œå°±å¯ä»¥å®ç°24å°æ—¶è‡ªåŠ¨æŒ‚æœºäº†ã€‚ä¸è¿‡ï¼Œè¦æƒ³æµç•…çš„è¿è¡Œæ–¹èˆŸï¼Œæœ€å¥½è¿˜æ˜¯æœ‰4Gä»¥ä¸Šçš„å†…å­˜ï¼Œç›®å‰æˆ‘çš„æœåŠ¡å™¨è¿˜æ²¡æœ‰è¿™ä¹ˆå¤§çš„å†…å­˜ï¼Œä¹‹åæœ‰æœºä¼šå†å°è¯•å§ã€‚&lt;/p></description></item><item><title>è®©Hugoä¼˜é›…çš„æ˜¾ç¤ºå…¬å¼</title><link>https://lbqaq.top/p/latex-in-hugo/</link><pubDate>Mon, 02 Jan 2023 22:19:15 +0800</pubDate><guid>https://lbqaq.top/p/latex-in-hugo/</guid><description>&lt;img src="https://lbqaq.top/p/latex-in-hugo/103706981.webp" alt="Featured image of post è®©Hugoä¼˜é›…çš„æ˜¾ç¤ºå…¬å¼" />&lt;p>ç»§ä¸Šæ–‡ã€Š&lt;a class="link" href="https://lbqaq.top/p/latex-in-ppt/" target="_blank" rel="noopener"
>åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼&lt;/a>ã€‹åï¼Œæ²¡æƒ³åˆ°æˆ‘åˆé‡åˆ°äº†LaTeXç›¸å…³çš„é—®é¢˜ï¼Œè¿™æ¬¡æ˜¯æˆ‘åšå®¢æ— æ³•æ­£ç¡®çš„æ˜¾ç¤ºå…¬å¼äº†ã€‚å½“ç„¶ï¼Œæœ€ç®€å•å’Œç²—æš´çš„æ–¹æ³•å°±æ˜¯ç›´æ¥è½¬æˆå›¾ç‰‡ï¼Œä½†æœ¬ç€èƒ½æŠ˜è…¾å°±æŠ˜è…¾çš„ç²¾ç¥ï¼Œè¿˜æ˜¯ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•ä¼˜é›…çš„è§£å†³ã€‚&lt;/p>
&lt;h2 id="é—®é¢˜å¤ç°">&lt;a href="#%e9%97%ae%e9%a2%98%e5%a4%8d%e7%8e%b0" class="header-anchor">&lt;/a>é—®é¢˜å¤ç°
&lt;/h2>&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926.png"
width="875"
height="69"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926_hu_cbab972e177861d4.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926_hu_8731ba20f343636b.png 1024w"
loading="lazy"
alt="é”™è¯¯çš„å…¬å¼æ¸²æŸ“"
class="gallery-image"
data-flex-grow="1268"
data-flex-basis="3043px"
>&lt;/p>
&lt;p>ç”±äºåœ¨LaTeXè¯­æ³•ä¸­ï¼Œ&lt;code>_&lt;/code>æ˜¯ç”¨æ¥è¡¨ç¤ºä¸‹æ ‡ï¼Œç”±äºä¸‹æ ‡ç»å¸¸è¢«ä½¿ç”¨ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå¯¼è‡´ä¸€å¥è¯ä¸­å‡ºç°ä¸¤ä¸ª&lt;code>_&lt;/code>ã€‚è€Œåœ¨Markdownè¯­æ³•é‡Œï¼Œä¸‹åˆ’çº¿æ˜¯è¡¨ç¤ºæ–œä½“çš„æ„æ€ï¼Œäºæ˜¯Hugoå°±ä¼šå°†å…¶è½¬ä¹‰æˆ&lt;code>&amp;lt;em&amp;gt;&lt;/code>æ ‡ç­¾ï¼Œå¯¼è‡´å…¬å¼æ ¼å¼é”™è¯¯ï¼Œä»è€Œä½¿KaTeXæ— æ³•æ­£ç¡®æ¸²æŸ“ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149.png"
width="1055"
height="31"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149_hu_f9c7f6f1af2ce325.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149_hu_90df279da84943fa.png 1024w"
loading="lazy"
alt="hugoè½¬ä¹‰åçš„ä»£ç "
class="gallery-image"
data-flex-grow="3403"
data-flex-basis="8167px"
>&lt;/p>
&lt;p>è¿™å°±å¾ˆç¬¨äº†ï¼Œæœ¬åœ°çš„Markdownç¼–è¾‘å™¨éƒ½æ²¡æœ‰å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œæ€ä¹ˆåˆ°ä½ Hugoè¿™å°±æ‹‰äº†å‘¢ï¼Ÿ&lt;/p>
&lt;p>&lt;a class="link" href="https://discourse.gohugo.io/t/is-there-any-way-to-ignore-underscore-when-rendering-markdown/5801" target="_blank" rel="noopener"
>Is there any way to ignore underscore when rendering markdown? - support - HUGO (gohugo.io)&lt;/a>&lt;/p>
&lt;p>æœ‰è¿™æ ·é—®é¢˜çš„äººä¹Ÿä¸æ­¢æˆ‘ä¸€ä¸ªï¼Œå®˜æ–¹è®ºå›ä¸Šæ—©åœ¨2017å¹´å°±æœ‰äººæé—®äº†ï¼Œé‚£ä¹ˆå®˜æ–¹çš„ç­”å¤æ˜¯ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440.png"
width="388"
height="508"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440_hu_91e32029ec0a2faa.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440_hu_a3db618d1a460bf.png 1024w"
loading="lazy"
alt="å–œå¤šå¯çˆ±æ"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>&lt;/p>
&lt;p>æ²¡é”™ï¼Œå®˜æ–¹å¹¶æ²¡æœ‰ç»™å‡ºå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªæœ‰åœ¨æ–‡æ¡£ä¸­ç¨å¾®æåˆ°äº†ä¸€å˜´ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code>pandoc&lt;/code>æ¥è¿›è¡ŒMarkdownçš„è½¬ä¹‰ã€‚&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ğŸ¤”æœ¬æ¥ç”¨ä½ å°±æ˜¯å›¾ä½ çš„ç”Ÿæˆé€Ÿåº¦å¿«ï¼Œè¿™è°ƒç”¨å…¶ä»–ç¨‹åºåï¼Œè¿™é€Ÿåº¦ä¸å°±æ…¢äº†æ²¡ä¼˜åŠ¿äº†å—ã€‚&lt;/p>
&lt;p>æ²¡åŠæ³•ï¼Œè¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹è§£å†³å§ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ¡ˆ">&lt;a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="header-anchor">&lt;/a>è§£å†³æ–¹æ¡ˆ
&lt;/h2>&lt;p>åœ¨æœç´¢è¿‡åï¼Œç½‘ä¸Šç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä¸‹åˆ’çº¿å‰é¢åŠ ä¸Š&lt;code>\&lt;/code>ï¼Œé¿å…è¢«Hugoè¿›è¡Œè½¬ä¹‰ã€‚ä½†æ˜¯å¦‚æœåœ¨å†™æ–‡æ¡£çš„æ—¶å€™å°±åŠ ä¸Šçš„è¯ï¼Œå°±ä¼šå¯¼è‡´æœ¬åœ°å…¬å¼æ— æ³•æ­£ç¡®æ¸²æŸ“ï¼Œæ‰€ä»¥è¾¹å†™è¾¹åŠ æ˜¯è‚¯å®šä¸å¯èƒ½äº†ã€‚å†™å®Œåæ‰‹åŠ¨æ·»åŠ ï¼Œå¦‚æœæ˜¯ä¸€ä¸¤ä¸ªè¿˜å¥½ï¼Œä½†ä¸‹åˆ’çº¿åœ¨LaTeXé‡Œå®åœ¨æ˜¯å¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥æ‰‹å·¥ä¿®æ”¹ä¹Ÿä¸ç°å®ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œæˆ‘ä¾¿å†³å®šå†™ä¸ªå°ç¨‹åºæ¥è‡ªåŠ¨ä¿®æ”¹ã€‚&lt;del>ç”±äºå¤©å¤©Apexå¤§è„‘é€€åŒ–ä¸¥é‡&lt;/del>ï¼Œæˆ‘å®åœ¨æƒ³ä¸åˆ°ä»€ä¹ˆæ¯”è¾ƒå¥½çš„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•ï¼Œåªå¥½ç”¨éå†å¤§æ³•ã€‚ï¼ˆè¿™æ—¢è§†æ„Ÿï¼Œç¼–è¯‘åŸç†ï¼šâ€¦â€¦ï¼Œä»€ä¹ˆâ€¦â€¦åœ¨æƒ³æˆ‘çš„äº‹æƒ…â€¦â€¦ï¼Ÿï¼‰&lt;/p>
&lt;p>ä¸ç©æ¢—äº†ï¼Œç›´æ¥ä¸Šä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;fstream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">DEBUG&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ifstream&lt;/span> &lt;span class="n">fin&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">argc&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;è¯·è¾“å…¥æ–‡ä»¶åç§°ï¼š&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">is_open&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;æ— æ³•æ‰“å¼€æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¯»å…¥æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">istreambuf_iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fin&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">istreambuf_iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;-----------------&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰€æœ‰æ•°å­¦å…¬å¼çš„å¼€å¤´å’Œç»“å°¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pair&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¼€å§‹å¯»æ‰¾æ‰€æœ‰æ•°å­¦å…¬å¼&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">is_double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">is_double&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;é”™è¯¯ï¼šç¼ºå°‘ç»“æŸç¬¦&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pair&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">math&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">substr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">math&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¯»æ‰¾å®Œæˆï¼Œå¼€å§‹å¤„ç†&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">first&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">second&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;_&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;{&amp;#39;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;}&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¤„ç†å®Œæˆï¼Œå¼€å§‹å†™å…¥æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ofstream&lt;/span> &lt;span class="n">fout&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">substr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">find_last_of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">location&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;index.md&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">fout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">is_open&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;æ— æ³•æ‰“å¼€æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºåªæ˜¯éšæ‰‹å†™çš„å°å·¥å…·ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰åˆ†å‡½æ•°å•¥çš„ï¼Œç›´æ¥å…¨æ”¾ä¸€èµ·äº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªç¨‹åºä¼šåŒ¹é…&lt;code>$...$&lt;/code>å’Œ&lt;code>$$...$$&lt;/code>è¿™ä¸¤ç§æ ¼å¼ï¼Œå°†å…¶ä¸­æ‰€æœ‰çš„&lt;code>_&lt;/code>æ›¿æ¢ä¸º&lt;code>\_&lt;/code>ï¼Œæ‰€æœ‰çš„&lt;code>\\&lt;/code>æ›¿æ¢ä¸º&lt;code>\\\\&lt;/code>ï¼ŒåŒæ—¶å°†æ–‡ä»¶åœ¨åŸä½ç½®ä¿å­˜ä¸º&lt;code>index.md&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™æ ·æ¯æ¬¡å†™å¥½æ–‡ç« ï¼Œåªè¦å°†å…¶æ‹–åˆ°è¯¥ç¨‹åºä¸Šå°±èƒ½è‡ªåŠ¨è½¬æ¢å®Œæˆäº†ã€‚&lt;/p>
&lt;p>è¿™æ ·å°±èƒ½ç¡®ä¿æœ¬åœ°æŸ¥çœ‹ç¼–è¾‘å’Œç½‘é¡µéƒ½å¯ä»¥æ­£ç¡®æ˜¾ç¤ºå…¬å¼äº†ã€‚ç¼ºç‚¹åˆ™æ˜¯æ¯ä¸ªæœ‰å…¬å¼çš„æ–‡ä»¶éƒ½ä¼šå¤šä¿å­˜ä¸€ä»½ï¼Œä¸è¿‡æ–‡æœ¬æ–‡ä»¶å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¹Ÿæ— ä¼¤å¤§é›…ã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œè¿™ä¸ªç¨‹åºè¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œæ¯”å¦‚è‡ªåŠ¨å¯¹å«æœ‰å…¬å¼çš„æ–‡ç« è¿›è¡Œå¤„ç†ç­‰ç­‰ã€‚ä¸è¿‡çœ‹è¿™æˆ‘æ–‡ç« æ›´æ–°çš„é€Ÿåº¦ğŸ•Šï¸ï¼Œæ‰‹åŠ¨æ‹–ä¸€ä¸‹è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚&lt;/p>
&lt;h2 id="æ›´æ–°è®°å½•">&lt;a href="#%e6%9b%b4%e6%96%b0%e8%ae%b0%e5%bd%95" class="header-anchor">&lt;/a>æ›´æ–°è®°å½•
&lt;/h2>&lt;p>&lt;strong>2023.7.20ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¢åŠ å¯¹&lt;code>\{&lt;/code>å’Œ&lt;code>\}&lt;/code>çš„å¤„ç†&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2023.1.3ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¢åŠ å¯¹&lt;code>\\&lt;/code>çš„å¤„ç†&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/formats/#external-helpers" target="_blank" rel="noopener"
>Content Formats |Hugo (gohugo.io)&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼</title><link>https://lbqaq.top/p/latex-in-ppt/</link><pubDate>Sat, 31 Dec 2022 15:25:22 +0800</pubDate><guid>https://lbqaq.top/p/latex-in-ppt/</guid><description>&lt;img src="https://lbqaq.top/p/latex-in-ppt/102317894.webp" alt="Featured image of post åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼" />&lt;p>æœ€è¿‘ï¼Œéœ€è¦æˆ‘åœ¨PPTä¸­æ’å…¥å…¬å¼çš„æ¬¡æ•°è¶Šæ¥è¶Šå¤šäº†ã€‚æœ€ä¼ ç»Ÿçš„åŠæ³•è‡ªç„¶æ˜¯å°†å…¬å¼ç”Ÿæˆå¥½åç›´æ¥è¿›è¡Œæˆªå›¾æ’å…¥ï¼Œä½†è¿™ç§æ–¹å¼è¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ï¼Œå¦‚æœéœ€è¦è°ƒèŠ‚å¤§å°ä¹Ÿååˆ†çš„éº»çƒ¦ï¼Œäºæ˜¯æˆ‘ä¾¿é€šè¿‡æ£€ç´¢æ‰¾åˆ°äº†ä¸¤ç§æ’å…¥å…¬å¼çš„æ–¹æ³•ï¼Œåœ¨æ­¤åšä¸€ä¸ªè®°å½•ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨åŸç”Ÿçš„å…¬å¼åŠŸèƒ½">&lt;a href="#%e4%bd%bf%e7%94%a8%e5%8e%9f%e7%94%9f%e7%9a%84%e5%85%ac%e5%bc%8f%e5%8a%9f%e8%83%bd" class="header-anchor">&lt;/a>ä½¿ç”¨åŸç”Ÿçš„å…¬å¼åŠŸèƒ½
&lt;/h2>&lt;p>2202å¹´äº†ï¼Œå¦‚æœè¯´PowerPointæœ¬èº«ä¸æ”¯æŒLaTeXå…¬å¼é‚£å°±å¤§é”™ç‰¹é”™äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>å°†LaTeXä»£ç æ’å…¥åˆ°æ–‡æœ¬æ¡†ä¸­&lt;/li>
&lt;li>é€‰ä¸­åˆšåˆšè¾“å…¥çš„ä»£ç ï¼Œä¾æ¬¡ç‚¹å‡»åŠŸèƒ½åŒºä¸Šçš„â€œæ’å…¥â€â€”â€”â€œå…¬å¼â€â€”â€”â€œä¸“ç”¨â€&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477.png"
width="1373"
height="143"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477_hu_a8630a60dddc51c.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477_hu_15e7424d8501a860.png 1024w"
loading="lazy"
alt="å…¬å¼æŒ‰é’®"
class="gallery-image"
data-flex-grow="960"
data-flex-basis="2304px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636.png"
width="725"
height="220"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636_hu_53bb70b7107712a5.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636_hu_fbc5da826dd19075.png 1024w"
loading="lazy"
alt="ä¸“ç”¨æŒ‰é’®åŠæ˜¾ç¤ºæ•ˆæœ"
class="gallery-image"
data-flex-grow="329"
data-flex-basis="790px"
>&lt;/p>
&lt;p>åªéœ€è¦ç®€å•ä¸¤æ­¥å³å¯è½¬æ¢å®Œæˆã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å´å­˜åœ¨å¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯æ”¯æŒçš„å…¬å¼å¤ªå°‘äº†ï¼Œä¸€äº›ç®€å•çš„å…¬å¼è¿˜å¯ä»¥æˆåŠŸè½¬æ¢ï¼Œä½†å¦‚æœæ˜¯å…¬å¼å—æˆ–è€…ç”¨äº†ä¸€äº›å®åŒ…ï¼Œå°±ä¼šå¯¼è‡´è½¬æ¢ä¸å‡ºæ¥ã€‚&lt;/p>
&lt;p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹å°±æ˜¯æ— éœ€é¢å¤–é…ç½®ï¼Œä»¥åŠå¯ä»¥ä¸æ–‡å­—æ”¾åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿æ’ç‰ˆã€‚ä½†å¦‚æœä½ çš„å…¬å¼æ¯”è¾ƒå¤æ‚ï¼Œé‚£æˆ‘è¿˜æ˜¯æ¨èä¸‹é¢çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨iguanatexæ’ä»¶">&lt;a href="#%e4%bd%bf%e7%94%a8iguanatex%e6%8f%92%e4%bb%b6" class="header-anchor">&lt;/a>ä½¿ç”¨IguanaTexæ’ä»¶
&lt;/h2>&lt;p>è¦è¯´å¯¹LaTeXæ”¯æŒæœ€å¥½çš„ï¼Œé‚£è‚¯å®šå°±æ˜¯ä½¿ç”¨ä½ ç”µè„‘ä¸Šå®‰è£…å¥½çš„å‘è¡Œç‰ˆè¿›è¡Œç”Ÿæˆï¼ŒIguanaTexæ’ä»¶å°±æ˜¯åŸºäºè¿™ç§æ–¹å¼å®ç°çš„ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æƒ³è¦ä½¿ç”¨IguanaTexï¼Œä½ å¿…é¡»è¦å‡†å¤‡å¥½ä¸€ä¸ªLaTeXå‘è¡Œç‰ˆï¼Œæˆ‘è¿™é‡Œæ¨è&lt;a class="link" href="https://miktex.org/" target="_blank" rel="noopener"
>MiKTeX&lt;/a>ï¼Œå®ƒä¸ä¼šå®‰è£…å®Œæ•´çš„å®åŒ…è€Œæ˜¯åœ¨ä½ éœ€è¦çš„æ—¶å€™è¿›è¡Œå®‰è£…ï¼Œé¿å…å ç”¨è¿‡å¤§çš„ç©ºé—´ï¼Œå…·ä½“çš„å®‰è£…æ–¹æ³•è¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>åœ¨&lt;a class="link" href="https://www.jonathanleroux.org/software/iguanatex/download.html" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸Šä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼Œä¸‹è½½åç¼€åä¸º&lt;code>ppam&lt;/code>çš„æ–‡ä»¶æ”¾å…¥&lt;code>C:\Users\%APPDATA%\Microsoft\AddIns&lt;/code>ç›®å½•ä¸­&lt;/li>
&lt;li>æ‰“å¼€PPTï¼Œä¾æ­¤é€‰æ‹©ï¼š &lt;strong>æ–‡ä»¶&lt;/strong>-&amp;gt;&lt;strong>é€‰é¡¹&lt;/strong>-&amp;gt;&lt;strong>åŠ è½½é¡¹&lt;/strong>-&amp;gt;&lt;strong>ç®¡ç†&lt;/strong>ï¼ˆä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©ï¼š&lt;strong>PowerPointåŠ è½½é¡¹&lt;/strong>ï¼‰-&amp;gt;&lt;strong>è½¬åˆ°&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293.png"
width="836"
height="717"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293_hu_ff5696e038a7072e.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293_hu_a47b5ef64b720b7.png 1024w"
loading="lazy"
alt="åŠ è½½é¡¹é€‰æ‹©"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="279px"
>&lt;/p>
&lt;ol start="3">
&lt;li>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©ï¼š &lt;strong>æ·»åŠ &lt;/strong>-&amp;gt;é€‰æ‹©åˆšä¸‹è½½çš„æ’ä»¶æ–‡ä»¶&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275.png"
width="384"
height="372"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275_hu_40654cc81b32f730.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275_hu_401c9fac4f9fd4bf.png 1024w"
loading="lazy"
alt="åŠ è½½é¡¹"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;ol start="4">
&lt;li>æ­¤æ—¶åŠŸèƒ½åŒºä¸Šé¢å°±å·²ç»æœ‰äº†IguanaTexï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ª&lt;code>New LaTeX display&lt;/code>å°±å¯ä»¥æ’å…¥å…¬å¼äº†ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ç‚¹å‡»&lt;code>Main Settings&lt;/code>æ¥è¿›è¡Œä¿®æ”¹ç›¸å…³è®¾ç½®ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417.png"
width="703"
height="139"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417_hu_b9cb2fec662c6715.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417_hu_1593e3141ed62626.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="505"
data-flex-basis="1213px"
>&lt;/p>
&lt;ol start="5">
&lt;li>æˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¿®æ”¹ä¸´æ—¶æ–‡ä»¶ä½ç½®ä»¥åŠå›¾ç‰‡ç”Ÿæˆçš„æ–¹å¼&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982.png"
width="411"
height="563"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982_hu_2bd21c99638a8f74.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982_hu_6e4cb0d4e1be723.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="73"
data-flex-basis="175px"
>&lt;/p>
&lt;p>æˆ‘æ¨èå°†&lt;code>Output&lt;/code>ä¿®æ”¹æˆ&lt;code>Vector&lt;/code>ï¼Œè¿™æ ·ç”Ÿæˆçš„å…¬å¼å°±æ˜¯çŸ¢é‡å½¢çŠ¶ï¼Œå³ä½¿æ”¾å¤§ä¹Ÿä¸ä¼šå˜å½¢ã€‚&lt;/p>
&lt;p>ä¸‹é¢å°±æ˜¯ç”Ÿæˆçš„å…¬å¼ï¼Œå¯ä»¥çœ‹å‡ºæ¯ä¸ªå­—æ¯éƒ½æ˜¯å›¾å½¢ã€‚åŒæ—¶å…¬å¼ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥æ’ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191.png"
width="464"
height="151"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191_hu_8144fbd88f9d5e2a.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191_hu_26035ed28739eae2.png 1024w"
loading="lazy"
alt="ç”Ÿæˆå…¬å¼"
class="gallery-image"
data-flex-grow="307"
data-flex-basis="737px"
>&lt;/p>
&lt;p>ç»¼ä¸Šï¼Œä¸ªäººæ¨èè¿˜æ˜¯ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå”¯ä¸€éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯ä½ éœ€è¦è‡ªå¤‡LaTeXç¯å¢ƒã€‚&lt;/p>
&lt;p>&lt;del>æœ€è¿‘çš„æ–‡ç« çœŸçš„æ˜¯è¶Šæ¥è¶Šæ°´äº†QAQ&lt;/del>&lt;/p></description></item><item><title>ç®€æ˜“Magiskæ¨¡å—çš„åˆ¶ä½œ</title><link>https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/</link><pubDate>Fri, 07 Oct 2022 11:30:17 +0800</pubDate><guid>https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/</guid><description>&lt;img src="https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/95936465.webp" alt="Featured image of post ç®€æ˜“Magiskæ¨¡å—çš„åˆ¶ä½œ" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>è¯´åˆ°ææœºï¼Œé‚£è‚¯å®šç»•ä¸å¼€å¤§åé¼é¼çš„&lt;a class="link" href="https://github.com/topjohnwu/Magisk" target="_blank" rel="noopener"
>Magisk&lt;/a>ã€‚å°±æˆ‘æ¥è¯´ï¼Œ&lt;code>root&lt;/code>å®Œååšçš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å®‰è£…å„ç§å„æ ·çš„æ¨¡å—ï¼Œä½†æ˜¯ï¼Œæˆ‘å´ä»æ¥æ²¡æœ‰ç ”ç©¶è¿‡Magiskçš„å†…å®¹ã€‚åŒæ—¶ï¼Œç°åœ¨ä¹Ÿæœ‰è®¸å¤šå¿ƒæ€€ä¸è½¨çš„äººåˆ¶ä½œé”æœºæ¨¡å—éª—äººåˆ·å…¥ã€‚æ‰€ä»¥ï¼Œäº†è§£Magiskæ¨¡å—çš„ä¸€äº›åŸºæœ¬å†…å®¹å°±æ˜¾å¾—æ¯”è¾ƒé‡è¦äº†ã€‚&lt;/p>
&lt;h2 id="è®¤è¯†magiskæ¨¡å—">&lt;a href="#%e8%ae%a4%e8%af%86magisk%e6%a8%a1%e5%9d%97" class="header-anchor">&lt;/a>è®¤è¯†Magiskæ¨¡å—
&lt;/h2>&lt;p>æ ¹æ®å®˜æ–¹çš„æ–‡æ¡£ï¼Œä¸€ä¸ªå…¸å‹çš„Magiskæ¨¡å—çš„ç›®å½•åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">module.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ META-INF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ google
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ android
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ update-binary &amp;lt;--- ä»å®˜æ–¹ä»“åº“ä¸Šä¸‹è½½çš„module_installer.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ updater-script &amp;lt;--- åªæœ‰ä¸€è¡Œæ–‡å­—ä¸º &amp;#34;#MAGISK&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ module.prop &amp;lt;--- æ¨¡å—çš„æ ‡è¯†ä¿¡æ¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ customize.sh &amp;lt;--- (å¯é€‰)ç”¨äºè‡ªå®šä¹‰æ¨¡å—å®‰è£…è¿‡ç¨‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ... /* æ¨¡å—çš„å…¶ä½™æ–‡ä»¶ */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œ&lt;code>META-INF&lt;/code>ç›®å½•æ˜¯ç”±å®˜æ–¹æä¾›ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬è¿›è¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;h3 id="moduleprop">&lt;a href="#moduleprop" class="header-anchor">&lt;/a>module.prop
&lt;/h3>&lt;p>è¿™ä¸ªæ–‡ä»¶æ˜¯æ¨¡å—çš„æ ‡è¯†ä¿¡æ¯ï¼Œæ¨¡å—çš„åŸºæœ¬ä¿¡æ¯å°±å­˜æ”¾åœ¨è¿™é‡Œï¼Œæ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ã€‚&lt;sup id="fnref1:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">id=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">name=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">version=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">versionCode=&amp;lt;int&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">updateJson=&amp;lt;url&amp;gt; (optional)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å„é”®å€¼çš„ä½œç”¨è¯´æ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åç§°&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>id&lt;/td>
&lt;td>æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œéœ€ç¬¦åˆè¯¥æ­£åˆ™è¡¨è¾¾å¼&lt;code>^[a-zA-Z][a-zA-Z0-9._-]+$&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>name&lt;/td>
&lt;td>æ¨¡å—åç§°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>version&lt;/td>
&lt;td>æ¨¡å—ç‰ˆæœ¬å·&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>versionCode&lt;/td>
&lt;td>æ¨¡å—ç‰ˆæœ¬æ ‡è¯†ï¼Œå¿…é¡»ä¸ºæ•´æ•°ï¼Œç”¨äºæ›´æ–°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>author&lt;/td>
&lt;td>ä½œè€…ä¿¡æ¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>description&lt;/td>
&lt;td>æ¨¡å—æè¿°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>updateJson&lt;/td>
&lt;td>æ›´æ–°ä¿¡æ¯é“¾æ¥ï¼Œç°åœ¨Magiskç§»é™¤äº†å†…éƒ¨çš„æ›´æ–°åŠŸèƒ½ï¼Œè¿™ä¸ªå±æ€§åº”è¯¥æ˜¯æ— ç”¨äº†&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="systemæ–‡ä»¶å¤¹">&lt;a href="#system%e6%96%87%e4%bb%b6%e5%a4%b9" class="header-anchor">&lt;/a>systemæ–‡ä»¶å¤¹
&lt;/h3>&lt;p>Magiskçš„ä¸€ä¸ªä¸»è¦ä½œç”¨å°±æ˜¯å¯¹ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œæ³¨å…¥æˆ–æ›¿æ¢ï¼Œåªè¦å°†æ–‡ä»¶æŒ‰é¡ºåºæ”¾å…¥æ­¤ç›®å½•ä¸­å³å¯ã€‚ä¾‹å¦‚æˆ‘æƒ³ä¿®æ”¹hostsæ–‡ä»¶ï¼Œåªéœ€è¦å°†ä¿®æ”¹å¥½çš„hostsæ–‡ä»¶æ”¾å…¥&lt;code>system/etc&lt;/code>è¿™ä¸ªç›®å½•ä¸‹ï¼ŒMagiskå°±ä¼šè‡ªåŠ¨å°†å…¶æ›¿æ¢äº†ã€‚&lt;/p>
&lt;p>å¦‚æœè¦æ›¿æ¢&lt;code>/vendor&lt;/code>ã€&lt;code>/product&lt;/code>æˆ–&lt;code>/system_ext&lt;/code>ä¸­çš„æ–‡ä»¶ï¼Œåªéœ€å°†å®ƒä»¬åˆ†åˆ«æ”¾åœ¨&lt;code>system/vendor&lt;/code>ã€&lt;code>system/product&lt;/code>å’Œ&lt;code>system/system_ext&lt;/code>ä¸‹ã€‚Magiskå°±ä¼šè‡ªåŠ¨æ›¿æ¢å®Œæˆã€‚&lt;/p>
&lt;h3 id="customizesh">&lt;a href="#customizesh" class="header-anchor">&lt;/a>customize.sh
&lt;/h3>&lt;p>è¿™æ˜¯è‡ªå®šä¹‰æ¨¡å—å®‰è£…è¿‡ç¨‹ï¼Œå¦‚æœåªæ˜¯ç®€å•çš„æ›¿æ¢æ–‡ä»¶å°±ä¸éœ€è¦ç”¨åˆ°å®ƒã€‚ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸æ˜¯ä»…éœ€æ›¿æ¢æ–‡ä»¶ï¼Œè¿˜éœ€è¦æ‰§è¡Œä¸€äº›è„šæœ¬ï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨åˆ°å®ƒäº†ã€‚&lt;/p>
&lt;p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œæ”¯æŒä»¥ä¸‹çš„ç¯å¢ƒå˜é‡ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å˜é‡å&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>MAGISK_VER (string)&lt;/td>
&lt;td>å½“å‰å®‰è£…çš„Magiskçš„ç‰ˆæœ¬å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚v20.0ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MAGISK_VER_CODE (int)&lt;/td>
&lt;td>å½“å‰å®‰è£…çš„Magiskçš„ç‰ˆæœ¬ä»£ç ï¼ˆä¾‹å¦‚20000ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>BOOTMODE (bool)&lt;/td>
&lt;td>å¦‚æœæ¨¡å—æ­£åœ¨Magiskåº”ç”¨ç¨‹åºä¸­å®‰è£…ï¼Œåˆ™ä¸ºtrue&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MODPATH (path)&lt;/td>
&lt;td>å®‰è£…æ¨¡å—æ–‡ä»¶çš„è·¯å¾„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>TMPDIR (path)&lt;/td>
&lt;td>å¯ä»¥ä¸´æ—¶å­˜å‚¨æ–‡ä»¶çš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ZIPFILE (path)&lt;/td>
&lt;td>æ‚¨çš„æ¨¡å—çš„å®‰è£…zip&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ARCH (string)&lt;/td>
&lt;td>è®¾å¤‡çš„CPUæ¶æ„ï¼Œå€¼å¯ä»¥æ˜¯&lt;code>arm&lt;/code>ã€&lt;code>arm 64&lt;/code>ã€&lt;code>x86&lt;/code>æˆ–&lt;code>x64&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>IS64BIT (bool)&lt;/td>
&lt;td>å¦‚æœ&lt;code>$ARCH&lt;/code>ä¸º&lt;code>arm 64&lt;/code>æˆ–&lt;code>x64&lt;/code>ï¼Œåˆ™ä¸ºtrue&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>API (int)&lt;/td>
&lt;td>è®¾å¤‡çš„APIçº§åˆ«ï¼ˆAndroidç‰ˆæœ¬ï¼‰ï¼ˆä¾‹å¦‚ï¼ŒAndroid 5.0ä¸º21ï¼‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä»¥åŠä»¥ä¸‹çš„å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>ui_print &amp;lt;msg&amp;gt;&lt;/code>ï¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºä¿¡æ¯&lt;/li>
&lt;li>&lt;code>abort &amp;lt;msg&amp;gt;&lt;/code>ï¼šå°†é”™è¯¯æ¶ˆæ¯æ‰“å°åˆ°æ§åˆ¶å°å¹¶ç»ˆæ­¢å®‰è£…&lt;/li>
&lt;li>&lt;code>set_perm&lt;/code>å’Œ&lt;code>set_perm_recursive&lt;/code>ï¼šä¿®æ”¹æ–‡ä»¶æƒé™&lt;/li>
&lt;/ul>
&lt;h2 id="å®è·µ">&lt;a href="#%e5%ae%9e%e8%b7%b5" class="header-anchor">&lt;/a>å®è·µ
&lt;/h2>&lt;h3 id="ä¿®æ”¹ç³»ç»Ÿhosts">&lt;a href="#%e4%bf%ae%e6%94%b9%e7%b3%bb%e7%bb%9fhosts" class="header-anchor">&lt;/a>ä¿®æ”¹ç³»ç»ŸHosts
&lt;/h3>&lt;p>æˆ‘ä¸€å¼€å§‹æƒ³ç ”ç©¶Magiskçš„å¥‘æœºï¼Œå°±æ˜¯æƒ³è¦ä¿®æ”¹æˆ‘æ‰‹æœºçš„Hostsæ–‡ä»¶ã€‚ä¸€å¼€å§‹æŒ‰ç™¾åº¦çš„æ•™ç¨‹åšï¼Œä½†æ²¡æœ‰æ•ˆæœï¼Œåæ¥å°±å°è¯•äº†ä¸€ä¸‹Magiskæ¨¡å—ï¼Œç›´æ¥å°±æˆåŠŸäº†ã€‚&lt;/p>
&lt;p>æœ‰äº†å‰é¢çŸ¥è¯†çš„é“ºå«ï¼Œæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å°±éå¸¸ç®€å•äº†ï¼Œä¸‹é¢åˆ—å‡ºæˆ‘ä»¬ç¨‹åºçš„ç›®å½•æ ‘ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ChangeHosts.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ META-INF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ google
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ android
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ update-binary
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ updater-script
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ module.prop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ etc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ hosts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®é™…æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†åªæœ‰&lt;code>module.prop&lt;/code>å’Œ&lt;code>hosts&lt;/code>ï¼Œ&lt;code>hosts&lt;/code>æ˜¯æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±åªè¦å…³æ³¨&lt;code>module.prop&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ChangeHosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ChangeHosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">v1.0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">versionCode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">author&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">luoboQAQ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ä¿®æ”¹hostsæ–‡ä»¶æ¥å±è”½å¹¿å‘Š&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤çœ‹æ¥ï¼Œå¦‚æœåªè¦æ›¿æ¢æ–‡ä»¶ï¼ŒåŸºæœ¬æ²¡æœ‰ä»»ä½•éš¾åº¦ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨dnscrypt-proxyå®ç°doh">&lt;a href="#%e4%bd%bf%e7%94%a8dnscrypt-proxy%e5%ae%9e%e7%8e%b0doh" class="header-anchor">&lt;/a>ä½¿ç”¨dnscrypt-proxyå®ç°DoH
&lt;/h3>&lt;p>è¿™éƒ¨åˆ†æˆ‘æ­£åœ¨ç ”ç©¶ï¼Œç­‰ç ”ç©¶æ˜ç™½äº†å°±è¡¥ä¸ŠğŸ•Šï¸ã€‚&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://topjohnwu.github.io/Magisk/guides.html" target="_blank" rel="noopener"
>Magiskå®˜æ–¹å¼€å‘æŒ‡å¯¼&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&amp;#160;&lt;a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>åœ¨Linuxä¸‹å®‰è£…SVP4</title><link>https://lbqaq.top/p/svp4inlinux/</link><pubDate>Tue, 23 Aug 2022 09:58:00 +0800</pubDate><guid>https://lbqaq.top/p/svp4inlinux/</guid><description>&lt;img src="https://lbqaq.top/p/svp4inlinux/100213137.webp" alt="Featured image of post åœ¨Linuxä¸‹å®‰è£…SVP4" />&lt;p>ä¹‹å‰åœ¨ã€Š&lt;a class="link" href="https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/" target="_blank" rel="noopener"
>å¦‚ä½•ä¼˜é›…çš„çœ‹ç•ª&lt;/a>ã€‹è¿™ç¯‡æ–‡ç« ä¸­æˆ‘æåˆ°äº†è¡¥å¸§çš„3æ¬¾è½¯ä»¶ï¼Œåœ¨Windowsç³»ç»Ÿä¸Šæˆ‘ä½¿ç”¨çš„æ˜¯dmitriRenderè¿™æ¬¾è½¯ä»¶ï¼Œè€Œå…¶å¹¶æ²¡æœ‰æä¾›Linuxç‰ˆæœ¬çš„ç¨‹åºã€‚ä¸ä¹‹ç›¸åçš„æ˜¯ï¼ŒSVPä¸ä½†æä¾›äº†Linuxç‰ˆæœ¬ï¼Œè€Œä¸”è¿˜æ˜¯å…è´¹çš„ã€‚&lt;/p>
&lt;p>ç”±äºå®˜æ–¹æ–‡æ¡£æ˜¯è‹±æ–‡ä¸”æœ‰äº›åœ°æ–¹æ²¡æœ‰è¡¨è¿°æ¸…æ¥šï¼Œè¿™é‡Œæˆ‘å°±å°†æˆ‘å®‰è£…å’Œé…ç½®çš„æ–¹å¼è®°å½•ä¸‹æ¥ä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>å¯¹äºArchç”¨æˆ·éå¸¸ç®€å•ï¼Œç›´æ¥&lt;code>yay -S svp-bin&lt;/code>å³å¯å®Œæˆå®‰è£…ã€‚&lt;/p>
&lt;p>å¯¹äºå…¶ä»–å‘è¡Œç‰ˆï¼Œå¯ä»¥é€‰æ‹©åœ¨&lt;a class="link" href="https://www.svp-team.com/zh/get/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸Šä¸‹è½½å¹¶å®‰è£…ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…æ’­æ”¾å™¨ï¼Œè¿™é‡Œæˆ‘æ¨èå®‰è£…VLCï¼Œå› ä¸ºå…¶å®‰è£…ç®€ä¾¿ï¼Œå¹¶ä¸”åé¢é…ç½®SVPä¹Ÿå¾ˆå®¹æ˜“ã€‚&lt;/p>
&lt;p>å®‰è£…ç›´æ¥è¾“å…¥&lt;code>sudo pacman -S vlc&lt;/code>å³å¯&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚æœéœ€è¦GPUåŠ é€Ÿï¼Œè¿˜éœ€è¦å®‰è£…ç›¸åº”çš„æ’ä»¶&lt;code>sudo pacman -S ocl-icd&lt;/code>ã€‚æˆ‘ä¹‹å‰å°±æ˜¯æ²¡æœ‰å®‰è£…ï¼Œå¯¼è‡´ä¸€ç›´æ— æ³•è¯»å–åˆ°æˆ‘çš„æ˜¾å¡ã€‚&lt;/p>
&lt;p>å®‰è£…å¥½åå°±å¯ä»¥åœ¨SVPèœå•â€”â€”åº”ç”¨ç¨‹åºè®¾ç½®â€”â€”GPUåŠ é€Ÿé‡Œçœ‹åˆ°ä½ çš„æ˜¾å¡äº†&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="é…ç½®">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é…ç½®
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>ä¿®æ”¹VLCæ’ä»¶ç›®å½•æƒé™ï¼Œä»¥ä¾¿SVPå†™å…¥æ’ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">777&lt;/span> /usr/lib/vlc/plugins/video_filter
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨SVPçš„èœå•é‡Œé€‰æ‹©â€œå·¥å…·â€â€”â€”â€œVLCçš„SVPæ’ä»¶â€ï¼Œå°†å…¶é€‰ä¸­&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ£€æŸ¥&lt;code>/usr/lib/vlc/plugins/video_filter&lt;/code>ç›®å½•ä¸‹çš„&lt;code>libsvpcontrol_plugin.so&lt;/code>å’Œ&lt;code>libvapoursynth_plugin.so&lt;/code>æ˜¯å¦æœ‰å¯æ‰§è¡Œæƒé™ï¼Œæˆ‘ä¹‹å‰å°±æ˜¯å› ä¸ºæ²¡æœ‰ç»™æ‰§è¡Œæƒé™ï¼Œå¯¼è‡´VLCä¸€ç›´ä¸ä¼šè°ƒç”¨SVP&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">chmod +x /usr/lib/vlc/plugins/video_filter/libsvpcontrol_plugin.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x /usr/lib/vlc/plugins/video_filter/libvapoursynth_plugin.so
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å®˜ç½‘è¡¨ç¤ºéœ€è¦å¼€å¯â€œåäº¤é”™â€æ‰ä¼šå¯ç”¨ï¼Œä½†å®æµ‹å¥½åƒä¸å¼€å¯ä¹Ÿå¯ä»¥è¿è¡Œã€‚&lt;/p>
&lt;p>å¦‚æœVLCåå¥½è®¾ç½®â€”â€”æ˜¾ç¤ºè®¾ç½®â€”â€”å…¨éƒ¨â€”â€”æ§åˆ¶ç•Œé¢æœ‰&lt;code>SVP control interface&lt;/code>&lt;/p>
&lt;p>ä»¥åŠæ»¤é•œé‡Œæœ‰&lt;code>Vapoursynth filter&lt;/code>å³è¡¨æ˜å®‰è£…æˆåŠŸäº†ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>å®˜ç½‘ä¸Šçš„å®‰è£…æ–‡æ¡£å†™äº†å¾ˆé•¿ï¼Œä½†å®é™…ä¸Šå¯¹äºVLCä½¿ç”¨SVPå¹¶ä¸å¤æ‚ï¼Œå¤æ‚çš„æ˜¯MPVä½¿ç”¨SVPã€‚æœ¬æ¥æ‰“ç®—é…å‡ å¼ å›¾çš„ï¼Œä½†å®é™…å†™ä¸‹æ¥ä¹Ÿæ²¡æœ‰å‘ç°éœ€è¦å›¾ç‰‡è¾…åŠ©è¯´æ˜çš„ï¼Œé‚£å°±ç®—äº†ï¼Œç›¸ä¿¡èªæ˜çš„ä½ ä¸€å®šèƒ½çœ‹æ‡‚ _(:Ğ·)âˆ )_&lt;/p></description></item><item><title>ä¸€æ­¥åˆ°ä½ï¼Œè‡ªåŠ¨ç”³è¯·SSLè¯ä¹¦</title><link>https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/</link><pubDate>Thu, 21 Jul 2022 19:05:52 +0800</pubDate><guid>https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/99528942.webp" alt="Featured image of post ä¸€æ­¥åˆ°ä½ï¼Œè‡ªåŠ¨ç”³è¯·SSLè¯ä¹¦" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>é˜¿é‡Œäº‘æœ€è¿‘å‘çŸ­ä¿¡ç»™æˆ‘ï¼Œæç¤ºæˆ‘ä¹‹å‰å…è´¹ç”³è¯·çš„SSLè¯ä¹¦è¦åˆ°æœŸäº†ã€‚å€Ÿæ­¤æœºä¼šï¼Œæ­£å¥½å°†acme.shé…ç½®åˆ°æœåŠ¡å™¨ä¸Šï¼Œä¸€åŠ³æ°¸é€¸çš„è§£å†³è¯ä¹¦é—®é¢˜ã€‚ç›¸è¾ƒäºåœ¨é˜¿é‡Œäº‘ä¸Šç”³è¯·è¯ä¹¦ï¼Œä½¿ç”¨acme.shçš„ä¼˜åŠ¿åœ¨äºå¯ä»¥ç”³è¯·æ³›åŸŸåè¯ä¹¦åŠå¯ä»¥è‡ªåŠ¨ç»­æœŸã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘å°±è®°å½•ä¸€ä¸‹æˆ‘ä½¿ç”¨çš„æ­¥éª¤å§ã€‚æˆ‘è¿™é‡Œé‡‡ç”¨çš„æ˜¯ä½¿ç”¨é˜¿é‡Œäº‘çš„APIè‡ªåŠ¨è¿›è¡ŒDNSæ–¹å¼çš„ç”³è¯·ï¼Œä¸åŒçš„æœåŠ¡å•†å‘½ä»¤æœ‰ç¨è®¸ä¸åŒï¼Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç”³è¯·api &lt;a class="link" href="https://ram.console.aliyun.com/users" target="_blank" rel="noopener"
>https://ram.console.aliyun.com/users&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨é˜¿é‡Œäº‘çš„è§’è‰²æ§åˆ¶é‡Œèµ‹äºˆåˆšåˆšç”³è¯·çš„ç”¨æˆ·æ§åˆ¶DNSçš„æƒé™&lt;code>AliyunDNSFullAccess&lt;/code> &lt;a class="link" href="https://ram.console.aliyun.com/permissions" target="_blank" rel="noopener"
>https://ram.console.aliyun.com/permissions&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…acme.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl https://get.acme.sh &lt;span class="p">|&lt;/span> sh -s &lt;span class="nv">email&lt;/span>&lt;span class="o">=&lt;/span>my@example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®APIç¯å¢ƒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">Ali_Key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;xxxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">Ali_Secret&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;xxxxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæ˜¯é…ç½®APIç¯å¢ƒï¼Œå¡«å…¥åˆšåˆšç”³è¯·çš„å¯†é’¥ã€‚è¿™æ­¥åªéœ€è¦åšä¸€æ¬¡ï¼Œacme.shä¼šå°†å…¶ä¿å­˜ä¸‹æ¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç”Ÿæˆè¯ä¹¦ï¼Œè¿™é‡Œå¡«å…¥åˆšåˆšç”³è¯·APIå¾—åˆ°çš„å¯†é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">acme.sh --issue --dns dns_ali -d lbqaq.top -d &lt;span class="s2">&amp;#34;*.lbqaq.top&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ä¸Šé¢å‘½ä»¤ï¼Œå¯ä»¥ç”³è¯·åˆ°åŒ…å«&lt;code>lbqaq.top&lt;/code>å’Œ&lt;code>*.lbqaq.top&lt;/code>è¿™ä¸¤ä¸ªDNSè®°å½•çš„è¯ä¹¦ã€‚è¿™é‡Œå¦‚æœæœ‰&lt;code>*&lt;/code>ï¼Œæ˜¯éœ€è¦åŠ åŒå¼•å·çš„ï¼Œæˆ‘ä¹‹å‰æ²¡åŠ å°±æŠ¥é”™äº†ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤åˆ¶è¯ä¹¦åˆ°nginxç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">acme.sh --install-cert -d lbqaq.top &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--key-file /usr/local/nginx/conf/cert/lbqaq.top.key &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--fullchain-file /usr/local/nginx/conf/cert/lbqaq.top.pem &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--reloadcmd &lt;span class="s2">&amp;#34;nginx -s reload&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œ&lt;code>key-file&lt;/code>å¯¹åº”çš„æ˜¯Nginxé…ç½®é‡Œçš„&lt;code>ssl_certificate_key&lt;/code>ï¼Œ&lt;code>fullchain-file&lt;/code>å¯¹åº”çš„æ˜¯&lt;code>ssl_certificate&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥ä¸‹æ¥ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶å³å¯&lt;/p>
&lt;p>é™„ä¸Šæˆ‘çš„æ¨¡æ¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å¦‚æœä¸æ˜¯httpså°±è·³è½¬è‡³https
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="s">(&lt;/span>&lt;span class="nv">$server_port&lt;/span> &lt;span class="s">!~&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="s">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">rewrite&lt;/span> &lt;span class="s">^(/.*)&lt;/span>$ &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_certificate&lt;/span> &lt;span class="s">./cert/lbqaq.top.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_certificate_key&lt;/span> &lt;span class="s">./cert/lbqaq.top.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„åŠ å¯†å¥—ä»¶çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">add_header&lt;/span> &lt;span class="s">Strict-Transport-Security&lt;/span> &lt;span class="s">&amp;#34;max-age=31536000&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="å¸¸ç”¨å‘½ä»¤">&lt;a href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>å¸¸ç”¨å‘½ä»¤
&lt;/h2>&lt;p>åœ¨é™„ä¸Šä¸€äº›æˆ‘ç”¨åˆ°çš„ä¸€äº›acme.shç›¸å…³çš„å‘½ä»¤ã€‚&lt;del>æ‰ä¸æ˜¯æ°´å­—æ•°å‘¢&lt;/del>&lt;/p>
&lt;ul>
&lt;li>&lt;code>acme.sh --list&lt;/code>æŸ¥çœ‹å·²ç”³è¯·çš„è¯ä¹¦&lt;/li>
&lt;li>&lt;code>acme.sh --remove -d example.com&lt;/code>åˆ é™¤æŒ‡å®šçš„è¯ä¹¦&lt;/li>
&lt;/ul></description></item><item><title>ä½¿ç”¨Webhookså®ç°è‡ªåŠ¨éƒ¨ç½²</title><link>https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/</link><pubDate>Mon, 23 Aug 2021 15:44:59 +0800</pubDate><guid>https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/90550307.webp" alt="Featured image of post ä½¿ç”¨Webhookså®ç°è‡ªåŠ¨éƒ¨ç½²" />&lt;p>æ¯æ¬¡å†™å®Œåšå®¢ï¼Œéœ€è¦åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œç„¶åå†æ‰‹åŠ¨é€šè¿‡WinSCPé€åˆ°æœåŠ¡å™¨ä¸Šã€‚ä½œä¸ºä¸€ä¸ªæ‡’äººï¼Œè¿™ä¸Šé¢å‡ æ­¥ä¸‹æ¥è¿˜æ˜¯è§‰å¾—éº»çƒ¦ï¼Œè€Œä¸”æ¯æ¬¡ç¼–è¯‘åˆä¼šç”Ÿæˆä¸€é¡¿ä¸éœ€è¦çš„æ–‡ä»¶ï¼Œäºæ˜¯ä¾¿å†³å®šæ•´ç‚¹è‡ªåŠ¨åŒ–çš„æµç¨‹ï¼Œç›´æ¥è§£æ”¾åŒæ‰‹ã€‚&lt;/p>
&lt;p>å› ä¸ºæˆ‘çš„åšå®¢åœ¨æ²¡ä¹°æœåŠ¡å™¨ä¹‹å‰éƒ½æ˜¯æ‰˜ç®¡åœ¨Githubä¸Šçš„ï¼Œäºæ˜¯è‡ªç„¶è€Œç„¶åœ°å°±æƒ³åˆ°äº†Webhookï¼Œåœ¨æ¯æ¬¡Pushåè‡ªåŠ¨å‘é€æ¶ˆæ¯ç»™æœåŠ¡å™¨ï¼Œè®©å…¶è‡ªåŠ¨æ‹‰å–ä»£ç ã€‚&lt;/p>
&lt;p>ç½‘ä¸Šçš„æ•™ç¨‹å¤§å¤šéƒ½æ˜¯åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œç„¶è€Œæˆ‘è§‰å¾—æ—¢ç„¶è¦æ‡’ï¼Œå°±ä¸€æ‡’åˆ°åº•å§ï¼Œç¼–è¯‘ä¹Ÿç›´æ¥é€šè¿‡Github Actionsæ¥å®Œæˆå°±è¡Œäº†ã€‚&lt;/p>
&lt;h2 id="æµç¨‹">&lt;a href="#%e6%b5%81%e7%a8%8b" class="header-anchor">&lt;/a>æµç¨‹
&lt;/h2>&lt;p>éœ€è¦2ä¸ªGithubä»“åº“ï¼ˆ1ä¸ªåº”è¯¥ä¹Ÿå¯ä»¥ï¼‰ï¼Œä¸€ä¸ªå­˜æ”¾ç½‘ç«™çš„æºç ï¼Œä¸€ä¸ªæ˜¯å­˜æ”¾ç¼–è¯‘å¥½çš„htmlæ–‡ä»¶ã€‚æ•´ä¸ªå·¥ä½œæµç¨‹å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1.png"
width="391"
height="292"
srcset="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1_hu_fdb453ad721a742b.png 480w, https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1_hu_562adbcccc12bc7a.png 1024w"
loading="lazy"
alt="æµç¨‹å›¾"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
>&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;h3 id="è®¾ç½®è„šæœ¬">&lt;a href="#%e8%ae%be%e7%bd%ae%e8%84%9a%e6%9c%ac" class="header-anchor">&lt;/a>è®¾ç½®è„šæœ¬
&lt;/h3>&lt;p>é¦–å…ˆè¦å†™ä¸€ä¸ªshellè„šæœ¬ï¼ŒåŠŸèƒ½å¾ˆç®€å•å°±æ˜¯è‡ªåŠ¨æ‹‰å–ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">cd&lt;/span> /home/luobo/Blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ›å»ºwebhookæœåŠ¡åç«¯">&lt;a href="#%e5%88%9b%e5%bb%bawebhook%e6%9c%8d%e5%8a%a1%e5%90%8e%e7%ab%af" class="header-anchor">&lt;/a>åˆ›å»ºwebhookæœåŠ¡åç«¯
&lt;/h3>&lt;p>è¿™é‡Œå°±ç›´æ¥ä½¿ç”¨NodeJSæ¥åˆ›å»ºï¼Œä½¿ç”¨çš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºå·²ç»æœ‰ç°æˆçš„æ’ä»¶å¯ä»¥ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;p>é¦–å…ˆå®‰è£…ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm i -S github-webhook-handler
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm i -g pm2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ›å»º&lt;code>webhook.js&lt;/code>ä½œä¸ºåç«¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">spawn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;child_process&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">spawn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">createHandler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;github-webhook-handler&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ³¨æ„è¦å°† secret ä¿®æ”¹ä½ è‡ªå·±çš„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createHandler&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/webhook&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;xxxxx&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createServer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">statusCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">404&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;no such location&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}).&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6666&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Error:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;push&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Received a push event for %s to %s&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">repository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ref&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;sh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;./deploy.sh&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">txt&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">txt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">runCommand&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">callback&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">spawn&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Deploy OK&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">buffer&lt;/span> &lt;span class="p">){&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span> &lt;span class="nx">callback&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€åå¯åŠ¨æœåŠ¡å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">pm2 start webhook.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nginxè®¾ç½®åä»£">&lt;a href="#nginx%e8%ae%be%e7%bd%ae%e5%8f%8d%e4%bb%a3" class="header-anchor">&lt;/a>Nginxè®¾ç½®åä»£
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/webhook&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://127.0.0.1:6666&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®github-webhook">&lt;a href="#%e9%85%8d%e7%bd%aegithub-webhook" class="header-anchor">&lt;/a>é…ç½®Github Webhook
&lt;/h3>&lt;p>åœ¨ htmlä»“åº“çš„ &lt;code>Settings&lt;/code> - &lt;code>webhooks&lt;/code> è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ webhookã€‚&lt;/p>
&lt;p>å°†Content Type è®¾ç½®ä¸º &lt;code>application/json&lt;/code>ï¼Œsecret è®¾ç½®æˆä¸ &lt;code>webhook.js&lt;/code> ä¸­çš„ç›¸åŒã€‚&lt;/p>
&lt;p>trigeeré€‰æ‹©&lt;code>Just the push event. &lt;/code>ã€‚&lt;/p>
&lt;p>å®ŒæˆåGithubä¼šè‡ªåŠ¨å‘èµ·ä¸€ä¸ªæµ‹è¯•è¯·æ±‚ï¼Œå¦‚æœè¿”å›ä¸º&lt;code>200&lt;/code>è¯´æ˜é…ç½®å®Œæˆï¼Œ&lt;/p>
&lt;h3 id="é…ç½®è‡ªåŠ¨ç¼–è¯‘">&lt;a href="#%e9%85%8d%e7%bd%ae%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91" class="header-anchor">&lt;/a>é…ç½®è‡ªåŠ¨ç¼–è¯‘
&lt;/h3>&lt;p>åœ¨æºä»£ç ä»“åº“çš„&lt;code>.github/workflows&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>deploy.yml&lt;/code>ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build and Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ä»»åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build-and-deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æ‹‰å–ä»£ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å®‰è£…Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># éƒ¨ç½²åˆ° GitHub Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to GitHub Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">JamesIves/github-pages-deploy-action@4.1.4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BRANCH&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FOLDER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GP_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repository-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">luoboQAQ/luoboQAQ.github.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„è¦å°†æœ€åçš„&lt;code>repository-name&lt;/code>æ¢ä¸ºä½ è‡ªå·±çš„ä»“åº“ï¼ŒåŒæ—¶éœ€è¦ç”³è¯·å’Œé…ç½®Github Tokenï¼Œè¿™é‡Œæˆ‘å°±ä¸å±•å¼€äº†ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒ">&lt;a href="#%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>å‚è€ƒ
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://jimmysong.io/blog/github-webhook-website-auto-deploy/" target="_blank" rel="noopener"
>ä½¿ç”¨ GitHub Webhook å®ç°é™æ€ç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ä»é›¶å¼€å§‹ASFæŒ‚å¡</title><link>https://lbqaq.top/p/asf/</link><pubDate>Wed, 11 Aug 2021 21:46:24 +0800</pubDate><guid>https://lbqaq.top/p/asf/</guid><description>&lt;img src="https://lbqaq.top/p/asf/82970659.webp" alt="Featured image of post ä»é›¶å¼€å§‹ASFæŒ‚å¡" />&lt;p>å› ä¸ºä¹°äº†ä¸€å°äº‘æœåŠ¡å™¨ï¼Œä¸æ‹¿æ¥å¹²ç‚¹å•¥å®åœ¨æ˜¯å¤ªäºäº†ï¼Œäºæ˜¯ä¾¿æƒ³åˆ°äº†å¯ä»¥ä½¿ç”¨äº‘æœåŠ¡å™¨æ¥æŒ‚å¡ã€‚&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;h3 id="å®‰è£…netç¯å¢ƒ">&lt;a href="#%e5%ae%89%e8%a3%85net%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>å®‰è£….netç¯å¢ƒ
&lt;/h3>&lt;p>ASFæ˜¯åŸºäº.netcoreå¼€å‘çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦å®‰è£…ç¯å¢ƒã€‚è¿™é‡Œå»ºè®®çœ‹å¾®è½¯å®˜æ–¹çš„&lt;a class="link" href="https://docs.microsoft.com/zh-cn/dotnet/core/install/" target="_blank" rel="noopener"
>å®‰è£…æ–‡æ¡£&lt;/a>ï¼Œé‡Œé¢æœ‰ä¸åŒç³»ç»Ÿçš„å®‰è£…æ–¹æ³•ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬éœ€è¦å®‰è£…çš„åªæ˜¯ASP.NET Core è¿è¡Œæ—¶ã€‚&lt;/p>
&lt;p>æˆ‘çš„ç³»ç»Ÿæ˜¯centos7ï¼Œè¿™é‡Œå°±åªåˆ—ä¸¾æˆ‘ç³»ç»Ÿä¸Šçš„å‘½ä»¤äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo rpm -Uvh https://packages.microsoft.com/config/centos/7/packages-microsoft-prod.rpm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum install aspnetcore-runtime-5.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£…asf">&lt;a href="#%e5%ae%89%e8%a3%85asf" class="header-anchor">&lt;/a>å®‰è£…ASF
&lt;/h3>&lt;p>åœ¨&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest" target="_blank" rel="noopener"
>ASFçš„å‘å¸ƒé¡µé¢&lt;/a>ä¸Šä¸‹è½½ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬è§£å‹å³å¯ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œæ˜¯åœ¨æœ¬åœ°å…ˆä¸‹è½½å¥½åç”¨WinSCPç›´æ¥ä¼ ä¸ŠæœåŠ¡å™¨ã€‚&lt;/p>
&lt;h3 id="é…ç½®asf">&lt;a href="#%e9%85%8d%e7%bd%aeasf" class="header-anchor">&lt;/a>é…ç½®ASF
&lt;/h3>&lt;p>è¿™é‡Œå°±é‡‡ç”¨å®˜æ–¹çš„**&lt;a class="link" href="https://justarchinet.github.io/ASF-WebConfigGenerator" target="_blank" rel="noopener"
>åœ¨çº¿é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨&lt;/a>**è‡ªåŠ¨ç”Ÿæˆå³å¯ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹©&lt;code>æœºå™¨äºº&lt;/code>ï¼Œå°†steamçš„è´¦å·å’Œå¯†ç å¡«å…¥ï¼Œå¹¶å°†Enabledè®¾ç½®ä¸ºTrueå°±è¡Œäº†ã€‚&lt;/p>
&lt;p>è¯¦ç»†çš„é…ç½®å†…å®¹å¯ä»¥åœ¨&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN" target="_blank" rel="noopener"
>å®˜æ–¹Wiki&lt;/a>ä¸Šçœ‹åˆ°ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ”¾ä¸Šæˆ‘çš„é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SteamLogin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SteamPassword&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Enabled&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CustomGamePlayedWhileFarming&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;æŒ‚å¡ä¸­...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CustomGamePlayedWhileIdle&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ç©ºé—²ä¸­...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;FarmingOrders&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;HoursUntilCardDrops&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;OnlineStatus&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>CustomGamePlayedWhileFarming&lt;/code>ï¼šè¡¨ç¤ºæŒ‚å¡æ—¶æ˜¾ç¤ºçš„æ¸¸æˆå&lt;/li>
&lt;li>&lt;code>CustomGamePlayedWhileIdle&lt;/code>ï¼šè¡¨ç¤ºç©ºé—²æ—¶æ˜¾ç¤ºçš„æ¸¸æˆå&lt;/li>
&lt;li>&lt;code>HoursUntilCardDrops&lt;/code>ï¼šè¡¨ç¤ºè‡³å°‘å°†æ¸¸æˆæŒ‚åˆ°å‡ å°æ—¶ï¼Œå¦‚æœæ˜¯éé™åˆ¶è´¦æˆ·ï¼Œè°ƒåˆ°0æ˜¯æœ€å¥½çš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®ASFæœ¬èº«çš„è®¾ç½®ï¼Œè¿™é‡Œä¹ŸåŒæ ·è´´ä¸Šæˆ‘çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;s_SteamOwnerID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CurrentCulture&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;zh-CN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;IPCPassword&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>s_SteamOwnerID&lt;/code>ï¼šè¯¥å±æ€§å®šä¹‰ ASF è¿›ç¨‹æ‰€æœ‰è€…çš„ 64 ä½ Steam IDï¼Œç›´æ¥è®¾ç½®æˆè‡ªå·±çš„å¤§å·å°±è¡Œ&lt;/li>
&lt;li>&lt;code>CurrentCulture&lt;/code>ï¼šASFçš„è¯­è¨€&lt;/li>
&lt;li>&lt;code>IPCPassword&lt;/code>ï¼šç”±äºASFé»˜è®¤ä¼šå¼€å¯IPCæœåŠ¡ï¼Œä¸ºäº†å®‰å…¨èµ·è§å»ºè®®è®¾ç½®å¯†ç æˆ–å…³é—­IPCæœåŠ¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>å°†é…ç½®æ–‡ä»¶æ”¾å…¥&lt;code>config&lt;/code>ç›®å½•é‡Œå°±è¡Œäº†ã€‚&lt;/p>
&lt;h3 id="å¯åŠ¨asf">&lt;a href="#%e5%90%af%e5%8a%a8asf" class="header-anchor">&lt;/a>å¯åŠ¨ASF
&lt;/h3>&lt;p>é¦–å…ˆå°†ASFçš„ä¸»ç¨‹åºè®¾ç½®ä¸ºå¯æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">755&lt;/span> ./ArchiSteamFarm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åè¿è¡Œå³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">./ArchiSteamFarm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é™„åŠ æ­¥éª¤">&lt;a href="#%e9%99%84%e5%8a%a0%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>é™„åŠ æ­¥éª¤
&lt;/h2>&lt;h3 id="ä½¿ç”¨ascf">&lt;a href="#%e4%bd%bf%e7%94%a8ascf" class="header-anchor">&lt;/a>ä½¿ç”¨ASCF
&lt;/h3>&lt;p>ç”±äºæœåŠ¡å™¨åœ¨å¤§é™†å¢ƒå†…ï¼Œç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› æ˜¯æ— æ³•è®¿é—®steamç¤¾åŒºçš„ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨å¤§ä½¬å¼€å‘çš„è½¬å‘å·¥å…·äº†ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://keylol.com/t339641-1-1" target="_blank" rel="noopener"
>ã€æ›´æ–°2.0ã€‘å¦ä¸€ä¸ªSteamCommunityFix | æ”¯æŒWin/Linux/MacOS ã€2018-08-29ã€‘&lt;/a>&lt;/p>
&lt;p>ä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1nvBW8qP&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨æ­¥éª¤ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¸‹è½½å¹¶è§£å‹ç¼©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¿›å…¥åˆ°ascfç¨‹åºç›®å½•ï¼š
å¦‚ascfç¨‹åºåœ¨ /Users/Makazeu/Downloads/æ–‡ä»¶å¤¹ä¸­ï¼Œé‚£ä¹ˆåœ¨ç»ˆç«¯ä¸­è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /Users/Makazeu/Downloads
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>èµ‹äºˆç¨‹åºå¯æ‰§è¡Œæƒé™ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl"> chmod +x ./ascf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨rootç”¨æˆ·ï¼ˆç®¡ç†å‘˜ç”¨æˆ·ï¼‰è¿è¡Œç¨‹åºï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl"> sudo ./ascf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å…¥rootç”¨æˆ·å¯†ç åï¼Œçœ‹ç¨‹åºæ˜¯å¦è¿è¡Œ
å› ä¸ºç¨‹åºæ¶‰åŠåˆ°hostsæ–‡ä»¶ä¿®æ”¹ï¼Œéœ€è¦é«˜æƒé™ï¼Œæ‰€ä»¥ä½ éœ€è¦è¾“å…¥rootå¯†ç &lt;/p>
&lt;/li>
&lt;li>
&lt;p>è‹¥ç¨‹åºå·²ç»æˆåŠŸè¿è¡Œï¼Œæ­¤æ—¶å°±ä¸è¦å…³é—­ç»ˆç«¯çª—å£äº†ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šé€€å‡ºï¼è¯•ä¸‹Steamç¤¾åŒºèƒ½å¦æ­£å¸¸æ‰“å¼€&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨tmux">&lt;a href="#%e4%bd%bf%e7%94%a8tmux" class="header-anchor">&lt;/a>ä½¿ç”¨Tmux
&lt;/h3>&lt;p>ç”±äºæˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œä¸å¯èƒ½ä¸€ç›´å¼€ç€sshï¼Œè¿™æ—¶å°±éœ€è¦å°†ç»ˆç«¯çª—å£å’Œä¼šè¯è§£ç»‘ï¼ŒTmuxå°±æ˜¯åšè¿™ä¸ªå·¥ä½œçš„ã€‚&lt;/p>
&lt;p>&lt;strong>å®‰è£…ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ubuntu æˆ– Debian&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># CentOS æˆ– Fedora&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo yum install tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Mac&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ brew install tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¸¸ç”¨å‘½ä»¤/å¿«æ·é”®ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ–°å»ºä¼šè¯ï¼šTmux çª—å£é»˜è®¤æ˜¯ä»¥0ã€1ã€2&amp;hellip;&amp;hellip;æ¥ç¼–å·çš„ï¼Œä¸ºäº†ä¾¿äºåŒºåˆ†ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªä¼šè¯èµ·å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tmux new -s &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ†ç¦»å½“å‰ä¼šè¯ï¼š&lt;code>Ctrl+b d&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ—å‡ºæ‰€æœ‰ä¼šè¯ï¼š&lt;code>Ctrl+b s&lt;/code>æˆ–&lt;code>tmux ls&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é‡å‘½åå½“å‰ä¼šè¯ï¼š&lt;code>Ctrl+b $&lt;/code>æˆ–&lt;code>tmux rename-session -t 0 &amp;lt;new-name&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥å…¥åˆ°æŸä¸ªä¼šè¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux attach -t &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux attach -t &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ‡æ¢åˆ°æŸä¸ªä¼šè¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux switch -t &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux switch -t &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.ruanyifeng.com/blog/2019/10/tmux.html" target="_blank" rel="noopener"
>Tmux ä½¿ç”¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN" target="_blank" rel="noopener"
>ASFå®˜æ–¹Wiki&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/dotnet/fundamentals/" target="_blank" rel="noopener"
>NETå¼€å‘æ–‡æ¡£&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Qtæ„å»ºqsqlmysql.dll</title><link>https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/</link><pubDate>Thu, 03 Jun 2021 15:44:17 +0800</pubDate><guid>https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/</guid><description>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/89217963.webp" alt="Featured image of post Qtæ„å»ºqsqlmysql.dll" />&lt;p>è¿™ç¯‡æ–‡ç« æˆ‘æ‰“ç®—æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•æ„å»ºqsqlmysql.dllï¼Œç”±äºç‰ˆæƒåŸå› ï¼Œåœ¨æ–°ç‰ˆçš„Qté‡Œæ˜¯ä¸è‡ªå¸¦è¯¥dllçš„ï¼Œè¿™æ ·å¯¹æˆ‘ä»¬ç¼–å†™æ•°æ®åº“ç¨‹åºä¼šå¾ˆéº»çƒ¦ã€‚&lt;del>ï¼ˆä½ ç”¨ODBCï¼Ÿé‚£æ²¡äº‹äº†ï¼‰&lt;/del>&lt;/p>
&lt;p>æˆ‘åœ¨ç½‘ä¸Šä¹ŸæŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œä½†æ ¹æ®æ­¥éª¤æ¥æ€»æ˜¯ä¼šæŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰&lt;code>mysql.h&lt;/code>è¿™ä¸ªå¤´æ–‡ä»¶ã€‚ä¸‹é¢å°±è®°å½•ä¸€ä¸‹æˆ‘æˆåŠŸç¼–è¯‘çš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;h2 id="åŸºäºcmakeçš„æ­¥éª¤">&lt;a href="#%e5%9f%ba%e4%ba%8ecmake%e7%9a%84%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>åŸºäºcmakeçš„æ­¥éª¤
&lt;/h2>&lt;p>åœ¨6.1ä¹‹åçš„Qtç‰ˆæœ¬ä¸­ï¼ŒQtå…¬å¸åˆ é™¤äº†qmakeè€Œæ›´æ¢æˆäº†cmakeçš„æ–¹å¼æ¥æ„å»ºé¡¹ç›®æ–‡ä»¶ï¼Œä¸‹é¢å°±æ˜¯æˆ‘æ€»ç»“çš„ä½¿ç”¨cmakeç”Ÿæˆçš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> è·¯å¾„çš„å‰æ®µéƒ¨åˆ†(è½¯ä»¶çš„å®‰è£…ä½ç½®)æ¯ä¸ªäººå¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯è·¯å¾„çš„åæ®µéƒ¨åˆ†åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;p>1.å‡†å¤‡å¥½Qtçš„æºä»£ç ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥åœ¨Qtçš„å®‰è£…ç›®å½•æ‰“å¼€&lt;code>MaintenanceTool.exe&lt;/code>å¯åŠ¨Qtç»„ä»¶ç®¡ç†ï¼Œåœ¨é‡Œé¢å‹¾é€‰&lt;code>Src&lt;/code>æŠŠæºç ä¸‹è½½ä¸‹æ¥ã€‚&lt;/p>
&lt;p>2.æ‰“å¼€&lt;code>cmake-gui&lt;/code>ï¼Œé€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹ä¸º&lt;code>D:\Qt\6.1.1\Src\qtbase\src\plugins\sqldrivers&lt;/code>ï¼Œå¹¶è®¾ç½®ç”Ÿæˆæ–‡ä»¶å¤¹ä¸º&lt;code>D:/Qt/6.1.1/Src/qtbase/src/plugins/sqldrivers/build&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1.png"
width="922"
height="928"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1_hu_c3e2a86462e0bd6b.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1_hu_74ff6cff5fe4dcc2.png 1024w"
loading="lazy"
alt="é…ç½®æ–‡ä»¶å¤¹"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="238px"
>&lt;/p>
&lt;p>3.ç‚¹å‡»å·¦ä¸‹è§’çš„&lt;code>Configure&lt;/code>ï¼Œä¼šæç¤ºç”Ÿæˆçš„ç›®å½•ä¸å­˜åœ¨æ˜¯å¦åˆ›å»ºï¼Œç›´æ¥ç‚¹æ˜¯å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>4.ç¼–è¯‘å™¨è¿™é‡Œé€‰æ‹©&lt;code>MinGW Makefiles&lt;/code>,ç„¶åç‚¹å‡»&lt;code>Finish&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2.png"
width="500"
height="360"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2_hu_f131fe1572fbc047.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2_hu_f3f2fb0137562c1e.png 1024w"
loading="lazy"
alt="é€‰æ‹©ç¼–è¯‘å™¨"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="333px"
>&lt;/p>
&lt;p>5.ç­‰å¾…ç”Ÿæˆå®Œæˆåï¼ŒæŠŠ&lt;code>FEATURE_sql_mysql&lt;/code>åé¢çš„å‹¾å‹¾ä¸Šï¼Œç„¶åæŠŠå…¶ä½™çš„&lt;code>FEATURE_sql&lt;/code>åé¢çš„å‹¾å–æ¶ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3.png"
width="920"
height="889"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3_hu_e62add914b93c6ab.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3_hu_2744fc6fb221bd88.png 1024w"
loading="lazy"
alt="é€‰æ‹©ç”Ÿæˆæ¨¡å—"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="248px"
>&lt;/p>
&lt;p>6.å†æ¬¡ç‚¹å‡»å·¦ä¸‹è§’çš„&lt;code>Configure&lt;/code>ï¼Œå¯ä»¥å‘ç°ä¸Šé¢çš„çº¢æ¡†å·²ç»æ¶ˆå¤±äº†ï¼Œè¯´æ˜é…ç½®æˆåŠŸäº†ã€‚ç„¶åç‚¹å‡»&lt;code>Generate&lt;/code>ï¼Œç”Ÿæˆ&lt;code>Makefiles&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4.png"
width="922"
height="928"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4_hu_4d12fe9c9a31361f.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4_hu_79c714ebe366bc66.png 1024w"
loading="lazy"
alt="é…ç½®æˆåŠŸ"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="238px"
>&lt;/p>
&lt;p>7.è¿™æ—¶é…ç½®æ–‡ä»¶å·²ç»æ„å»ºå®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç”Ÿæˆdlläº†ï¼Œæ‰“å¼€&lt;code>PowerShell&lt;/code>åˆ‡æ¢ç›®å½•è‡³&lt;code>D:/Qt/6.1.1/Src/qtbase/src/plugins/sqldrivers/build&lt;/code>ï¼Œè¾“å…¥&lt;code>mingw32-make&lt;/code>å¼€å§‹ç¼–è¯‘ç”Ÿæˆdllã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5.png"
width="1461"
height="855"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5_hu_6570cf59c40893e7.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5_hu_a9d9b336aeab66ab.png 1024w"
loading="lazy"
alt="ç¼–è¯‘æˆåŠŸ"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;p>æ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜ç”ŸæˆæˆåŠŸã€‚&lt;/p>
&lt;p>8.æœ€åæ‰“å¼€ç›®å½•&lt;code>D:\Qt\6.1.1\Src\qtbase\src\plugins\sqldrivers\build\plugins\sqldrivers&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆå¥½çš„&lt;code>qsqlmysql.dll&lt;/code>äº†ã€‚&lt;/p>
&lt;h2 id="åŸºäºqmakeçš„æ­¥éª¤">&lt;a href="#%e5%9f%ba%e4%ba%8eqmake%e7%9a%84%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>åŸºäºqmakeçš„æ­¥éª¤
&lt;/h2>&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> è·¯å¾„çš„å‰æ®µéƒ¨åˆ†(è½¯ä»¶çš„å®‰è£…ä½ç½®)æ¯ä¸ªäººå¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯è·¯å¾„çš„åæ®µéƒ¨åˆ†åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;p>1.å‡†å¤‡å¥½Qtçš„æºä»£ç ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥åœ¨Qtçš„å®‰è£…ç›®å½•æ‰“å¼€&lt;code>MaintenanceTool.exe&lt;/code>å¯åŠ¨Qtç»„ä»¶ç®¡ç†ï¼Œåœ¨é‡Œé¢å‹¾é€‰&lt;code>Src&lt;/code>æŠŠæºç ä¸‹è½½ä¸‹æ¥ã€‚&lt;/p>
&lt;p>2.è¿›å…¥&lt;code>D:\Qt\6.0.3\Src\qtbase\src\plugins\sqldrivers&lt;/code>ç›®å½•ä¸‹ï¼Œæ‰“å¼€&lt;code>sqldrivers.pro&lt;/code>è¿™ä¸ªæ–‡ä»¶ã€‚&lt;/p>
&lt;p>3.åœ¨å·¦ä¾§æ–‡ä»¶æ ‘ä¸­æ‰“å¼€&lt;code>mysql&lt;/code>æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©&lt;code>mysql.pro&lt;/code>æ‰“å¼€ã€‚&lt;/p>
&lt;p>4.ä¿®æ”¹é‡Œé¢çš„å†…å®¹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ³¨é‡Šæ‰&lt;code>QMAKE_USE += mysql&lt;/code>è¿™ä¸€å¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¢åŠ ä¸‹é¢ä¸‰è¡Œä»£ç (æ³¨æ„æŠŠ&lt;code>D:/MySQL/&lt;/code>æ”¹ä¸ºä½ MySQLçš„å®‰è£…è·¯å¾„)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">LIBS +=-LD:/MySQL/lib -llibmysql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INCLUDEPATH += D:/MySQL/include
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DEPENDPATH += D:/MySQL/include
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>5.ç‚¹å‡»Qtå·¦ä¸‹è§’çš„å°é”¤å­è¿›è¡Œæ„å»ºï¼Œä¸å‡ºæ„å¤–çš„è¯å°±å¯ä»¥åœ¨&lt;code>D:\Qt\6.0.3\Src\qtbase\src\plugins&lt;/code>è¿™ä¸ªè·¯å¾„ä¸‹çœ‹åˆ°&lt;code>build&lt;/code>å¼€å¤´çš„æ–‡ä»¶å¤¹ï¼Œåœ¨&lt;code>.\plugins\sqldrivers&lt;/code>ç›®å½•ä¸‹å°±èƒ½çœ‹åˆ°ç¼–è¯‘å¥½çš„dlläº†ã€‚&lt;/p>
&lt;p>6.æœ€åå°†&lt;code>qsqlmysql.dll&lt;/code>æ”¾å…¥&lt;code>D:\Qt\6.0.3\mingw81_64\plugins\sqldrivers\&lt;/code>é‡Œå°±è¡Œäº†ã€‚å¦‚æœé“¾æ¥æ•°æ®åº“æ—¶è¿˜æŠ¥é”™ï¼Œå°±æŠŠ&lt;code>libmysql.dll&lt;/code>å¤åˆ¶åˆ°Qtçš„ç¼–è¯‘å™¨çš„&lt;code>D:\Qt\6.0.3\mingw81_64\bin\&lt;/code>ç›®å½•ã€‚&lt;/p></description></item><item><title>WSL2+WTé…ç½®å°ç»“</title><link>https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/</link><pubDate>Thu, 08 Apr 2021 13:14:20 +0800</pubDate><guid>https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/</guid><description>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/43493473.webp" alt="Featured image of post WSL2+WTé…ç½®å°ç»“" />&lt;p>1202å¹´äº†ï¼Œæ˜¯æ—¶å€™æŠ›å¼ƒè€æ—§çš„cmdçª—å£å’Œè‡ƒè‚¿çš„VMè™šæ‹Ÿæœºäº†ï¼Œæ¥è¯•è¯•å·¨ç¡¬æ¨å‡ºçš„WSL2+Windows Terminal(ï½ï¿£â–½ï¿£)ï½ã€‚&lt;/p>
&lt;h2 id="èµ·å› ">&lt;a href="#%e8%b5%b7%e5%9b%a0" class="header-anchor">&lt;/a>èµ·å› 
&lt;/h2>&lt;p>åœ¨çŸ¥ä¹ä¸Šåˆ·åˆ°äº†ä¸€ç¯‡&lt;a class="link" href="https://www.zhihu.com/question/324218869/answer/1019888224" target="_blank" rel="noopener"
>å›ç­”&lt;/a>ï¼Œæ˜¯å…³äºWindowsç¼–ç¨‹çš„ä½“éªŒçš„ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­æåˆ°äº†WSL2å’ŒWindows Terminalï¼Œæˆ‘ä¸€ä¸‹å°±è¢«é‚£ç²¾ç¾çš„ç•Œé¢å¸å¼•äº†ï¼ˆ&lt;del>ç®¡ä»–å¥½ä¸å¥½ç”¨ï¼Œå¥½çœ‹å°±å®Œäº‹äº†&lt;/del>ï¼‰ã€‚æ­£å¥½ç°åœ¨åœ¨ä¸Šæ“ä½œç³»ç»Ÿè¿™é—¨è¯¾ï¼Œéœ€è¦ä½¿ç”¨Linuxè¿›è¡Œå®éªŒï¼Œè¿™è¿˜è¯´ä»€ä¹ˆï¼Œç›´æ¥å¼€å†²ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749.png"
width="1461"
height="855"
srcset="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749_hu_ec73f127b55282ab.png 480w, https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749_hu_52cbf65adfa0c7c9.png 1024w"
loading="lazy"
alt="ç²¾ç¾çš„ç•Œé¢"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;h2 id="wsl2å®‰è£…">&lt;a href="#wsl2%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>WSL2å®‰è£…
&lt;/h2>&lt;p>å®‰è£…å…¶å®å¾ˆç®€å•ï¼ŒæŒ‰ç…§å¾®è½¯çš„æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥åšå°±å®Œäº‹äº†ã€‚&lt;/p>
&lt;h3 id="0å‰ç½®æ¡ä»¶">&lt;a href="#0%e5%89%8d%e7%bd%ae%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>0.å‰ç½®æ¡ä»¶
&lt;/h3>&lt;p>æƒ³è¦ç”¨WSL2ï¼Œé¦–å…ˆä½ å¾—æ˜¯ Windows 10ï¼Œè€Œä¸”è¿˜æœ‰ç‰ˆæœ¬å·è¦æ±‚ã€‚&lt;/p>
&lt;ul>
&lt;li>å¯¹äº x64 ç³»ç»Ÿï¼šç‰ˆæœ¬ 1903 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨ å†…éƒ¨ç‰ˆæœ¬ 18362 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚&lt;/li>
&lt;li>å¯¹äº ARM64 ç³»ç»Ÿï¼šç‰ˆæœ¬ 2004 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨ å†…éƒ¨ç‰ˆæœ¬ 19041 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="1-å¼€å¯wslæœåŠ¡">&lt;a href="#1-%e5%bc%80%e5%90%afwsl%e6%9c%8d%e5%8a%a1" class="header-anchor">&lt;/a>1. å¼€å¯WSLæœåŠ¡
&lt;/h3>&lt;p>åœ¨Powershell(ç®¡ç†å‘˜)ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dism&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">exe&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">online&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="nb">enable-feature&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">featurename&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="nb">Microsoft-Windows&lt;/span>&lt;span class="n">-Subsystem-Linux&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">all&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">norestart&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-å¯ç”¨è™šæ‹ŸæœºæœåŠ¡">&lt;a href="#2-%e5%90%af%e7%94%a8%e8%99%9a%e6%8b%9f%e6%9c%ba%e6%9c%8d%e5%8a%a1" class="header-anchor">&lt;/a>2. å¯ç”¨è™šæ‹ŸæœºæœåŠ¡
&lt;/h3>&lt;p>åœ¨Powershell(ç®¡ç†å‘˜)ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dism&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">exe&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">online&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="nb">enable-feature&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">featurename&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="n">VirtualMachinePlatform&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">all&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">norestart&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>é‡æ–°å¯åŠ¨&lt;/strong> è®¡ç®—æœºï¼Œä»¥å®Œæˆ WSL å®‰è£…å¹¶æ›´æ–°åˆ° WSL 2ã€‚&lt;/p>
&lt;h3 id="3-ä¸‹è½½-linux-å†…æ ¸æ›´æ–°åŒ…">&lt;a href="#3-%e4%b8%8b%e8%bd%bd-linux-%e5%86%85%e6%a0%b8%e6%9b%b4%e6%96%b0%e5%8c%85" class="header-anchor">&lt;/a>3. ä¸‹è½½ Linux å†…æ ¸æ›´æ–°åŒ…
&lt;/h3>&lt;p>ä¸‹è½½æœ€æ–°åŒ…å¹¶å®‰è£…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" target="_blank" rel="noopener"
>é€‚ç”¨äº x64 è®¡ç®—æœºçš„ WSL2 Linux å†…æ ¸æ›´æ–°åŒ…&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="4-å°†-wsl-2-è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬">&lt;a href="#4-%e5%b0%86-wsl-2-%e8%ae%be%e7%bd%ae%e4%b8%ba%e9%bb%98%e8%ae%a4%e7%89%88%e6%9c%ac" class="header-anchor">&lt;/a>4. å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬
&lt;/h3>&lt;p>åœ¨Powershellä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-set-default-version&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5å®‰è£…-linux">&lt;a href="#5%e5%ae%89%e8%a3%85-linux" class="header-anchor">&lt;/a>5.å®‰è£… Linux
&lt;/h3>&lt;ol>
&lt;li>æ‰“å¼€ &lt;a class="link" href="https://aka.ms/wslstore" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>ï¼Œå¹¶é€‰æ‹©ä½ åå¥½çš„ Linux åˆ†å‘ç‰ˆå¹¶ç‚¹å‡»&lt;code>è·å–&lt;/code>è¿›è¡Œå®‰è£…ã€‚&lt;/li>
&lt;li>ç­‰å®‰è£…å¥½åï¼Œæ‰“å¼€å¹¶è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚&lt;/li>
&lt;/ol>
&lt;p>åˆ°æ­¤WSL2å°±å®‰è£…å®Œäº‹äº†ã€‚&lt;/p>
&lt;h2 id="windows-terminalå®‰è£…">&lt;a href="#windows-terminal%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>Windows Terminalå®‰è£…
&lt;/h2>&lt;h3 id="1-ä¸‹è½½å’Œå®‰è£…">&lt;a href="#1-%e4%b8%8b%e8%bd%bd%e5%92%8c%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>1. ä¸‹è½½å’Œå®‰è£…
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ä»&lt;a class="link" href="https://aka.ms/terminal" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>ä¸­ä¸‹è½½&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä»&lt;a class="link" href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noopener"
>Github&lt;/a>ä¸Šä¸‹è½½&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-é…ç½®">&lt;a href="#2-%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>2. é…ç½®
&lt;/h3>&lt;p>ä¸ºäº†è®©&lt;code>Windows Terminal&lt;/code>çœ‹èµ·æ¥æ›´å¥½çœ‹ä¸€äº›ï¼Œæˆ‘ä»¬è¿˜è¦å¯¹å…¶è¿›è¡Œä¸€äº›é…ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131.png"
width="837"
height="794"
srcset="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131_hu_5ad9c70454b9b798.png 480w, https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131_hu_9262ea296782b6da.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="252px"
>&lt;/p>
&lt;p>æ‰“å¼€&lt;code>Windows Terminal&lt;/code>çš„è®¾ç½®é€‰é¡¹ï¼Œç„¶åé€‰&lt;code>æ‰“å¼€JSONæ–‡ä»¶&lt;/code>ï¼ŒæŠŠæˆ‘é…å¥½çš„é…ç½®æ–‡ä»¶ç²˜è´´è¿›å»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;$schema&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://aka.ms/terminal-profiles-schema&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Add custom actions and keybindings to this array.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To unbind a key combination from your defaults.json, set the command to &amp;#34;unbound&amp;#34;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about actions and keybindings, visit https://aka.ms/terminal-keybindings
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy and paste are bound to Ctrl+Shift+C and Ctrl+Shift+V in your defaults.json.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// These two lines additionally bind them to Ctrl+C and Ctrl+V.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about selection, visit https://aka.ms/terminal-selection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;copy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;singleLine&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+c&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;paste&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+v&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Ctrl+Shift+F to open the search box
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;find&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+shift+f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Alt+Shift+D to open a new pane.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;split&amp;#34;: &amp;#34;auto&amp;#34; makes this pane open in the direction that provides the most surface area.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;splitMode&amp;#34;: &amp;#34;duplicate&amp;#34; makes the new pane use the focused pane&amp;#39;s profile.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about panes, visit https://aka.ms/terminal-panes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;splitPane&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;split&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;splitMode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;duplicate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;alt+shift+d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;copyFormatting&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;copyOnSelect&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaultProfile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;initialCols&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;initialRows&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;profiles&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaults&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;acrylicOpacity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.75&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;closeOnExit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;graceful&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;colorScheme&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Campbell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cursorColor&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;#FFFFFF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cursorShape&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fontFace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consolas&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fontSize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;historySize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9001&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;padding&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0, 0, 0, 0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;snapOnInput&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;useAcrylic&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;list&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;powershell.exe -NoLogo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows PowerShell&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cmd.exe&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{0caa0dad-35be-5f56-a8ff-afceeeaa6101}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Command Prompt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{b453ae62-4e3d-5e58-b989-0a998ec441b8}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Azure Cloud Shell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows.Terminal.Azure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{2c4de342-38b7-51cf-b940-2309a097f518}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Ubuntu&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows.Terminal.Wsl&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;//wsl$/Ubuntu/home/luobo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€èˆ¬è¦ä¿®æ”¹è¿™å‡ é¡¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>fontFace&lt;/code> - å­—ä½“ï¼Œæˆ‘çš„å­—ä½“ä¸º&lt;code>Consolas&lt;/code>ï¼Œé€‚åˆ1080Pçš„å±å¹•ã€‚é«˜åˆ†è¾©ç‡å±å»ºè®®ç”¨&lt;code>monaco&lt;/code>æˆ–è€…&lt;code>fira code&lt;/code>&lt;/li>
&lt;li>&lt;code>fontSize&lt;/code> - å­—ä½“å¤§å°ï¼Œå› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>acrylicOpacity&lt;/code> - èƒŒæ™¯é€æ˜åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>initialCols&lt;/code> - åˆå§‹çª—å£å®½åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>initialRows&lt;/code> - åˆå§‹çª—å£é«˜åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>startingDirectory&lt;/code> - Ubuntuçš„é»˜è®¤æ‰“å¼€è·¯å¾„ï¼ŒæŠŠå…¶ä¸­çš„&lt;code>luobo&lt;/code>æ¢æˆä½ è‡ªå·±çš„ç”¨æˆ·åã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="wslvscode">&lt;a href="#wslvscode" class="header-anchor">&lt;/a>WSL+VSCode
&lt;/h2>&lt;p>æ¯•ç«Ÿéƒ½æ˜¯å¾®è½¯å®¶çš„è½¯ä»¶ï¼Œç›´æ¥å°±èƒ½é€šè¿‡VSCodeæ¥è¿œç¨‹ç¼–è¾‘Linuxé‡Œçš„æ–‡ä»¶ã€‚vimå¤ªéš¾ä¸Šæ‰‹ï¼Ÿæˆ‘ç›´æ¥åœ¨Windowsé‡Œç¼–ç¨‹(é›¾)ã€‚&lt;/p>
&lt;p>åªè¦åœ¨é¡¹ç›®ç›®å½•é‡Œé”®å…¥&lt;code>code .&lt;/code>ï¼Œå°±ä¼šè‡ªåŠ¨è·³åˆ°Windowsé‡Œçš„VSCodeé‡Œäº†ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>WSL+Windows Terminal+VSCodeï¼Œå°†ä¸‰è€…é…åˆèµ·æ¥ï¼Œæˆ‘è§‰å¾—å¯ä»¥å®ç°1+1+1&amp;gt;3çš„åŠŸèƒ½ï¼Œæ¯•ç«Ÿï¼Œè°ä¸å–œæ¬¢é¢œå€¼é«˜çš„è½¯ä»¶å‘¢ãƒ¾(â‰§â–½â‰¦*)o&lt;/p>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10" target="_blank" rel="noopener"
>å¾®è½¯å®˜æ–¹WSL2æ•™ç¨‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/terminal/get-started" target="_blank" rel="noopener"
>å¾®è½¯å®˜æ–¹Windows Terminalæ•™ç¨‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/144612614" target="_blank" rel="noopener"
>Windows Terminal ç»ˆç«¯å…¥é—¨&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>