<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>luoboQAQ</title><link>https://lbqaq.top/</link><description>Recent content on luoboQAQ</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 11 Aug 2025 20:57:37 +0800</lastBuildDate><atom:link href="https://lbqaq.top/index.xml" rel="self" type="application/rss+xml"/><item><title>Arch Linuxçš„å®‰è£…æµç¨‹ä¸å¸¸ç”¨é…ç½®</title><link>https://lbqaq.top/p/archlinux-install/</link><pubDate>Mon, 11 Aug 2025 20:57:37 +0800</pubDate><guid>https://lbqaq.top/p/archlinux-install/</guid><description>&lt;img src="https://lbqaq.top/p/archlinux-install/128032920.webp" alt="Featured image of post Arch Linuxçš„å®‰è£…æµç¨‹ä¸å¸¸ç”¨é…ç½®" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>æœ€è¿‘è‹¦äºä¹‹å‰çš„è€ç¬”è®°æœ¬åœ¨è¿è¡ŒWindowsæ—¶è¶Šæ¥è¶Šå¡äº†ï¼Œäºæ˜¯ä¾¿èŒç”Ÿçš„é‡è£…ç³»ç»Ÿçš„æƒ³æ³•ã€‚æ­£å¥½ï¼Œä¹‹å‰23å¹´çš„æ—¶å€™å·²ç»ä½“éªŒè¿‡ArchLinuxç³»ç»Ÿäº†ï¼Œè€Œä¸”å¬è¯´ç°åœ¨Nvidiaé©±åŠ¨åœ¨Linuxä¸‹ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿å®‰è£…äº†ï¼Œäºæ˜¯å°±å†³å®šå°†Archåœ¨è£…å›æ¥ã€‚&lt;/p>
&lt;h2 id="é¢„å…ˆå‡†å¤‡">&lt;a href="#%e9%a2%84%e5%85%88%e5%87%86%e5%a4%87" class="header-anchor">&lt;/a>é¢„å…ˆå‡†å¤‡
&lt;/h2>&lt;p>éœ€è¦å‡†å¤‡1ä¸ªUç›˜ï¼Œç”¨æ¥å­˜æ”¾ç³»ç»Ÿçš„é•œåƒã€‚&lt;/p>
&lt;p>Arch Linuxçš„é•œåƒå¯ä»¥å»é•œåƒç«™ä¸‹è½½ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©&lt;a class="link" href="https://mirrors.ustc.edu.cn/archlinux/iso/latest/" target="_blank" rel="noopener"
>ä¸­ç§‘å¤§çš„é•œåƒç«™&lt;/a>æ¥ä¸‹è½½ï¼Œè¿™é‡Œé€‰æ‹©&lt;code>archlinux-x86_64.iso&lt;/code>å³å¯ä¸‹è½½äº†ã€‚&lt;/p>
&lt;p>æœ‰äº†é•œåƒè¿˜éœ€è¦å¼•å¯¼ç¨‹åºï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯&lt;a class="link" href="https://www.ventoy.net/cn/index.html" target="_blank" rel="noopener"
>Ventoy&lt;/a>ã€‚å®ƒçš„ä¼˜åŠ¿å°±æ˜¯æ”¯æŒå¤šç§é•œåƒï¼ŒåŒæ—¶ä¹Ÿä¸å½±å“Uç›˜æ­£å¸¸çš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>åˆ¶ä½œå¥½åç›´æ¥å°†isoæ–‡ä»¶æ‹·è´åˆ°Uç›˜é‡Œå³å¯äº†ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;p>é‡å¯ç”µè„‘ï¼Œåœ¨BIOSä¸­é€‰æ‹©å¥½Uç›˜å¼•å¯¼åï¼Œå°±å¯ä»¥è¿›å…¥åˆ°ArchLinuxçš„å®‰è£…ç•Œé¢äº†ã€‚ä¸Windowsè¿™ç§å›¾å½¢åŒ–å®‰è£…ä¸åŒï¼ŒArchçš„å®‰è£…æ˜¯é€šè¿‡è¾“å…¥å‘½ä»¤æ¥å®Œæˆçš„ã€‚ä¸è¿‡ç°åœ¨å®˜æ–¹å·²ç»æä¾›äº†å®‰è£…è„šæœ¬æ¥å®ç°ï¼Œè¿™æå¤§ç®€åŒ–äº†æˆ‘ä»¬çš„å®‰è£…ã€‚åé¢æˆ‘å°±é€šè¿‡å®‰è£…è„šæœ¬æ¥è¿›è¡Œå®‰è£…ã€‚ä¸è¿‡å¦‚æœæœ‰æ›´é«˜çº§çš„å®‰è£…éœ€æ±‚ï¼Œå¦‚åŒç³»ç»Ÿç­‰ç­‰ï¼Œé‚£è¿˜æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…å§ã€‚&lt;/p>
&lt;h3 id="è”ç½‘">&lt;a href="#%e8%81%94%e7%bd%91" class="header-anchor">&lt;/a>è”ç½‘
&lt;/h3>&lt;p>Archçš„å®‰è£…æ˜¯éœ€è¦è¿æ¥äº’è”ç½‘çš„ï¼Œå¦‚æœæ˜¯æœ‰çº¿ç½‘ç»œçš„è¯å°±æ˜¯è‡ªåŠ¨è¿æ¥ï¼Œè€Œå¦‚æœéœ€è¦è¿æ¥WI-FIçš„è¯å°±éœ€è¦è¾“å…¥å‘½ä»¤äº†&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥iwctlå‘½ä»¤è¡Œï¼Œå½“å‰è¡Œä¼šæ˜¾ç¤º[iwd]#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iwctl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ—å‡ºæ‰€æœ‰çš„WiFiç½‘å¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">device list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ­¤æ—¶ä¼šåˆ—å‡ºæ‰€æœ‰çš„WiFiç½‘å¡ï¼Œä¸€èˆ¬ä½¿ç”¨ç¬¬ä¸€ä¸ªå³å¯ï¼Œä¹Ÿå°±æ˜¯wlan0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦‚æœè®¾å¤‡æˆ–å…¶ç›¸åº”çš„é€‚é…å™¨å·²å…³é—­ï¼Œå°†å…¶æ‰“å¼€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">adapter &lt;span class="o">[&lt;/span>adapteråç§°&lt;span class="o">]&lt;/span> set-property Powered on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰«æç½‘ç»œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">station wlan0 scan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ—å‡ºæ‰€æœ‰å¯ä»¥æœç´¢åˆ°çš„ç½‘ç»œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">station wlan0 get-networks
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿æ¥ç½‘ç»œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">station wlan0 connect &lt;span class="o">[&lt;/span>SSID&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¾“å…¥å®Œå¯†ç åå°±è¿æ¥ä¸Šäº†ï¼Œæ­¤æ—¶å°±å¯ä»¥é€€å‡ºäº†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éªŒè¯ç½‘ç»œè¿æ¥çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ping baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="archinstall">&lt;a href="#archinstall" class="header-anchor">&lt;/a>archinstall
&lt;/h3>&lt;p>è¾“å…¥&lt;code>archinstall&lt;/code>è¿›å…¥å®˜æ–¹çš„å®‰è£…è„šæœ¬&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image.png"
width="370"
height="337"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image_hu_e7edcef6f70b9c9.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image_hu_dd837ee2ec301181.png 1024w"
loading="lazy"
alt="archinstallç•Œé¢"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="263px"
>&lt;/p>
&lt;p>æ­¤æ—¶ç•Œé¢å…¨æ˜¯è‹±æ–‡ï¼Œç¬¬ä¸€é¡¹ä¼¼ä¹å¯ä»¥æ›´æ”¹è¯­è¨€ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œä¸€å®šä¸è¦å°†å…¶ä¿®æ”¹ä¸ºä¸­æ–‡ï¼Œç”±äºå®‰è£…é•œåƒé‡Œæ²¡æœ‰å®‰è£…ä¸­æ–‡å­—ä½“ï¼Œä¸€æ—¦åˆ‡æ¢è¿‡å»ä½ å°±ä¼šçœ‹åˆ°ä¸€å †å£å£å£ã€‚è¿™é‡Œå°±ä¿æŒé»˜è®¤çš„è‹±æ–‡å°±å¥½äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image1.png"
width="393"
height="347"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image1_hu_bec1d822f445b643.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image1_hu_4b48fff90d0e55b1.png 1024w"
loading="lazy"
alt="é”™è¯¯çš„ç¤ºèŒƒ"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="271px"
>&lt;/p>
&lt;p>ç¬¬äºŒé¡¹&lt;code>Locales&lt;/code>ï¼šä¸ç”¨ä¿®æ”¹ï¼Œä¿æŒé»˜è®¤å³å¯&lt;/p>
&lt;p>ç¬¬ä¸‰é¡¹&lt;code>Mirrors&lt;/code>ï¼šéœ€è¦å»é…ç½®ä¸€ä¸‹ä¸­å›½çš„é•œåƒ&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image2.png"
width="241"
height="119"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image2_hu_bb9f8ee1b0cf4b51.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image2_hu_f028aec899bd9885.png 1024w"
loading="lazy"
alt="é•œåƒé€‰æ‹©"
class="gallery-image"
data-flex-grow="202"
data-flex-basis="486px"
>&lt;/p>
&lt;p>è¿™é‡Œé€‰æ‹©&lt;code>China&lt;/code>ï¼Œå¹¶åœ¨ä¸‹é¢çš„&lt;code>Optional repositories&lt;/code>ä¸­æ‰“å¼€&lt;code>multilib&lt;/code>ï¼ˆæŒ‰ç©ºæ ¼é€‰ä¸­ï¼‰ï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†ç»™32ä½ç¨‹åºæä¾›æ”¯æŒ&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image3.png"
width="282"
height="85"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image3_hu_28bea69023e9efad.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image3_hu_deb7ce0563a29306.png 1024w"
loading="lazy"
alt="å¼€å¯multilibåº“"
class="gallery-image"
data-flex-grow="331"
data-flex-basis="796px"
>&lt;/p>
&lt;p>ç¬¬å››é¡¹&lt;code>Disk configuration&lt;/code>ï¼šç¡¬ç›˜é…ç½®ï¼Œ**è¿™æ˜¯éå¸¸å±é™©çš„ä¸€æ­¥ï¼Œæ¯ä¸€ä¸ªæ“ä½œä¸€å®šå°å¿ƒè°¨æ…ï¼Œä¸€æ—¦å¤±è¯¯ä¸å¯æŒ½å›ã€‚è¯·ç¡®ä¿éœ€è¦å®‰è£…çš„ç¡¬ç›˜ä¸­æ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œè¿™ä¸€æ­¥ä¼šæ¸…é™¤æ‰ç¡¬ç›˜ä¸Šçš„æ‰€æœ‰æ•°æ®ã€‚**è¿™é‡Œæˆ‘å°±ç›´æ¥æŒ‰é»˜è®¤æ¥äº†ã€‚&lt;/p>
&lt;p>é€‰æ‹©ç¡¬ç›˜é…ç½®åç‚¹å‡»&lt;code>Partitioning&lt;/code>ï¼Œä¹‹åä½¿ç”¨é»˜è®¤è®¾ç½®ï¼Œé€‰æ‹©&lt;code>Use a best-effort default partition layout&lt;/code>ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ–‡ä»¶ç³»ç»Ÿé€‰æ‹©ï¼Œè¿™é‡Œç›´æ¥é€‰æ‹©btrfsï¼Œbtrfsä½œä¸ºæœ€æ–°ä¸€ä»£çš„Linuxæ–‡ä»¶ç³»ç»Ÿï¼Œæ”¯æŒå¾ˆå¤šé«˜çº§ç‰¹æ€§ã€‚&lt;/p>
&lt;p>é€‰æ‹©å®Œåä¼šæœ‰ä¸¤ä¸ªå­é€‰é¡¹ï¼Œæ˜¯å…³äºbtrfsçš„ç‰¹æ€§çš„ï¼Œè¿™é‡Œä¹Ÿæ˜¯ç›´æ¥éƒ½ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image4.png"
width="572"
height="98"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image4_hu_8977c2081f713bd5.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image4_hu_740c260fea7bae43.png 1024w"
loading="lazy"
alt="æ˜¯å¦å¼€å¯å­ç³»ç»Ÿï¼Œç›´æ¥yes"
class="gallery-image"
data-flex-grow="583"
data-flex-basis="1400px"
>&lt;/p>
&lt;p>å­ç³»ç»Ÿæ˜¯btrfsç‰¹æ€§ä¹‹ä¸€ï¼Œå¯ä»¥æŠŠåŒä¸€ä¸ªç¡¬ç›˜åˆ’åˆ†æˆå¤šä¸ªå­åŒºï¼Œä½†æ˜¯æ¯ä¸ªå­åŒºéƒ½æ‹¥æœ‰ç¡¬ç›˜çš„æ‰€æœ‰å‰©ä½™ç©ºé—´ï¼Œç›¸å½“äºåªè¦ç¡¬ç›˜è¿˜æœ‰ç©ºé—´ï¼Œæ¯ä¸ªå­åˆ†åŒºå°±éƒ½å¯ä»¥ä½¿ç”¨å®ƒã€‚å­åˆ†åŒºè¿˜å¯ä»¥å•ç‹¬è¿›è¡ŒæŒ‚è½½ç­‰æ“ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image5.png"
width="502"
height="107"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image5_hu_db5ac59f54f38da.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image5_hu_481a93d014f1af47.png 1024w"
loading="lazy"
alt="æ˜¯å¦å¼€å¯å‹ç¼©"
class="gallery-image"
data-flex-grow="469"
data-flex-basis="1125px"
>&lt;/p>
&lt;p>å‹ç¼©ï¼ˆé€æ˜å‹ç¼©ï¼‰ä¹Ÿæ˜¯btrfsé‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œä½œç”¨æ˜¯ä¼šå¯¹æ•°æ®å‹ç¼©å­˜å‚¨ä»è€Œç‰ºç‰²CPUæ€§èƒ½æ¥æå‡ç¡¬ç›˜æ€§èƒ½ã€‚å†™æ—¶å¤åˆ¶åˆ™æ˜¯æ•°æ®åªæœ‰åœ¨è¢«ä¿®æ”¹æ—¶æ‰ä¼šè¿›è¡Œå¤åˆ¶ã€‚&lt;/p>
&lt;p>btrfsè¿˜æœ‰ä¸ªç‰¹æ€§æ˜¯æ”¯æŒå¿«ç…§ï¼Œæˆ‘ä»¬åœ¨&lt;code>Btrfs snapshots&lt;/code>é‡Œé€‰æ‹©&lt;code>Snapper&lt;/code>æ¥å¯ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image6.png"
width="255"
height="99"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image6_hu_e156ab4230ff5a56.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image6_hu_e9dee5a7e9b5e465.png 1024w"
loading="lazy"
alt="é€‰æ‹©Snapper"
class="gallery-image"
data-flex-grow="257"
data-flex-basis="618px"
>&lt;/p>
&lt;p>ç¬¬äº”é¡¹æ˜¯&lt;code>Swap&lt;/code>ï¼šè¿™é‡Œç›´æ¥ä¿æŒé»˜è®¤å°±å¥½äº†ã€‚&lt;/p>
&lt;p>ç¬¬å…­é¡¹æ˜¯&lt;code>Bootloader&lt;/code>ï¼šå¯åŠ¨å¼•å¯¼è´Ÿè´£å¼€æœºæ—¶å¼•å¯¼ç”µè„‘è½½å…¥æ“ä½œç³»ç»Ÿï¼Œè¿™é‡Œæˆ‘ä¹ æƒ¯ä½¿ç”¨&lt;code>Grub&lt;/code>&lt;/p>
&lt;p>ç¬¬ä¸ƒé¡¹æ˜¯&lt;code>Hostname&lt;/code>ï¼šå’ŒWindowsçš„ä¸»æœºåä¸€æ ·ï¼Œå°±æ˜¯ç»™æœºå™¨èµ·çš„åå­—&lt;/p>
&lt;p>ç¬¬å…«é¡¹æ˜¯&lt;code>Authentication&lt;/code>ï¼šè¿™é‡Œæ³¨æ„è¦ç»™rootè®¾ç½®ä¸€ä¸ªå¯†ç ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·ä¾›ä¹‹åçš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image7.png"
width="183"
height="81"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image7_hu_13b7b9da6e1311d8.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image7_hu_da146ee8dbe9432b.png 1024w"
loading="lazy"
alt="Authentication ç•Œé¢"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="542px"
>&lt;/p>
&lt;p>ä¹‹ååˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image8.png"
width="192"
height="83"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image8_hu_b39d770e9961807a.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image8_hu_998f90bc5cffa0f3.png 1024w"
loading="lazy"
alt="åˆ›å»ºç”¨æˆ·"
class="gallery-image"
data-flex-grow="231"
data-flex-basis="555px"
>&lt;/p>
&lt;p>è¿™é‡Œç»™ç”¨æˆ·&lt;code>sudo&lt;/code>æƒé™ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä¹‹åç®¡ç†ç³»ç»Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image9.png"
width="341"
height="128"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image9_hu_18f7788c9e9a3abf.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image9_hu_617e51fbb10b450c.png 1024w"
loading="lazy"
alt="sudoæƒé™"
class="gallery-image"
data-flex-grow="266"
data-flex-basis="639px"
>&lt;/p>
&lt;p>ç¬¬ä¹é¡¹æ˜¯&lt;code>Profile&lt;/code>ï¼šè¿™é‡Œæ˜¯é¢„è£…ä»€ä¹ˆè½¯ä»¶ï¼Œå¯¹äºæ¡Œé¢ç¯å¢ƒï¼Œæ–°æ‰‹æ¨èçš„å°±æ˜¯KDEï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©&lt;code>Type&lt;/code>â†’&lt;code>Desktop&lt;/code>â†’&lt;code>KDE Plasma&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image10.png"
width="185"
height="361"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image10_hu_95f22ae824ccfc27.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image10_hu_c5c24efb1805b89c.png 1024w"
loading="lazy"
alt="æ¡Œé¢ç¯å¢ƒé€‰æ‹©"
class="gallery-image"
data-flex-grow="51"
data-flex-basis="122px"
>&lt;/p>
&lt;p>è¿™é‡Œæˆ‘è¿˜é¢å¤–å‹¾é€‰äº†&lt;code>Hyprland&lt;/code> ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªç°ä»£çš„å¹³é“ºå¼çª—å£ç®¡ç†å™¨ï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘é€‰Linuxçš„ç†ç”±ä¹‹ä¸€ï¼‰ï¼Œé…ç½®æœ‰äº›éº»çƒ¦ï¼Œæ–°æ‰‹å¯ä»¥ä¸é€‰ã€‚&lt;/p>
&lt;p>ä¹‹åæ˜¯æ˜¾å¡é©±åŠ¨é€‰æ‹©ï¼Œè¿™é‡Œæˆ‘æ˜¯Intelæ ¸æ˜¾+Nvidiaç‹¬æ˜¾çš„ç»„åˆï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œé€‰æ‹©å®‰è£…Nvidiaé—­æºé©±åŠ¨ï¼Œå¹¶åœ¨åé¢æ‰‹åŠ¨å®‰è£…Intelæ ¸æ˜¾é©±åŠ¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image11.png"
width="536"
height="295"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image11_hu_9cb08dbec1095060.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image11_hu_e954bd8130acb037.png 1024w"
loading="lazy"
alt="æ˜¾å¡é©±åŠ¨é€‰æ‹©"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="436px"
>&lt;/p>
&lt;p>ä¹‹åæ˜¯æ¬¢è¿ç•Œé¢ï¼Œè¿™ä¸ªä¿æŒé»˜è®¤çš„&lt;code>sddm&lt;/code>å³å¯&lt;/p>
&lt;p>ç¬¬åé¡¹æ˜¯&lt;code>Applications&lt;/code>ï¼šè“ç‰™æ ¹æ®éœ€æ±‚å¼€å¯ï¼ŒéŸ³é¢‘ï¼ˆAudioï¼‰å»ºè®®é€‰&lt;code>pipewire&lt;/code>&lt;/p>
&lt;p>ç¬¬åä¸€é¡¹æ˜¯&lt;code>Kernels&lt;/code>ï¼šè¿™é‡Œå†…æ ¸é€‰æ‹©å¯ä»¥é€‰&lt;code>linux-zen&lt;/code>ï¼ŒåŒ…å«ä¸€äº›å¸¸ç”¨çš„ä¼˜åŒ–&lt;/p>
&lt;p>ç¬¬åäºŒé¡¹æ˜¯&lt;code>Network configuration&lt;/code>ï¼šè¿™é‡Œé€‰æ‹©ç¬¬ä¸‰ä¸ªå³å¯&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image12.png"
width="793"
height="109"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image12_hu_c16d4b6144ce1d6a.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image12_hu_e7f1b988aeef1068.png 1024w"
loading="lazy"
alt="ä»ä¸Šå¾€ä¸‹åˆ†åˆ«æ˜¯â€œå¤åˆ¶å½“å‰ç½‘è·¯é…ç½®â€â€œè‡ªå·±é…ç½®â€â€œä½¿ç”¨ç½‘ç»œç®¡ç†å™¨â€"
class="gallery-image"
data-flex-grow="727"
data-flex-basis="1746px"
>&lt;/p>
&lt;p>ç¬¬åä¸‰é¡¹&lt;code>Timezone&lt;/code>ï¼šæ—¶åŒºé€‰æ‹©&lt;code>Asia/Shanghai&lt;/code>&lt;/p>
&lt;p>ç¬¬åå››é¡¹&lt;code>NTP&lt;/code>ï¼šè‡ªåŠ¨åŒæ­¥æ—¶é—´ï¼Œä¿æŒé»˜è®¤å¼€å¯å³å¯&lt;/p>
&lt;p>æœ€åé€‰æ‹©&lt;code>Install&lt;/code>å°±ä¼šè‡ªåŠ¨å®‰è£…äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image13.png"
width="562"
height="151"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image13_hu_cd3506f5712b27e.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image13_hu_b94e5d6a8c995a0.png 1024w"
loading="lazy"
alt="å®‰è£…å®Œæˆç•Œé¢"
class="gallery-image"
data-flex-grow="372"
data-flex-basis="893px"
>&lt;/p>
&lt;p>å®‰è£…å®Œæˆåæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰ä¸ªï¼Œå†å»è£…ä¸€äº›éœ€è¦çš„åŒ…&lt;/p>
&lt;p>é¦–å…ˆæ˜¯ä¸­æ–‡å­—ä½“&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pacman -S noto-fonts-cjk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå°±æ˜¯Intelçš„æ˜¾å¡é©±åŠ¨&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pacman -S mesa lib32-mesa vulkan-intel lib32-vulkan-intel intel-media-driver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆåå°±å¯ä»¥é‡å¯è¿›å…¥ç³»ç»Ÿäº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="kdeé…ç½®">&lt;a href="#kde%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>KDEé…ç½®
&lt;/h2>&lt;p>åœ¨ç™»å½•ç•Œé¢æˆ‘ä»¬é€‰æ‹©&lt;code>Plasma(Wayland)&lt;/code>ï¼Œå¹¶è¾“å…¥å¥½å¯†ç åï¼Œå°±è¿›å…¥åˆ°KDEä¸­äº†ã€‚&lt;/p>
&lt;p>è¿™é‡Œç»™å‡ºæˆ‘è£…æœºåçš„ä¸€äº›é…ç½®æ–¹æ³•&lt;/p>
&lt;h3 id="è®¾ç½®é•œåƒæº">&lt;a href="#%e8%ae%be%e7%bd%ae%e9%95%9c%e5%83%8f%e6%ba%90" class="header-anchor">&lt;/a>è®¾ç½®é•œåƒæº
&lt;/h3>&lt;p>åœ¨å®‰è£…æ—¶ï¼Œæˆ‘ä»¬æ˜¯é…ç½®è¿‡é•œåƒäº†ï¼Œä½†æ˜¯å½“æ—¶å®ƒåˆ—å‡ºäº†è®¸å¤šçš„é•œåƒï¼Œæ­£å¸¸ä½¿ç”¨ä¸éœ€è¦è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬å°±ä¿ç•™1-2ä¸ªå°±å¥½äº†ï¼Œè¿™é‡Œæˆ‘ç›´æ¥ç”¨å‘½ä»¤åˆ‡æ¢äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sudo tee /etc/pacman.d/mirrorlist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åæ˜¯å¯ç”¨Arch Linux CN è½¯ä»¶æº&lt;/p>
&lt;p>åœ¨Â &lt;code>/etc/pacman.conf&lt;/code>Â æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸¤è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>archlinuxcn&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Server&lt;/span> &lt;span class="o">=&lt;/span> https://mirrors.ustc.edu.cn/archlinuxcn/&lt;span class="nv">$arch&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå°±æ˜¯æ›´æ–°è½¯ä»¶åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -Syyu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S archlinuxcn-keyring
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è®¾ç½®ä¸­æ–‡ç¯å¢ƒ">&lt;a href="#%e8%ae%be%e7%bd%ae%e4%b8%ad%e6%96%87%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>è®¾ç½®ä¸­æ–‡ç¯å¢ƒ
&lt;/h3>&lt;p>é»˜è®¤çš„ç³»ç»Ÿæ˜¯æ²¡æœ‰ä¸­æ–‡çš„ç¯å¢ƒçš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶é…ç½®å¯¹åº”çš„localeã€‚&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>&lt;/p>
&lt;p>é¦–å…ˆæ˜¯ç¼–è¾‘&lt;code>/etc/locale.gen&lt;/code>æ–‡ä»¶ï¼Œå°†&lt;code>zh_CN.UTF-8 UTF-8&lt;/code>å‰é¢çš„æ³¨é‡Šå–æ¶ˆ&lt;/p>
&lt;p>ä¹‹åæ˜¯æ‰§è¡ŒÂ &lt;code>locale-gen&lt;/code>Â å‘½ä»¤ï¼Œä¾¿å¯ä»¥åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨è¿™äº› localeã€‚
å¯¹äºKDEï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¾ç½®é‡Œè¿›è¡Œè¯­è¨€çš„åˆ‡æ¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image14.png"
width="931"
height="674"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image14_hu_e2e34e90c234c5c2.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image14_hu_12f3b8493635d345.png 1024w"
loading="lazy"
alt="åˆ‡æ¢è¯­è¨€è®¾ç½®"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="331px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image15.png"
width="927"
height="671"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image15_hu_b1f5a52efdc54716.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image15_hu_ee6f774f1c2f92dd.png 1024w"
loading="lazy"
alt="æ·»åŠ ç®€ä½“ä¸­æ–‡å¹¶æ”¾åˆ°æœ€ä¸Š"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="331px"
>&lt;/p>
&lt;p>è®¾ç½®å®Œæˆåé‡å¯å³å¯ç”Ÿæ•ˆäº†&lt;/p>
&lt;h3 id="è®¾ç½®ä¸­æ–‡è¾“å…¥æ³•">&lt;a href="#%e8%ae%be%e7%bd%ae%e4%b8%ad%e6%96%87%e8%be%93%e5%85%a5%e6%b3%95" class="header-anchor">&lt;/a>è®¾ç½®ä¸­æ–‡è¾“å…¥æ³•
&lt;/h3>&lt;p>è¾“å…¥æ³•è¿™é‡Œæˆ‘ä»¬é€‰æ‹©fcitix+rimeå³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S fcitx5-im fcitx5-rime
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå®‰è£…rime-iceï¼Œè¿™æ˜¯å¤§ä½¬ç»´æŠ¤çš„rimeè¯åº“ï¼Œèƒ½å¾ˆæ–¹ä¾¿çš„é…ç½®å¥½è¾“å…¥æ³•ï¼Œæ­¤åŒ…åœ¨archlinuxcné‡Œæœ‰æ‰€ä»¥æˆ‘ä»¬ç›´æ¥pacmanå®‰è£…å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S rime-ice-git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååœ¨KDEçš„è™šæ‹Ÿé”®ç›˜è®¾ç½®é‡Œï¼Œé€‰æ‹©fcitx5å³å¯å¯ç”¨&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image16.png"
width="932"
height="680"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image16_hu_c469d802199c1738.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image16_hu_ae9bdbd94b18610a.png 1024w"
loading="lazy"
alt="KDEè™šæ‹Ÿé”®ç›˜è®¾ç½®"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="328px"
>&lt;/p>
&lt;p>å¯¹äºåŒæ‹¼ç”¨æˆ·ï¼Œrime-iceä¹Ÿæä¾›äº†å¯¹åº”çš„è®¾ç½®ï¼Œåªéœ€è¦åœ¨&lt;code>~/.local/share/fcitx5/rime/&lt;/code>ä¸‹åˆ›å»ºä¸‰ä¸ªé…ç½®æ–‡ä»¶å³å¯ï¼š&lt;/p>
&lt;p>&lt;code>default.custom.yaml&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schema_list&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">schema&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">double_pinyin_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>melt_eng.custom.yaml&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºåŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_rime_ice # å…¨æ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_double_pinyin # è‡ªç„¶ç åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">melt_eng.schema.yaml:/algebra_flypy &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># å°é¹¤åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_mspy # å¾®è½¯åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_sogou # æœç‹—åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_abc # æ™ºèƒ½ABCåŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_ziguang # ç´«å…‰åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: melt_eng.schema.yaml:/algebra_jiajia # æ‹¼éŸ³åŠ åŠ åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>radical_pinyin.custom.yaml&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºåŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_pinyin # å…¨æ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_double_pinyin # è‡ªç„¶ç åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">radical_pinyin.schema.yaml:/algebra_flypy &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># å°é¹¤åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_mspy # å¾®è½¯åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_sogou # æœç‹—åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_abc # æ™ºèƒ½ABCåŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_ziguang # ç´«å…‰åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># __include: radical_pinyin.schema.yaml:/algebra_jiajia # æ‹¼éŸ³åŠ åŠ åŒæ‹¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®¾ç½®å¥½åå³é”®è¾“å…¥æ³•å›¾æ ‡ï¼Œé€‰æ‹©é‡æ–°éƒ¨ç½²å³å¯ä½¿ç”¨&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image17.png"
width="352"
height="315"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image17_hu_9cc850e271670177.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image17_hu_25e97a43f5f8e720.png 1024w"
loading="lazy"
alt="é‡æ–°éƒ¨ç½²"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="268px"
>&lt;/p>
&lt;h3 id="å®‰è£…zshå’Œoh-my-zsh">&lt;a href="#%e5%ae%89%e8%a3%85zsh%e5%92%8coh-my-zsh" class="header-anchor">&lt;/a>å®‰è£…zshå’Œoh-my-zsh
&lt;/h3>&lt;p>é»˜è®¤çš„bashç”¨èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹ä¸çˆ½ï¼Œæ‰€ä»¥ç›´æ¥æ¢æˆzsh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…zsh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S zsh git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…oh-my-zsh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">REMOTE&lt;/span>&lt;span class="o">=&lt;/span>https://gitee.com/mirrors/oh-my-zsh.git sh -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†Giteeçš„é•œåƒï¼Œè¿™æ ·åœ¨å›½å†…èƒ½åŠ é€Ÿä¸‹è½½&lt;/p>
&lt;p>ä¹‹åå°±æ˜¯å®‰è£…æ’ä»¶ï¼Œæˆ‘å¸¸ç”¨çš„å°±æ˜¯å‘½ä»¤é«˜äº®ï¼Œè¿™æ ·å°±èƒ½å¾ˆæ–¹ä¾¿çœ‹å‡ºè¾“å…¥çš„å‘½ä»¤æ˜¯å¦æ­£ç¡®äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-syntax-highlighting
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åœ¨plugins=(xxx)é‡Œæ·»åŠ zsh-syntax-highlighting&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£…æµè§ˆå™¨">&lt;a href="#%e5%ae%89%e8%a3%85%e6%b5%8f%e8%a7%88%e5%99%a8" class="header-anchor">&lt;/a>å®‰è£…æµè§ˆå™¨
&lt;/h3>&lt;p>Linuxä¸Šæ”¯æŒæœ€å¥½çš„æµè§ˆå™¨å°±æ˜¯firefoxï¼Œè¿™é‡Œç›´æ¥å®‰è£…ä¸€æ‰‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S firefox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååœ¨è®¾ç½®é¡µé¢ï¼Œé€‰æ‹©&lt;code>Set Alternatives&lt;/code>æ‰¾åˆ°ä¸­æ–‡å¹¶åº”ç”¨&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/archlinux-install/IMAGE/image18.png"
width="1006"
height="358"
srcset="https://lbqaq.top/p/archlinux-install/IMAGE/image18_hu_a30adf31222a72d4.png 480w, https://lbqaq.top/p/archlinux-install/IMAGE/image18_hu_e13a54145970680a.png 1024w"
loading="lazy"
alt="firefoxè¯­è¨€è®¾ç½®"
class="gallery-image"
data-flex-grow="281"
data-flex-basis="674px"
>&lt;/p>
&lt;p>ä½†æ˜¯å¤§éƒ¨åˆ†ç½‘é¡µå¯¹äºChromeçš„æ”¯æŒè¿˜æ˜¯æ›´å¥½çš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©å†å®‰è£…edgeæµè§ˆå™¨&lt;/p>
&lt;p>ç”±äºedgeæ˜¯åœ¨AURä¸Šçš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…paruåŒ…ç®¡ç†å™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S paru
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå°±å¯ä»¥å®‰è£…edgeäº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">paru -S microsoft-edge-stable-bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>edgeå®‰è£…å®Œåè¿˜éœ€æ·»åŠ å¯åŠ¨å‘½ä»¤ä»¥ä¾¿ä½¿ç”¨ï¼Œåœ¨&lt;code>~/.config/microsoft-edge-stable-flags.conf&lt;/code>é‡Œè¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">--ozone-platform-hint=auto
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--enable-features=AcceleratedVideoDecodeLinuxGL,AcceleratedVideoDecodeLinuxZeroCopyGL
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ†åˆ«æ˜¯å¯ç”¨åŸç”ŸWaylandæ”¯æŒå’ŒGPUç¡¬è§£&lt;/p>
&lt;h3 id="è®¾ç½®é»˜è®¤å­—ä½“">&lt;a href="#%e8%ae%be%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>è®¾ç½®é»˜è®¤å­—ä½“
&lt;/h3>&lt;p>é»˜è®¤çš„å­—ä½“å¯¹äºä¸­æ–‡çš„æ˜¾ç¤ºæœ‰é—®é¢˜ï¼Œåœ¨ä¹‹å‰çš„æ–‡ç« ä¸­å°±è®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæˆ‘å°±ç›´æ¥è´´æ–¹æ³•äº†ï¼Œè¯¦ç»†çš„å†…å®¹å¯ä»¥çœ‹æˆ‘&lt;a class="link" href="https://lbqaq.top/p/linux-font/" target="_blank" rel="noopener"
>ä¹‹å‰çš„æ–‡ç« &lt;/a>ã€‚&lt;/p>
&lt;p>å®‰è£…å­—ä½“&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S ttc-iosevka ttf-nerd-fonts-symbols
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¼–è¾‘&lt;code>~/.config/fontconfig/fonts.conf&lt;/code>é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;span class="lnt">219
&lt;/span>&lt;span class="lnt">220
&lt;/span>&lt;span class="lnt">221
&lt;/span>&lt;span class="lnt">222
&lt;/span>&lt;span class="lnt">223
&lt;/span>&lt;span class="lnt">224
&lt;/span>&lt;span class="lnt">225
&lt;/span>&lt;span class="lnt">226
&lt;/span>&lt;span class="lnt">227
&lt;/span>&lt;span class="lnt">228
&lt;/span>&lt;span class="lnt">229
&lt;/span>&lt;span class="lnt">230
&lt;/span>&lt;span class="lnt">231
&lt;/span>&lt;span class="lnt">232
&lt;/span>&lt;span class="lnt">233
&lt;/span>&lt;span class="lnt">234
&lt;/span>&lt;span class="lnt">235
&lt;/span>&lt;span class="lnt">236
&lt;/span>&lt;span class="lnt">237
&lt;/span>&lt;span class="lnt">238
&lt;/span>&lt;span class="lnt">239
&lt;/span>&lt;span class="lnt">240
&lt;/span>&lt;span class="lnt">241
&lt;/span>&lt;span class="lnt">242
&lt;/span>&lt;span class="lnt">243
&lt;/span>&lt;span class="lnt">244
&lt;/span>&lt;span class="lnt">245
&lt;/span>&lt;span class="lnt">246
&lt;/span>&lt;span class="lnt">247
&lt;/span>&lt;span class="lnt">248
&lt;/span>&lt;span class="lnt">249
&lt;/span>&lt;span class="lnt">250
&lt;/span>&lt;span class="lnt">251
&lt;/span>&lt;span class="lnt">252
&lt;/span>&lt;span class="lnt">253
&lt;/span>&lt;span class="lnt">254
&lt;/span>&lt;span class="lnt">255
&lt;/span>&lt;span class="lnt">256
&lt;/span>&lt;span class="lnt">257
&lt;/span>&lt;span class="lnt">258
&lt;/span>&lt;span class="lnt">259
&lt;/span>&lt;span class="lnt">260
&lt;/span>&lt;span class="lnt">261
&lt;/span>&lt;span class="lnt">262
&lt;/span>&lt;span class="lnt">263
&lt;/span>&lt;span class="lnt">264
&lt;/span>&lt;span class="lnt">265
&lt;/span>&lt;span class="lnt">266
&lt;/span>&lt;span class="lnt">267
&lt;/span>&lt;span class="lnt">268
&lt;/span>&lt;span class="lnt">269
&lt;/span>&lt;span class="lnt">270
&lt;/span>&lt;span class="lnt">271
&lt;/span>&lt;span class="lnt">272
&lt;/span>&lt;span class="lnt">273
&lt;/span>&lt;span class="lnt">274
&lt;/span>&lt;span class="lnt">275
&lt;/span>&lt;span class="lnt">276
&lt;/span>&lt;span class="lnt">277
&lt;/span>&lt;span class="lnt">278
&lt;/span>&lt;span class="lnt">279
&lt;/span>&lt;span class="lnt">280
&lt;/span>&lt;span class="lnt">281
&lt;/span>&lt;span class="lnt">282
&lt;/span>&lt;span class="lnt">283
&lt;/span>&lt;span class="lnt">284
&lt;/span>&lt;span class="lnt">285
&lt;/span>&lt;span class="lnt">286
&lt;/span>&lt;span class="lnt">287
&lt;/span>&lt;span class="lnt">288
&lt;/span>&lt;span class="lnt">289
&lt;/span>&lt;span class="lnt">290
&lt;/span>&lt;span class="lnt">291
&lt;/span>&lt;span class="lnt">292
&lt;/span>&lt;span class="lnt">293
&lt;/span>&lt;span class="lnt">294
&lt;/span>&lt;span class="lnt">295
&lt;/span>&lt;span class="lnt">296
&lt;/span>&lt;span class="lnt">297
&lt;/span>&lt;span class="lnt">298
&lt;/span>&lt;span class="lnt">299
&lt;/span>&lt;span class="lnt">300
&lt;/span>&lt;span class="lnt">301
&lt;/span>&lt;span class="lnt">302
&lt;/span>&lt;span class="lnt">303
&lt;/span>&lt;span class="lnt">304
&lt;/span>&lt;span class="lnt">305
&lt;/span>&lt;span class="lnt">306
&lt;/span>&lt;span class="lnt">307
&lt;/span>&lt;span class="lnt">308
&lt;/span>&lt;span class="lnt">309
&lt;/span>&lt;span class="lnt">310
&lt;/span>&lt;span class="lnt">311
&lt;/span>&lt;span class="lnt">312
&lt;/span>&lt;span class="lnt">313
&lt;/span>&lt;span class="lnt">314
&lt;/span>&lt;span class="lnt">315
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#39;1.0&amp;#39;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE fontconfig SYSTEM &amp;#39;urn:fontconfig:fonts.dtd&amp;#39;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;fontconfig&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--rendering options--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;font&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;autohint&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hinting&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hintstyle&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>hintslight&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;antialias&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lcdfilter&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>lcddefault&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;rgba&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>rgb&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> https://caniuse.com/extended-system-fonts
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> GitHub uses this for code blocks.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ui-monospace&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>monospace&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ui-sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ui-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>-apple-system&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace Source Han --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Han Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Han Serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default system-ui fonts --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>system-ui&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default sans-serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Symbols Nerd Font&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Symbols Nerd Font&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default monospace fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>monospace&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Symbols Nerd Font&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Iosevka Extend&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace english fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;prgname&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;not_eq&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>msedge&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Iosevka Extend&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace fonts for Chinese (Hong Kong) --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-HK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK HK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-HK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- not have HK --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK TC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-HK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK HK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace fonts for Chinese (Taiwan) --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-TW&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK TC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-TW&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK TC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>zh-TW&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK TC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace fonts for Japanese --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ja&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK JP&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ja&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK JP&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ja&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK JP&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Replace fonts for Korean --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ko&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK KR&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ko&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK KR&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ko&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK KR&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è§£å†³å…¨è§’å¼•å· --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>en&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>en&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/fontconfig&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>Archçš„å®‰è£…å’Œå¸¸ç”¨é…ç½®å¤§æ¦‚å°±æ˜¯è¿™äº›äº†ï¼ŒArchçš„ä¼˜åŠ¿å°±æ˜¯è‡ªå®šä¹‰ç¨‹åº¦é«˜ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±çš„å–œçˆ±å»å®‰è£…å¯¹åº”çš„åŒ…ã€‚&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://wiki.archlinuxcn.org/wiki/Iwd" target="_blank" rel="noopener"
>iwd - Arch Linux ä¸­æ–‡ç»´åŸº&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/25308291469" target="_blank" rel="noopener"
>èŒæ–°å‘ ArchLinuxæœ€ç®€å•å®‰è£…æ–¹å¼ï¼ˆArchinstallï¼Œ2025.2ï¼‰ - çŸ¥ä¹&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://wiki.archlinuxcn.org/wiki/Intel_%e5%9b%be%e5%bd%a2%e5%a4%84%e7%90%86%e5%99%a8" target="_blank" rel="noopener"
>Intel å›¾å½¢å¤„ç†å™¨ - Arch Linux ä¸­æ–‡ç»´åŸº&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://wiki.archlinuxcn.org/wiki/%e7%ae%80%e4%bd%93%e4%b8%ad%e6%96%87%e6%9c%ac%e5%9c%b0%e5%8c%96" target="_blank" rel="noopener"
>ç®€ä½“ä¸­æ–‡æœ¬åœ°åŒ– - Arch Linux ä¸­æ–‡ç»´åŸº&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>å¦‚ä½•ä¼˜é›…çš„æ‰“é€ ä¸ªäººå½±éŸ³åº“</title><link>https://lbqaq.top/p/my-anime-hub/</link><pubDate>Fri, 20 Jun 2025 16:02:45 +0800</pubDate><guid>https://lbqaq.top/p/my-anime-hub/</guid><description>&lt;img src="https://lbqaq.top/p/my-anime-hub/131135880.webp" alt="Featured image of post å¦‚ä½•ä¼˜é›…çš„æ‰“é€ ä¸ªäººå½±éŸ³åº“" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>åœ¨21å¹´ï¼Œæˆ‘å†™è¿‡ä¸€ç¯‡ã€Š&lt;a class="link" href="https://lbqaq.top/p/%e5%a6%82%e4%bd%95%e4%bc%98%e9%9b%85%e7%9a%84%e7%9c%8b%e7%95%aa/" >å¦‚ä½•ä¼˜é›…çš„çœ‹ç•ª&lt;/a>ã€‹ï¼Œå½“æ—¶åªæ˜¯ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹ä¸‹è½½å’Œæ’­æ”¾ç”¨çš„è½¯ä»¶ï¼Œé¡ºä¾¿å†ä»‹ç»äº†ä¸€ä¸‹è¡¥å¸§ã€‚ä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒåŸå…ˆçš„é‚£å¥—æ–¹æ³•æ—©å·²é™ˆæ—§äº†ã€‚æ­£å¥½æœ€è¿‘æœ‰äº›ç©ºé—²æ—¶é—´ï¼ŒæŠŠç›®å‰æˆ‘ä½¿ç”¨çš„è¿½/è¡¥ç•ªæµç¨‹è®°å½•ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>ç›®å‰ä½¿ç”¨åˆ°çš„è½¯ä»¶æœ‰ä»¥ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://emby.media/" target="_blank" rel="noopener"
>Emby&lt;/a>ï¼šæœ¬åœ°åª’ä½“åº“&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/RiderLty/fontInAss" target="_blank" rel="noopener"
>fontInAss&lt;/a>ï¼šå®æ—¶å°†å­—ä½“å­é›†åŒ–ååµŒå…¥ass&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/wushuo894/ani-rss" target="_blank" rel="noopener"
>Ani-rss&lt;/a>ï¼šæ–°ç•ªè‡ªåŠ¨ä¸‹è½½+é‡å‘½å&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/qbittorrent/qBittorrent" target="_blank" rel="noopener"
>qBittorrent&lt;/a>ï¼šå¤§åé¼é¼çš„ç§å­ä¸‹è½½è½¯ä»¶&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/VueTorrent/VueTorrent" target="_blank" rel="noopener"
>VueTorrent&lt;/a>ï¼šé¢œå€¼æ›´é«˜çš„qBittorrent WebUI&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/PBH-BTN/PeerBanHelper" target="_blank" rel="noopener"
>PeerBanHelper&lt;/a>ï¼šBT åå¸è¡€å·¥å…·&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/kookxiang/jellyfin-plugin-bangumi" target="_blank" rel="noopener"
>jellyfin-plugin-bangumi&lt;/a>ï¼šbangumiè‡ªåŠ¨ç‚¹æ ¼å­+å…ƒæ•°æ®è·å–&lt;/li>
&lt;li>&lt;a class="link" href="https://rclone.org/" target="_blank" rel="noopener"
>Rclone&lt;/a>ï¼šè‡ªåŠ¨å¤‡ä»½&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡è¿™äº›è½¯ä»¶ï¼Œå¯ä»¥å®ç°ï¼š&lt;/p>
&lt;ul>
&lt;li>è‡ªåŠ¨è¿½æ›´+ä¸‹è½½+æ•´ç†&lt;/li>
&lt;li>éšå¤„æ’­æ”¾ï¼Œè®°å½•æ’­æ”¾å†å²&lt;/li>
&lt;li>æ‹¥æœ‰ç²¾ç¾çš„UIå’Œæµ·æŠ¥å¢™ï¼Œ&lt;del>çœ‹ç€å¾ˆçˆ½&lt;/del>&lt;/li>
&lt;li>è‡ªåŠ¨åŒæ­¥æ’­æ”¾è®°å½•&lt;/li>
&lt;/ul>
&lt;p>ä¸‹é¢å°±ä¾æ¬¡ä»‹ç»è¿™äº›è½¯ä»¶çš„åŠŸèƒ½ä¸å®‰è£…è®¾ç½®æ­¥éª¤ï¼Œä¸ºäº†ä¾¿äºç®¡ç†ï¼Œæˆ‘éƒ½æ˜¯é‡‡ç”¨Dockerè¿›è¡Œå®‰è£…ã€‚&lt;/p>
&lt;h2 id="ä¸ªäººåª’ä½“åº“emby">&lt;a href="#%e4%b8%aa%e4%ba%ba%e5%aa%92%e4%bd%93%e5%ba%93emby" class="header-anchor">&lt;/a>ä¸ªäººåª’ä½“åº“â€”â€”Emby
&lt;/h2>&lt;blockquote>
&lt;p>Embyæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„åª’ä½“æœåŠ¡å™¨è½¯ä»¶ï¼Œè‡´åŠ›äºä¸ºç”¨æˆ·æä¾›ä¸°å¯Œçš„å¤šåª’ä½“ä½“éªŒã€‚é€šè¿‡Embyï¼Œæ‚¨å¯ä»¥æ–¹ä¾¿åœ°åœ¨å®¶åº­å†…çš„å„ç§è®¾å¤‡ä¸Šè§‚çœ‹æ‚¨å–œçˆ±çš„ç”µå½±ã€ç”µè§†å‰§å’Œå…¶ä»–è§†é¢‘å†…å®¹ã€‚è€Œä¸”ï¼ŒEmbyè¿˜å…·å¤‡å¼ºå¤§çš„åª’ä½“ç®¡ç†åŠŸèƒ½ï¼Œè®©æ‚¨çš„å½±è§†èµ„æºäº•ç„¶æœ‰åºï¼Œéšæ—¶éšåœ°ç•…äº«è§‚å½±ä¹è¶£ã€‚&lt;/p>&lt;/blockquote>
&lt;p>é¦–å…ˆè¦æ­å»ºçš„å°±æ˜¯Embyï¼Œåªè¦æœ‰NASçš„ç”¨æˆ·éƒ½åº”è¯¥å¬è¿‡å®ƒçš„å¤§åï¼Œç”¨æ¥ç®¡ç†æœ¬åœ°çš„å½±éŸ³æ•°æ®å†åˆé€‚ä¸è¿‡äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name emby &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --restart unless-stopped &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --stop-timeout &lt;span class="m">30&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8096:8096 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8920:8920 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /var/opt/emby:/config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /mnt/luoboPool/public:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --device&lt;span class="o">=&lt;/span>/dev/dri &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PUID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">PGID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">TZ&lt;/span>&lt;span class="o">=&lt;/span>Asia/Shanghai &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> amilys/embyserver:4.9.0.46
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘æ²¡æœ‰é€‰ç”¨å®˜æ–¹çš„é•œåƒï¼Œè€Œæ˜¯ä½¿ç”¨amilyså¤§ä½¬åšçš„æ•´åˆç‰ˆï¼Œé‡Œé¢å†…ç½®äº†ä¸€äº›æ’ä»¶è¿˜æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ã€‚è¿™é‡Œæˆ‘æŒ‡å®šäº†&lt;code>4.9.0.46&lt;/code>ç‰ˆæœ¬æ˜¯å› ä¸ºç¥åŒ»åŠ©æ‰‹è¿™ä¸ªæ’ä»¶ä¸å†ç»§ç»­é€‚é…æœ€æ–°æµ‹è¯•ç‰ˆäº†ï¼Œæ‰€ä»¥å°±åœåœ¨è¿™ä¸ªç‰ˆæœ¬äº†ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…å’Œé…ç½®ç›¸å…³çš„æ’ä»¶ï¼Œamilyså¤§ä½¬ä½¿ç”¨äº†ä¸€ä¸ªæ‰©å±•è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä¿®æ”¹å…¶æ¥å®ç°é…ç½®&lt;code>docker/emby/config/ext.sh&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">######## è¯´æ˜ 2023-07-30 ########&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#ä¸€ä¸ªshè„šæœ¬ï¼Œå®¹å™¨æ¯æ¬¡å¯åŠ¨æ—¶è¿è¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æ–¹ä¾¿è‡ªå®šä¹‰æ·»åŠ åŠŸèƒ½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#################################&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Embyæ‰©å±•å¯åŠ¨è„šæœ¬&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å»æ‰ä¸‹è¡Œæ³¨é‡Šå¯ä»¥å…³é—­æ¬¡è„šæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#exit 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">########ä¸‹é¢å¯ä»¥è‡ªè¡Œæ·»åŠ åŠŸèƒ½########&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## ä¿®æ”¹å®¹å™¨hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#echo -e &amp;#34;13.226.210.20 api.themoviedb.org&amp;#34; &amp;gt;&amp;gt; /etc/hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#echo -e &amp;#34;13.225.142.99 api4.thetvdb.com&amp;#34; &amp;gt;&amp;gt; /etc/hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Emby-crx ç¾åŒ– åª’ä½“åº“IDä¸ºç©ºæ—¶ä¸å¯ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## åª’ä½“åº“idï¼Œç”¨é€—å·åˆ†éš”ã€‚è¿›å…¥åª’ä½“åº“åurlé‡Œçš„parentId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## MediaId=&amp;#34;21466,21463&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MediaId&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;239&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s2">&amp;#34;s/this\.parentId = \&amp;#34;\&amp;#34;;/this\.parentId = \&amp;#34;&lt;/span>&lt;span class="nv">$MediaId&lt;/span>&lt;span class="s2">\&amp;#34;;/&amp;#34;&lt;/span> /system/dashboard-ui/emby-crx/config.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## æ‰©å±•æ’ä»¶: &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># embyLaunchPotplayer å¤–éƒ¨æ’­æ”¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ede.user å¼¹å¹•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># actorPlus æœªçŸ¥æ¼”å‘˜éšè—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">extmod&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;[&amp;#34;embyLaunchPotplayer&amp;#34;,&amp;#34;actorPlus&amp;#34;]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;/\ extmod/s/\[.*\]/&amp;#39;&lt;/span>&lt;span class="nv">$extmod&lt;/span>&lt;span class="s1">&amp;#39;/g&amp;#39;&lt;/span> /system/dashboard-ui/ext.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹å¼¹å¹•æ’ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s#&amp;lt;script src=&amp;#34;danmaku.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;#&amp;lt;script src=&amp;#34;https://cdn.jsdelivr.net/gh/chen3861229/dd-danmaku@gh-pages/ede.user.js&amp;#34; charset=&amp;#34;utf-8&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;#g&amp;#39;&lt;/span> /system/dashboard-ui/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸è¾ƒäºåŸå§‹è„šæœ¬ï¼Œæˆ‘å°†å¼¹å¹•è„šæœ¬ä¿®æ”¹ä¸ºchen3861229å¤§ä½¬ç»§ç»­ç»´æŠ¤çš„ç‰ˆæœ¬&lt;a class="link" href="https://github.com/chen3861229/dd-danmaku" target="_blank" rel="noopener"
>dd-danmaku&lt;/a>ã€‚&lt;/p>
&lt;p>å…¶æ¬¡ï¼Œæˆ‘ä¸ºemby-erxç¾åŒ–æ’ä»¶æŒ‡å®šäº†åª’ä½“åº“ï¼Œå¹¶ä¿®å¤äº†é…ç½®è„šæœ¬æ²¡æœ‰å·¥ä½œçš„é—®é¢˜ï¼Œæœ€ç»ˆçš„æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192136290.png"
width="3828"
height="1926"
srcset="https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192136290_hu_5f8e2ef7fa20422d.png 480w, https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192136290_hu_7e47f9199d38e8a1.png 1024w"
loading="lazy"
alt="embyé¦–é¡µ"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="477px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192252851.png"
width="3774"
height="1778"
srcset="https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192252851_hu_f78d877c3302e40b.png 480w, https://lbqaq.top/p/my-anime-hub/IMAGE/image-20250620192252851_hu_5c5b3ad9969347b8.png 1024w"
loading="lazy"
alt="embyé¦–é¡µ"
class="gallery-image"
data-flex-grow="212"
data-flex-basis="509px"
>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°æµ·æŠ¥å¢™è¿˜æ˜¯éå¸¸èµå¿ƒæ‚¦ç›®çš„ã€‚&lt;/p>
&lt;p>å…³äºå¦‚ä½•åˆ›å»ºåª’ä½“åº“ä¹‹ç±»çš„Embyè®¾ç½®ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç›¸å…³çš„æ•™ç¨‹äº†ï¼Œæˆ‘è¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ï¼Œå°±åªå†™ä¸€ä¸‹å’Œç½‘ä¸Šé…ç½®ä¸ä¸€æ ·çš„åœ°æ–¹å§ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>é¦–é€‰å›¾åƒä¸‹è½½è¯­è¨€&lt;/code>è¿™é‡Œè®¾ç½®ä¸ºç©ºï¼Œç„¶ååœ¨ç¥åŒ»åŠ©æ‰‹é‡Œå¼€å¯&lt;code>åŸè¯­è¨€æµ·æŠ¥&lt;/code>ï¼Œè¿™æ ·ä¸‹è½½çš„æµ·æŠ¥å°±æ˜¯æ—¥æ–‡åŸç‰ˆçš„ï¼Œçœ‹èµ·æ¥æ›´èˆ’æœã€‚&lt;/li>
&lt;li>åª’ä½“åº“å¯ä»¥è‡ªå·±ç”¨PSè®¾è®¡ä¸€ä¸ªå°é¢ï¼Œçœ‹èµ·æ¥ä¼šæ›´åŠ é†’ç›®ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºå®¢æˆ·ç«¯çš„é€‰æ‹©ï¼Œæ ¹æ®æˆ‘çš„ä½¿ç”¨ä½“éªŒæ¥çœ‹ï¼Œç›®å‰ä½¿ç”¨ä½“éªŒæ¯”è¾ƒå¥½çš„æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>PCï¼šå°é›…ä¼˜åŒ–çš„å®˜æ–¹PCå®¢æˆ·ç«¯&lt;/li>
&lt;li>Androidï¼šYampy&lt;/li>
&lt;li>TVï¼šamilysä¼˜åŒ–çš„å®˜æ–¹TVå®¢æˆ·ç«¯ï¼Œå¯¹äºéƒ¨åˆ†æœ‰å­é›†åŒ–çš„å­—å¹•ï¼ˆè¿™ä¸ªåé¢ä¼šä»‹ç»ï¼‰ä½¿ç”¨Kodi+embyå®˜æ–¹æ’ä»¶&lt;/li>
&lt;/ul>
&lt;p>Embyé»˜è®¤çš„å…ƒæ•°æ®æ¥æºä¸º&lt;a class="link" href="https://www.themoviedb.org/" target="_blank" rel="noopener"
>The Movie Database (TMDB)&lt;/a>ï¼Œå·²ç»æ»¡è¶³95%çš„åˆ®å‰Šéœ€æ±‚äº†ã€‚ä½†æ˜¯ï¼Œæœ‰äº›èµ„æºè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œè¿™æ—¶å°±å¯ä»¥ä»&lt;a class="link" href="https://bgm.tv/" target="_blank" rel="noopener"
>Bangumi ç•ªç»„è®¡åˆ’&lt;/a>ä¸Šè·å–äº†ã€‚&lt;/p>
&lt;p>è¿™é‡Œå°±éœ€è¦ä½¿ç”¨&lt;a class="link" href="https://github.com/kookxiang/jellyfin-plugin-bangumi" target="_blank" rel="noopener"
>jellyfin-plugin-bangumi&lt;/a>æ’ä»¶äº†ï¼Œè™½ç„¶æ˜¯ä¸ºjellyfinç¼–å†™çš„ï¼Œä½†æ˜¯ä½œè€…ä¹Ÿä¸ºEmbyåšäº†é€‚é…ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo curl -L -o /var/opt/emby/plugins/Emby.Plugin.Bangumi.dll https://github.com/kookxiang/jellyfin-plugin-bangumi/releases/download/1.7.1/Emby.Plugin.Bangumi.dll
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›´æ¥å°†å…¶ä¸‹è½½åˆ°ä¹‹å‰é…ç½®å¥½çš„Embyé…ç½®ç›®å½•é‡Œå¹¶é‡å¯å³å¯ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;p>é™¤äº†å…ƒæ•°æ®è·å–ï¼Œå®ƒè¿˜å¯ä»¥åœ¨æ’­æ”¾å®Œæˆåè‡ªåŠ¨ç‚¹æ ¼å­ï¼Œè¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚&lt;/p>
&lt;h2 id="ä¸‹è½½ä¸‰ä»¶å¥—ani-rssqbittorrentpeerbanhelper">&lt;a href="#%e4%b8%8b%e8%bd%bd%e4%b8%89%e4%bb%b6%e5%a5%97ani-rssqbittorrentpeerbanhelper" class="header-anchor">&lt;/a>ä¸‹è½½ä¸‰ä»¶å¥—â€”â€”Ani-rssã€qBittorrentã€PeerBanHelper
&lt;/h2>&lt;p>æœ‰äº†åª’ä½“åº“ï¼Œä¸‹é¢éœ€è¦çš„å°±æ˜¯å¦‚ä½•å°†ç½‘ä¸Šçš„èµ„æºä¸‹è½½è¿›æ¥äº†ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯wushuo894å¤§ä½¬ç¼–å†™çš„Ani-rssï¼Œå¯ä»¥è‡ªåŠ¨æ£€æµ‹èœœæŸ‘è®¡åˆ’çš„æ›´æ–°å¹¶ä¸‹è½½ï¼ŒåŒæ—¶è¿˜æœ‰é‡å‘½åä»¥åŠæ´—ç‰ˆåŠŸèƒ½ã€‚ç§å­ä¸‹è½½åˆ™æ˜¯qBittorrentã€‚PeerBanHelperåˆ™æ˜¯ä¸ºäº†é¿å…è¢«å¸è¡€ã€‚ç”±äºè¿™ä¸‰ä¸ªå·¥å…·æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å†™äº†ä¸ªdocker composeæ¥ä¸€é”®å¯åŠ¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bt-download&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">qb_ipv6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enable_ipv6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipam&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">subnet&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2001&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="l">db8:abc1::/64&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">qBittorrent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">linuxserver/qbittorrent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qBittorrent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">16000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">16000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ç½‘é¡µç«¯å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">18064&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">18064&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ä¸‹è½½ç«¯å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">18064&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">18064&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PUID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PGID=994&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asia/Shanghai&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">WEBUI_PORT=16000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TORRENTING_PORT=18064&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/var/opt/qbittorrent:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/mnt/luoboPool/public:/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/home/luobo/qbittorrent/VueTorrent:/VueTorrent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qb_ipv6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ani-rss&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">wushuo894/ani-rss&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ani-rss&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">7789&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">7789&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PORT=7789&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">CONFIG=/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asia/Shanghai&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/var/opt/ani-rss:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/mnt/luoboPool/public:/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qb_ipv6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">PeerBanHelper&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry.cn-hangzhou.aliyuncs.com/ghostchu/peerbanhelper&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">PeerBanHelper&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">9898&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">9898&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asia/Shanghai&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/var/opt/PBH:/app/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qb_ipv6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®°å¾—ä¿®æ”¹qBittorrentçš„ç«¯å£å’Œç›¸å…³çš„æŒ‚è½½è·¯å¾„ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œåœ¨é…ç½®æ—¶ï¼Œå¯ç”¨äº†ipv6æ”¯æŒï¼Œä¸»è¦æ˜¯ä¸‹è½½btæ—¶æœ‰ipv6è¿æ¥æ€§ä¼šæ›´å¥½ä¸€ç‚¹ï¼ˆä¹Ÿå°±æ˜¯æ›´å¿«ï¼‰&lt;/p>
&lt;h3 id="ani-rss">&lt;a href="#ani-rss" class="header-anchor">&lt;/a>ani-rss
&lt;/h3>&lt;p>å¯¹äºani-rssçš„è®¾ç½®ï¼Œæˆ‘è¿™é‡Œå°±å†™ä¸€äº›å…³é”®çš„é…ç½®&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¿å­˜ä½ç½®ï¼š&lt;code>/data/ç•ªå‰§/${year}å¹´${quarter}æœˆ/${title}&lt;/code>&lt;/p>
&lt;p>è¿™æ ·å°±å¯ä»¥æŒ‰ç…§å­£åº¦è¿›è¡Œåˆ†ç±»çš„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼€å¯&lt;code>è‡ªåŠ¨åˆ é™¤&lt;/code>ã€&lt;code>ä»…åœ¨ä¸»RSSæ›´æ–°ååˆ é™¤å¤‡ç”¨RSS&lt;/code>ã€&lt;code>å¤‡ç”¨RSS&lt;/code>&lt;/p>
&lt;p>è¿™æ ·å°±èƒ½å¼€å¯æ´—ç‰ˆåŠŸèƒ½ï¼Œå¯ä»¥å®ç°å…ˆä¸‹è½½å†…åµŒå­—å¹•çš„ç‰ˆæœ¬ï¼Œç­‰å­—å¹•ç»„æ›´æ–°åå†æ¢å›å†…å°ç‰ˆæœ¬&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>å…¶ä»–çš„å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£å°±å¥½äº†&lt;/p>
&lt;p>è¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼Œani-rssæ˜¯åŸºäºèœœæŸ‘è®¡åˆ’çš„ï¼Œè€ŒèœœæŸ‘è®¡åˆ’ä¸»ç«™å·²ç»è¢«å¹²æ‰°äº†ï¼Œæ‰€ä»¥å¯ä»¥é‡‡ç”¨è‡ªå»ºé•œåƒç«™çš„æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨CloudFlareçš„Workerï¼Œè„šæœ¬ä¸ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TELEGRAPH_URL&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://mikanani.me&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">MY_DOMAIN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://example.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fetch&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">respondWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handleRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">URL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">host&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">TELEGRAPH_URL&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/^https?:\/\//&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">modifiedRequest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">method&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirect&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;manual&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">modifiedRequest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">contentType&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Content-Type&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœå†…å®¹ç±»å‹æ˜¯ RSSï¼Œæ‰è¿›è¡Œæ›¿æ¢æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">contentType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;application/xml&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">replacedText&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/https?:\/\/mikanani\.me/g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MY_DOMAIN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">replacedText&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ·»åŠ å…è®¸è·¨åŸŸè®¿é—®çš„å“åº”å¤´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Access-Control-Allow-Origin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ·»åŠ å…è®¸è·¨åŸŸè®¿é—®çš„å“åº”å¤´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Access-Control-Allow-Origin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">modifiedResponse&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="qbittorrent">&lt;a href="#qbittorrent" class="header-anchor">&lt;/a>qBittorrent
&lt;/h3>&lt;p>è¿™é‡Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤ªå¤šéœ€è¦é…ç½®çš„ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯é…ç½®äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„WebUIâ€”â€”&lt;a class="link" href="https://github.com/VueTorrent/VueTorrent" target="_blank" rel="noopener"
>VueTorrent&lt;/a>ã€‚&lt;/p>
&lt;p>ä¸‹è½½å¥½ååœ¨&lt;code>ä½¿ç”¨å¤‡ç”¨ WebUI&lt;/code>é‡Œå¡«å†™å¯¹åº”çš„è·¯å¾„å³å¯ã€‚&lt;/p>
&lt;h3 id="peerbanhelper">&lt;a href="#peerbanhelper" class="header-anchor">&lt;/a>PeerBanHelper
&lt;/h3>&lt;p>è¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å…¬ç½‘åšç§æ—¶è¢«å¸è¡€ï¼Œé…ç½®å¥½qBittorrentè¿æ¥åå°±å¯ä»¥ä¸ç”¨ç®¡äº†ã€‚&lt;/p>
&lt;h2 id="å­—ä½“è‡ªåŠ¨å­é›†åŒ–fontinass">&lt;a href="#%e5%ad%97%e4%bd%93%e8%87%aa%e5%8a%a8%e5%ad%90%e9%9b%86%e5%8c%96fontinass" class="header-anchor">&lt;/a>å­—ä½“è‡ªåŠ¨å­é›†åŒ–â€”â€”fontInAss
&lt;/h2>&lt;p>å¯¹äºæ–°ç•ªè€Œè¨€ï¼Œå­—å¹•ç»„åœ¨å†…å°å­—å¹•çš„æ—¶å€™åŒæ—¶ä¹Ÿä¼šå°å…¥å­—ä½“æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨æ“å¿ƒå­—ä½“çš„é—®é¢˜ã€‚ä½†æ˜¯ï¼Œåœ¨æ”¶é›†ä¸€äº›è€ç•ªçš„æ—¶å€™ï¼Œå­—å¹•å¾€å¾€æ˜¯å¤–æŒ‚çš„ï¼Œè¿™æ ·åœ¨æ²¡æœ‰å­—ä½“çš„ç¯å¢ƒä¸‹å°±ä¼šå›é€€åˆ°é»˜è®¤å­—ä½“ï¼Œçœ‹èµ·æ¥å°±ä¸€ç‚¹ä¹Ÿä¸ç¾è§‚ã€‚&lt;/p>
&lt;p>ç›®å‰ï¼Œå·²ç»æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆâ€”â€”å°†å­—ä½“å­é›†åŒ–å¹¶åµŒå…¥å­—å¹•&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼è¿˜æ˜¯æ— æ³•é¿å…éœ€è¦æ‰‹åŠ¨è¿›è¡Œå¤„ç†ã€‚ä¸ºæ­¤ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨åŒ–å¤„ç†çš„è½¯ä»¶â€”â€”fontInAssï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>å®ƒçš„å®‰è£…å’Œé…ç½®å¾ˆç®€å•ï¼Œè¿˜æ˜¯ä¸€æ ·çš„Dockerä¸€æŠŠæ¢­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">docker run -d --name&lt;span class="o">=&lt;/span>fontinass --restart&lt;span class="o">=&lt;/span>unless-stopped &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8012:8012 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">EMBY_SERVER_URL&lt;/span>&lt;span class="o">=&lt;/span>http://172.17.0.1:8096 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /var/opt/fontinassData:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v &lt;span class="s2">&amp;#34;/mnt/luoboPool/public/Downloads/è¶…çº§å­—ä½“æ•´åˆåŒ… XZ&amp;#34;&lt;/span>:/fonts/XZ &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> riderlty/fontinass:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œå”¯ä¸€è¦æ³¨æ„çš„å°±æ˜¯éœ€è¦é¢„å…ˆä¸‹è½½å¥½å­—ä½“çš„æ•´åˆåŒ…ï¼Œå¯ä»¥åœ¨&lt;a class="link" href="https://vcb-s.com/archives/1114" target="_blank" rel="noopener"
>è¿™é‡Œ&lt;/a>æ‰¾åˆ°ã€‚ï¼ˆå½“ç„¶è®©å®ƒç”¨åˆ°æ—¶å†è‡ªåŠ¨ä¸‹è½½ä¹Ÿå¯ä»¥ï¼‰&lt;/p>
&lt;p>ä¹‹åè®¿é—®Embyä»8012ç«¯å£è¿›å…¥å°±å¥½äº†ã€‚&lt;/p>
&lt;h2 id="è‡ªåŠ¨å¤‡ä»½rclone">&lt;a href="#%e8%87%aa%e5%8a%a8%e5%a4%87%e4%bb%bdrclone" class="header-anchor">&lt;/a>è‡ªåŠ¨å¤‡ä»½â€”â€”Rclone
&lt;/h2>&lt;p>è¿™æ¬¾è½¯ä»¶ä¹Ÿæ˜¯ä»‹ç»è¿‡äº†å¾ˆå¤šæ¬¡äº†ï¼Œç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†æ•°æ®åŒæ­¥åˆ°ç½‘ç›˜ä¸Šé¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>rclone copy /mnt/luoboPool/public/ç•ªå‰§ sp:/ç•ªå‰§ --exclude-from&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/home/luobo/exclude-anime.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘åŠ ä¸Šäº†ä¸€ä¸ªæ’é™¤æ–‡ä»¶ï¼Œé¿å…ä¼ ä¸ŠEmbyåˆ®å‰Šåçš„æ–‡ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">*.nfo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.parts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.!qB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€åå°±æ˜¯ç¼–å†™å®šæ—¶è„šæœ¬è®©å…¶æ¯å¤©è‡ªåŠ¨æ›´æ–°äº†ã€‚è¿™é‡Œæˆ‘æ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„crontabï¼Œè€Œæ˜¯å¦ä¸€ç§æ®è¯´æ›´ç°ä»£çš„æ–¹å¼â€”â€”&lt;a class="link" href="https://wiki.archlinux.org/title/Systemd/Timers" target="_blank" rel="noopener"
>systemd/Timers - ArchWiki&lt;/a>ã€‚&lt;/p>
&lt;p>æ ¹æ®æ–‡æ¡£ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™&lt;code>.service&lt;/code>å’Œ&lt;code>.timer&lt;/code>æ–‡ä»¶å°±å¥½äº†ã€‚&lt;/p>
&lt;p>&lt;code>/etc/systemd/system/sync-to-onedrive.service&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Copy to onedrive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">User&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">luobo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">luobo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/bin/bash /home/luobo/sync.sh&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>/etc/systemd/system/sync-to-onedrive.timer&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Run sync daily&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Timer]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">OnCalendar&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">*-*-* 4:00:00&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Persistent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">timers.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>æ•´ç†èµ„æºçœŸçš„æ˜¯ä¸€ä»¶å¾ˆçˆ½çš„äº‹æƒ…ï¼Œç‰¹åˆ«æ˜¯çœ‹åˆ°æœ€åçš„æµ·æŠ¥å¢™ä»¥åã€‚ä¹Ÿæ˜¯å¾ˆæ„Ÿè°¢è¿™äº›è½¯ä»¶çš„åˆ¶ä½œè€…ï¼Œä¸ºæˆ‘çœä¸‹äº†è®¸å¤šçš„æ—¶é—´ã€‚&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.himiku.com/archives/my-solution-for-perfect-anime-subtitle-fonts.html" target="_blank" rel="noopener"
>æˆ‘çš„åŠ¨ç”»å­—å¹•å­—ä½“è§£å†³æ–¹æ¡ˆ - åˆä¹‹éŸ³&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Springbootæ‰‹æ“ç™»å½•æƒé™éªŒè¯</title><link>https://lbqaq.top/p/springboot-login/</link><pubDate>Sat, 08 Feb 2025 16:20:00 +0800</pubDate><guid>https://lbqaq.top/p/springboot-login/</guid><description>&lt;img src="https://lbqaq.top/p/springboot-login/124949134.webp" alt="Featured image of post Springbootæ‰‹æ“ç™»å½•æƒé™éªŒè¯" />&lt;p>åœ¨22å¹´çš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘å†™äº†ä¸€ç¯‡åŸºäºShiroçš„èº«ä»½æƒé™æ§åˆ¶æ–¹æ³•ï¼Œç„¶è€Œéšç€Springbootå’ŒShiroçš„æ›´æ–°ã€‚å½“æˆ‘æŠŠSpringbootå‡çº§åˆ°3.xç‰ˆæœ¬ã€Shiroå‡çº§åˆ°2.xåï¼Œå‘ç°åŸæ¥çš„æ–¹æ³•éƒ½æ²¡æœ‰ç”¨äº†ã€‚æ— è®ºæˆ‘æ€ä¹ˆå°è¯•ï¼Œéƒ½æ— æ³•å®ç°ç™»å½•çš„æ‹¦æˆªæ•ˆæœã€‚åœ¨æŠ˜è…¾äº†è®¸ä¹…åï¼Œæˆ‘å†³å®šè‡ªå·±æ‰‹æ“å®‰å…¨æ¡†æ¶ã€‚&lt;del>æ¯•ç«Ÿå½“æ—¶ç”¨Shiroä¸»è¦æ˜¯ä¸ºäº†æ‰¾å·¥ä½œï¼Œç°åœ¨åšé¡¹ç›®åªè¦å®ç°æ•ˆæœå°±å¥½äº†&lt;/del>&lt;/p>
&lt;h2 id="åŸºæœ¬æ€è·¯">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%80%9d%e8%b7%af" class="header-anchor">&lt;/a>åŸºæœ¬æ€è·¯
&lt;/h2>&lt;p>æˆ‘ä»¬è¿˜æ˜¯æ²¿ç”¨ä¹‹å‰æ–‡ç« çš„è®¾è®¡ï¼Œä½¿ç”¨JWTæ¥ä½œä¸ºç”¨æˆ·çš„Tokenã€‚æˆ‘ä»¬æƒ³è¦å®ç°ç”¨æˆ·è®¿é—®åˆ°ç‰¹å®šçš„æ¥å£ï¼Œå°±éœ€è¦ç™»å½•ï¼Œå¦åˆ™è¿›è¡Œæ‹¦æˆªã€‚å¯¹äºæŒ‡å®šäº†æƒé™çš„æ¥å£ï¼Œè¿˜éœ€è¦éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ã€‚&lt;/p>
&lt;p>å’ŒShiroçš„è®¾è®¡ä¸€æ ·ï¼Œæˆ‘ä»¬é€šè¿‡è‡ªå®šä¹‰æ³¨è§£æ¥åˆ¤æ–­æ¥å£æ˜¯å¦éœ€è¦éªŒè¯ï¼š&lt;code>@RequiresLogin&lt;/code>è¡¨ç¤ºéœ€è¦ç™»å½•ã€&lt;code>@RequiresRoles&lt;/code>è¡¨ç¤ºéœ€è¦æŒ‡å®šçš„èº«ä»½ã€‚ç”¨æˆ·é€šè¿‡ç™»å½•æ¥å£ç™»å½•åï¼Œä¼šè·å¾—ä¸€ä¸ªTokenï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„ä¿¡æ¯å’Œèº«ä»½ã€‚åœ¨ä¹‹åçš„è¯·æ±‚ä¸­ï¼Œç”¨æˆ·éœ€è¦åœ¨Headerä¸­é™„å¸¦è¿™ä¸ªTokenã€‚&lt;/p>
&lt;h2 id="å…·ä½“å®ç°">&lt;a href="#%e5%85%b7%e4%bd%93%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>å…·ä½“å®ç°
&lt;/h2>&lt;h3 id="å¯¼å…¥ä¾èµ–">&lt;a href="#%e5%af%bc%e5%85%a5%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>å¯¼å…¥ä¾èµ–
&lt;/h3>&lt;p>ç”±äºæˆ‘ä»¬æ˜¯è‡ªå·±æ‰‹æ“ï¼Œæ‰€ä»¥æ²¡æœ‰å…¶ä»–çš„ä¾èµ–ï¼Œåªéœ€è¦å¯¼å…¥JWTç›¸å…³çš„åŒ…å³å¯äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>com.auth0&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>java-jwt&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.4.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å°è£…jwtå·¥å…·ç±»">&lt;a href="#%e5%b0%81%e8%a3%85jwt%e5%b7%a5%e5%85%b7%e7%b1%bb" class="header-anchor">&lt;/a>å°è£…JWTå·¥å…·ç±»
&lt;/h3>&lt;p>è¿™é‡Œä¸»è¦å®ç°JWTçš„ç”Ÿæˆã€éªŒè¯ã€æå–JWTå°è£…çš„ä¿¡æ¯ä¸‰ä¸ªåŠŸèƒ½&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JwtUtil&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * æœåŠ¡å™¨ç§é’¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Algorithm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Algorithm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">HMAC256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç”ŸæˆJSON Web Token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param username ç”¨æˆ·å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param issuer ç­¾å‘è€…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param subject é¢å‘ä¸»ä½“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param roles ç”¨æˆ·æƒé™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param ttlMillis ç”Ÿæ•ˆæ—¶é•¿(å•ä½:æ¯«ç§’)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">creatJwt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">currentTimeMillis&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JWTCreator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuedAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withClaim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;roles&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">expMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">expMillis&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withExpiresAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sign&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–ç­¾å‘å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦è§£å¯†çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return è§£å¯†åè·å¾—çš„å¯¹è±¡ï¼Œå¤±è´¥è¿”å›null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">getAudience&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è¾“å…¥çš„tokenæ— æ³•è§£æ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">NullPointerException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ— æ³•è¯»å–ç­¾å‘å¯¹è±¡&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–é¢å‘ä¸»ä½“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦è§£å¯†çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return è§£å¯†åè·å¾—çš„å¯¹è±¡ï¼Œå¤±è´¥è¿”å›null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">getSubject&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è¾“å…¥çš„tokenæ— æ³•è§£æ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">NullPointerException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ— æ³•è¯»å–é¢å‘ä¸»ä½“&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–ç”¨æˆ·æƒé™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦è§£å¯†çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return è§£å¯†åè·å¾—çš„å¯¹è±¡ï¼Œå¤±è´¥è¿”å›null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getRoles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">getClaim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;roles&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">as&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è¾“å…¥çš„tokenæ— æ³•è§£æ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">NullPointerException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ— æ³•è¯»å–ç”¨æˆ·æƒé™&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * éªŒè¯tokenæ˜¯å¦æ­£ç¡®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦éªŒè¯çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return é€šè¿‡éªŒè¯è¿”å›trueï¼Œåä¹‹æŠ›å‡ºå¼‚å¸¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">verifyToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWTVerificationException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JWTVerifier&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">verifier&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">verifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå®šä¹‰æ³¨è§£">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%b3%a8%e8%a7%a3" class="header-anchor">&lt;/a>è‡ªå®šä¹‰æ³¨è§£
&lt;/h3>&lt;p>é€šè¿‡è‡ªå®šä¹‰æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç»†ç²’åº¦çš„è¿›è¡Œæƒé™æ§åˆ¶ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦è¿›è¡Œç™»å½•è®¤è¯å’Œèº«ä»½è®¤è¯ï¼ˆç”±äºé¡¹ç›®å¹¶ä¸å¤§ï¼Œå°±ç•¥å»äº†æƒé™è®¤è¯ï¼‰ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ³¨è§£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.lang.annotation.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * éœ€è¦ç™»å½•æƒé™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Target&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">TYPE&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">METHOD&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Retention&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RetentionPolicy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">RUNTIME&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Documented&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@interface&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RequiresLogin&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.questioncollect.pojo.RoleEnum&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.lang.annotation.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * éœ€è¦èº«ä»½æƒé™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Target&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">TYPE&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">METHOD&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Retention&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RetentionPolicy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">RUNTIME&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Documented&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@interface&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰€éœ€çš„æƒé™åç§°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">RoleEnum&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">value&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">logical&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">AND&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨è§£ç±»ä¸Šæœ‰ä¸‰ä¸ªæ³¨è§£ï¼š&lt;/p>
&lt;p>&lt;code>@Target&lt;/code> ç”¨å®ƒæ¥æŒ‡æ˜è‡ªå®šä¹‰æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ŒElementType.TYPEä»£è¡¨å¯ä»¥å°†è¯¥æ³¨è§£ä½¿ç”¨åœ¨ç±»ã€æ¥å£æˆ–æšä¸¾ä¸Šï¼ŒElementType.METHOD ä»£è¡¨å¯ä»¥åº”ç”¨åœ¨ç±»çš„æ–¹æ³•ä¸Šã€‚&lt;/p>
&lt;p>&lt;code>@Retention&lt;/code> ç”¨å®ƒæ¥æŒ‡æ˜è¯¥æ³¨è§£åœ¨.javaå˜.classæ–‡ä»¶è¿‡ç¨‹ä¸­ä¼šè¢«ä¿ç•™åˆ°é‚£ä¸ªé˜¶æ®µã€‚RetentionPolicy.RUNTIME è¿™ç§ç±»å‹çš„æ³¨è§£å°†è¢«JVMä¿ç•™ï¼Œæ‰€ä»¥ä»–ä»¬èƒ½åœ¨è¿è¡Œæ—¶è¢«JVMæˆ–å…¶ä»–ä½¿ç”¨åå°„æœºåˆ¶çš„ä»£ç æ‰€è¯»å–å’Œä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;code>@Documented&lt;/code> æ³¨è§£è¡¨æ˜è¿™ä¸ªæ³¨è§£åº”è¯¥è¢« javadocå·¥å…·è®°å½•ã€‚&lt;/p>
&lt;p>ç‰¹åˆ«çš„ï¼Œåœ¨ç¬¬äºŒä¸ªæ³¨è§£ä¸Šï¼Œæˆ‘ä»¬å¼•å…¥äº†&lt;code>RoleEnum&lt;/code>å’Œ&lt;code>Logical&lt;/code>è¿™ä¸¤ä¸ªè‡ªå®šä¹‰çš„ç±»ã€‚å¯¹äºç¬¬ä¸€ä¸ªï¼Œè¿™æ˜¯ä¸€ä¸ªæƒé™çš„æšä¸¾ï¼Œæ–¹ä¾¿ä¹‹åæŒ‡å®šæ¥å£æ‰€éœ€æƒé™ã€‚ç¬¬äºŒä¸ªåˆ™æ˜¯æ ‡æ˜æ‰€éœ€çš„æƒé™é€»è¾‘æ“ä½œï¼Œä¸»è¦ç”¨äºèº«ä»½åˆ¤æ–­å¤„ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * AND
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">AND&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * OR
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå®šä¹‰æ‹¦æˆªå™¨">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%8b%a6%e6%88%aa%e5%99%a8" class="header-anchor">&lt;/a>è‡ªå®šä¹‰æ‹¦æˆªå™¨
&lt;/h3>&lt;p>æˆ‘ä»¬åœ¨&lt;code>interceptor&lt;/code>ä¸‹å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„æ‹¦æˆªå™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">AuthInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HandlerInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">preHandle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">instanceof&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HandlerMethod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HandlerMethod&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handlerMethod&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HandlerMethod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handlerMethod&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBeanType&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handlerMethod&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">requiresLogin&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresLogin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresLogin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">requiresRoles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// åˆ¤æ–­æ³¨è§£æ˜¯æ ‡è®°åœ¨æ‰€è°ƒç”¨çš„æ–¹æ³•ä¸Šè¿˜æ˜¯åœ¨å…¶ç±»ä¸Š&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">requiresLogin&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">requiresRoles&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç™»å½•é‰´æƒçš„ä¸»è¦ä¸šåŠ¡é€»è¾‘è§£é‡Šæ˜¯å½“å‘ç°ç”¨æˆ·æ²¡æœ‰åšç™»é™†çš„æ—¶å€™ï¼Œç«‹å³æŠ›å‡ºä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸šåŠ¡å¼‚å¸¸BusinessExceptionï¼Œå¦‚æœç™»å½•åˆ™return trueç»§ç»­æ‰§è¡Œåç»­ä»£ç ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç›´æ¥è·å–ç™»å½•ç”¨æˆ·ï¼ˆé˜²æ­¢è¯·æ±‚è½¬å‘æ—¶ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginTokenHelper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getLoginUserFromRequest&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å–ç™»å½•TOKEN&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginTokenHelper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getLoginToken&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç”¨æˆ·æœªç™»å½•&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//éªŒè¯Token&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">verifyToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸æ˜¯æœ‰æ•ˆçš„JWTæ ¼å¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SignatureVerificationException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ— æ•ˆçš„ç­¾å&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TokenExpiredException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tokenå·²è¿‡æœŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å–Tokené‡Œçš„ä¿¡æ¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tokenä¸­ç¼ºå°‘UserId&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRoles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRoles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userRoles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tokenä¸­ç¼ºå°‘èº«ä»½&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setUid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setRoles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userRoles&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">aud&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">aud&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="s">&amp;#34;dev&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequestContextUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getActiveProfile&lt;/span>&lt;span class="p">()))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç¦æ­¢ä½¿ç”¨æµ‹è¯•Token&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//èº«ä»½è®¤è¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">requiresRoles&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RoleEnum&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getValuesAsList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">logical&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RoleEnum&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getValuesAsList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">value&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">logical&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAnnotation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">logical&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">logical&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">AND&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">userRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">containsAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">logical&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Logical&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">OR&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">stream&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">noneMatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">::&lt;/span>&lt;span class="n">contains&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç”¨æˆ·æ— æƒæŸ¥çœ‹&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç™»å½•TOKENä¿¡æ¯æ”¾å…¥è¯·æ±‚å¯¹è±¡ï¼Œæ–¹ä¾¿åç»­controllerä¸­è·å–&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">LoginTokenHelper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addLoginUserToRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæœ‰å‡ ä¸ªè¦ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯åˆ©ç”¨&lt;code>requiresLogin&lt;/code>å’Œ&lt;code>requiresRoles&lt;/code>æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ‹¦æˆªã€‚å…¶æ¬¡æˆ‘ä»¬ç”¨äº†&lt;code>LoginTokenHelper&lt;/code>æ¥ç®€åŒ–ç™»å½•éªŒè¯ã€‚æˆ‘ä»¬ä½¿ç”¨äº†&lt;code>JwtUtil.getRoles(token)&lt;/code>æ¥è·å–ç”¨æˆ·çš„èº«ä»½ï¼Œè¿™é‡Œæ˜¯ä¸æƒ³æ¯æ¬¡ç”¨æˆ·æ‰§è¡Œæ“ä½œæ—¶éƒ½å»æ•°æ®åº“é‡Œè¿›è¡ŒæŸ¥è¯¢ï¼Œäºæ˜¯å°±åœ¨ç”¨æˆ·ç™»å½•çš„æ—¶å€™å°±æŠŠ&lt;code>roles&lt;/code>ä¸€èµ·æ‰“åŒ…åˆ°&lt;code>Token&lt;/code>é‡Œã€‚èº«ä»½è®¤è¯å°±æ˜¯å»éå†æ¥å£å®šä¹‰çš„èº«ä»½å’Œç”¨æˆ·çš„èº«ä»½æ˜¯å¦åŒ¹é…ã€‚&lt;/p>
&lt;p>è¿™é‡Œæˆ‘ä»¬è‡ªå®šä¹‰äº†ç”¨æˆ·ç±»&lt;code>LoginUser&lt;/code>ï¼Œæ–¹ä¾¿ä¹‹ååœ¨æ¥å£ä¸­ä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Hidden&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">LoginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">uid&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>@Hidden&lt;/code>ç¡®ä¿å…¶ä¸ä¼šç”Ÿæˆåœ¨æ–‡æ¡£ä¸­ï¼Œå› ä¸ºè¿™æ˜¯åç«¯ä½¿ç”¨çš„å˜é‡ï¼Œå‰ç«¯æ— éœ€çŸ¥é“ã€‚&lt;/p>
&lt;h3 id="ç™»å½•è¾…åŠ©ç±»">&lt;a href="#%e7%99%bb%e5%bd%95%e8%be%85%e5%8a%a9%e7%b1%bb" class="header-anchor">&lt;/a>ç™»å½•è¾…åŠ©ç±»
&lt;/h3>&lt;p>è¿™é‡Œä¸»è¦å¤„ç†çš„å°±æ˜¯ä»è¯·æ±‚é‡Œæå–ç”¨æˆ·çš„Tokenï¼Œæ­¤å¤–å°†å·²ç»è§£æå¥½çš„ç”¨æˆ·ä¿¡æ¯å†å­˜æ”¾åˆ°è¯·æ±‚ä¸­å»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">LoginTokenHelper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LOGIN_TOKEN_COOKIE_NAME&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LOGIN_TOKEN_KEY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;LOGIN-TOKEN&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–ç™»å½•çš„TOKEN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getLoginToken&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RequestContextUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequest&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LOGIN_TOKEN_COOKIE_NAME&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * å°†ç™»å½•ç”¨æˆ·ä¿¡æ¯æ”¾å…¥è¯·æ±‚å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addLoginUserToRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">RequestContextUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequest&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LOGIN_TOKEN_KEY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯ä»è¯·æ±‚å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getLoginUserFromRequest&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginTokenO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RequestContextUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequest&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LOGIN_TOKEN_KEY&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loginTokenO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginTokenO&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ®µä»£ç ç”¨åˆ°äº†&lt;code>RequestContextUtil&lt;/code>ï¼Œè¿™æ®µä»£ç å°±æ˜¯ä»ç½‘ä¸Šcopyçš„ã€‚æˆ‘åœ¨åŸå§‹çš„åŸºç¡€ä¸Šå°±åŠ äº†ä¸ªåˆ¤æ–­å½“å‰æ¿€æ´»çš„&lt;code>profile&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">RequestContextUtil&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">applicationContext&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getRequest&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getRequestAttributes&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getRequest&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getResponse&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getRequestAttributes&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getResponse&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getSession&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getRequest&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletRequestAttributes&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getRequestAttributes&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">ServletRequestAttributes&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RequestContextHolder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestAttributes&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getServletContext&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ContextLoader&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getCurrentWebApplicationContext&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getServletContext&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">RequestContextUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">applicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getActiveProfile&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">applicationContext&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getEnvironment&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getActiveProfiles&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®æ‹¦æˆªå™¨">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%8b%a6%e6%88%aa%e5%99%a8" class="header-anchor">&lt;/a>é…ç½®æ‹¦æˆªå™¨
&lt;/h3>&lt;p>åœ¨&lt;code>WebConfig.java&lt;/code>é‡Œé‡å†™æ–¹æ³•ï¼Œå°†æˆ‘ä»¬å®šä¹‰çš„æ‹¦æˆªå™¨æ³¨å…¥å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Resource&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">AuthInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authInterceptor&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//æ·»åŠ æ‹¦æˆªå™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addInterceptors&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">InterceptorRegistry&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addInterceptor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">authInterceptor&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ°ç›®å‰ä½ç½®ï¼Œç”¨æˆ·çš„éç™»å½•è¯·æ±‚å°±å·²ç»å¯ä»¥æ‹¦æˆªä¸‹æ¥äº†ï¼Œä½†å¦‚æœæƒ³è¦åœ¨æ¥å£ä¸­è·å–åˆ°å½“å‰çš„ç”¨æˆ·ä¿¡æ¯è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿè¿™å°±éœ€è¦é€šè¿‡è‡ªå®šä¹‰è§£æå™¨å°†å‚æ•°æ³¨å…¥è¿›å»ã€‚&lt;/p>
&lt;h3 id="è‡ªå®šä¹‰å‚æ•°è§£æå™¨">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%8f%82%e6%95%b0%e8%a7%a3%e6%9e%90%e5%99%a8" class="header-anchor">&lt;/a>è‡ªå®šä¹‰å‚æ•°è§£æå™¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">LoginUserArgumentResolver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HandlerMethodArgumentResolver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">supportsParameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodParameter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMethod&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getDeclaringClass&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isHasLoginAuthAnn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresLogin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresLogin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAnnotationPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequiresRoles&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isHasLoginUserParameter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getParameterType&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">isAssignableFrom&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isHasLoginAuthAnn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isHasLoginUserParameter&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">resolveArgument&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodParameter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndViewContainer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mavContainer&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NativeWebRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">webRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WebDataBinderFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">binderFactory&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginTokenHelper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getLoginUserFromRequest&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>supportsParameter&lt;/code>ä¸»è¦æ˜¯åˆ¤æ–­æ˜¯å¦éœ€è¦æ³¨å…¥ç™»å½•ç”¨æˆ·ï¼Œ&lt;code>resolveArgument&lt;/code>åˆ™æ˜¯å°†æˆ‘ä»¬ä¹‹å‰å­˜æ”¾å¥½çš„&lt;code>LoginUser&lt;/code>è¿”å›ã€‚&lt;/p>
&lt;h3 id="æ³¨å…¥å‚æ•°è§£æå™¨">&lt;a href="#%e6%b3%a8%e5%85%a5%e5%8f%82%e6%95%b0%e8%a7%a3%e6%9e%90%e5%99%a8" class="header-anchor">&lt;/a>æ³¨å…¥å‚æ•°è§£æå™¨
&lt;/h3>&lt;p>å’Œä¹‹å‰çš„æ“ä½œä¸€æ ·ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Resource&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">LoginUserArgumentResolver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginUserArgumentResolver&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//æ·»åŠ è§£æå™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addArgumentResolvers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">HandlerMethodArgumentResolver&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resolvers&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">resolvers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loginUserArgumentResolver&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä½¿ç”¨">&lt;a href="#%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>ä½¿ç”¨
&lt;/h2>&lt;p>å¯¹äºéœ€è¦èº«ä»½è®¤è¯çš„æ¥å£ï¼Œåªéœ€è¦åŠ ä¸Š&lt;code>@RequiresLogin&lt;/code>æˆ–è€…&lt;code>@RequiresRoles(value = {RoleEnum.ADMIN})&lt;/code>å³å¯ã€‚æƒ³è¦è·å¾—å½“å‰çš„ç”¨æˆ·ï¼Œç›´æ¥å†™åœ¨å‚æ•°é‡Œå°±å¥½äº†ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequiresLogin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@PostMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/updateUserInfo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">summary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">security&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@SecurityRequirement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">updateUserInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestBody&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserDTO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LoginUser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUid&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç”¨æˆ·idä¸èƒ½ä¸ºç©º&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUid&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loginUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUid&lt;/span>&lt;span class="p">()))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸èƒ½ä¿®æ”¹å…¶ä»–ç”¨æˆ·ä¿¡æ¯&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setUid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUid&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setPhone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getPhone&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setClassName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userDTO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClassName&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">updateByPrimaryKeySelective&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ›´æ–°å¤±è´¥&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘ç”¨äº†&lt;code>@SecurityRequirement&lt;/code>ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©Swaggerè°ƒè¯•å§›æ—¶å€™å¯ä»¥è¾“å…¥Tokenã€‚Swaggeré…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">SwaggerConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OpenAPI&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getOpenAPI&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OpenAPI&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Info&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Question Collect API&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">description&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;é—®å·æ”¶é›†ç³»ç»Ÿ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">version&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;1.0.0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">components&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Components&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addSecuritySchemes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SecurityScheme&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SecurityScheme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Type&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">APIKEY&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SecurityScheme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">In&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">HEADER&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://notemi.cn/spring-boot-enterprise-practice---2-interceptor---custom-annotation-to-implement-the-login-verification-of-the-interface.html" target="_blank" rel="noopener"
>SpringBootå®æˆ˜ - æ‹¦æˆªå™¨+è‡ªå®šä¹‰æ³¨è§£å®ç°æ¥å£çš„ç™»å½•æ ¡éªŒ - å°ç±³ç¬”è®° - åè®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://notemi.cn/spring-practice---auto-injection-of-logged-in-users-with-self-defined-parameter-resolver.html" target="_blank" rel="noopener"
>SpringBootå®æˆ˜ - è‡ªå®šå‚æ•°è§£æå™¨è‡ªåŠ¨æ³¨å…¥å·²ç™»å½•ç”¨æˆ· - å°ç±³ç¬”è®° - åè®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ä½¿ç”¨micromambaä»£æ›¿anaconda</title><link>https://lbqaq.top/p/micromamba/</link><pubDate>Mon, 05 Aug 2024 09:34:00 +0800</pubDate><guid>https://lbqaq.top/p/micromamba/</guid><description>&lt;img src="https://lbqaq.top/p/micromamba/119683453.webp" alt="Featured image of post ä½¿ç”¨micromambaä»£æ›¿anaconda" />&lt;p>ç»å¸¸ä½¿ç”¨anacondaçš„å°ä¼™ä¼´éƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡æƒ³è¦å®‰è£…æ–°çš„åŒ…ï¼Œä½†ä¼šåœ¨solve environmentè¿™ä¸€æ­¥å¡ä¸ŠåŠå¤©ï¼Œä¹‹åè£…åŒ…åˆè¦èŠ±ä¸Šä¸å°‘çš„æ—¶é—´ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°äº†ä¸€æ¬¾æ›¿ä»£å“ï¼Œå°±æ˜¯micromambaï¼Œæ®å…¶å®˜ç½‘æ‰€å±ï¼Œå®ƒæ˜¯çº¯ç”¨C++ç¼–å†™çš„ï¼ŒåŒæ—¶ä½¿ç”¨äº†å¤šçº¿ç¨‹ã€‚ç»è¿‡æˆ‘çš„ä½“éªŒï¼Œç¡®å®æ˜¯æ¯”anacondaè¦å¿«ä¸€ç‚¹çš„ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;p>å®‰è£…å¾ˆç®€å•ï¼Œè·Ÿç€&lt;a class="link" href="https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>åšå°±å¥½äº†ã€‚ä¾‹å¦‚ï¼ŒLinuxå°±åªè¦è¾“å…¥ä¸‹é¢çš„ä¸€ä¸²å‘½ä»¤å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">SHELL&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &amp;lt;&lt;span class="o">(&lt;/span>curl -L micro.mamba.pm/install.sh&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸è¿‡é»˜è®¤çš„å‘½ä»¤æ˜¯&lt;code>micromamba&lt;/code>ï¼Œè¿™å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆ«åï¼Œæ–¹ä¾¿å¹³æ—¶ä½¿ç”¨ã€‚åœ¨&lt;code>~/.bashrc&lt;/code>åŠ å…¥ä¸‹é¢çš„å†…å®¹å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">conda&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;micromamba&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºé»˜è®¤æ˜¯ä¸å« Anaconda ä»“åº“æºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å†é…ç½®ä¸€ä¸‹ï¼Œæ­£å¥½æŠŠé•œåƒä¹Ÿé…ç½®å¥½ã€‚åœ¨&lt;code>~/.condarc&lt;/code>ä¸­åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">defaults&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">show_channel_urls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">default_channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">custom_channels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">conda-forge&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">msys2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bioconda&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">menpo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pytorch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pytorch-lts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">simpleitk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deepmodeling&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åœ¨vscodeä¸­ä½¿ç”¨">&lt;a href="#%e5%9c%a8vscode%e4%b8%ad%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>åœ¨vscodeä¸­ä½¿ç”¨
&lt;/h2>&lt;p>è¿™è¾¹æ‰æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œç”±äºæ˜¯ç¬¬ä¸‰æ–¹çš„è½¯ä»¶ï¼Œæ‰€ä»¥vscodeçš„Pythonæ’ä»¶é»˜è®¤æ˜¯è¯»å–ä¸åˆ°ç¯å¢ƒçš„ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸€ä¸‹é…ç½®ã€‚&lt;/p>
&lt;p>åœ¨å®‰è£…çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹é»˜è®¤çš„è®¾ç½®ï¼Œåˆ™mambaçš„è·¯å¾„åº”è¯¥åœ¨&lt;code>~/micromamba&lt;/code>&lt;/p>
&lt;p>æˆ‘ä»¬æ‰“å¼€VSCodeçš„è®¾ç½®ï¼Œæ·»åŠ ä¸‹é¢çš„è®¾ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>python.venvFolders&lt;/code>è¿™ä¸€é¡¹ï¼Œæ·»åŠ mambaçš„ç›®å½•åï¼Œå³&lt;code>micromamba&lt;/code>&lt;/li>
&lt;li>&lt;code>python.venvPath&lt;/code>è¿™ä¸€é¡¹ï¼Œæ·»åŠ mambaè™šæ‹Ÿç¯å¢ƒçš„ç›®å½•ï¼Œå³&lt;code>~/micromamba/envs&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>åªè¦æ·»åŠ å¥½è¿™ä¸¤ä¸ªè®¾ç½®ï¼Œå°±å¯ä»¥å‘ç°VSCodeèƒ½è¯»å–åˆ°è™šæ‹Ÿç¯å¢ƒäº†ã€‚&lt;/p>
&lt;p>æ­¤æ—¶æˆ‘ä»¬å·²ç»å®Œæˆäº†æ‰€æœ‰çš„é…ç½®ï¼Œåƒä»¥å‰ä¸€æ ·åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€è£…åŒ…å°±èƒ½å¼€å§‹ä½¿ç”¨äº†ã€‚æ ¹æ®æˆ‘çš„ä½“éªŒï¼Œanacondaçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å¯ä»¥æ— ç¼ä½¿ç”¨ã€‚&lt;/p></description></item><item><title>æˆ‘çš„rimeï¼šæ‰“é€ å¤šç«¯åŒæ­¥çš„æœ¬åœ°è¾“å…¥æ³•</title><link>https://lbqaq.top/p/rime-sync/</link><pubDate>Sun, 16 Jun 2024 20:59:00 +0800</pubDate><guid>https://lbqaq.top/p/rime-sync/</guid><description>&lt;img src="https://lbqaq.top/p/rime-sync/112900405.webp" alt="Featured image of post æˆ‘çš„rimeï¼šæ‰“é€ å¤šç«¯åŒæ­¥çš„æœ¬åœ°è¾“å…¥æ³•" />&lt;p>èº«è¾¹çš„äººæ€»æ˜¯æåˆ°ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸Šä¸€ç§’æåˆ°çš„ä¸œè¥¿ï¼Œé©¬ä¸Šå°±å‡ºç°åœ¨äº†ç›¸å…³æœç´¢ä¸­å‘¢ï¼Ÿä¸€ä¸ªå¾ˆå¤§çš„å¯èƒ½æ€§å°±æ˜¯ä½ çš„è¾“å…¥æ³•æš´éœ²äº†ã€‚æœ‰ç ”ç©¶æŒ‡å‡º&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼Œç›®å‰å¸‚é¢ä¸Šè®¸å¤šè¾“å…¥æ³•éƒ½å­˜åœ¨å®‰å…¨éšç§æ¼æ´ã€‚è¾“å…¥æ³•ä½œä¸ºæˆ‘ä»¬å¹³æ—¶ç”¨åˆ°æœ€å¤šçš„ç³»ç»Ÿçº§åº”ç”¨ï¼Œæˆ‘ä¸æƒ³è‡ªå·±çš„éšç§è¢«å…¶æ³„éœ²ã€‚æ‰€ä»¥ï¼Œæˆ‘å¯»æ‰¾åˆ°äº†ä¸€æ¬¾çº¯æœ¬åœ°çš„å…¨å¹³å°è¾“å…¥æ³•â€”â€”rimeè¾“å…¥æ³•&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>ã€‚å®ƒçš„ä¼˜åŠ¿å°±æ˜¯ç®€æ´ã€æ— å¹¿å‘Šã€ä¸è”ç½‘ï¼Œä¸è¿‡å¯¹åº”çš„ç¼ºç‚¹å°±æ˜¯æ²¡æœ‰äº‘è¾“å…¥ï¼Œä¸€äº›æ¯”è¾ƒæ–°çš„è¯ä¸å¥½æ‰“å‡ºæ¥ï¼Œè¿˜æœ‰å°±æ˜¯é…ç½®æ¯”è¾ƒéº»çƒ¦ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨åˆ«äººé¢„å…ˆè®¾è®¡å¥½çš„é…ç½®æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æˆ‘é€‰æ‹©äº†é›¾å‡‡æ‹¼éŸ³&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>è¿™ä¸ªå¼€æºçš„æ–¹æ¡ˆæ¥å®ç°ï¼Œå®ƒçš„ä¼˜åŠ¿å°±æ˜¯è‡ªå·±ç»´æŠ¤äº†ä¸€å¥—å¸¸ç”¨çš„è¯åº“ï¼ŒåŒæ—¶é…ç½®å¥½äº†ä¸€äº›é»˜è®¤çš„è¾“å…¥çš„æ–¹æ¡ˆï¼Œæˆ‘å°±åœ¨å®ƒçš„æ–¹æ¡ˆä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œæ‰“é€ ä¸€å¥—å±äºè‡ªå·±çš„è¾“å…¥ä½“éªŒã€‚&lt;/p>
&lt;p>ç”±äºæˆ‘ç°åœ¨è¾“å…¥çš„æ–¹å¼æ˜¯å°é¹¤åŒæ‹¼ï¼Œæ‰€ä»¥æˆ‘çš„æ–¹æ¡ˆä¹Ÿå…¨éƒ¨æ˜¯åŸºäºåŒæ‹¼æ‰“é€ çš„ï¼Œå…¨æ‹¼çš„è¯å¯ä»¥å‚è€ƒé›¾å‡‡æ‹¼éŸ³çš„æ–‡æ¡£æ¥é…ç½®ã€‚ï¼ˆåœ¨è¿™å¼ºçƒˆå®‰åˆ©åŒæ‹¼çš„è¾“å…¥æ–¹å¼ï¼Œå­¦ä¹ æˆæœ¬ä¸é«˜ä½†æ”¶ç›Šå¾ˆé«˜ï¼Œèƒ½å¾ˆå¤§ç¨‹åº¦çš„æ”¹å–„ä½ è¾“å…¥çš„ä½“éªŒğŸ‘ï¼‰&lt;/p>
&lt;h2 id="åŸºæœ¬é…ç½®">&lt;a href="#%e5%9f%ba%e6%9c%ac%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>åŸºæœ¬é…ç½®
&lt;/h2>&lt;p>rimeè¾“å…¥æ³•é€šè¿‡&lt;code>.yaml&lt;/code>æ–‡ä»¶æ¥ç®¡ç†é…ç½®ï¼Œå¹¶æ”¯æŒä»¥&lt;code>patch&lt;/code>çš„å½¢å¼å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™&lt;code>*.custom.yaml&lt;/code>æ–‡ä»¶å°±å¯ä»¥åœ¨åˆ«äººçš„æ¡†æ¶ä¸Šæ„å»ºè‡ªå·±çš„è¾“å…¥æ³•äº†ã€‚ç”±äºé…ç½®æ–‡ä»¶åœ¨å…¨ç«¯éƒ½æ˜¯é€šç”¨çš„ï¼Œè¿™é‡Œå°±å…ˆä»‹ç»å…±åŒçš„é…ç½®ï¼Œæ¯ä¸ªå¹³å°ç‹¬ç«‹çš„é…ç½®åœ¨åé¢å†ä»‹ç»ã€‚&lt;/p>
&lt;p>rimeçš„é…ç½®å…¥å£æ˜¯&lt;code>default.yaml&lt;/code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä»å®ƒå¼€å§‹ä¿®æ”¹ã€‚åˆ›å»º&lt;code>default.custom.yaml&lt;/code>ï¼Œå¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schema_list&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">schema&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">double_pinyin_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">schema&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rime_ice&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">menu/page_size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">7&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ascii_composer/switch_key/Shift_L&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">commit_code&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ascii_composer/switch_key/Shift_R&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clear&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬é¦–å…ˆé€‰æ‹©äº†éœ€è¦ç”¨åˆ°çš„ä¸¤ä¸ªæ–¹æ¡ˆ&lt;code>double_pinyin_flypy&lt;/code>å’Œ&lt;code>rime_ice&lt;/code>ï¼Œåˆ†åˆ«æ˜¯å°é¹¤åŒæ‹¼å’Œå…¨æ‹¼ï¼Œè¿™é‡ŒåŠ å…¥å…¨æ‹¼æ˜¯é¿å…åˆ«äººä½¿ç”¨æˆ‘ç”µè„‘æ—¶ä¸ä¼šä½¿ç”¨æ‰€é¢„ç•™çš„ã€‚&lt;code>menu/page_size&lt;/code>æŒ‡å®šäº†å€™é€‰è¯çš„ä¸ªæ•°ï¼Œæœ€åä¸¤ä¸ªåˆ™æ˜¯æŒ‡å®šäº†å·¦å³Shifté”®çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åŒæ‹¼ï¼Œè¿˜éœ€è¦ä¿®æ”¹â€œéƒ¨ä»¶æ‹†å­—â€åŠŸèƒ½ä¸­çš„è®¾ç½®&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>ã€‚åˆ›å»º&lt;code>radical_pinyin.custom.yaml&lt;/code>ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºå°é¹¤åŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">radical_pinyin.schema.yaml:/algebra_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ ·ï¼Œ&amp;ldquo;æ‹¼å†™æ´¾ç”Ÿ&amp;quot;åŠŸèƒ½ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚åˆ›å»º&lt;code>melt_eng.custom.yaml&lt;/code>æ–‡ä»¶ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¿®æ”¹ä¸ºå°é¹¤åŒæ‹¼çš„æ‹¼å†™æ´¾ç”Ÿè§„åˆ™ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶äº†ï¼Œå‰é¢è¦åŠ ä¸Šæ–‡ä»¶å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">speller/algebra&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">__include&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">melt_eng.schema.yaml:/algebra_flypy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±é…ç½®å®Œæˆäº†ï¼Œè¿˜æ˜¯å¾ˆç®€å•çš„ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„è¯ï¼Œæˆ‘åŒæ ·ä½¿ç”¨çš„æ˜¯è·¨å¹³å°çš„è½¯ä»¶rcloneï¼Œå¦‚æœè¦ä½¿ç”¨å®ƒï¼Œéœ€è¦å…ˆé…ç½®å¥½è¿œç«¯ã€‚&lt;/p>
&lt;p>é€šè¿‡æ‰§è¡Œ&lt;code>rclone config&lt;/code>å¹¶æŒ‰ç…§æŒ‡ç¤ºæ·»åŠ å³å¯ã€‚ä¹‹åï¼Œæˆ‘åˆ†åˆ«ä»‹ç»æ¯ä¸ªå¹³å°çš„å…·ä½“é…ç½®å’ŒåŒæ­¥è®¾ç½®ã€‚&lt;/p>
&lt;h2 id="è¯¦ç»†é…ç½®">&lt;a href="#%e8%af%a6%e7%bb%86%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>è¯¦ç»†é…ç½®
&lt;/h2>&lt;h3 id="win">&lt;a href="#win" class="header-anchor">&lt;/a>Win
&lt;/h3>&lt;p>winä¸‹çš„å®¢æˆ·ç«¯å«å°ç‹¼æ¯«ï¼Œä¸‹è½½å®‰è£…å¥½åå°±å¯ä»¥è¿›è¡Œé…ç½®äº†ã€‚é…ç½®ç›®å½•ä¸º&lt;code>%APPDATA%\Rime&lt;/code>ï¼Œæˆ‘ç›´æ¥å°†é‡Œé¢çš„æ–‡ä»¶æ¸…ç©ºï¼Œç„¶åä½¿ç”¨&lt;code>git&lt;/code>å°†é›¾å‡‡æ‹¼éŸ³çš„ä»“åº“æ•´ä¸ªå…‹éš†è¿›æ¥ã€‚æ¥ç€å°†ä¸Šé¢â€œåŸºæœ¬é…ç½®â€ä¸­æåˆ°çš„ä¸‰ä¸ªæ–‡ä»¶åˆ›å»ºå¥½ã€‚ç”±äºé»˜è®¤çš„çš®è‚¤æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥æˆ‘æ‰¾äº†ä¸€ä¸ªå¾®è½¯æ‹¼éŸ³çš„çš®è‚¤æ¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>åˆ›å»º&lt;code>weasel.custom.yaml&lt;/code>å¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">patch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">preset_color_schemes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">microsoft_sim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ä»¿å¾®è½¯è¾“å…¥æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">author&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">plutotree&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xF4F4F4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xDCDCDC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xF4F4F4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xFFD8A6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_candidate_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilited_candidate_back_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0xFFD8A6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">candidate_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">comment_text_color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0x888888&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">color_scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">microsoft_sim&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">label_format&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;%s&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">font_face&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;å¾®è½¯é›…é»‘&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">font_point&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">horizontal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">inline_preedit&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">layout&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">min_width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">140&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">min_height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">border_height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">margin_x&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">margin_y&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">candidate_spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">20&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilite_spacing&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">7&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hilite_padding&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">round_corner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹æ¥éœ€è¦é…ç½®&lt;code>installation.yaml&lt;/code>ï¼Œæˆ‘ä»¬ä¸»è¦ä¿®æ”¹é‡Œé¢çš„&lt;code>installation_id&lt;/code>ï¼Œè¿™æ˜¯åŒæ­¥æ–‡ä»¶å¤¹ä¸­çš„åç§°ï¼Œé»˜è®¤æ˜¯ä¸€ä¸²UUIDï¼Œä½†æ˜¯è¿™ä¸æ–¹ä¾¿æˆ‘ä»¬åŒæ­¥ï¼Œå»ºè®®å°†å…¶ä¿®æ”¹æˆä¾¿äºæ“ä½œçš„åç§°ã€‚&lt;/p>
&lt;p>è¿™æ ·æˆ‘ä»¬å°±é…ç½®å¥½äº†rimeè¾“å…¥æ³•ï¼Œæ¥ä¸‹æ¥åªéœ€è¦å°†é…ç½®ç›®å½•ä¸‹çš„&lt;code>sync&lt;/code>æ–‡ä»¶å¤¹åŒæ­¥å°±å¥½äº†ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„å·¥å…·rcloneåœ¨ä¹‹å‰å·²ç»è®¾ç½®å¥½äº†ï¼Œæˆ‘è¿™é‡Œç¼–å†™äº†ä¸€ä¸ªcmdè„šæœ¬æ¥è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ä»»åŠ¡ã€‚ä½¿ç”¨æ—¶è®°å¾—ä¿®æ”¹æœ¬åœ°å’Œè¿œç«¯çš„åœ°å€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmd" data-lang="cmd">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">rime_path&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s2">&amp;#34;D:\Program Files (x86)\Rime\weasel-0.16.1\WeaselDeployer.exe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">remote_path&lt;/span>&lt;span class="p">=&lt;/span>a1:\rime_sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">local_path&lt;/span>&lt;span class="p">=&lt;/span>C:\Users\luobo\AppData\Roaming\Rime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">sync_path&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nv">%local_path%&lt;/span>\sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nv">device_name&lt;/span>&lt;span class="p">=&lt;/span>lab-Win
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> æ›´æ–°è¾“å…¥æ³•è¯åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">cd&lt;/span> /d &lt;span class="nv">%local_path%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">%rime_path%&lt;/span> /deploy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> åŒæ­¥è¾“å…¥æ³•è¯åº“ä¸­...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">%rime_path%&lt;/span> /sync
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">%sync_path%&lt;/span>\&lt;span class="nv">%device_name%&lt;/span> &lt;span class="nv">%remote_path%&lt;/span>\&lt;span class="nv">%device_name%&lt;/span> -P
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">echo&lt;/span> ä¸‹è½½è¿œç«¯è¯åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">%remote_path%&lt;/span> &lt;span class="nv">%sync_path%&lt;/span> -P --exclude &lt;span class="nv">%device_name%&lt;/span>/**
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="android">&lt;a href="#android" class="header-anchor">&lt;/a>Android
&lt;/h3>&lt;p>å®‰å“ç«¯çš„åº”ç”¨æ˜¯fcitx5-android&lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>ï¼Œä¸‹è½½è½¯ä»¶æœ¬ä½“å’Œrimeæ’ä»¶åå°±å¯ä»¥è¿›è¡Œé…ç½®äº†ã€‚å®‰å“ç«¯çš„é…ç½®æ–‡ä»¶ä½äº&lt;code>/sdcard/Android/data/org.fcitx.fcitx5.android/files/data/rime&lt;/code>ï¼Œæˆ‘ä»¬ç›´æ¥å°†ç”µè„‘ç«¯çš„é…ç½®æ–‡ä»¶å¤åˆ¶è¿›å»å°±å¯ä»¥äº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>installation.yaml&lt;/code>é‡Œé¢çš„&lt;code>installation_id&lt;/code>è¦æ”¹æˆä¸åŒçš„å€¼ã€‚&lt;/p>
&lt;p>åŒæ­¥çš„è¯ï¼Œrcloneå¹¶æ²¡æœ‰å®˜æ–¹çš„å®‰å“å®¢æˆ·ç«¯ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨termuxâ€”â€”ä¸€æ¬¾è¿è¡ŒäºAndroid ç³»ç»Ÿçš„å¼€æºç»ˆç«¯æ¨¡æ‹Ÿå™¨&lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup>ï¼Œå¹¶åœ¨é‡Œé¢å®‰è£…rcloneæ¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ä¸‹è½½å¹¶å®‰è£…å¥½åï¼Œé¦–å…ˆè¿›è¡Œæ¢æºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/apt/termux-main stable main@&amp;#39;&lt;/span> &lt;span class="nv">$PREFIX&lt;/span>/etc/apt/sources.list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå®‰è£…&lt;code>rclone&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">apt install rclone
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âš ç”±äºå®‰å“çš„å®‰å…¨æ€§è®¾ç½®ï¼Œæ™®é€šåº”ç”¨æ˜¯æ— æƒè®¿é—®åˆ«çš„åº”ç”¨ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™äºˆrootæƒé™ï¼ˆæˆ–è€…ä½¿ç”¨åˆ«çš„æœ‰æƒé™çš„åº”ç”¨ï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡ï¼‰&lt;/p>
&lt;p>æˆ‘è¿™é‡ŒåŒæ ·æ˜¯é€šè¿‡è„šæœ¬æ¥å®ç°è‡ªåŠ¨åŒæ­¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/data/com.termux/files/usr/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CONFIG_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/data/com.termux/files/home/.config/rclone/rclone.conf&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">RIME_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/sdcard/Android/data/org.fcitx.fcitx5.android/files/data/rime/sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">REMOTE_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;a1:/rime_sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LOCAL_FOLDER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;K50U-Android&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;download...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">$REMOTE_PATH&lt;/span> &lt;span class="nv">$RIME_PATH&lt;/span> -P --exclude &lt;span class="nv">$LOCAL_FOLDER&lt;/span>/** --config &lt;span class="nv">$CONFIG_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;upload...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rclone sync &lt;span class="nv">$RIME_PATH&lt;/span>/&lt;span class="nv">$LOCAL_FOLDER&lt;/span> &lt;span class="nv">$REMOTE_PATH&lt;/span>/&lt;span class="nv">$LOCAL_FOLDER&lt;/span> -P --config &lt;span class="nv">$CONFIG_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨rootèº«ä»½æ¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–è®¾ç½®&lt;code>PATH&lt;/code>å¹¶æ‰‹åŠ¨æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„&lt;/p>
&lt;h2 id="ä½“éªŒ">&lt;a href="#%e4%bd%93%e9%aa%8c" class="header-anchor">&lt;/a>ä½“éªŒ
&lt;/h2>&lt;p>æ—¥å¸¸ä½¿ç”¨rimeè¾“å…¥æ³•å·²ç»æœ‰å¤§åŠå¹´äº†ï¼Œæµ‹è¯•ä¸‹æ¥ä¸äº‘è¾“å…¥æ³•åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸€äº›æ¯”è¾ƒæ–°çš„è¯æ‰“ä¸€éä¹Ÿèƒ½è¢«è¯åº“å­¦ä¹ åˆ°ã€‚é…åˆä¸Šå¤šç«¯åŒæ­¥ï¼Œä½¿ç”¨è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚æ­¤å¤–ï¼Œé›¾å‡‡æ‹¼éŸ³è¿˜å†…ç½®äº†ä¸€äº›ä¾¿æ·åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>symbolsï¼šå…¨æ‹¼ &lt;code>v&lt;/code> å¼€å¤´ã€åŒæ‹¼å¤§å†™ &lt;code>V&lt;/code> å¼€å¤´&lt;/li>
&lt;li>éƒ¨ä»¶æ‹†å­—çš„åæŸ¥ï¼š&lt;code>uU&lt;/code> å¼€å¤´ï¼ŒåæŸ¥æ—¶å‰ç¼€ä¼šæ¶ˆå¤±å½±å“æ‰“è‹±æ–‡æ‰€ä»¥è®¾å®šä¸ºä¸¤ä¸ªå­—æ¯ï¼Œæˆ–å¯æ”¹æˆä¸€ä¸ªéå­—æ¯ç¬¦å·ã€‚&lt;/li>
&lt;li>éƒ¨ä»¶æ‹†å­—çš„è¾…ç ï¼š` è§¦å‘ã€‚&lt;/li>
&lt;li>Unicodeï¼šå¤§å†™ &lt;code>U&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>U62fc&lt;/code> å¾—åˆ°ã€Œæ‹¼ã€ã€‚&lt;/li>
&lt;li>æ•°å­—ã€é‡‘é¢å¤§å†™ï¼šå¤§å†™ &lt;code>R&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>R1234&lt;/code> å¾—åˆ°ã€Œä¸€åƒäºŒç™¾ä¸‰åå››ã€å£¹ä»Ÿè´°ä½°åæ‹¾è‚†å…ƒæ•´ã€ã€‚&lt;/li>
&lt;li>å†œå†æŒ‡å®šæ—¥æœŸï¼šå¤§å†™ &lt;code>N&lt;/code> å¼€å¤´ï¼Œå¦‚ &lt;code>N20240210&lt;/code> å¾—åˆ°ã€ŒäºŒã€‡äºŒå››å¹´æ­£æœˆåˆä¸€ã€ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœæ˜¯æ¯”è¾ƒåœ¨ä¹ä¸ªäººéšç§çš„ç”¨æˆ·ï¼Œæˆ‘æ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨è¿™æ ·ä¸€æ¬¾ä¸è”ç½‘çš„æœ¬åœ°è¾“å…¥æ³•çš„ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://citizenlab.ca/2024/04/%e6%95%b2%e6%95%b2%e6%89%93%e6%89%93%e4%b8%80%e7%b3%bb%e5%88%97%e4%ba%91%e7%ab%af%e8%be%93%e5%85%a5%e6%b3%95%e6%bc%8f%e6%b4%9e%e4%bd%bf%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e8%80%85%e5%be%97-zh-cn/" target="_blank" rel="noopener"
>æ•²æ•²æ‰“æ‰“ï¼šä¸€ç³»åˆ—äº‘ç«¯è¾“å…¥æ³•æ¼æ´ä½¿ç½‘ç»œæ”»å‡»è€…å¾—ä»¥ç›‘çœ‹ä¸ªäººç”¨æˆ·çš„è¾“å…¥å†…å®¹ï¼ˆæ‘˜è¦ï¼‰ - The Citizen Lab&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://rime.im/" target="_blank" rel="noopener"
>RIME | ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://github.com/iDvel/rime-ice" target="_blank" rel="noopener"
>iDvel/rime-ice: Rime é…ç½®ï¼šé›¾å‡‡æ‹¼éŸ³ | é•¿æœŸç»´æŠ¤çš„ç®€ä½“è¯åº“&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://github.com/iDvel/rime-ice/issues/133" target="_blank" rel="noopener"
>å¸¸è§é—®é¢˜ Â· iDvel/rime-ice&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5">
&lt;p>&lt;a class="link" href="https://github.com/fcitx5-android/fcitx5-android" target="_blank" rel="noopener"
>fcitx5-android/fcitx5-android&lt;/a>&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6">
&lt;p>&lt;a class="link" href="https://termux.dev/cn/index.html" target="_blank" rel="noopener"
>Termux | The main termux site and help pages.&lt;/a>&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Backdoor Defense via Deconfounded Representation Learning</title><link>https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/</link><pubDate>Tue, 07 May 2024 14:30:00 +0800</pubDate><guid>https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/</guid><description>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/117158168.webp" alt="Featured image of post Backdoor Defense via Deconfounded Representation Learning" />&lt;h2 id="ä»‹ç»">&lt;a href="#%e4%bb%8b%e7%bb%8d" class="header-anchor">&lt;/a>ä»‹ç»
&lt;/h2>&lt;p>æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œ ï¼ˆDNNï¼‰ å®¹æ˜“å—åˆ°åé—¨æ”»å‡»ï¼Œæ”»å‡»è€…é€šè¿‡æ¯’å®³ä¸€äº›è®­ç»ƒæ•°æ®å°†éšè”½çš„åé—¨æ³¨å…¥ DNNã€‚å…·ä½“æ¥è¯´ï¼Œåé—¨æ”»å‡»è€…å°†åé—¨è§¦å‘å™¨ï¼ˆå³ç‰¹å®šæ¨¡å¼ï¼‰é™„åŠ åˆ°ä¸€äº›è‰¯æ€§è®­ç»ƒæ•°æ®ï¼Œå¹¶å°†å…¶æ ‡ç­¾æ›´æ”¹ä¸ºæ”»å‡»è€…æŒ‡å®šçš„ç›®æ ‡æ ‡ç­¾ã€‚è§¦å‘æ¨¡å¼å’Œç›®æ ‡æ ‡ç­¾ä¹‹é—´çš„ç›¸å…³æ€§å°†ç”± DNN åœ¨è®­ç»ƒæœŸé—´å­¦ä¹ ã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œåé—¨æ¨¡å‹åœ¨è‰¯æ€§æ•°æ®ä¸Šè¡¨ç°æ­£å¸¸ï¼Œè€Œå½“åé—¨è¢«æ¿€æ´»æ—¶ï¼Œå…¶é¢„æµ‹ä¼šè¢«æ¶æ„æ”¹å˜ã€‚&lt;/p>
&lt;p>ç›¸åï¼Œäººç±»è®¤çŸ¥ç³»ç»Ÿèƒ½å¤ŸæŠµæŠ—è¾“å…¥çš„æ‰°åŠ¨ï¼Œä¾‹å¦‚åé—¨æ”»å‡»å¼•èµ·çš„éšè”½è§¦å‘æ¨¡å¼ã€‚è¿™æ˜¯å› ä¸ºäººç±»å¯¹å› æœå…³ç³»çš„æ•æ„Ÿåº¦é«˜äºå¹²æ‰°å› ç´ çš„å…³è”ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç»è¿‡è®­ç»ƒä»¥æ‹Ÿåˆä¸­æ¯’æ•°æ®é›†çš„æ·±åº¦å­¦ä¹ æ¨¡å‹å¾ˆéš¾åŒºåˆ†åé—¨æ”»å‡»å¸¦æ¥çš„å› æœå…³ç³»å’Œç»Ÿè®¡å…³è”ã€‚é€šè¿‡å› æœæ¨ç†ï¼Œæˆ‘ä»¬å¯ä»¥è¯†åˆ«å› æœå…³ç³»å¹¶å»ºç«‹é²æ£’çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å› æ­¤ï¼Œå¿…é¡»åˆ©ç”¨å› æœæ¨ç†æ¥åˆ†æå’Œå‡è½»åé—¨æ”»å‡»çš„å¨èƒã€‚&lt;/p>
&lt;p>é‚£ä¹ˆã€‚ä»€ä¹ˆæ˜¯å› æœæ¨ç†å‘¢ï¼Ÿå› æœæ¨æ–­åœ¨ç»Ÿè®¡ç ”ç©¶ä¸­æœ‰ç€æ‚ ä¹…çš„å†å²ã€‚å› æœæ¨ç†çš„ç›®æ ‡æ˜¯åˆ†æå˜é‡ä¹‹é—´çš„å› æœæ•ˆåº”ï¼Œå¹¶å‡è½»è™šå‡ç›¸å…³æ€§ã€‚&lt;/p>
&lt;p>ä½œè€…ä¸“æ³¨äºå›¾åƒåˆ†ç±»ä»»åŠ¡ï¼Œç›®æ ‡æ˜¯åœ¨æ²¡æœ‰é¢å¤–å¹²å‡€æ•°æ®çš„æƒ…å†µä¸‹ï¼Œåœ¨å«æœ‰æ¯’æ•°æ®çš„æ•°æ®é›†ä¸Šè®­ç»ƒå‡ºæ— åé—¨çš„æ¨¡å‹ã€‚ä½œè€…é¦–å…ˆæ„å»ºäº†ä¸€ä¸ªå› æœå›¾æ¥æ¨¡æ‹Ÿåé—¨æ•°æ®çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œç‰¹åˆ«è€ƒè™‘äº†å¹²æ‰°å› ç´ ï¼Œå³åé—¨è§¦å‘æ¨¡å¼ã€‚å€ŸåŠ©å› æœå›¾ï¼Œå‘ç°åé—¨æ”»å‡»æ‰®æ¼”äº†æ··æ‚å› ç´ çš„è§’è‰²ï¼Œå¹¶åœ¨è¾“å…¥å›¾åƒä¸é¢„æµ‹æ ‡ç­¾ä¹‹é—´å»ºç«‹äº†ä¸€æ¡è™šå‡çš„è”ç³»ã€‚ä¸€æ—¦æ·±åº¦ç¥ç»ç½‘ç»œå­¦ä¹ äº†è¿™ç§è™šå‡è”ç³»ï¼Œå½“é™„åŠ äº†è§¦å‘å™¨æ—¶ï¼Œå®ƒä»¬çš„é¢„æµ‹å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè½¬å‘ç›®æ ‡æ ‡ç­¾ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240505113806496.png"
width="981"
height="449"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240505113806496_hu_8635af4f5014bd4c.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240505113806496_hu_a28f3ebe4682bdb6.png 1024w"
loading="lazy"
alt="åé—¨æ”»å‡»å› æœå›¾"
class="gallery-image"
data-flex-grow="218"
data-flex-basis="524px"
>&lt;/p>
&lt;p>ä½œè€…åœ¨å› æœæ´å¯Ÿçš„å¯å‘ä¸‹ï¼Œæå‡ºäº†ä¸€ç§æ–°çš„åé—¨é˜²å¾¡æ–¹æ³•ï¼Œç§°ä¸ºå› æœå…³ç³»å¯å‘çš„åé—¨é˜²å¾¡ï¼ˆCausalityinspired Backdoor Defenseï¼ŒCBDï¼‰ï¼Œæ—¨åœ¨å­¦ä¹ å»æ··æ·†çš„åˆ†ç±»è¡¨ç¤ºã€‚ç”±äºåé—¨æ”»å‡»éšè”½ä¸”éš¾ä»¥ç›´æ¥æµ‹é‡ï¼Œæ— æ³•é€šè¿‡å› æœæ¨ç†ç›´æ¥é˜»æ–­åé—¨è·¯å¾„ã€‚å—åˆ°è§£ç¼ ç»•è¡¨å¾å­¦ä¹ æœ€æ–°è¿›å±•çš„å¯å‘ï¼Œä½œè€…çš„ç›®æ ‡æ˜¯å­¦ä¹ ä¸€ç§è¡¨å¾ï¼Œå®ƒåªä¿ç•™ä¸å› æœå…³ç³»ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨CBDä¸­ï¼Œä½œè€…è®­ç»ƒäº†ä¸¤ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰ï¼šä¸€ä¸ªä¸“æ³¨äºæ•è·è™šå‡ç›¸å…³æ€§ï¼Œå¦ä¸€ä¸ªä¸“æ³¨äºè¯†åˆ«å› æœæ•ˆåº”ã€‚ç¬¬ä¸€ä¸ªDNNé€šè¿‡æå‰åœæ­¢ç­–ç•¥æœ‰æ„åœ°å­¦ä¹ åé—¨ç›¸å…³æ€§ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡æœ€å°åŒ–äº’ä¿¡æ¯è®­ç»ƒç¬¬äºŒä¸ªå¹²å‡€çš„æ¨¡å‹ï¼Œä½¿å…¶åœ¨éšè—ç©ºé—´ä¸­ç‹¬ç«‹äºç¬¬ä¸€ä¸ªæ¨¡å‹ã€‚è®­ç»ƒå®Œæˆåï¼Œåªæœ‰å¹²å‡€çš„æ¨¡å‹è¢«ç”¨äºä¸‹æ¸¸çš„åˆ†ç±»ä»»åŠ¡ã€‚&lt;/p>
&lt;h2 id="é—®é¢˜æ„é€ ">&lt;a href="#%e9%97%ae%e9%a2%98%e6%9e%84%e9%80%a0" class="header-anchor">&lt;/a>é—®é¢˜æ„é€ 
&lt;/h2>&lt;p>ä½œè€…å‡è®¾æ”»å‡»è€…å·²ç»é¢„å…ˆç”Ÿæˆäº†ä¸€ç»„åé—¨ç¤ºä¾‹ï¼Œå¹¶æˆåŠŸåœ°å°†å®ƒä»¬æ³¨å…¥åˆ°è®­ç»ƒæ•°æ®é›†ä¸­ã€‚åŒæ—¶ï¼Œä½œè€…å‡è®¾é˜²å¾¡è€…èƒ½å¤Ÿå®Œå…¨æ§åˆ¶è®­ç»ƒè¿‡ç¨‹ï¼Œä½†å¯¹æ•°æ®é›†ä¸­åé—¨ç¤ºä¾‹çš„åˆ†å¸ƒæˆ–æ¯”ä¾‹ä¸€æ— æ‰€çŸ¥ã€‚é˜²å¾¡è€…çš„ç›®æ ‡æ˜¯è®­ç»ƒå‡ºä¸€ä¸ªåœ¨ä¸­æ¯’æ•°æ®é›†ä¸Šè¡¨ç°è‰¯å¥½ä¸”æ— åé—¨çš„æ¨¡å‹ï¼Œå…¶æ€§èƒ½åº”ä¸åœ¨çº¯å¹²å‡€æ•°æ®ä¸Šè®­ç»ƒçš„æ¨¡å‹ç›¸å½“ã€‚ä¸€å¥è¯æ€»ç»“ï¼Œå°±æ˜¯åœ¨åé—¨æ•°æ®é›†ä¸Šè®­ç»ƒå‡ºä¸€ä¸ªå¹²å‡€æ¨¡å‹ã€‚&lt;/p>
&lt;h3 id="å› æœåˆ†æ">&lt;a href="#%e5%9b%a0%e6%9e%9c%e5%88%86%e6%9e%90" class="header-anchor">&lt;/a>å› æœåˆ†æ
&lt;/h3>&lt;p>å› æœæ¨ç†çš„ä¼˜è¶Šæ€§åœ¨äºå®ƒä½¿äººç±»èƒ½å¤Ÿè¯†åˆ«å› æœå…³ç³»ï¼ŒåŒæ—¶å¿½ç•¥ä»»åŠ¡ä¸­çš„éå¿…è¦å› ç´ ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œé€šå¸¸æ— æ³•åŒºåˆ†å› æœå…³ç³»å’Œç»Ÿè®¡å…³è”ï¼Œå¹¶ä¸”å€¾å‘äºå­¦ä¹ é‚£äº›â€œæ›´å®¹æ˜“â€çš„ç›¸å…³æ€§ï¼Œè€Œä¸æ˜¯å¿…è¦çš„ä¿¡æ¯ã€‚è¿™ç§èµ°æ·å¾„çš„è§£å†³æ–¹æ¡ˆå¯èƒ½å¯¼è‡´å¯¹æ— å…³å› ç´ ï¼ˆä¾‹å¦‚è§¦å‘æ¨¡å¼ï¼‰çš„è¿‡åº¦æ‹Ÿåˆï¼Œä»è€Œå¢åŠ äº†åé—¨æ”»å‡»çš„è„†å¼±æ€§ã€‚å› æ­¤ï¼Œä½œè€…åˆ©ç”¨å› æœæ¨ç†æ¥åˆ†æDNNæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå¹¶é™ä½åé—¨æ³¨å…¥çš„é£é™©ã€‚&lt;/p>
&lt;p>ä½œè€…é€šè¿‡æ„å»ºå› æœå›¾$G$æ¥æ¨¡æ‹Ÿä¸­æ¯’æ•°æ®çš„ç”Ÿæˆè¿‡ç¨‹ã€‚åœ¨å› æœå›¾ä¸­ï¼Œä½œè€…ä½¿ç”¨èŠ‚ç‚¹æ¥è¡¨ç¤ºæŠ½è±¡æ•°æ®å˜é‡ï¼Œå…¶ä¸­$X$ä»£è¡¨è¾“å…¥å›¾åƒï¼Œ$Y$ä»£è¡¨æ ‡ç­¾ï¼Œ$B$ä»£è¡¨åé—¨æ”»å‡»ã€‚æœ‰å‘é“¾æ¥åˆ™è¡¨ç¤ºè¿™äº›å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚é™¤äº†$X$å¯¹$Y$çš„å› æœæ•ˆåº”ï¼ˆ$X â†’ Y$ï¼‰ä¹‹å¤–ï¼Œåé—¨æ”»å‡»è€…å¯ä»¥é€šè¿‡å°†è§¦å‘æ¨¡å¼é™„åŠ åˆ°å›¾åƒï¼ˆ$B â†’ X$ï¼‰å¹¶å°†æ ‡ç­¾æ›´æ”¹ä¸ºç›®æ ‡æ ‡ç­¾ï¼ˆ$B â†’ Y$ï¼‰æ¥å®æ–½æ”»å‡»ã€‚å› æ­¤ï¼Œåé—¨æ”»å‡» $B$ ä½œä¸º $X$ å’Œ $Y$ ä¹‹é—´çš„æ··æ‚å› ç´ ï¼Œæ‰“å¼€äº†è™šå‡è·¯å¾„ $X â† B â†’ Y$ï¼ˆå…¶ä¸­ $B = 1$ è¡¨ç¤ºå›¾åƒä¸­æ¯’ï¼Œ$B = 0$ è¡¨ç¤ºå›¾åƒå¹²å‡€ï¼‰ã€‚æˆ‘ä»¬æ‰€è¯´çš„â€œè™šå‡â€è·¯å¾„æ˜¯æŒ‡è¿™æ¡è·¯å¾„ä½äº $X$ åˆ° $Y$ çš„ç›´æ¥å› æœè·¯å¾„ä¹‹å¤–ï¼Œå®ƒä½¿å¾— $X$ å’Œ $Y$ ä¹‹é—´äº§ç”Ÿäº†è™šå‡çš„ç›¸å…³æ€§ï¼Œå¹¶åœ¨è§¦å‘å™¨è¢«æ¿€æ´»æ—¶å¯¼è‡´é”™è¯¯çš„æ•ˆæœã€‚æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰å¾ˆéš¾åŒºåˆ†è™šå‡ç›¸å…³æ€§å’Œå› æœå…³ç³»ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨å¯èƒ½ä¸­æ¯’çš„æ•°æ®é›†ä¸Šç›´æ¥è®­ç»ƒ DNNï¼Œæ¨¡å‹å°†é¢ä¸´è¢«åé—¨æ”»å‡»çš„é£é™©ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ¢ç©¶ $X$ å¯¹ $Y$ çš„å› æœæ•ˆåº”ï¼Œç ”ç©¶è€…é€šå¸¸ä½¿ç”¨ do æ¼”ç®—åœ¨å› æœå¹²é¢„ä¸­è¿›è¡Œåé—¨è°ƒæ•´ï¼š$P(Y|do(X)) = \sum_{B\in\{0,1\}}P(Y|X,B)P(B)$ã€‚ç„¶è€Œï¼Œåœ¨ä½œè€…çš„è®¾ç½®ä¸­ï¼Œç”±äºæ··æ‚å˜é‡ $B$ å‡ ä¹æ— æ³•è¢«æ£€æµ‹å’Œæµ‹é‡ï¼Œä¸èƒ½ç®€å•åœ°ä½¿ç”¨åé—¨è°ƒæ•´æ¥é˜»æ–­åé—¨è·¯å¾„ã€‚ç›¸åï¼Œç”±äºå¤§å¤šæ•°æ·±åº¦å­¦ä¹ æ¨¡å‹çš„ç›®æ ‡æ˜¯å­¦ä¹ ä¸‹æ¸¸ä»»åŠ¡çš„å‡†ç¡®åµŒå…¥è¡¨ç¤ºï¼Œæ‰€ä»¥ç›®æ ‡æ˜¯è§£å¼€éšè—ç©ºé—´ä¸­çš„æ··æ·†æ•ˆåº”å’Œå› æœæ•ˆåº”ã€‚&lt;/p>
&lt;h2 id="åŸºäºå› æœæ¨ç†çš„åé—¨é˜²å¾¡">&lt;a href="#%e5%9f%ba%e4%ba%8e%e5%9b%a0%e6%9e%9c%e6%8e%a8%e7%90%86%e7%9a%84%e5%90%8e%e9%97%a8%e9%98%b2%e5%be%a1" class="header-anchor">&lt;/a>åŸºäºå› æœæ¨ç†çš„åé—¨é˜²å¾¡
&lt;/h2>&lt;p>åœ¨ç°å®åº”ç”¨ä¸­ï¼Œç›´æ¥è¯†åˆ«æ•°æ®ç©ºé—´ä¸­ $X$ çš„æ··æ‚å› ç´ å’Œå› æœå› ç´ å¯èƒ½ç›¸å½“å›°éš¾ã€‚ä½œè€…å‡è®¾è¿™äº›æ··æ‚å› ç´ å’Œå› æœå› ç´ ä¼šåœ¨éšè—çš„è¡¨å¾ä¸­å¾—åˆ°ä½“ç°ã€‚é€šå¸¸ï¼Œè®­ç»ƒåŒ…æ‹¬ä¸¤ä¸ª DNNï¼Œå³ $f_B$ å’Œ $f_C$ï¼Œå®ƒä»¬åˆ†åˆ«ä¸“æ³¨äºæ•è·è™šå‡ç›¸å…³æ€§å’Œå› æœå…³ç³»ã€‚ä½œè€…ä» $f_B$ å’Œ $f_C$ çš„å€’æ•°ç¬¬äºŒå±‚æå–åµŒå…¥å‘é‡ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸º $R$ å’Œ $Z$ã€‚ä¸ºäº†é¿å…æ··æ·†ï¼Œæœ¬æ–‡ä¸­ä½¿ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºå˜é‡ï¼Œå°å†™å­—æ¯è¡¨ç¤ºå…·ä½“å€¼ã€‚ä¸ºäº†ç”Ÿæˆèƒ½å¤Ÿæ•è·å› æœå…³ç³»çš„é«˜è´¨é‡å˜é‡ $Z$ï¼Œä½œè€…åœ¨è®­ç»ƒé˜¶æ®µï¼Œé¦–å…ˆåœ¨ä¸­æ¯’æ•°æ®é›†ä¸Šè®­ç»ƒ $f_B$ï¼Œä»¥æ•æ‰åé—¨çš„è™šå‡ç›¸å…³æ€§ã€‚éšåï¼Œè®­ç»ƒå¦ä¸€ä¸ªå¹²å‡€çš„æ¨¡å‹ $f_C$ï¼Œé¼“åŠ±å…¶åœ¨éšè—ç©ºé—´ï¼ˆå³ $Z$ ä¸ $R$ ç‹¬ç«‹ï¼‰ä¸­çš„ç‹¬ç«‹æ€§ï¼Œå¹¶é€šè¿‡æœ€å°åŒ–äº’ä¿¡æ¯å’Œå®æ–½æ ·æœ¬é‡æ–°åŠ æƒç­–ç•¥ã€‚è®­ç»ƒå®Œæˆåï¼Œåªæœ‰ $f_C$ è¢«ç”¨äºä¸‹æ¸¸çš„åˆ†ç±»ä»»åŠ¡ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506143306646.png"
width="855"
height="416"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506143306646_hu_223138b87ac4fbd.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506143306646_hu_78af587a89ae9b69.png 1024w"
loading="lazy"
alt="æ¡†æ¶å›¾"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="493px"
>&lt;/p>
&lt;h3 id="åé—¨æ¨¡å‹è®­ç»ƒ">&lt;a href="#%e5%90%8e%e9%97%a8%e6%a8%a1%e5%9e%8b%e8%ae%ad%e7%bb%83" class="header-anchor">&lt;/a>åé—¨æ¨¡å‹è®­ç»ƒ
&lt;/h3>&lt;p>é¦–å…ˆï¼Œä½œè€…åœ¨å…·æœ‰äº¤å‰ç†µæŸå¤±çš„æ¯’æ•°æ®é›†ä¸Šè®­ç»ƒ $f_B$ï¼Œç›®çš„æ˜¯æ•è·åé—¨çš„è™šå‡ç›¸å…³æ€§ã€‚ç”±äºä¸­æ¯’æ•°æ®ä»ç„¶åŒ…å«å› æœå…³ç³»ï¼Œä½œè€…æœ‰æ„é€šè¿‡æ—©æœŸåœæ­¢ç­–ç•¥æ¥å¢å¼º $f_B$ ä¸­çš„æ··æ‚åå·®ã€‚å…·ä½“æ¥è¯´ï¼Œä½œè€…åªå¯¹ $f_B$ è¿›è¡Œäº†å°‘æ•°å‡ ä¸ªæ—¶æœŸçš„è®­ç»ƒï¼ˆä¾‹å¦‚ï¼Œ5 ä¸ªæ—¶æœŸï¼‰ï¼Œå¹¶åœ¨è®­ç»ƒ $f_C$ æ—¶å†»ç»“äº†å…¶å‚æ•°ã€‚è¿™æ˜¯å› ä¸ºå…ˆå‰çš„ç ”ç©¶è¡¨æ˜ï¼Œåé—¨å…³è”æ¯”å› æœå…³ç³»æ›´å®¹æ˜“è¢«å­¦ä¹ ã€‚&lt;/p>
&lt;h3 id="å¹²å‡€æ¨¡å‹è®­ç»ƒ">&lt;a href="#%e5%b9%b2%e5%87%80%e6%a8%a1%e5%9e%8b%e8%ae%ad%e7%bb%83" class="header-anchor">&lt;/a>å¹²å‡€æ¨¡å‹è®­ç»ƒ
&lt;/h3>&lt;p>ä½œè€…æå‡ºäº†å…·æœ‰ä¿¡æ¯ç“¶é¢ˆå’Œäº’ä¿¡æ¯æœ€å°åŒ–çš„è®­ç»ƒç›®æ ‡ï¼š&lt;/p>
$$\mathcal{L}\_C=\min\underbrace{\beta I(Z;X)}\_{1}-\underbrace{I(Z;Y)}\_{2}+\underbrace{I(Z;R)}\_{3}$$&lt;p>å…¶ä¸­$I(.;.)$â€‹è¡¨ç¤ºäº’ä¿¡æ¯&lt;/p>
&lt;ul>
&lt;li>â‘ ç”¨æ¥é™åˆ¶æ¥è‡ªè¾“å…¥çš„ä¸ç›¸å…³ä¿¡æ¯&lt;/li>
&lt;li>â‘¡ç”¨æ¥æ•è·å˜é‡ $Z$â€‹ ç”¨äºæ ‡ç­¾é¢„æµ‹çš„æ ¸å¿ƒä¿¡æ¯&lt;/li>
&lt;li>â‘¢æè¿°äº†åé—¨åµŒå…¥ $R$ å’Œå»æ··æ·†åµŒå…¥ $Z$ ä¹‹é—´çš„ä¾èµ–ç¨‹åº¦ã€‚å®ƒé¼“åŠ± $Z$ ç‹¬ç«‹äº $R$ï¼Œé€šè¿‡æœ€å°åŒ–äº’ä¿¡æ¯æ¥å…³æ³¨å› æœæ•ˆåº”&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>äº’ä¿¡æ¯&lt;/strong>&lt;/p>
&lt;p>&lt;strong>äº’ä¿¡æ¯&lt;/strong>ï¼ˆmutual Informationï¼ŒMIï¼‰åº¦é‡äº†ä¸¤ä¸ªå˜é‡ä¹‹é—´ç›¸äº’ä¾èµ–çš„ç¨‹åº¦ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºä¸¤ä¸ªéšæœºå˜é‡ï¼ŒMIæ˜¯ä¸€ä¸ªéšæœºå˜é‡ç”±äºå·²çŸ¥å¦ä¸€ä¸ªéšæœºå˜é‡è€Œå‡å°‘çš„â€œä¿¡æ¯é‡â€ï¼ˆå•ä½é€šå¸¸ä¸ºæ¯”ç‰¹ï¼‰ã€‚&lt;/p>
$$I(X;Y)=D\_{\mathrm{KL}}(p(x,y)\|p(x)\otimes p(y))$$&lt;p>ç›´è§‚ä¸Šï¼Œäº’ä¿¡æ¯åº¦é‡ &lt;em>X&lt;/em> å’Œ &lt;em>Y&lt;/em> å…±äº«çš„ä¿¡æ¯ï¼šå®ƒåº¦é‡çŸ¥é“è¿™ä¸¤ä¸ªå˜é‡å…¶ä¸­ä¸€ä¸ªï¼Œå¯¹å¦ä¸€ä¸ªä¸ç¡®å®šåº¦å‡å°‘çš„ç¨‹åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ &lt;em>X&lt;/em> å’Œ &lt;em>Y&lt;/em> ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™çŸ¥é“ &lt;em>X&lt;/em> ä¸å¯¹ &lt;em>Y&lt;/em> æä¾›ä»»ä½•ä¿¡æ¯ï¼Œåä¹‹äº¦ç„¶ï¼Œæ‰€ä»¥å®ƒä»¬çš„äº’ä¿¡æ¯ä¸ºé›¶ã€‚åœ¨å¦ä¸€ä¸ªæç«¯ï¼Œå¦‚æœ &lt;em>X&lt;/em> æ˜¯ &lt;em>Y&lt;/em> çš„ä¸€ä¸ªç¡®å®šæ€§å‡½æ•°ï¼Œä¸” &lt;em>Y&lt;/em> ä¹Ÿæ˜¯ &lt;em>X&lt;/em> çš„ä¸€ä¸ªç¡®å®šæ€§å‡½æ•°ï¼Œé‚£ä¹ˆä¼ é€’çš„æ‰€æœ‰ä¿¡æ¯è¢« &lt;em>X&lt;/em> å’Œ &lt;em>Y&lt;/em> å…±äº«ï¼šçŸ¥é“ &lt;em>X&lt;/em> å†³å®š &lt;em>Y&lt;/em> çš„å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚&lt;/p>&lt;/blockquote>
&lt;p>ç„¶è€Œï¼Œä¸Šè¿°çš„å…¬å¼å¹¶ä¸èƒ½ç›´æ¥æ±‚è§£ï¼Œä¸ºæ­¤ï¼Œä½œè€…æ”¾å®½äº†é™åˆ¶ã€‚&lt;/p>
&lt;p>&lt;strong>å…¬å¼1&lt;/strong>&lt;/p>
$$\begin{aligned}
I(Z;X)&amp; =\sum\_x\sum\_zp(z,x)\mathrm{log}\frac{p(z,x)}{p(z)p(x)} \\\\
&amp;=\sum\_x\sum\_zp(z|x)p(x)\mathrm{log}\frac{p(z|x)p(x)}{p(z)p(x)} \\\\
&amp;=\sum\_x\sum\_zp(z|x)p(x)\mathrm{log~}p(z|x)-\sum\_zp(z)\mathrm{log~}p(z)
\end{aligned}$$&lt;p>ç„¶è€Œï¼Œè¾¹é™…æ¦‚ç‡$p(z)=\sum_xp(z|x)p(x)$åœ¨å®è·µä¸­å¾ˆéš¾è®¡ç®—ï¼Œä¸ºæ­¤ä½œè€…é€šè¿‡å˜åˆ†åˆ†å¸ƒ$q(z)$æ¥è¿‘ä¼¼$p(z)$ï¼Œç”±äºKLæ•£åº¦æ˜¯éè´Ÿçš„ï¼Œæ ¹æ®å‰å¸ƒæ–¯ä¸ç­‰å¼ï¼š$D_{\mathrm{KL}}(p(z)||q(z)) \geq 0 \Rightarrow -\sum_zp(z)\mathrm{log~}p(z)\leq-\sum_zp(z)\mathrm{log~}q(z)$&lt;/p>
&lt;p>å°†å…¶ä»£å…¥ä¸Šå¼ï¼š&lt;/p>
$$\begin{aligned}
I(Z;X)&amp; \leq\sum\_xp(x)\sum\_zp(z|x)\mathrm{log~}p(z|x)-\sum\_zp(z)\mathrm{log~}q(z) \\\\
&amp;=\sum\_xp(x)\sum\_zp(z|x)\mathrm{log}\frac{p(z|x)}{q(z)} \\\\
&amp;=\sum\_xp(x)D\_{\mathrm{KL}}(p(z|x)||q(z))
\end{aligned}$$&lt;p>ä½œè€…å‡è®¾$p(z|x)=\mathcal{N}(\mu(x),\mathrm{diag}\{\sigma^2(x)\})$æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œå…¶ä¸­$\mu(x)$æ˜¯$x$çš„ç¼–ç åµŒå…¥ï¼Œ$\mathrm{diag}\{\sigma^2(x)\}=\{\sigma_d^2\}_{d=1}^D$è¡¨ç¤ºæ–¹å·®çš„å¯¹è§’çŸ©é˜µï¼Œå¹¶å‡è®¾$q(z)=\mathcal{N}(0,I)$ï¼Œäºæ˜¯ä¸Šå¼å°±å¯ä»¥æ”¹å†™æˆï¼š&lt;/p>
$$D\_{\mathrm{KL}}(p(z|x)||q(z))=\frac{1}{2}||\mu(x)||\_2^2+\frac{1}{2}\sum\_d(\sigma\_d^2-\mathrm{log}\sigma\_d^2-1)$$&lt;p>ä¸ºäº†ä¾¿äºä¼˜åŒ–ä½œè€…å°†$\sigma(x)$å®šä¹‰ä¸ºå…¨é›¶çŸ©é˜µï¼Œæ‰€ä»¥$z=\mu(x)$æˆä¸ºç¡®å®šæ€§åµŒå…¥ã€‚&lt;/p>
&lt;p>æœ€åæ¨å¯¼å‡ºæ¥ï¼Œå…¬å¼ä¸€å°±ç›¸å½“äºç›´æ¥åœ¨åµŒå…¥å‘é‡ $z$ ä¸Šåº”ç”¨L2æ­£åˆ™åŒ–&lt;/p>
&lt;p>&lt;strong>å…¬å¼2&lt;/strong>&lt;/p>
&lt;p>æ ¹æ®äº’ä¿¡æ¯çš„å®šä¹‰ï¼Œæœ‰$I(Z;Y)=H(Y)-H(Y|Z)$ï¼Œå…¶ä¸­$H(Â·)$ å’Œ $H(Â·|Â·)$ åˆ†åˆ«è¡¨ç¤ºç†µå’Œæ¡ä»¶ç†µã€‚ç”±äº$H(Y)$ æ˜¯ä¸€ä¸ªæ­£å¸¸æ•°ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå› æ­¤æœ‰ä»¥ä¸‹ä¸ç­‰å¼ï¼š&lt;/p>
$$-I(Z;Y)\leq H(Y|Z)$$&lt;p>åœ¨å®éªŒä¸­ï¼Œ$H(Y|Z)$å¯ä»¥è®¡ç®—å¹¶ä¼˜åŒ–ä¸ºäº¤å‰ç†µæŸå¤±ã€‚ä¸ºäº†è¿›ä¸€æ­¥é¼“åŠ± $f_C$ å’Œ $f_B$ ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼Œä½œè€…å›ºå®šäº† $f_B$ çš„å‚æ•°ï¼Œå¹¶ä½¿ç”¨æ ·æœ¬åŠ æƒäº¤å‰ç†µæŸå¤±æ¥è®­ç»ƒ $f_C$ï¼Œæƒé‡çš„è®¡ç®—å…¬å¼ä¸ºï¼š&lt;/p>
$$w(x)=\frac{CE(f\_B(x),y)}{CE(f\_B(x),y)+CE(f\_C(x),y)}$$&lt;p>å¯¹äº $f_B$ä¸ŠæŸå¤±è¾ƒå¤§çš„æ ·æœ¬ï¼Œ$w(x)$æ¥è¿‘1;è€Œå½“æŸå¤±éå¸¸å°æ—¶ï¼Œ$w(x)$æ¥è¿‘ 0ã€‚ä»è€Œè®© $f_C$ä¸“æ³¨äº $f_B$çš„â€œéš¾â€ç¤ºä¾‹ï¼Œä»¥é¼“åŠ±å…¶ç‹¬ç«‹æ€§ã€‚&lt;/p>
&lt;p>&lt;strong>å…¬å¼3&lt;/strong>&lt;/p>
&lt;p>åŸºäºäº’ä¿¡æ¯å’ŒKLæ•£åº¦çš„å…³ç³»ï¼Œæœ‰$I(Z;R)=D_{\mathrm{KL}}(p(Z,R)||p(Z)p(R))$ï¼Œå³$I(Z;R)$ç­‰ä»·äºè”åˆåˆ†å¸ƒ$p(Z,R)$å’Œä¸¤ä¸ªè¾¹é™…$p(Z)p(R)$çš„ä¹˜ç§¯ä¹‹é—´çš„KLæ•£åº¦ã€‚&lt;/p>
&lt;p>ä¸ºäº†æœ€å°åŒ–æ··æ‚æƒ©ç½šé¡¹ï¼Œä½œè€…é‡‡ç”¨äº†å¯¹æŠ—å­¦ä¹ ã€‚åˆ¤åˆ«å™¨$D_\phi$è¢«è®­ç»ƒæˆå°†è”åˆåˆ†å¸ƒ$p(Z,R)$åˆ†ç±»ä¸º1ï¼Œå°†è¾¹é™…åˆ†å¸ƒ$p(Z)p(R)$åˆ†ç±»ä¸º0ã€‚è¾¹é™…åˆ†å¸ƒ$p(Z)p(R)$çš„æ ·æœ¬æ˜¯é€šè¿‡å¯¹$p(Z,R)$è®­ç»ƒæ‰¹æ¬¡ä¸­æ ·æœ¬$(z,r)$çš„å•ä¸ªè¡¨ç¤ºè¿›è¡Œshuffleè€Œè·å¾—çš„ã€‚ä¼˜åŒ–å‡½æ•°å¦‚ä¸‹ï¼š&lt;/p>
$$\mathcal{L}\_{adv}=\min\_{\theta\_C}\max\_\phi\mathbb{E}\_{p(z,r)}[D\_\phi(z,r)]-\mathbb{E}\_{p(z)p(r)}[D\_\phi(z,r)]$$&lt;p>å…¶ä¸­$\theta_C$ å’Œ$\phi$åˆ†åˆ«è¡¨ç¤º $f_C$ å’Œ $D_\phi$ çš„å‚æ•°ã€‚&lt;/p>
&lt;p>ç»¼ä¸Šï¼Œ$f_C$çš„æŸå¤±å‡½æ•°ä¸ºï¼š&lt;/p>
$$\mathcal{L}\_C=\mathcal{L}\_{wce}+\mathcal{L}\_{adv}+\beta||\mu(x)||\_2^2$$&lt;p>â€‹&lt;/p>
&lt;p>ç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506164026425.png"
width="989"
height="662"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506164026425_hu_934445f40a309d99.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240506164026425_hu_83565e92195510bf.png 1024w"
loading="lazy"
alt="CBDç®—æ³•"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
>&lt;/p>
&lt;h2 id="å®éªŒ">&lt;a href="#%e5%ae%9e%e9%aa%8c" class="header-anchor">&lt;/a>å®éªŒ
&lt;/h2>&lt;p>&lt;strong>æ•°æ®é›†å’Œæ¨¡å‹&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>CIFAR-10ï¼šWideResNet&lt;/li>
&lt;li>GTSRBï¼šWideResNet&lt;/li>
&lt;li>ImageNetï¼šResNet-34&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ”»å‡»åŸºçº¿&lt;/strong>&lt;/p>
&lt;p>BadNetsã€Trojan attackã€Blend attackã€Sinusoidal signal attack (SIG)ã€Dynamic attackã€WaNet&lt;/p>
&lt;p>&lt;strong>é˜²å¾¡åŸºçº¿&lt;/strong>&lt;/p>
&lt;p>Fine-pruning (FP) ã€Mode Connectivity Repair (MCR) ã€ Neural Attention Distillation (NAD) ã€ Anti-Backdoor Learning (ABL) ã€Decoupling-based backdoor defense (DBD)&lt;/p>
&lt;p>ä½œè€…åœ¨&lt;strong>10%ä¸­æ¯’ç‡&lt;/strong>ä¸‹å’Œå…¶ä»–é˜²å¾¡æ–¹æ³•è¿›è¡Œäº†å¯¹æ¯”ï¼Œè¯æ˜äº†è¯¥æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124654213.png"
width="1700"
height="1262"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124654213_hu_e22381df4b51cf71.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124654213_hu_f1aaa1291e8bdfdc.png 1024w"
loading="lazy"
alt="å®éªŒ"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;p>åŒæ—¶ï¼Œä½œè€…ä¹Ÿè€ƒè™‘äº†&lt;strong>ä¸åŒä¸­æ¯’ç‡&lt;/strong>ä¸‹é˜²å¾¡æ–¹æ³•çš„æœ‰æ•ˆæ€§&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124825684.png"
width="1094"
height="593"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124825684_hu_8c44ae762888829f.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507124825684_hu_4b83798a9ef554aa.png 1024w"
loading="lazy"
alt="ä¸åŒä¸­æ¯’ç‡"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;p>æ­¤å¤–ï¼Œä½œè€…è¿˜ç»˜åˆ¶äº†t-SNEå›¾ï¼Œä»aå’Œbå¯ä»¥çœ‹å‡ºåœ¨è®­ç»ƒåï¼Œæ··æ‚æˆåˆ†$r$å’Œå› æœæˆåˆ†$z$ä¹‹é—´å­˜åœ¨æ˜æ˜¾çš„åˆ†ç¦»ã€‚ä»cå’Œdä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸­æ¯’æ ·æœ¬çš„åµŒå…¥åœ¨$r$ä¸­å½¢æˆç°‡ï¼Œè¿™è¡¨æ˜å·²ç»å­¦ä¹ äº†åé—¨è§¦å‘å™¨å’Œç›®æ ‡æ ‡ç­¾ä¹‹é—´çš„è™šå‡ç›¸å…³æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸­æ¯’æ ·æœ¬ä¸æ ·æœ¬å¯†åˆ‡ç›¸å…³ï¼Œå…¶çœŸå®æ ‡ç­¾ä½äºå»æ··æ·†åµŒå…¥$z$ä¸­ï¼Œè¿™è¡¨æ˜CBDå¯ä»¥æœ‰æ•ˆåœ°é˜²å¾¡åé—¨æ”»å‡»ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125037327.png"
width="1948"
height="593"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125037327_hu_37a257ce2dde5951.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125037327_hu_d2f1c5d5b749b3e3.png 1024w"
loading="lazy"
alt="t-SNE"
class="gallery-image"
data-flex-grow="328"
data-flex-basis="788px"
>&lt;/p>
&lt;p>ä½œè€…æœ€åè¿˜è®¡ç®—äº†é˜²å¾¡æ‰€éœ€çš„æ—¶é—´ï¼Œå¯è§é˜²å¾¡å¹¶ä¸éœ€è¦æ›´å¤šé¢å¤–çš„æ—¶é—´&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125439316.png"
width="912"
height="281"
srcset="https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125439316_hu_a93b7ee3849f4cbe.png 480w, https://lbqaq.top/p/backdoor-defense-via-deconfounded-representation-learning/IMAGE/image-20240507125439316_hu_a9d05e324970c33d.png 1024w"
loading="lazy"
alt="è¿ç®—æ—¶é—´"
class="gallery-image"
data-flex-grow="324"
data-flex-basis="778px"
>&lt;/p></description></item><item><title>åŸºäºDNSçš„åˆ†æµæ–¹æ¡ˆ</title><link>https://lbqaq.top/p/dns-shunt/</link><pubDate>Fri, 22 Mar 2024 20:47:00 +0800</pubDate><guid>https://lbqaq.top/p/dns-shunt/</guid><description>&lt;img src="https://lbqaq.top/p/dns-shunt/115597971.webp" alt="Featured image of post åŸºäºDNSçš„åˆ†æµæ–¹æ¡ˆ" />&lt;p>æœ€è¿‘å°†è·¯ç”±å™¨ä¸Šçš„å·¥å…·æ¢ä¸ºå°çŒ«ï¼Œä½¿ç”¨é»˜è®¤çš„redir-hostæ¨¡å¼è™½ç„¶èƒ½ç”¨ï¼Œä½†æ€»æ˜¯å‡ºç°å„ç§å„æ ·å¥‡æ€ªçš„é—®é¢˜ï¼Œå†åŠ ä¸Šå°çŒ«å®˜æ–¹å·²ç»åˆ é™¤äº†redir-hostæ¨¡å¼ï¼Œäºæ˜¯æˆ‘ä¾¿æƒ³æ‰¾åˆ°ä¸€ä¸ªåŸºäºfake-ipçš„åˆ†æµæ–¹å¼ã€‚é€šè¿‡åœ¨äº’è”ç½‘ä¸Šæ£€ç´¢å‘ç°ï¼Œæ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« â€”â€”ã€Š&lt;a class="link" href="https://songchenwen.com/tproxy-split-by-dns" target="_blank" rel="noopener"
>åŸºäº DNS çš„å†…ç½‘é€æ˜ä»£ç†åˆ†æµæ–¹æ¡ˆ&lt;/a>ã€‹ã€‚ä»”ç»†ç ”è¯»ä¸‹æ¥ï¼Œå®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚ï¼Œç„¶è€Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å†…å­˜æ‰è¥Ÿè§è‚˜çš„ç¡¬è·¯ç”±ï¼Œå¹¶æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´è£…ä¸‹AdGuardHome+mosdns+å°çŒ«ä¸‰å‘˜å¤§å°†ã€‚äºæ˜¯ï¼Œæˆ‘ä¾¿åœ¨ä»–æ–¹æ¡ˆçš„åŸºç¡€ä¸Šåˆ é™¤äº†AdGuardHomeï¼Œä¼˜åŒ–å‡ºäº†ç°åœ¨çš„æ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="å®ç°æ•ˆæœ">&lt;a href="#%e5%ae%9e%e7%8e%b0%e6%95%88%e6%9e%9c" class="header-anchor">&lt;/a>å®ç°æ•ˆæœ
&lt;/h2>&lt;p>å’ŒåŸæ¥çš„æ–¹æ¡ˆä¸€æ ·ï¼Œæˆ‘å°±ç›´æ¥ç²˜è´´äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>åŸºäºDNSçš„æµé‡åˆ†æµï¼Œå›½å†…æµé‡ç»•è¿‡å°çŒ«æ ¸å¿ƒ&lt;/li>
&lt;li>ç”¨Fake-IPæ¨¡å¼æ¥è§£å†³DNSæ±¡æŸ“çš„é—®é¢˜ï¼Œä½†é™åˆ¶Fake-IPçš„èŒƒå›´ï¼Œä¸éœ€è¦ä»£ç†çš„åŸŸåä»è¿”å›æ­£å¸¸IP&lt;/li>
&lt;li>ä¸ç”¨å†è´¹å¿ƒæ‰¾æ— æ±¡æŸ“çš„DNSæœåŠ¡å™¨ï¼Œä½¿ç”¨è¿è¥å•†æä¾›çš„DNSä¹Ÿæ²¡é—®é¢˜&lt;/li>
&lt;li>å› ä¸ºå½»åº•è§£å†³äº†DNSæ±¡æŸ“ï¼Œå¯ä»¥æ”¾å¿ƒç¼“å­˜DNSè¯·æ±‚ç»“æœ&lt;/li>
&lt;li>å®Œç¾å…¼å®¹IPv6ã€‚å›½å†…æµé‡å¯æ­£å¸¸ä½¿ç”¨IPv6æœåŠ¡ã€‚åªè¦ä»£ç†æœ‰IPv6å‡ºå£ï¼Œé‚£å›½å¤–ä¹Ÿå¯æ­£å¸¸ä½¿ç”¨ã€‚&lt;/li>
&lt;li>å…¼å®¹BT/PTåº”ç”¨ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®ä¹Ÿä¸ä¼šæ¶ˆè€—ä»£ç†æµé‡&lt;/li>
&lt;li>å¯ä»¥æ¾åˆ‡æ¢å†…ç½‘è®¾å¤‡æ˜¯å¦èµ°ä»£ç†&lt;/li>
&lt;/ol>
&lt;h2 id="é‡åˆ°é—®é¢˜">&lt;a href="#%e9%81%87%e5%88%b0%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>é‡åˆ°é—®é¢˜
&lt;/h2>&lt;p>åœ¨æŒ‰ç…§åŸæ¥çš„æ–¹æ¡ˆæ„å»ºå¹¶åˆ å»AdGuardHomeåï¼Œå¯ä»¥å®ç°å¤§éƒ¨åˆ†çš„åŠŸèƒ½ã€‚ç„¶è€Œåœ¨æˆ‘çš„ä½¿ç”¨ä¸­ï¼Œå´é‡åˆ°äº†ä¸€ä¸ªå…³é”®çš„é—®é¢˜ï¼š&lt;strong>æ— æ³•åŒºåˆ†æµé‡æ¥æº&lt;/strong>â€”â€”ç”±äºmosdnsæ˜¯ä½œä¸ºDnsmasqçš„ä¸Šæ¸¸æ¥ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æ— æ³•è¯†åˆ«è¯·æ±‚çš„å®¢æˆ·ç«¯ï¼Œæ•…æ— æ³•å®ç°æ˜¯å¦èµ°ä»£ç†ã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œæˆ‘å°è¯•å°†mosdnsä»£æ›¿dnsmasqæ¥ç›‘å¬53ç«¯å£ï¼Œç»“æœåˆé‡åˆ°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼š&lt;strong>æ‰€æœ‰çš„è¯·æ±‚éƒ½è¿”å›fake-ip&lt;/strong>â€”â€”ç”±äºdnså­˜åœ¨ä¸»æœºåè§£æåŠŸèƒ½ï¼Œå¯¼è‡´è¯·æ±‚è¢«é”™è¯¯çš„å‘å¾€å°çŒ«çš„DNSç«¯å£ï¼Œä»è€Œè¿”å›äº†fake-ipã€‚&lt;/p>
&lt;h2 id="æ–¹æ¡ˆè®¾è®¡">&lt;a href="#%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1" class="header-anchor">&lt;/a>æ–¹æ¡ˆè®¾è®¡
&lt;/h2>&lt;p>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘é‡æ–°è®¾è®¡äº†DNSè§£æçš„æµç¨‹ï¼Œä»è€Œå¾—åˆ°äº†ç°åœ¨çš„è¿™ä¸€å¥—æ–¹æ¡ˆã€‚&lt;/p>
&lt;h3 id="dnsåˆ†æµ">&lt;a href="#dns%e5%88%86%e6%b5%81" class="header-anchor">&lt;/a>DNSåˆ†æµ
&lt;/h3>&lt;pre class="mermaid" align=center>graph TB
client[DNS è¯·æ±‚] -- é˜²ç«å¢™åŠ«æŒ --> mosdns
mosdns -- éœ€è¦ä»£ç†çš„è®¾å¤‡ --> query[æŒ‰è§„åˆ™è¿›è¡ŒDNSæŸ¥è¯¢]
mosdns -- ä¸éœ€è¦ä»£ç†çš„è®¾å¤‡ --> dnsmasq
query -- å›½å†…åŸŸå --> dnsmasq
query -- å›½å¤–åŸŸå --> drop_ipv6[\å¿½ç•¥ IPv6 è¯·æ±‚/]
query -- å…¶å®ƒ --> fallback
fallback -- å›½å†…IP --> dnsmasq
fallback -- å›½å¤–IP --> drop_ipv6
dnsmasq --> sp_dns[çœŸå®IP]
query -- åŸŸåç™½åå• --> dnsmasq
query -- åŸŸåç°åå• --> drop_ipv6
drop_ipv6 --> fake[Fake IP]
&lt;/pre>
&lt;p>ç»è¿‡DNSåˆ†æµåï¼Œæ‰€æœ‰éœ€è¦ä»£ç†çš„åŸŸåéƒ½åˆ†é…åˆ°äº†Fake IPï¼Œæ— éœ€ä»£ç†çš„åŸŸåéƒ½æ˜¯ç”±è¿è¥å•†DNSè¿”å›çš„æœ€ä¼˜ç»“æœã€‚å°çŒ«çš„DNSåœ¨Fake IPæ¨¡å¼ä¸‹å¯ä»¥æ— éœ€è¯·æ±‚ç½‘ç»œç›´æ¥è¿”å›ç»“æœï¼Œæ‰€ä»¥æ•´ä½“çš„DNSå“åº”é€Ÿåº¦éå¸¸å¿«ã€‚åœ¨å¤„ç†Fake IPçš„æµé‡æ—¶ï¼Œå°çŒ«ä¼šæŠŠhostnameå‘é€åˆ°è¿œç«¯è¿›è¡ŒDNSè§£æï¼Œä¹Ÿå°±è‡ªç„¶ä¸å­˜åœ¨DNSæ±¡æŸ“çš„é—®é¢˜äº†ã€‚&lt;/p>
&lt;h3 id="ä¿®å¤åœ°å€è§£æé”™è¯¯">&lt;a href="#%e4%bf%ae%e5%a4%8d%e5%9c%b0%e5%9d%80%e8%a7%a3%e6%9e%90%e9%94%99%e8%af%af" class="header-anchor">&lt;/a>ä¿®å¤åœ°å€è§£æé”™è¯¯
&lt;/h3>&lt;p>ç”±äºdnså­˜åœ¨ä¸»æœºåè§£æåŠŸèƒ½ï¼Œä¼šå¯¼è‡´è¯·æ±‚é”™è¯¯çš„è½¬å‘ã€‚æ­£æ‰€è°“â€œå¤´ç—›åŒ»å¤´ï¼Œè„šç—›åŒ»è„šâ€ï¼Œæœ€ç®€å•å’Œæ— è„‘çš„æ–¹æ³•å°±æ˜¯ç›´æ¥å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼š&lt;/p>
&lt;p>åœ¨&lt;code>ç½‘ç»œ&lt;/code>-&lt;code>DHCP/DNS&lt;/code>-&lt;code>é«˜çº§è®¾ç½®&lt;/code>é‡Œï¼Œå°†&lt;code>æœ¬åœ°åŸŸå&lt;/code>é‡Œçš„å€¼åˆ é™¤ã€‚ï¼ˆæœªæµ‹è¯•ï¼Œä¸ç¡®å®šğŸ¤”ï¼‰&lt;/p>
&lt;p>ä½†æ˜¯æˆ‘ä»¬éƒ½ä½¿ç”¨äº†mosdnsäº†ï¼Œä¸ºä»€ä¹ˆä¸å¥½å¥½çš„åˆ©ç”¨å®ƒé‚£å¼ºå¤§çš„è§„åˆ™å‘¢ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœ‰å…³ä¸»æœºåè§£æçš„æµé‡å…¨éƒ¨è½¬å‘åˆ°dnsmasqï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºé—®é¢˜äº†ã€‚&lt;/p>
&lt;h3 id="åŒºåˆ†æµé‡æ¥æº">&lt;a href="#%e5%8c%ba%e5%88%86%e6%b5%81%e9%87%8f%e6%9d%a5%e6%ba%90" class="header-anchor">&lt;/a>åŒºåˆ†æµé‡æ¥æº
&lt;/h3>&lt;p>ä¸€å¼€å§‹ï¼Œmosdnsæ˜¯ä½œä¸ºdnsmasqçš„ä¸Šæ¸¸çš„ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è¯·æ±‚æ¥æºéƒ½æ˜¯æœ¬åœ°ï¼Œè¿™å°±å¯¼è‡´äº†æˆ‘ä»¬æ— æ³•æ§åˆ¶mosdnsï¼Œè®©å…¶ä¸ºä¸éœ€è¦ä»£ç†çš„è®¾å¤‡åˆ†é…çœŸå®çš„IPã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰dnsè¯·æ±‚é€šè¿‡é˜²ç«å¢™åŠ«æŒåˆ°mosdnsä¸Šï¼Œå°±èƒ½çŸ¥é“è®¾å¤‡çš„æ¥æºçš„ipäº†ã€‚å…³äºé˜²ç«å¢™çš„å†™æ³•ï¼Œæˆ‘å‚è€ƒäº†&lt;a class="link" href="https://github.com/rufengsuixing/luci-app-adguardhome/blob/master/root/etc/init.d/AdGuardHome#L59" target="_blank" rel="noopener"
>luci-app-adguardhomeçš„å¼€æºä»£ç &lt;/a>ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¿™æ ·è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºæˆ‘ä»¬é…ç½®äº†ipv6ï¼Œæ‰€ä»¥è¯·æ±‚çš„å®¢æˆ·ç«¯åœ°å€å¾ˆå¤§å¯èƒ½ä¹Ÿæ˜¯ipv6çš„ã€‚ç”±äºipv6åœ°å€æ”¯æŒæ— çŠ¶æ€åˆ†é…ï¼Œè¿™å°±å¯¼è‡´è¯·æ±‚çš„åœ°å€ä¼šä¸€ç›´å˜åŠ¨ï¼Œè¿™ä¹Ÿå¯¼è‡´æ— æ³•ä¸ºç‰¹å®šå®¢æˆ·ç«¯å®ç°åˆ†æµã€‚è¿™é‡Œæˆ‘é€‰æ‹©äº†æœ€ç®€å•å’Œæ— è„‘çš„æ–¹æ³•â€”â€”ç›´æ¥å…³é—­ipv6çš„DNSæœåŠ¡ã€‚é€šè¿‡æŸ¥è¯¢Openwrtçš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å‘ç°å®˜æ–¹æä¾›äº†&lt;a class="link" href="https://openwrt.org/docs/guide-user/base-system/dhcp_configuration?s#disabling_ipv6_dns_for_odhcpd" target="_blank" rel="noopener"
>å…³é—­ipv6 DNSæœåŠ¡çš„æ–¹æ³•&lt;/a>ã€‚è¿™æ ·å°±å¯ä»¥è®©å®¢æˆ·ç«¯å§‹ç»ˆé€šè¿‡ipv4æ¥è¯·æ±‚äº†ã€‚ç¡®ä¿äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„é˜²ç«å¢™ä¹Ÿåªç”¨åŠ«æŒipv4çš„æµé‡äº†ã€‚&lt;/p>
&lt;h2 id="å…·ä½“é…ç½®">&lt;a href="#%e5%85%b7%e4%bd%93%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>å…·ä½“é…ç½®
&lt;/h2>&lt;p>ä¸Šé¢éƒ½åœ¨è®²æ€è·¯ï¼Œç»ˆäºè½®åˆ°å…·ä½“çš„é…ç½®äº†ã€‚æˆ‘ä»¬ç°åœ¨åªéœ€è¦å°çŒ«å’Œ&lt;a class="link" href="https://github.com/sbwml/luci-app-mosdns" target="_blank" rel="noopener"
>luci-app-mosdns&lt;/a>è¿™ä¸¤ä¸ªåŒ…å°±å¥½äº†ã€‚&lt;/p>
&lt;h3 id="å°çŒ«">&lt;a href="#%e5%b0%8f%e7%8c%ab" class="header-anchor">&lt;/a>å°çŒ«
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æ¨¡å¼è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿è¡Œæ¨¡å¼&lt;/code>&lt;/strong>ï¼š åˆ‡æ¢åˆ°Â &lt;strong>&lt;code>Fake-IPï¼ˆå¢å¼ºï¼‰æ¨¡å¼&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æœ¬åœ° DNS åŠ«æŒ&lt;/code>&lt;/strong>Â é€‰æ‹©Â &lt;strong>&lt;code>ç¦ç”¨&lt;/code>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æµé‡æ§åˆ¶&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>ç»•è¿‡ä¸­å›½å¤§é™† IP&lt;/code>&lt;/strong>Â å–æ¶ˆå‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>æµé‡æ§åˆ¶&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>ä»…å…è®¸å†…ç½‘&lt;/code>&lt;/strong>Â å¼€å¯&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>IPv6 è®¾ç½®&lt;/code>&lt;/strong>Â è¿™é¡µçš„é€‰é¡¹å…¨éƒ½å…³é—­å°±è¡Œäº†&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>å¸¸è§„è®¾ç½®&lt;/code>&lt;/strong>Â è¿™é‡Œéƒ½ä¸ç”¨æ”¹ï¼Œåªéœ€è¦è®°ä½ DNS ç›‘å¬ï¼Œåé¢é…ç½® mosdns è¦ç”¨&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è‡ªå®šä¹‰ä¸Šæ¸¸ DNS æœåŠ¡å™¨&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿½åŠ ä¸Šæ¸¸ DNS&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>è¿½åŠ é»˜è®¤ DNS&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>Fake-IP æŒä¹…åŒ–&lt;/code>&lt;/strong>Â å‹¾é€‰&lt;/li>
&lt;li>&lt;strong>&lt;code>è¦†å†™è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>DNS è®¾ç½®&lt;/code>&lt;/strong>Â é¡µé¢ä¸‹æ–¹Â &lt;strong>&lt;code>NameServer&lt;/code>&lt;/strong>ï¼Œ&lt;strong>&lt;code>FallBack&lt;/code>&lt;/strong>ï¼Œ&lt;strong>&lt;code>Default-NameServer&lt;/code>&lt;/strong>Â é‡Œçš„ DNS æœåŠ¡å™¨å…¨éƒ½å–æ¶ˆå‹¾é€‰ï¼Œæˆ‘ä»¬åªç”¨è¿è¥å•†æä¾›çš„ DNS æœåŠ¡å™¨å°±å¤Ÿäº†ï¼Œä¸€èˆ¬è¿è¥å•† DNS éƒ½æ˜¯æœ€å¿«çš„ï¼Œä¹Ÿæ˜¯ CDN æœ€ä¼˜åŒ–çš„ã€‚&lt;/li>
&lt;li>&lt;strong>&lt;code>æ’ä»¶è®¾ç½®&lt;/code>&lt;/strong>Â -Â &lt;strong>&lt;code>å¼€å‘è€…é€‰é¡¹&lt;/code>&lt;/strong> é‡Œï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸‹é˜²ç«å¢™è§„åˆ™ï¼Œå¢åŠ å¦‚ä¸‹è¿™äº›è¡Œã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;limit route to only fake ips with proxy port 7892&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/mosdns/genipset.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D openclash -p tcp -j REDIRECT --to-ports &lt;span class="m">7892&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A openclash -m &lt;span class="nb">set&lt;/span> --match-set telegram dst -p tcp -j REDIRECT --to-ports &lt;span class="m">7892&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;restart mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;å°†53ç«¯å£é‡å®šå‘åˆ°mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -D PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼Œéƒ½æ˜¯æˆ‘è¸©è¿‡çš„å‘ğŸ˜¢ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯èƒ½æ˜¯æˆ‘å†…æ ¸ç‰ˆæœ¬å¤ªæ—§äº†ï¼Œè¿™é‡Œä½¿ç”¨ä»»ä½•å˜é‡éƒ½æ˜¯ç©ºå€¼ï¼Œæ‰€ä»¥æˆ‘æŠŠæ‰€æœ‰åœ°å€éƒ½å†™æ­»äº†ï¼Œè®°å¾—æ ¹æ®è‡ªå·±çš„è·¯ç”±å™¨åœ°å€è¿›è¡Œä¿®æ”¹&lt;/li>
&lt;li>ä¸è¦å¿˜è®°åŠ«æŒTCPæµé‡ï¼æˆ‘ä¹‹å‰ä»…ä»…åŠ«æŒäº†UDPæµé‡å¯¼è‡´æµè§ˆå™¨ä¸€ç›´è¯·æ±‚åˆ°çœŸå®ipè€Œæ— æ³•è®¿é—®ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="#20240926" >2024.09.26æ›´æ–°&lt;/a> ä½¿ç”¨&lt;code>nftables&lt;/code>çš„é«˜ç‰ˆæœ¬openwrtéœ€è¦ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">LOG_OUT &lt;span class="s2">&amp;#34;Start Add Custom Firewall Rules...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FW4&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">command&lt;/span> -v fw4&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">en_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci -q get openclash.config.en_mode&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">proxy_port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci -q get openclash.config.proxy_port&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$en_mode&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;fake-ip&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;limit route to only fake ips with proxy port &lt;/span>&lt;span class="nv">$proxy_port&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /root/genipset.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">handle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>nft -a list chain inet fw4 openclash &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;ip protocol tcp counter&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $NF}&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;deleting nft rule handle &lt;/span>&lt;span class="nv">$handle&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft delete rule inet fw4 openclash handle &lt;span class="nv">$handle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet fw4 openclash ip protocol tcp ip daddr @telegram counter redirect to &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D openclash -p tcp -j REDIRECT --to-ports &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A openclash -m &lt;span class="nb">set&lt;/span> --match-set telegram dst -p tcp -j REDIRECT --to-ports &lt;span class="nv">$proxy_port&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;restart mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LOG_OUT &lt;span class="s2">&amp;#34;å°†53ç«¯å£é‡å®šå‘åˆ°mosdns&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ! nft --check list table inet mosdns &amp;gt; &lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span> 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="o">||&lt;/span> nft delete table inet mosdns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add table inet mosdns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add chain inet mosdns prerouting &lt;span class="s2">&amp;#34;{ type nat hook prerouting priority -110; policy accept; }&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet mosdns prerouting &lt;span class="s2">&amp;#34;meta nfproto { ipv4 } udp dport 53 ip daddr 192.168.6.1 counter redirect to :5335 comment \&amp;#34;MOSDNS HIJACK\&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add rule inet mosdns prerouting &lt;span class="s2">&amp;#34;meta nfproto { ipv4 } tcp dport 53 ip daddr 192.168.6.1 counter redirect to :5335 comment \&amp;#34;MOSDNS HIJACK\&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A PREROUTING -p udp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -D PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables -t nat -A PREROUTING -p tcp -d 192.168.6.1 --dport &lt;span class="m">53&lt;/span> -j REDIRECT --to-ports &lt;span class="m">5335&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>genipset.sh&lt;/code> çš„ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯é’ˆå¯¹æŸäº›åº”ç”¨ä¸é€šè¿‡DNSç›´æ¥ç”¨ipè®¿é—®ï¼Œè¦å°†è¿™éƒ¨åˆ†æµé‡åŠ«æŒåˆ°å°çŒ«ã€‚è¿™ä¸ªæ–‡ä»¶æ”¾åˆ°è·¯ç”±å™¨ä¸Šåï¼Œè®°å¾—è¦æ‰§è¡Œ &lt;code>chmod a+x /etc/mosdns/genipset.sh&lt;/code> ç»™å®ƒèµ‹äºˆå¯æ‰§è¡Œæƒé™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">tag&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;telegram&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/etc/mosdns/data/telegram-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FW4&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">command&lt;/span> -v fw4&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nb">test&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">type&lt;/span> ipv4_addr&lt;span class="se">\;&lt;/span> flags interval&lt;span class="se">\;&lt;/span> auto-merge&lt;span class="se">\;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="nb">type&lt;/span> ipv6_addr&lt;span class="se">\;&lt;/span> flags interval&lt;span class="se">\;&lt;/span> auto-merge&lt;span class="se">\;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft flush &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft flush &lt;span class="nb">set&lt;/span> inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset create &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> hash:net -!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset create &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> hash:net family inet6 -!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset flush &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset flush &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="nb">read&lt;/span> p&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> ! grep -q &lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&amp;lt;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add element inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset add &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$tag&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$FW4&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nft add element inet fw4 &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ipset add &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">tag&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">6&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$p&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span> &amp;lt;&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$filename&lt;/span>&lt;span class="s2"> missing.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="mosdns">&lt;a href="#mosdns" class="header-anchor">&lt;/a>Mosdns
&lt;/h3>&lt;p>é€‰è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå…³é—­&lt;code>DNS è½¬å‘&lt;/code>çš„å‹¾ï¼Œç„¶åæˆ‘å°±ç›´æ¥è´´é…ç½®äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Powered by luoboQAQ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€‚é…Clashçš„fake-ipæ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 24-08-29ï¼šè®©ç°åå•ä¼˜å…ˆç”Ÿæ•ˆï¼Œé¿å…è¢«geosite_cnæŠ¢ç­”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">log:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> level: info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> file: &lt;span class="s2">&amp;#34;/tmp/log/mosdns.log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># API å…¥å£è®¾ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">api:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http: &lt;span class="s2">&amp;#34;0.0.0.0:9091&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">plugins:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†…åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geosite_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/direct-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/whitelist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†… IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geoip_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: ip_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/CN-ip-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å¤–åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: geosite_no_cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/proxy-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç°åå•åŸŸåï¼Œå¼ºåˆ¶è¿œç¨‹è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: greylist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/greylist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é»‘åå•åŸŸåï¼šå±è”½ DNS è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: blocklist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/blocklist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ddnsåŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: ddnslist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/ddnslist.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è‡ªå®šä¹‰ Hosts é‡å†™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: hosts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: hosts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/hosts.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¹¿å‘ŠåŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: adlist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/data/ad-domains.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># PTRé»‘åå•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: local_ptr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: domain_set
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;/etc/mosdns/rule/local-ptr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç¼“å­˜æ’ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> size: &lt;span class="m">10240&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> lazy_cache_ttl: &lt;span class="m">86400&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å°†ç¼“å­˜ä¿å­˜åœ¨ç£ç›˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># dump_file: /tmp/mosdns/cache.dump&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å†…è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: local_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å›½å¤–è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: remote_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">28&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: forward 127.127.127.127:7874
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: ttl 1800-0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æœ‰å“åº”ç»ˆæ­¢è¿”å›&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$ddnslist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: ttl 5-5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: has_resp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: accept
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è¿”å›éå›½å†… ip åˆ™ drop_resp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: fallback_local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: &lt;span class="s2">&amp;#34;!resp_ip &lt;/span>&lt;span class="nv">$geoip_cn&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: drop_resp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: fallback
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: fallback
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> primary: fallback_local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> secondary: remote_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> threshold: &lt;span class="m">500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> always_standby: &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä¸»è¦çš„è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># sequence æ’ä»¶ä¸­è°ƒç”¨çš„æ’ä»¶ tag å¿…é¡»åœ¨ sequence å‰å®šä¹‰ï¼Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¦åˆ™ sequence æ‰¾ä¸åˆ°å¯¹åº”æ’ä»¶ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä¸èµ°ä»£ç†çš„ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#- matches: client_ip 192.168.6.144&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># exec: forward 127.0.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#- exec: jump has_resp_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$hosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$ddnslist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$blocklist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$adlist&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;!qname &lt;/span>&lt;span class="nv">$local_ptr&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æŸ¥è¯¢æ‹’ç»åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$blocklist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qname &lt;span class="nv">$adlist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches: qtype &lt;span class="m">65&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$local_ptr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: reject &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># handle local ptr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qtype &lt;span class="m">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># handle lan query&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname regexp:lan regexp:local regexp:arpa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: forward 127.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$ddnslist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç°åå•åœ¨geosite_cnä¹‹å‰æŸ¥è¯¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$greylist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$remote_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$geosite_cn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$local_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - matches:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - qname &lt;span class="nv">$geosite_no_cn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> exec: &lt;span class="nv">$remote_sequence&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: jump has_resp_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - exec: &lt;span class="nv">$fallback&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: udp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: udp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> entry: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen: &lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - tag: tcp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: tcp_server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> args:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> entry: main_sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen: &lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä»¥ä¸‹é¡¹ç›®æä¾›çš„åŸŸå/IPæ–‡ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat" target="_blank" rel="noopener"
>direct-list.txtå’Œproxy-list.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Hackl0us/GeoIP2-CN/" target="_blank" rel="noopener"
>CN-ip-cidr.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://anti-ad.net/" target="_blank" rel="noopener"
>ad-domains.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://core.telegram.org/resources/cidr.txt" target="_blank" rel="noopener"
>telegram-cidr.txt&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ä¸ºäº†æ–¹ä¾¿æœŸé—´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è„šæœ¬ä¸€é”®æ›´æ–°å®ƒä»¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/direct-list.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/direct-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/proxy-list.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/proxy-list.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/CN-ip-cidr.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/CN-ip-cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/ad-domains.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://anti-ad.net/domains.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl --resolve core.telegram.org:443:&lt;span class="sb">`&lt;/span>nslookup -port&lt;span class="o">=&lt;/span>&lt;span class="m">5335&lt;/span> core.telegram.org 192.168.6.1 &lt;span class="p">|&lt;/span> grep &lt;span class="m">198&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span> -f2 &lt;span class="p">|&lt;/span> tr -d &lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span> -o &lt;span class="s2">&amp;#34;/etc/mosdns/data/telegram-cidr.txt&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;https://core.telegram.org/resources/cidr.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/mosdns restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºæŸä¸ªåœ°å€éœ€è¦å°çŒ«æ‰èƒ½è®¿é—®ï¼ŒåŒæ—¶æˆ‘ä»¬æ²¡æœ‰åŠ«æŒè·¯ç”±å™¨çš„dnsæŸ¥è¯¢ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ‰‹åŠ¨æŸ¥ä¸€ä¸‹ipå†ä¸‹è½½ã€‚&lt;/p>
&lt;h2 id="åè®°">&lt;a href="#%e5%90%8e%e8%ae%b0" class="header-anchor">&lt;/a>åè®°
&lt;/h2>&lt;p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤§å·¥ç¨‹äº†ï¼Œå‰å‰ååä¹ŸèŠ±äº†å¥½å¤šå¤©ï¼Œä¸è¿‡åšå®Œåä½¿ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ»‘å’Œé¡ºç•…çš„ï¼Œæœ€é‡è¦çš„æ˜¯è‡ªå·±æŠ˜è…¾å‡ºæ¥è¿™æ˜¯åœ¨æ˜¯å¤ªé…·äº†ğŸ¤“ã€‚è¿™é‡Œè¿˜æ˜¯è¦æ„Ÿè°¢æ–¹æ¡ˆçš„åŸä½œè€…å’Œå¼€æºé¡¹ç›®ä½œè€…ï¼Œæˆ‘ä»ä¸­å­¦åˆ°äº†è®¸å¤šğŸ™ã€‚&lt;/p>
&lt;h2 id="åç»­æ›´æ–°">&lt;a href="#%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0" class="header-anchor">&lt;/a>åç»­æ›´æ–°
&lt;/h2>&lt;h3 id="20240829">&lt;a href="#20240829" class="header-anchor">&lt;/a>2024.08.29
&lt;/h3>&lt;p>åœ¨ä½¿ç”¨æ—¶ï¼Œä¼šå‘ç°Google Playå•†åº—ä¸èƒ½æ­£å¸¸ä¸‹è½½æˆ–æ›´æ–°åº”ç”¨ã€‚åœ¨&lt;a class="link" href="https://www.yetpage.com/archives/278" target="_blank" rel="noopener"
>ã€Šå¤§é™†ç”¨æˆ· Google Play å•†åº—æ— æ³•ä¸‹è½½æˆ–æ›´æ–°åº”ç”¨çš„åŸå› åˆ†æä¸è§£å†³åŠæ³•ã€‹&lt;/a>è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…æŒ‡å‡ºäº†è¿™æ˜¯ç”±äºå›½å†…ç‰ˆå•†åº—çš„apiè¯·æ±‚é“¾æ¥å’Œä¸‹è½½é“¾æ¥åˆ†åˆ«é€šè¿‡ç›´è¿å’Œä»£ç†å¯¼è‡´çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆå°±æ˜¯è®©è¯·æ±‚éƒ½ä»ä»£ç†å‡ºå»ã€‚&lt;/p>
&lt;p>å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸‹é¢è¿™å‡ ä¸ªåŸŸåæ·»åŠ åˆ°ä»£ç†è§„åˆ™ä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">domain:googleapis.cn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">domain:googleapis.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">domain:xn--ngstr-lra8j.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Mosdns&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>åœ¨&lt;code>è§„åˆ™åˆ—è¡¨&lt;/code>-&lt;code>ç°åå•&lt;/code>ä¸­æ·»åŠ ä¸Šé¢çš„åŸŸå&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å°çŒ«&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>åœ¨&lt;code>è¦†å†™è®¾ç½®&lt;/code>-&lt;code>è§„åˆ™è®¾ç½®&lt;/code>-&lt;code>è‡ªå®šä¹‰è§„åˆ™&lt;/code>ä¸­æ·»åŠ ä¸‹é¢çš„åˆ†æµè§„åˆ™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rules:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Google Play
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,googleapis.cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,googleapis.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸çš„ä½¿ç”¨Playå•†åº—äº†&lt;/p>
&lt;h3 id="20240926">&lt;a href="#20240926" class="header-anchor">&lt;/a>2024.09.26
&lt;/h3>&lt;p>å°†è·¯ç”±å™¨åˆ·åˆ°äº†æœ€æ–°çš„immortalWrtï¼Œé˜²ç«å¢™ä»iptableså‡çº§åˆ°äº†nftablesï¼Œæ‰€ä»¥åŸæ¥çš„å‘½ä»¤ä¸èƒ½ç”¨äº†ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„å‘½ä»¤ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨WireGuard+ipv6è¿›è¡Œå¼‚åœ°ç»„ç½‘</title><link>https://lbqaq.top/p/wireguard-ipv6/</link><pubDate>Sat, 03 Feb 2024 23:00:08 +0800</pubDate><guid>https://lbqaq.top/p/wireguard-ipv6/</guid><description>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/104589070.webp" alt="Featured image of post ä½¿ç”¨WireGuard+ipv6è¿›è¡Œå¼‚åœ°ç»„ç½‘" />&lt;p>æ”¾å‡å›å®¶ï¼Œæ‰‹é‡Œåªæœ‰æ€§èƒ½å­±å¼±çš„è½»è–„æœ¬ï¼Œç”¨å®ƒè·‘ä¸ªå®éªŒæˆ–è€…æ˜¯æ‰“ä¸ªæ¸¸æˆå®åœ¨æ˜¯å¤ªéš¾ä¸ºå®ƒäº†ã€‚äºæ˜¯ï¼Œè¿œç¨‹åˆ°å®éªŒå®¤çš„é«˜æ€§èƒ½ä¸»æœºä¾¿æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©ã€‚ä¸è¿‡ï¼Œå’Œä¹‹å‰åœ¨å®¿èˆå±€åŸŸç½‘ä¸²æµä¸ä¸€æ ·ï¼Œå®¶é‡Œå’Œå®éªŒå®¤å±äºä¸åŒçš„å±€åŸŸç½‘ï¼Œä¹‹é—´æ— æ³•ç›¸äº’è¿æ¥ã€‚&lt;/p>
&lt;p>åœ¨ä¹‹å‰&lt;a class="link" href="https://lbqaq.top/p/ax6000/#%E9%85%8D%E7%BD%AEwireguard" target="_blank" rel="noopener"
>é…ç½®å®éªŒå®¤è·¯ç”±å™¨&lt;/a>æ—¶ï¼Œæˆ‘å·²ç»é…ç½®è¿‡äº†WireGuardã€‚é€šè¿‡åœ¨ç”µè„‘ä¸Šå®‰è£…WireGuardï¼Œæ¯æ¬¡å¼€æœºæ—¶å¯åŠ¨ä¸€ä¸‹å°±å¯ä»¥è¿å…¥å®éªŒå®¤çš„å±€åŸŸç½‘äº†ã€‚ä¼¼ä¹è¿™æ ·å·²ç»å¯ä»¥äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘æƒ³åœ¨å…¶ä»–è®¾å¤‡ä¸Šè®¿é—®å®éªŒå®¤ï¼Œå°±è¦é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œè¿™å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†ã€‚åŒæ—¶ï¼Œå®éªŒå®¤æƒ³è¦è®¿é—®ä½äºå®¶é‡Œçš„è®¾å¤‡ä¹Ÿæ— æ³•å®ç°ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œæˆ‘å†³å®šé€šè¿‡æŠ˜è…¾ä¸€æ³¢è·¯ç”±å™¨ï¼Œæ¥å®ç°æ— æ„ŸçŸ¥çš„å¼‚åœ°ç»„ç½‘ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>2å°åˆ·å¥½OpenWrtçš„è·¯ç”±å™¨ï¼Œå¹¶ä¿è¯æ‹¥æœ‰WireGuardåŒ…&lt;/p>
&lt;p>å¦‚æœä½ çš„å›ºä»¶é‡Œæ²¡æœ‰é¢„è£…WireGuardï¼Œå¯ä»¥é€‰æ‹©æ‰‹åŠ¨ç¼–è¯‘ï¼Œå°±åƒæˆ‘è¿™ç¯‡æ–‡ç« ä¸€æ ·ï¼ˆè¿˜æ²¡å†™ğŸ•Šï¸ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>2å°è·¯ç”±å™¨å‡æ‹¥æœ‰å…¬ç½‘ipv6åœ°å€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸€ä¸ªåŸŸåï¼Œç”¨æ¥åšddns&lt;/p>
&lt;p>å¦‚ä½•é…ç½®ddnsä¸æ˜¯æœ¬ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« æˆ–è€…ç™¾åº¦ä¸€ä¸‹&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬é¦–å…ˆè®¾è®¡ä¸€ä¸‹ç½‘ç»œæ‹“æ‰‘ï¼Œå…¶ä¸­å®éªŒå®¤çš„ipæ®µä¸º&lt;code>192.168.6.0/24&lt;/code>ï¼Œå®¶é‡Œçš„ipæ®µä¸º&lt;code>192.168.10.0/24&lt;/code>ã€‚æˆ‘è¿™é‡Œé€‰å–&lt;code>192.168.100.0/24&lt;/code>ä¸ºWireGuradçš„è™šæ‹Ÿå±€åŸŸç½‘ç½‘æ®µï¼Œå¹¶åˆ†åˆ«ç»™å®¶ä¸­å’Œå®éªŒå®¤è·¯ç”±å™¨åˆ†é…&lt;code>192.168.100.100/32&lt;/code>å’Œ&lt;code>192.168.100.1/32&lt;/code>ä¸¤ä¸ªåœ°å€ã€‚ä¸ºäº†æ¥ä¸‹æ¥ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘å»ºè®®ç”¨è¡¨æ ¼æ•´ç†ä¸€ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">&lt;/th>
&lt;th style="text-align: center">å®éªŒå®¤&lt;/th>
&lt;th style="text-align: center">å®¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">å±€åŸŸç½‘æ®µ&lt;/td>
&lt;td style="text-align: center">192.168.6.0/24&lt;/td>
&lt;td style="text-align: center">192.168.10.0/24&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ddnsåœ°å€&lt;/td>
&lt;td style="text-align: center">school.example.com&lt;/td>
&lt;td style="text-align: center">home.example.com&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradæ¥å£ipåœ°å€&lt;/td>
&lt;td style="text-align: center">192.168.100.1/32&lt;/td>
&lt;td style="text-align: center">192.168.100.100/32&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å…·ä½“æ“ä½œ">&lt;a href="#%e5%85%b7%e4%bd%93%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>å…·ä½“æ“ä½œ
&lt;/h2>&lt;h3 id="æ¥å£é…ç½®">&lt;a href="#%e6%8e%a5%e5%8f%a3%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>æ¥å£é…ç½®
&lt;/h3>&lt;p>æˆ‘ä»¬é¦–å…ˆä»å®éªŒå®¤çš„è·¯ç”±å™¨å¼€å§‹é…ç½®ã€‚ç™»å…¥OpenWrtåå°ï¼Œä¾æ¬¡ç‚¹å‡»ç½‘ç»œâ€”â€”æ¥å£â€”â€”æ·»åŠ æ–°æ¥å£ï¼Œé€‰æ‹©åè®®ä¸º&lt;code>WireGuard VPN&lt;/code>ï¼Œåç§°è¿™é‡Œéšæ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/1.png"
width="698"
height="241"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/1_hu_53b3b15b32bbb04.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/1_hu_4f127e7470372986.png 1024w"
loading="lazy"
alt="æ·»åŠ æ–°æ¥å£"
class="gallery-image"
data-flex-grow="289"
data-flex-basis="695px"
>&lt;/p>
&lt;p>æ¥ç€å¼€å§‹è¿›è¡Œè¯¦ç»†çš„é…ç½®&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/2.png"
width="805"
height="788"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/2_hu_7838dc690eb0e131.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/2_hu_738f92cb3b8d01a4.png 1024w"
loading="lazy"
alt="æ¥å£è¯¦ç»†é…ç½®"
class="gallery-image"
data-flex-grow="102"
data-flex-basis="245px"
>&lt;/p>
&lt;p>è¿™é‡Œçš„ç›‘å¬ç«¯å£æŒ‰ç…§ä¸ªäººå–œå¥½è‡ªå·±æŒ‡å®šå³å¯ï¼Œä¸ºäº†æ¼”ç¤ºæˆ‘åˆ†åˆ«æŒ‡å®šç«¯å£å·ä¸º&lt;code>6789&lt;/code>å’Œ&lt;code>7890&lt;/code>ã€‚&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°è¾ƒæ–°çš„OpenWrtè¿™é‡Œæ˜¯æœ‰ç”Ÿæˆå¯†é’¥çš„é€‰é¡¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç”¨å‘½ä»¤è¡Œæ¥ç”Ÿæˆå¯†é’¥å¯¹ï¼Œä¸è¿‡æˆ‘è¿™ä¸ªç‰ˆæœ¬ç¼ºå°‘å…¬é’¥çš„æ¡†ï¼Œå¦‚æœæƒ³æŸ¥çœ‹å…¬é’¥çš„è¯ï¼Œè¦åˆ°çŠ¶æ€â€”â€”WireGuardé‡Œå»æŸ¥çœ‹ã€‚æ‰€ä»¥æˆ‘å»ºè®®è¿˜æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œé¢„å…ˆç”Ÿæˆå¥½å…¬ç§é’¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºå…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆé¢„å…±äº«å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genpsk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤æ¬¡å…¬ç§é’¥ï¼Œé¢„å…±äº«å¯†é’¥æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥åªéœ€åˆ›å»ºä¸€æ¬¡å³å¯ï¼Œä¸ºäº†ä¾¿äºä¹‹åçš„æ“ä½œï¼Œæˆ‘ä»¬å°†å…¶å­˜æ”¾åˆ°ä¸Šæ–‡åˆ—å¥½çš„è¡¨ä¸­ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">&lt;/th>
&lt;th style="text-align: center">å®éªŒå®¤&lt;/th>
&lt;th style="text-align: center">å®¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">å±€åŸŸç½‘æ®µ&lt;/td>
&lt;td style="text-align: center">192.168.6.0/24&lt;/td>
&lt;td style="text-align: center">192.168.10.0/24&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ddnsåœ°å€&lt;/td>
&lt;td style="text-align: center">school.example.com&lt;/td>
&lt;td style="text-align: center">home.example.com&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradæ¥å£ipåœ°å€&lt;/td>
&lt;td style="text-align: center">192.168.100.1/32&lt;/td>
&lt;td style="text-align: center">192.168.100.100/32&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">ç›‘å¬ç«¯å£&lt;/td>
&lt;td style="text-align: center">6789&lt;/td>
&lt;td style="text-align: center">7890&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradå…¬é’¥&lt;/td>
&lt;td style="text-align: center">YJF1c//jJ0K2HSZ+yNqfjBfJL6Z90lyfVCyML8To1lI=&lt;/td>
&lt;td style="text-align: center">Q/gtGW5xBK5sEgPTrSo3CWqGOv3SYhzkqw8CBOJ3ZHs=&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WireGuradç§é’¥&lt;/td>
&lt;td style="text-align: center">0MyNAHWVI0owbbZ3Et9gWtNFSVWiOqiHHYJAj86Wq0E=&lt;/td>
&lt;td style="text-align: center">eKGSiCzaVi9IHfDLv4atx//wE8LGCR2xWAwc3XBw9kg=&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">é¢„å…±äº«å¯†é’¥&lt;/td>
&lt;td style="text-align: center">OQrD6nvzMGQklARhwwhlrinFiumrGe2SIBxcRSOuIEo=&lt;/td>
&lt;td style="text-align: center">åŒå·¦&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>&lt;strong>ç‰¹åˆ«æ³¨æ„&lt;/strong>&lt;/p>
&lt;p>ç§é’¥å’Œé¢„å…±äº«å¯†é’¥å°±åƒå¯†ç ä¸€æ ·ï¼Œä¸è¦è½»æ˜“æ³„éœ²ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æ¼”ç¤ºç”¨æ‰å±•ç¤ºå‡ºæ¥ã€‚&lt;/p>&lt;/div>
&lt;p>æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾çš„å°†å‰å›¾ä¸­çš„é…ç½®å¡«å¥½äº†ï¼Œä¸è¦å‹¾é€‰æ— ä¸»æœºè·¯ç”±ã€‚&lt;/p>
&lt;p>ä¹‹åæˆ‘ä»¬è¦é…ç½®å¯¹ç«¯&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/3.png"
width="1042"
height="870"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/3_hu_2ab2cdb953ce9df0.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/3_hu_db8112180e8f3abb.png 1024w"
loading="lazy"
alt="å¯¹ç«¯é…ç½®"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;p>æœ‰äº†ä¹‹å‰çš„è¡¨æ ¼ï¼Œè¿™é‡Œçš„å†…å®¹å°±å¾ˆç®€å•äº†ã€‚ç›´æ¥åç€å†™å°±å¥½äº†ã€‚æˆ‘è¿™é‡Œæ˜¯å®éªŒå®¤æ‰€ä»¥å°±å¯¹ç€å®¶çš„é‚£ä¸€åˆ—ä¾æ¬¡å¾€é‡Œé¢å¡«å³å¯ã€‚&lt;/p>
&lt;ul>
&lt;li>å…è®¸çš„IPæˆ‘ä»¬ç›´æ¥æ·»åŠ ä¸¤æ¡ï¼Œåˆ†åˆ«æ˜¯å¯¹æ–¹çš„å±€åŸŸç½‘æ®µå’Œæ¥å£ipåœ°å€ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œå°±å¡«&lt;code>192.168.10.0/24&lt;/code>å’Œ&lt;code>192.168.100.100/32&lt;/code>å³å¯ã€‚&lt;/li>
&lt;li>å‹¾é€‰è·¯ç”±å…è®¸çš„IP&lt;/li>
&lt;li>ç«¯ç‚¹ä¸»æœºå’Œç«¯å£åˆ†åˆ«å¡«å†™ddnsåœ°å€å’Œç›‘å¬ç«¯å£ã€‚&lt;/li>
&lt;li>Keep-Aliveä½¿ç”¨é»˜è®¤å€¼25å³å¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>è¿™æ ·æˆ‘ä»¬çš„WireGuardå°±ç®—é…ç½®å¥½äº†ã€‚&lt;/p>
&lt;h3 id="é˜²ç«å¢™é…ç½®">&lt;a href="#%e9%98%b2%e7%81%ab%e5%a2%99%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é˜²ç«å¢™é…ç½®
&lt;/h3>&lt;p>ä¾æ¬¡ç‚¹å‡»ç½‘ç»œâ€”â€”é˜²ç«å¢™ï¼Œé€‰æ‹©æ·»åŠ ã€‚&lt;/p>
&lt;p>è¿™é‡Œå¤§éƒ¨åˆ†äººï¼ˆåŒ…æ‹¬ä¹‹å‰çš„æˆ‘ï¼‰ä¼šè¯´ç›´æ¥å°†WireGuardæ¥å£æ”¾å…¥LANä¸­ï¼Œä¸è¿‡è¿™æ ·è¿˜æ˜¯ä¸å¤ªä¼˜é›…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªæ–°åŒºåŸŸã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/4.png"
width="1700"
height="845"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/4_hu_a4d8298fc44bd5ac.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/4_hu_cb62f3d86f398bd.png 1024w"
loading="lazy"
alt="é˜²ç«å¢™é…ç½®"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="482px"
>&lt;/p>
&lt;ul>
&lt;li>å‡ºç«™ã€å…¥ç«™ã€è½¬å‘å‡ä¸ºå…è®¸&lt;/li>
&lt;li>å‹¾é€‰MSS é’³åˆ¶ï¼šè¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢å†…ç½‘MTUè¿‡å¤§å¯¼è‡´WireGuardæ•ˆç‡é™ä½&lt;/li>
&lt;li>æ¶µç›–çš„ç½‘ç»œä¸ºä¹‹å‰åˆ›å»ºçš„æ¥å£&lt;/li>
&lt;li>å…è®¸è½¬å‘åˆ°ç›®æ ‡åŒºåŸŸå’Œå…è®¸æ¥è‡ªæºåŒºåŸŸçš„è½¬å‘éƒ½é€‰æ‹©LAN&lt;/li>
&lt;/ul>
&lt;p>ä¿å­˜åé€‰æ‹©ä¸Šé¢çš„é€šä¿¡è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦å¼€å¯è·¯ç”±å™¨ä¸Šçš„ç«¯å£&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wireguard-ipv6/IMAGE/5.png"
width="709"
height="642"
srcset="https://lbqaq.top/p/wireguard-ipv6/IMAGE/5_hu_bfdf419a8159e588.png 480w, https://lbqaq.top/p/wireguard-ipv6/IMAGE/5_hu_58611f170f28856.png 1024w"
loading="lazy"
alt="è·¯ç”±ç«¯å£é…ç½®"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
>&lt;/p>
&lt;p>ç”±äºWireGuardæ˜¯åŸºäºUDPçš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¾è¡ŒUDPæµé‡å³å¯ã€‚ç«¯å£ä¸ºä¹‹å‰è¡¨ä¸­å¡«å†™çš„ã€‚&lt;/p>
&lt;p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„é…ç½®å°±ç®—å®Œæˆäº†ï¼Œå¦ä¸€å°è·¯ç”±å™¨ä¹Ÿæ˜¯åŒæ ·çš„é…ç½®æ–¹æ³•ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚&lt;/p>
&lt;h2 id="è¸©å‘å’Œä¸€äº›æ³¨æ„äº‹é¡¹">&lt;a href="#%e8%b8%a9%e5%9d%91%e5%92%8c%e4%b8%80%e4%ba%9b%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" class="header-anchor">&lt;/a>è¸©å‘å’Œä¸€äº›æ³¨æ„äº‹é¡¹
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>ä¸¤ç«¯éƒ½è¦é…ç½®ç«¯ç‚¹ä¸»æœº&lt;/p>
&lt;p>WireGuardæŒ‰åŸç†æ¥è¯´ï¼Œåªè¦ä¸€æ–¹å‘èµ·æ¡æ‰‹å³å¯ç›¸äº’é€šä¿¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åªé…ç½®ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè®©å®ƒå‘èµ·æ¡æ‰‹ã€‚ä¸è¿‡æˆ‘å°è¯•åå‘ç°è¿™æ ·ä¼šå¯¼è‡´åªæœ‰å‘èµ·æ¡æ‰‹çš„è·¯ç”±å™¨å¯ä»¥è¿åˆ°å¯¹ç«¯ï¼Œä¸‹é¢çš„è®¾å¤‡å°±æ— æ³•è¿æ¥ï¼Œè¢«æ¡æ‰‹çš„è·¯ç”±å™¨ä¹Ÿæ— æ³•pingé€šå‘èµ·æ¡æ‰‹çš„è·¯ç”±å™¨ã€‚ï¼ˆğŸ¤”éš¾é“æ˜¯å› ä¸ºè¢«æ¡æ‰‹çš„è·¯ç”±å™¨ä¸­æ²¡æœ‰è‡ªåŠ¨é…ç½®å¥½è·¯ç”±è¡¨å—ï¼Ÿï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>WireGuardé…ç½®å¥½åéœ€è¦é‡å¯ç«¯å£æ‰èƒ½ç”Ÿæ•ˆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ddnså˜åŠ¨åï¼ŒWireGuardåªä¼šå°è¯•è¿æ¥ä¹‹å‰çš„åœ°å€è€Œä¸ä¼šé‡æ–°è§£æ&lt;/p>
&lt;p>å¯èƒ½æ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘å§ï¼Œè¿™æ ·åªèƒ½æ‰‹åŠ¨é‡å¯ç«¯å£æ¥è®©å…¶é‡æ–°è§£æï¼Œè¿˜æœ‰å…¶ä»–è‡ªåŠ¨åŒ–çš„æ–¹æ³•ä¸è¿‡æˆ‘å°±æ²¡æœ‰ç ”ç©¶äº†&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1r3411G796" target="_blank" rel="noopener"
>ã€è€æ¹¿åŸºã€‘WireGuard å¼‚åœ°ç»„ç½‘æ‰‹æŠŠæ‰‹æ•™å­¦ | ä»å…¥é—¨åˆ°ç²¾é€š | å±€åŸŸç½‘èåˆ_å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>çº¢ç±³AX6000æŠ˜è…¾è®°</title><link>https://lbqaq.top/p/ax6000/</link><pubDate>Sat, 21 Oct 2023 21:36:58 +0800</pubDate><guid>https://lbqaq.top/p/ax6000/</guid><description>&lt;img src="https://lbqaq.top/p/ax6000/112545261.webp" alt="Featured image of post çº¢ç±³AX6000æŠ˜è…¾è®°" />&lt;h2 id="èµ·å› ">&lt;a href="#%e8%b5%b7%e5%9b%a0" class="header-anchor">&lt;/a>èµ·å› 
&lt;/h2>&lt;p>ç”±äºå®éªŒå®¤çš„ç½‘çº¿å£è¿‡äºç¨€å°‘ä¸”ç¦»æˆ‘è·ç¦»å¤ªè¿œï¼Œå­¦æ ¡çš„WIFIåˆæ˜¯WIFI5ï¼Œå¹³æ—¶æœ€å¤šåªèƒ½è·‘åˆ°30MB/sã€‚ä½†æˆ‘çš„ç¬”è®°æœ¬æ”¯æŒWIFi6ï¼Œå­¦æ ¡åˆæ˜¯åƒå…†ç½‘ã€‚ä¸¤æ¡åŸå› ä¸€å åŠ ï¼Œé‚£å°±ç›´æ¥ä¸ŠWIFI6çš„è·¯ç”±å™¨å§ã€‚é¦–è¦çš„é€‰æ‹©æ¡ä»¶å°±æ˜¯æ”¯æŒåˆ·æœºï¼Œåœ¨æ©å±±ä¸Šé€›äº†ä¸€é˜µå­ï¼Œå°±å†³å®šå…¥æ‰‹çº¢ç±³çš„AX6000ã€‚å¯è§£é”ã€æœ‰ç¬¬ä¸‰æ–¹å›ºä»¶ã€512MBå†…å­˜ã€‚ç‰¹åˆ«æ˜¯è¿™512MBå†…å­˜ï¼Œæ¯”èµ·æˆ‘ä¹‹å‰ç”¨çš„çº¢ç±³AC2100ï¼Œç›´æ¥ç¿»äº†4å€ï¼Œç›¸è¾ƒäºåŸæ¥éšä¾¿å¼€ä¸ªæ’ä»¶å°±æ²¡æœ‰å†…å­˜çš„æƒ…å†µï¼Œç›´æ¥èµ·é£å¥½å§ğŸ˜ã€‚&lt;/p>
&lt;h2 id="æˆæœ">&lt;a href="#%e6%88%90%e6%9e%9c" class="header-anchor">&lt;/a>æˆæœ
&lt;/h2>&lt;p>å…ˆæ¥ä¸€æ‰‹å€’åº(æ¯•ç«Ÿé…ç½®çš„è¿‡ç¨‹æ¯”è¾ƒæ— èŠğŸ˜‡ã€‚ä½¿ç”¨å—äº¬å¤§å­¦æµ‹é€Ÿç«™è¿›è¡Œæµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°ç½‘é€Ÿç›´æ¥æ‹‰æ»¡ï¼Œä¸‹è½½ä¸œè¥¿çš„æ—¶å€™ç»ˆäºä¸ç”¨ç­‰é‚£ä¹ˆä¹…äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506.png"
width="564"
height="335"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506_hu_6915e9da78c79fac.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021190205506_hu_119274955b3a2e6a.png 1024w"
loading="lazy"
alt="å­¦æ ¡WIFIæµ‹è¯•"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="404px"
> &lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644.png"
width="641"
height="351"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644_hu_61ee69c866462efa.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021190046644_hu_890f3f4025fa58ea.png 1024w"
loading="lazy"
alt="AX6000æµ‹é€Ÿ"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="438px"
>&lt;/p>
&lt;p>å†åŠ ä¸Šå„ç§æ’ä»¶ï¼ŒçœŸçš„å¾ˆèˆ’é€‚ğŸ¤¤ï¼Œä¸Šç½‘ä½“éªŒç›´æ¥æ‹‰æ»¡ã€‚ä¸‹é¢å°±æ˜¯å°†ç›¸å…³çš„é…ç½®è¿‡ç¨‹åšä¸ªè®°å½•ã€‚&lt;/p>
&lt;h2 id="é…ç½®">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é…ç½®
&lt;/h2>&lt;h3 id="è§£é”ä¸åˆ·æœº">&lt;a href="#%e8%a7%a3%e9%94%81%e4%b8%8e%e5%88%b7%e6%9c%ba" class="header-anchor">&lt;/a>è§£é”ä¸åˆ·æœº
&lt;/h3>&lt;p>è¿™é‡Œå¯ä»¥å‚è€ƒBç«™å¤§ä½¬çš„è§†é¢‘&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼Œæ­¥éª¤éå¸¸è¯¦ç»†ï¼Œç›´æ¥è·Ÿç€åšå°±å¥½äº†ã€‚ä¸ºäº†å¤‡å¿˜ï¼Œæˆ‘è¿™é‡Œå†ç®€å•æŠŠæ­¥éª¤å†™ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>é«˜ç‰ˆæœ¬çš„ç³»ç»Ÿå·²ç»å°å µäº†è§£é”çš„æ¼æ´ï¼Œæˆ‘ä»¬è¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯ä½¿ç”¨å°ç±³ä¿®å¤å·¥å…·è¿›è¡Œé™çº§ã€‚&lt;/p>
&lt;p>ä¹‹åè¿›å…¥ç®¡ç†ç•Œé¢å¹¶ç™»å½•ï¼Œæ­¤æ—¶åœ°å€æ ¼å¼ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">http://192.168.31.15/cgi-bin/luci/;stok=030b24d39b1a4a549aa12dac23c52313/web/home#router
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å°†&lt;code>/web/home#router&lt;/code>åˆ é™¤ï¼Œå¹¶åŠ ä¸Šä¸‹é¢ä¸€æ®µï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3B%20zz%3D%24%28dd%20if%3D%2Fdev%2Fzero%20bs%3D1%20count%3D2%202%3E%2Fdev%2Fnull%29%20%3B%20printf%20%27%A5%5A%25c%25c%27%20%24zz%20%24zz%20%7C%20mtd%20write%20-%20crash%20%3B%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å³è¿æ¥åº”è¯¥ä¸º&lt;code>http://192.168.31.15/cgi-bin/luci/;stok=030b24d39b1a4a549aa12dac23c52313/api/......&lt;/code>&lt;/p>
&lt;p>å›è½¦è®¿é—®ï¼Œæ˜¾ç¤º&lt;code>{&amp;quot;code&amp;quot;:0}&lt;/code>è¡¨ç¤ºæˆåŠŸ&lt;/p>
&lt;p>åŒç†ï¼Œç»§ç»­æ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…é‡å¯å®Œæˆ&lt;/p>
&lt;p>ç™»å½•è·¯ç”±å™¨ï¼Œæ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3B%20bdata%20set%20telnet_en%3D1%20%3B%20bdata%20set%20ssh_en%3D1%20%3B%20bdata%20set%20uart_en%3D1%20%3B%20bdata%20commit%20%3B%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»§ç»­æ›¿æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…é‡å¯å®Œæˆ&lt;/p>
&lt;p>æ­¤æ—¶&lt;code>telnet&lt;/code>å·²ç»å¼€å¯ï¼Œè¿æ¥è¿›å…¥ï¼Œæ˜¾ç¤ºã€ARE U OKã€‘çš„ç•Œé¢ï¼Œè¡¨ç¤ºtelnetæˆåŠŸã€‚&lt;/p>
&lt;p>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å¼€å¯&lt;code>ssh&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">bdata &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bdata commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">ssh_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">telnet_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sed -i &lt;span class="s1">&amp;#39;s/channel=.*/channel=&amp;#34;debug&amp;#34;/g&amp;#39;&lt;/span> /etc/init.d/dropbear
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/dropbear restart
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> -e &lt;span class="s1">&amp;#39;admin\nadmin&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> passwd root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»§ç»­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œå…³é—­å¼€å‘è€…æ¨¡å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mtd erase crash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨sshè¿æ¥è¿›å…¥ï¼Œå°†&lt;code>xwrt&lt;/code>ç›®å½•é‡Œçš„&lt;code>stock-initramfs-factory.ubi&lt;/code>ä¼ å…¥&lt;code>tmp&lt;/code>ç›®å½•&lt;/p>
&lt;p>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿåˆ†åŒº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat /proc/cmdline
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºç±»ä¼¼è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">console=ttyS0,115200n1 loglevel=8 firmware=1 uart_en=1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬ä¸»è¦å…³æ³¨&lt;code>firmware=1&lt;/code>è¿™é¡¹&lt;/p>
&lt;p>å¦‚firmware=0è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_rootfs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_last_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys1_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys2_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ·å…¥å›ºä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ubiformat /dev/mtd9 -y -f /tmp/stock-initramfs-factory.ubi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚firmware=1è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">boot_wait&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">uart_en&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_rootfs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_last_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_boot_success&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys1_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram &lt;span class="nb">set&lt;/span> &lt;span class="nv">flag_try_sys2_failed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvram commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ·å…¥å›ºä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ubiformat /dev/mtd8 -y -f /tmp/stock-initramfs-factory.ubi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>rebooté‡å¯ å›ºä»¶åå°ï¼šhttp://192.168.15.1/ è´¦æˆ·å¯†ç ï¼šadmin/admin åœ¨åå°å‡çº§xwrtæ­£å¼å›ºä»¶&lt;/p>
&lt;p>è¿›å…¥xwrtæ­£å¼å›ºä»¶åå°â€”ç³»ç»Ÿâ€”ç®¡ç†æƒâ€”sshè®¿é—®â€”æ‰“å¼€å¯†ç éªŒè¯å’Œå…è®¸rootç”¨æˆ·å‡­å¯†ç ç™»å½•-ä¿å­˜å¹¶åº”ç”¨ã€‚ å†æ¬¡è¿æ¥SSHï¼ˆip192.168.15.1ç”¨æˆ·årootå¯†ç adminï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">fw_setenv boot_wait on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv uart_en &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_boot_rootfs &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_last_success &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_boot_success &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_try_sys1_failed &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fw_setenv flag_try_sys2_failed &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ·å…¥æœ€æ–°237å¤§ä½¬å›ºä»¶&lt;/p>
&lt;h3 id="åˆ·å…¥uboot">&lt;a href="#%e5%88%b7%e5%85%a5uboot" class="header-anchor">&lt;/a>åˆ·å…¥uboot
&lt;/h3>&lt;p>ä¹‹å‰åˆ·å…¥çš„å®˜æ–¹ç‰ˆçš„é•œåƒï¼Œè™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯ç”¨ç©ºé—´å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œä¸ºäº†æ¦¨å¹²å®ƒå…¨éƒ¨çš„æ€§èƒ½ï¼Œæˆ‘è¿˜æ˜¯å†³å®šåˆ·å…¥ç¬¬ä¸‰æ–¹ubootï¼Œå°†å®˜æ–¹åŸå§‹çš„ä¸‰ä¸ªåˆ†åŒºåˆå¹¶æˆä¸€ä¸ªå¤§åˆ†åŒºã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œåˆ·å…¥çš„hanwckfå¤§ä½¬åˆ¶ä½œçš„ubootï¼Œä»–æ”¯æŒå¤šåˆ†åŒºçš„åˆ‡æ¢ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚å…·ä½“çš„åŠŸèƒ½å’Œä¸‹è½½é“¾æ¥å¯ä»¥çœ‹å¤§ä½¬çš„åšå®¢â€”â€”&lt;a class="link" href="https://cmi.hanwckf.top/p/mt798x-uboot-usage/" target="_blank" rel="noopener"
>mt798x uboot åŠŸèƒ½ä»‹ç»&lt;/a>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä¹‹å‰åˆ·å…¥è¿‡237å¤§ä½¬çš„å›ºä»¶äº†ï¼Œæ‰€ä»¥FIPåˆ†åŒºå·²ç»è§£é”ï¼Œå¯ä»¥ç›´æ¥åˆ·ã€‚&lt;/p>
&lt;p>é¦–å…ˆè¦&lt;strong>å¤‡ä»½&lt;/strong>åŸå§‹çš„åˆ†åŒºï¼ŒåƒFactoryä¸ºæ— çº¿EEPROMåˆ†åŒºï¼›Bdataå­˜å‚¨ç€ä½ çš„SNå’ŒMACã€‚å¦‚æœæ²¡äº†åº”è¯¥æ˜¯æ— æ³•ä½¿ç”¨åˆ«äººçš„åˆ†åŒºæ¥ä½¿ç”¨çš„ã€‚æ‰€ä»¥ä¸€å®šè¦å¤‡ä»½å¥½ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨ddå‘½ä»¤å¤‡ä»½åˆ†åŒºåˆ°tmpæ–‡ä»¶å¤¹ï¼š&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd1 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd1_BL2.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd2 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd2_Nvram.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd3 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd3_Bdata.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd4 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd4_Factory.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mtd5 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/tmp/mtd5_FIP.bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åä½¿ç”¨WinSCPç­‰è½¯ä»¶å°†å¤‡ä»½çš„æ–‡ä»¶ä¸‹è½½åˆ°ç”µè„‘ä¸Šã€‚&lt;/p>
&lt;p>å¤‡ä»½å¥½åï¼Œå°±å¯ä»¥é€šè¿‡WinSCPå°†ubootæ–‡ä»¶ä¸Šä¼ åˆ°tmpç›®å½•ä¸‹ï¼Œå¹¶æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œåˆ·å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">d5sum /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mtd write /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin FIP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mtd verify /tmp/mt7986_redmi_ax6000-fip-fixed-parts-multi-layout.bin FIP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„å¯¹æ¯”md5çš„å€¼æ˜¯å¦ä¸€è‡´ã€‚æœ€åå¦‚æœæˆåŠŸåˆ™ä¼šè¾“å‡º&lt;code>Success&lt;/code>&lt;/p>
&lt;p>å°†è·¯ç”±å™¨æ–­ç”µï¼ŒæŒ‰ä½Reseté”®å¹¶é€šç”µï¼ŒæŒç»­æŒ‰ä½10Så³å¯è¿›å…¥ubootäº†ã€‚&lt;/p>
&lt;p>ç”±äºHå¤§çš„ubootæ²¡æœ‰é…ç½®DHCPï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ç”µè„‘ipï¼š&lt;/p>
&lt;ul>
&lt;li>IPåœ°å€ï¼š192.168.31.100&lt;/li>
&lt;li>å­ç½‘æ©ç ï¼š255.255.255.0&lt;/li>
&lt;li>é»˜è®¤ç½‘å…³ï¼š192.168.31.1&lt;/li>
&lt;li>DNSï¼š192.168.31.1&lt;/li>
&lt;/ul>
&lt;p>è®¿é—®192.168.31.1å³å¯è¿›å…¥ubooté¡µé¢ï¼Œè¿™æ—¶å°±å¯ä»¥åˆ·å…¥å¤§åˆ†åŒºçš„å›ºä»¶äº†&lt;/p>
&lt;h3 id="é…ç½®æ ¡å›­ç½‘è‡ªåŠ¨è¿æ¥">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%a0%a1%e5%9b%ad%e7%bd%91%e8%87%aa%e5%8a%a8%e8%bf%9e%e6%8e%a5" class="header-anchor">&lt;/a>é…ç½®æ ¡å›­ç½‘è‡ªåŠ¨è¿æ¥
&lt;/h3>&lt;p>åœ¨æˆ‘ä¹‹å‰ï¼Œå·²ç»æœ‰å¤§ä½¬é’ˆå¯¹æ ¡å›­ç½‘çš„ç™»å½•å†™äº†è‡ªåŠ¨åŒ–è„šæœ¬&lt;/p>
&lt;div class="github">
&lt;div class="logo">
&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 16 16">&lt;path fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C2 1.83696 2.26339 1.20107 2.73223 0.732233C3.20108 0.263392 3.83696 0 4.5 0L13.25 0C13.4489 0 13.6397 0.0790176 13.7803 0.21967C13.921 0.360322 14 0.551088 14 0.75V13.25C14 13.4489 13.921 13.6397 13.7803 13.7803C13.6397 13.921 13.4489 14 13.25 14H10.75C10.5511 14 10.3603 13.921 10.2197 13.7803C10.079 13.6397 10 13.4489 10 13.25C10 13.0511 10.079 12.8603 10.2197 12.7197C10.3603 12.579 10.5511 12.5 10.75 12.5H12.5V10.5H4.5C4.30308 10.5 4.11056 10.5582 3.94657 10.6672C3.78257 10.7762 3.65442 10.9312 3.57816 11.1128C3.50191 11.2943 3.48096 11.4943 3.51793 11.6878C3.5549 11.8812 3.64816 12.0594 3.786 12.2C3.92524 12.3422 4.0023 12.5338 4.00024 12.7328C3.99818 12.9318 3.91716 13.1218 3.775 13.261C3.63285 13.4002 3.4412 13.4773 3.24222 13.4752C3.04325 13.4732 2.85324 13.3922 2.714 13.25C2.25571 12.7829 1.99929 12.1544 2 11.5V2.5ZM12.5 1.5V9H4.5C4.144 9 3.806 9.074 3.5 9.208V2.5C3.5 2.23478 3.60536 1.98043 3.79289 1.79289C3.98043 1.60536 4.23478 1.5 4.5 1.5H12.5ZM5 12.25V15.5C5 15.5464 5.01293 15.5919 5.03734 15.6314C5.06175 15.6709 5.09667 15.7028 5.1382 15.7236C5.17972 15.7444 5.22621 15.7532 5.27245 15.749C5.31869 15.7448 5.36286 15.7279 5.4 15.7L6.85 14.613C6.89328 14.5805 6.94591 14.563 7 14.563C7.05409 14.563 7.10673 14.5805 7.15 14.613L8.6 15.7C8.63714 15.7279 8.68131 15.7448 8.72755 15.749C8.77379 15.7532 8.82028 15.7444 8.8618 15.7236C8.90333 15.7028 8.93826 15.6709 8.96266 15.6314C8.98707 15.5919 9 15.5464 9 15.5V12.25C9 12.1837 8.97366 12.1201 8.92678 12.0732C8.87989 12.0263 8.81631 12 8.75 12H5.25C5.1837 12 5.12011 12.0263 5.07322 12.0732C5.02634 12.1201 5 12.1837 5 12.25Z"/>&lt;/svg>
&lt;a class="name" href=https://github.com/TerraceCN/yzu-campusnet-login target="_blank">yzu-campusnet-login&lt;/a>
&lt;/div>
&lt;div class="visibility">public&lt;/div>
&lt;div class="description">æ ¡å›­ç½‘ç™»å½•å™¨&lt;/div>
&lt;div class="language">
&lt;span class="language-color" style="background-color: #3572A5">&lt;/span>
&lt;span class="language-name">Python&lt;/span>
&lt;/div>
&lt;/div>
&lt;p>ç„¶è€Œï¼Œè¿™å¹¶ä¸é€‚ç”¨æˆ‘çš„ç¯å¢ƒã€‚ç”±äºçº¢ç±³AX6000çš„å®˜æ–¹å¸ƒå±€é‡‡ç”¨äº†A/Båˆ†åŒºï¼Œå¯¼è‡´å¯ç”¨çš„è½¯ä»¶åŒ…åˆ†åŒºåªæœ‰20å¤šMBã€‚åœ¨è¿™ä¹ˆå°çš„ç©ºé—´ä¸­å®‰è£…ä¸ªPythonï¼Œå†åŠ ä¸Šå„ç§å„æ ·çš„åº“ï¼Œæƒ³æƒ³å°±å¯æ€•ã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œæˆ‘éœ€è¦ä½¿ç”¨ä¸€é—¨å¯ä»¥æ‰“åŒ…æˆå°ä½“ç§¯çš„è¯­è¨€æ¥é‡æ„æ­¤ç¨‹åºã€‚ä¸€å¼€å§‹ï¼Œæˆ‘æƒ³é€‰æ‹©C++ï¼Œä½†æ˜¯C++çš„ç½‘ç»œç¼–ç¨‹æˆ‘è¿˜æ²¡äº†è§£è¿‡ï¼Œæ­£åœ¨æˆ‘æ€è€ƒè¦ä¸è¦èŠ±äº›æ—¶é—´å­¦ä¹ ä¸€ä¸‹ï¼Œçªç„¶æƒ³åˆ°äº†æœ‰ä¸€é—¨è¯­è¨€å®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚â€”â€”Golangã€‚è·¨å¹³å°ã€æœ‰æ–¹ä¾¿çš„ç½‘ç»œåº“ï¼Œäºæ˜¯æˆ‘ä¾¿èŠ±äº†ä¸€å¤©æ—¶é—´å­¦ä¹ Goï¼ŒæˆåŠŸå°†å¤§ä½¬çš„ç¨‹åºé‡æ„äº†ï¼ˆæ­£å¥½å½“å­¦ä¹ Goè¯­è¨€çš„ç»ƒæ‰‹ç¨‹åºã€‚&lt;/p>
&lt;div class="github">
&lt;div class="logo">
&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 16 16">&lt;path fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C2 1.83696 2.26339 1.20107 2.73223 0.732233C3.20108 0.263392 3.83696 0 4.5 0L13.25 0C13.4489 0 13.6397 0.0790176 13.7803 0.21967C13.921 0.360322 14 0.551088 14 0.75V13.25C14 13.4489 13.921 13.6397 13.7803 13.7803C13.6397 13.921 13.4489 14 13.25 14H10.75C10.5511 14 10.3603 13.921 10.2197 13.7803C10.079 13.6397 10 13.4489 10 13.25C10 13.0511 10.079 12.8603 10.2197 12.7197C10.3603 12.579 10.5511 12.5 10.75 12.5H12.5V10.5H4.5C4.30308 10.5 4.11056 10.5582 3.94657 10.6672C3.78257 10.7762 3.65442 10.9312 3.57816 11.1128C3.50191 11.2943 3.48096 11.4943 3.51793 11.6878C3.5549 11.8812 3.64816 12.0594 3.786 12.2C3.92524 12.3422 4.0023 12.5338 4.00024 12.7328C3.99818 12.9318 3.91716 13.1218 3.775 13.261C3.63285 13.4002 3.4412 13.4773 3.24222 13.4752C3.04325 13.4732 2.85324 13.3922 2.714 13.25C2.25571 12.7829 1.99929 12.1544 2 11.5V2.5ZM12.5 1.5V9H4.5C4.144 9 3.806 9.074 3.5 9.208V2.5C3.5 2.23478 3.60536 1.98043 3.79289 1.79289C3.98043 1.60536 4.23478 1.5 4.5 1.5H12.5ZM5 12.25V15.5C5 15.5464 5.01293 15.5919 5.03734 15.6314C5.06175 15.6709 5.09667 15.7028 5.1382 15.7236C5.17972 15.7444 5.22621 15.7532 5.27245 15.749C5.31869 15.7448 5.36286 15.7279 5.4 15.7L6.85 14.613C6.89328 14.5805 6.94591 14.563 7 14.563C7.05409 14.563 7.10673 14.5805 7.15 14.613L8.6 15.7C8.63714 15.7279 8.68131 15.7448 8.72755 15.749C8.77379 15.7532 8.82028 15.7444 8.8618 15.7236C8.90333 15.7028 8.93826 15.6709 8.96266 15.6314C8.98707 15.5919 9 15.5464 9 15.5V12.25C9 12.1837 8.97366 12.1201 8.92678 12.0732C8.87989 12.0263 8.81631 12 8.75 12H5.25C5.1837 12 5.12011 12.0263 5.07322 12.0732C5.02634 12.1201 5 12.1837 5 12.25Z"/>&lt;/svg>
&lt;a class="name" href=https://github.com/luoboQAQ/yzu-campusnet-login target="_blank">yzu-campusnet-login&lt;/a>
&lt;/div>
&lt;div class="visibility">public&lt;/div>
&lt;div class="description">Goç‰ˆæœ¬çš„æ ¡å›­ç½‘ç™»å½•å™¨&lt;/div>
&lt;div class="language">
&lt;span class="language-color" style="background-color: #00ADD8">&lt;/span>
&lt;span class="language-name">Go&lt;/span>
&lt;/div>
&lt;/div>
&lt;p>ç›´æ¥å°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¼ å…¥åˆ°è·¯ç”±å™¨ä¸­ï¼Œå¹¶å†™å¥½é…ç½®æ–‡ä»¶ï¼Œä¹‹ååœ¨åå°â€”â€”â€œç³»ç»Ÿâ€â€”â€”â€œå¯åŠ¨é¡¹â€ä¸‹é¢çš„æœ¬åœ°å¯åŠ¨è„šæœ¬æ·»åŠ ä¸€æ¡è¿è¡Œå‘½ä»¤å°±å¯ä»¥å¼€æœºå¯åŠ¨äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /root/login &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> nohup ./YzuCampusnetLogin &amp;gt; /tmp/login.log 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®ipv6">&lt;a href="#%e9%85%8d%e7%bd%aeipv6" class="header-anchor">&lt;/a>é…ç½®ipv6
&lt;/h3>&lt;p>å­¦æ ¡çš„ipv6ä¸‹å‘çš„æ˜¯/64åœ°å€ï¼Œä¸€å¼€å§‹æˆ‘å‚è€ƒ&lt;a class="link" href="https://wjk.moe/2022/%E9%94%90%E6%8D%B7%E6%A0%A1%E5%9B%AD%E7%BD%91IPv6%E7%9A%84%EF%BC%8F64%E5%86%85%E7%BD%91%E4%B8%AD%E7%BB%A7%E9%85%8D%E7%BD%AE%EF%BC%9Andp-proxy%E3%80%81relay/" target="_blank" rel="noopener"
>è¿™ä¸ªå¤§ä½¬çš„æ•™ç¨‹&lt;/a>ï¼Œä½¿ç”¨å†…ç½‘ä¸­ç»§çš„æ–¹æ¡ˆæ¥å®ç°ipv6ã€‚ç„¶è€Œæ— è®ºæˆ‘æ€ä¹ˆé…ç½®ï¼Œéƒ½æ— æ³•è¿æ¥äº’è”ç½‘ã€‚æœ€åå‘ç°æ˜¯å­¦æ ¡ç½‘å…³å¯¹æ¯ä¸€ä¸ªipv6åœ°å€éƒ½ä¼šè¿›è¡Œç™»å½•çš„æ ¡éªŒï¼Œå¦‚æœæ²¡æœ‰ç™»å½•å°±ä¸ä¼šæ”¾è¡Œï¼Œé‚£è¿™æ¡è·¯ç®—æ˜¯å½»åº•å µæ­»äº†ğŸ˜¥ã€‚&lt;/p>
&lt;p>è¿™æ ·çš„è¯ï¼Œå°±åªèƒ½ä½¿ç”¨nat6äº†,è¯¦ç»†çš„æ­¥éª¤å¯ä»¥å‚è€ƒè¿™ç¯‡æ•™ç¨‹&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å°†æ¥å£â€”â€”LANâ€”â€”IPV6è®¾ç½®ä¸­çš„è·¯ç”±é€šå‘ŠæœåŠ¡é€‰ä¸ºâ€œæœåŠ¡å™¨æ¨¡å¼â€ã€DHCPv6 æœåŠ¡é€‰ä¸ºâ€œæœåŠ¡å™¨æ¨¡å¼â€ã€NDP ä»£ç†é€‰ä¸ºâ€œç¦ç”¨â€ã€DHCPv6 æ¨¡å¼é€‰ä¸ºâ€œæ— çŠ¶æ€çš„ + æœ‰çŠ¶æ€çš„â€ã€æ€»æ˜¯é€šå‘Šé»˜è®¤è·¯ç”±å‹¾ä¸Š&lt;/p>
&lt;p>ä½¿ç”¨sshè¿æ¥è·¯ç”±å™¨ï¼Œåœ¨&lt;code>/etc/init.d&lt;/code>ç›®å½•ä¸‹æ–°å»º&lt;code>nat6&lt;/code>å¹¶å¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;span class="lnt">97
&lt;/span>&lt;span class="lnt">98
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh /etc/rc.common
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># NAT6 init script for OpenWrt // Depends on package: kmod-ipt-nat6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># edited by Sad Pencil at 2020-02-09&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># replace route command with ip command to solve issues on new OpenWRT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># edited by Sad Pencil at 2021-11-29&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># update line WAN6_INTERFACE=$(uci get &amp;#34;network.$WAN6_NAME.device&amp;#34; || uci get &amp;#34;network.$WAN6_NAME.ifname&amp;#34;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">START&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">55&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Options&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Use temporary addresses (IPv6 privacy extensions) for outgoing connections? Yes: 1 / No: 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PRIVACY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Maximum number of attempts before this script will stop in case no IPv6 route is available&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This limits the execution time of the IPv6 route lookup to (MAX_TRIES+1)*(MAX_TRIES/2) seconds. The default (15) equals 120 seconds.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MAX_TRIES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">15&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># An initial delay (in seconds) helps to avoid looking for the IPv6 network too early. Ideally, the first probe is successful.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This would be the case if the time passed between the system log messages &amp;#34;Probing IPv6 route&amp;#34; and &amp;#34;Setting up NAT6&amp;#34; is 1 second.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DELAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Logical interface name of outbound IPv6 connection&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># There should be no need to modify this, unless you changed the default network interface names&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Edit by Vincent: I never changed my default network interface names, but still I have to change the WAN6_NAME to &amp;#34;wan&amp;#34; instead of &amp;#34;wan6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">WAN6_NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wan6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ---------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Options end here - no need to change anything below&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">boot&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[&lt;/span> &lt;span class="nv">$DELAY&lt;/span> -gt &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sleep &lt;span class="nv">$DELAY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">WAN6_INTERFACE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci get &lt;span class="s2">&amp;#34;network.&lt;/span>&lt;span class="nv">$WAN6_NAME&lt;/span>&lt;span class="s2">.ifname&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Probing IPv6 route&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">PROBE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">COUNT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$PROBE&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$COUNT&lt;/span> -gt &lt;span class="nv">$MAX_TRIES&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: No IPv6 route found (reached retry limit)&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="nv">$COUNT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">COUNT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$((&lt;/span>COUNT+1&lt;span class="k">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">PROBE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ip -6 route &lt;span class="p">|&lt;/span> grep -i &lt;span class="s1">&amp;#39;^default.*via&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -F &lt;span class="s2">&amp;#34;dev &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -o &lt;span class="s1">&amp;#39;via.*&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> wc -l&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Setting up NAT6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">[&lt;/span> ! -e &lt;span class="s2">&amp;#34;/sys/class/net/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: Lookup of &lt;/span>&lt;span class="nv">$WAN6_NAME&lt;/span>&lt;span class="s2"> interface failed. Were the default interface names changed?&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#WAN6_GATEWAY=$(ip -6 route | grep -o &amp;#39;2001.*1102&amp;#39; | sed s&amp;#39;/1102/1101::1/g&amp;#39;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">WAN6_GATEWAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ip -6 route &lt;span class="p">|&lt;/span> grep -i &lt;span class="s1">&amp;#39;^default.*via&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -F &lt;span class="s2">&amp;#34;dev &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -i -o &lt;span class="s1">&amp;#39;via.*&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">2&lt;/span> &lt;span class="p">|&lt;/span> head -n 1&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: No IPv6 gateway for &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> found&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">LAN_ULA_PREFIX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>uci get network.globals.ula_prefix&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -c -E &lt;span class="s2">&amp;#34;^([0-9a-fA-F]{4}):([0-9a-fA-F]{0,4}):&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span> -ne &lt;span class="m">1&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: IPv6 ULA prefix &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> seems invalid. Please verify that a prefix is set and valid.&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ip6tables -t nat -I POSTROUTING -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -o &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -j MASQUERADE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Added IPv6 masquerading rule to the firewall (Src: &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> - Dst: &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Fatal error: Failed to add IPv6 masquerading rule to the firewall (Src: &lt;/span>&lt;span class="nv">$LAN_ULA_PREFIX&lt;/span>&lt;span class="s2"> - Dst: &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">)&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ip -6 route add 2000::/3 via &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> dev &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Added &lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2"> to routing table as gateway on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> for outgoing connections&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to add &lt;/span>&lt;span class="nv">$WAN6_GATEWAY&lt;/span>&lt;span class="s2"> to routing table as gateway on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> for outgoing connections&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$PRIVACY&lt;/span> -eq &lt;span class="m">1&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="m">2&lt;/span> &amp;gt; &lt;span class="s2">&amp;#34;/proc/sys/net/ipv6/conf/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/accept_ra&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Accepting router advertisements on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> even if forwarding is enabled (required for temporary addresses)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to change router advertisements accept policy on &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2"> (required for temporary addresses)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="m">2&lt;/span> &amp;gt; &lt;span class="s2">&amp;#34;/proc/sys/net/ipv6/conf/&lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">/use_tempaddr&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Using temporary addresses for outgoing connections on interface &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> logger -t NAT6 &lt;span class="s2">&amp;#34;Error: Failed to enable temporary addresses for outgoing connections on interface &lt;/span>&lt;span class="nv">$WAN6_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿è„šæœ¬å¼€æœºè¿è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">chmod +x /etc/init.d/nat6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/nat6 &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹&lt;code>/etc/sysctl.conf&lt;/code>ï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.forwarding=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.forwarding=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.default.accept_ra=2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.accept_ra=2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€ååœ¨è‡ªå®šä¹‰é˜²ç«å¢™ä¸­æ·»åŠ ä¸€è¡Œå‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ip6tables -t nat -A POSTROUTING -o &lt;span class="k">$(&lt;/span>uci get network.wan6.ifname&lt;span class="k">)&lt;/span> -j MASQUERADE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºç¡¬ä»¶çš„BUGï¼Œè¿˜éœ€è¦åœ¨å¼€æœºè„šæœ¬é‡Œæ·»åŠ ä¸€æ¡å‘½ä»¤ï¼Œå…³é—­ipv6çš„ç¡¬ä»¶åŠ é€Ÿï¼Œä¸ç„¶é€Ÿåº¦å°±ä¼šå…¶æ…¢æ— æ¯”&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="m">0&lt;/span> &amp;gt; /sys/kernel/debug/hnat/hnat_setting
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆåé‡å¯å°±ä¼šå‘ç°æœ‰ipv6äº†&lt;/p>
&lt;p>ç„¶è€Œï¼Œåœ¨æˆ‘ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œå¼€å¯äº†ipv6åæ‰‹æœºæ‰“å¼€appæ—¶åŠ è½½çš„é€Ÿåº¦è‚‰çœ¼å¯è§çš„å˜æ…¢ã€‚ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯DNSçš„é—®é¢˜ï¼Œä½†ä¿®æ”¹äº†é»˜è®¤çš„DNSæœåŠ¡å™¨åè¿˜æ˜¯ä¸è¡Œã€‚&lt;del>ä¸ºäº†ä¿è¯ä½¿ç”¨çš„ä½“éªŒï¼Œç›®å‰æˆ‘è¿˜æ˜¯æŠŠnat6ç»™å…³é—­äº†ğŸ˜­ã€‚&lt;/del>&lt;/p>
&lt;p>å·²ç»æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆğŸ˜‰ï¼Œè§ä¸‹ä¸€èŠ‚&lt;/p>
&lt;h3 id="é…ç½®mosdns">&lt;a href="#%e9%85%8d%e7%bd%aemosdns" class="header-anchor">&lt;/a>é…ç½®mosdns
&lt;/h3>&lt;p>mosdnsä½œä¸ºä¸€æ¬¾è‡ªå®šä¹‰ç¨‹åº¦å¾ˆé«˜çš„DNSè½¬å‘å™¨ï¼Œåœ¨ä¹‹å‰çš„åšæ–‡&lt;a class="link" href="https://lbqaq.top/p/mydns/" target="_blank" rel="noopener"
>ã€Šè‡ªå»ºDNSå®ç°åˆ†æµåŠå¹¿å‘Šè¿‡æ»¤ã€‹&lt;/a>å°±å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä»–æ¥è§£å†³ipv6 NATåçš„å¡é¡¿é—®é¢˜ã€‚åŒæ—¶ï¼Œé…ç½®å¥½mosdnsåï¼Œä¹Ÿå¯ä»¥å®ç°å¹¿å‘Šè¿‡æ»¤ï¼Œdnsé˜²æ±¡æŸ“çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>å®‰è£…å¯ä»¥ä½¿ç”¨&lt;a class="link" href="https://github.com/sbwml/luci-app-mosdns" target="_blank" rel="noopener"
>luci-app-mosdns&lt;/a>è¿™ä¸ªé¡¹ç›®æ¥å®ç°ï¼Œç›´æ¥æ‰§è¡Œå®ƒçš„è„šæœ¬å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sh -c &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>curl -ksS https://raw.githubusercontent.com/sbwml/luci-app-mosdns/v5/install.sh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å’Œä¹‹å‰çš„æ–¹æ¡ˆä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦ä»¥ä¸‹é¡¹ç›®æä¾›çš„åŸŸå/IPæ–‡ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat#%e8%a7%84%e5%88%99%e6%96%87%e4%bb%b6%e4%b8%8b%e8%bd%bd%e5%8f%8a%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" target="_blank" rel="noopener"
>reject-list.txt å’Œ direct-list.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Masaiki/GeoIP2-CN#-%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5" target="_blank" rel="noopener"
>CN-ip-cidr.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://anti-ad.net/" target="_blank" rel="noopener"
>ad-domains.txt&lt;/a>ï¼šä¸‹è½½&lt;code>domains.txt&lt;/code>å¹¶æ”¹å&lt;/li>
&lt;/ul>
&lt;p>å…¶å®luci-app-mosdnsé»˜è®¤æä¾›äº†ä¸€å¥—é…ç½®ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ä½¿ç”¨mosdnsçš„ä¼˜å…ˆipv4çš„åŠŸèƒ½ï¼Œæ‰€ä»¥åªèƒ½è‡ªå·±æ’¸é…ç½®äº†ã€‚æ²¡é”™ï¼Œè§£å†³ipv6å¡é¡¿çš„æœ€å¥½æ–¹å¼å°±æ˜¯ä¸ç”¨ğŸ˜¥ï¼Œé€šè¿‡mosdnså¯ä»¥é¿å…æ“ä½œç³»ç»Ÿä½¿ç”¨ä¼˜å…ˆipv6çš„ç­–ç•¥ã€‚è¿™æ ·æ—¢å®ç°äº†ä¸å¡é¡¿ï¼Œåˆå¯ä»¥è®¿é—®çº¯ipv6ç½‘ç«™ã€‚&lt;/p>
&lt;p>è¿™å¥—é…ç½®å¯ä»¥å®ç°å±è”½å¹¿å‘Šï¼Œå›½å†…åŸŸåç”¨æœ¬åœ°DNSè§£æï¼Œå›½å¤–åŸŸåèµ°è¿œç¨‹DNSè§£æã€‚é‡åˆ°ä¸åœ¨åˆ—è¡¨ä¸­çš„åŸŸåï¼Œä¼šæŸ¥è¯¢æœ¬åœ°DNSï¼Œå¦‚æœè¿”å›çš„æ˜¯å›½å¤–åœ°å€ï¼Œåˆ™ä»¥è¿œç¨‹DNSçš„ç»“æœä¸ºå‡†ã€‚&lt;/p>
&lt;p>å…·ä½“çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Powered by luoboQAQ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">level&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">warn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/tmp/log/mosdns.log&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># API å…¥å£è®¾ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">api&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:9091&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">plugins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geosite_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/direct-list.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…IP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geoip_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ip_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/CN-ip-cidr.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å¤–åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">geosite_no_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/proxy-list.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># é»‘åå•åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">blocklist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/etc/mosdns/rule/blocklist.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¹¿å‘ŠåŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adlist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/mosdns/ad-domains.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># PTRé»‘åå•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ptr&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">domain_set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/etc/mosdns/rule/local-ptr.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ç¼“å­˜æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10240&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lazy_cache_ttl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">86400&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å°†ç¼“å­˜ä¿å­˜åœ¨ç£ç›˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dump_file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/tmp/mosdns/cache.dump&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³æœ¬åœ°æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">alidns_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dnspod_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://120.53.53.53&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³è¿œç¨‹æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># - tag: easymosdns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># addr: &amp;#34;https://doh.apad.pro/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># bootstrap: &amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloudflare_dot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tls://1.1.1.1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å›½å†…è§£æ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿”å›ä¸åŒ…å«æœ¬åœ° ip åˆ™ reject&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!resp_ip $geoip_cn&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">drop_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallbackæ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secondary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">threshold&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">500&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">always_standby&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æœ‰å“åº”ç»ˆæ­¢è¿”å›&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢å›½å†…åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $geosite_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$local_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢å›½å¤–åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_no_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $geosite_no_cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥è¯¢æ‹’ç»åŸŸå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_reject_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $blocklist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname $adlist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qtype 12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">qname $local_ptr&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qtype 65&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¸»è¦è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å»å¹¿å‘Š&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_reject_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ipv4åœ°å€ä¼˜å…ˆï¼Œé¿å…NATå ç”¨CPU&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prefer_ipv4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$query_is_no_local_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jump has_resp_sequence &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¯åŠ¨ udp æœåŠ¡å™¨ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listen&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¯åŠ¨ tcp æœåŠ¡å™¨ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tcp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tcp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listen&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;:5335&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;h3 id="é…ç½®wireguard">&lt;a href="#%e9%85%8d%e7%bd%aewireguard" class="header-anchor">&lt;/a>é…ç½®Wireguard
&lt;/h3>&lt;p>å­¦é™¢çš„æœåŠ¡å™¨æ˜¯åœ¨å†…ç½‘ä¸­çš„ï¼Œå¦‚æœæ²¡æœ‰è¿æ ¡å›­ç½‘å°±æ— æ³•è®¿é—®ã€‚ä¸ºäº†éšæ—¶éšåœ°å¯ä»¥è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Wireguardè¿›è¡Œè™šæ‹Ÿç»„ç½‘ã€‚åŸºäºipv6ç›´æ¥æ˜¯å…¬ç½‘çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p>
&lt;p>è¿æ¥è·¯ç”±å™¨ï¼Œä½¿ç”¨å‘½ä»¤åˆ›å»ºé¢„å…±äº«å¯†é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºç›®å½•å­˜æ”¾å…¬é’¥ç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir wg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> wg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½®åˆ›å»ºå¯†é’¥çš„æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">umask&lt;/span> &lt;span class="m">077&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºé¢„å…±äº«å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genpsk &amp;gt; sharekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å¯†é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat sharekey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ›å»ºæœåŠ¡ç«¯å…¬é’¥ç§é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºæœåŠ¡ç«¯å…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee server_privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; server_publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–æœåŠ¡ç«¯ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat server_privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–æœåŠ¡ç«¯å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat server_publickey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹ååˆ›å»ºå®¢æˆ·ç«¯çš„å…¬é’¥ç§é’¥ï¼Œæœ‰å¤šå°‘ä¸ªå°±è¦æ‰§è¡Œå‡ æ¬¡ &lt;strong>æ³¨æ„æ–‡ä»¶çš„å‘½å&lt;/strong>ï¼Œè¿™é‡Œä»¥clinetä¸ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºå®¢æˆ·ç«¯å…¬é’¥å’Œç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wg genkey &lt;span class="p">|&lt;/span> tee clinet_privatekey &lt;span class="p">|&lt;/span> wg pubkey &amp;gt; clinet_publickey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å®¢æˆ·ç«¯ç§é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat clinet_privatekey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è·å–å®¢æˆ·ç«¯å…¬é’¥å¤åˆ¶ä¿å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat clinet_publickey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åæ‰¾åˆ°ç½‘ç»œâ€”â€”æ¥å£â€”â€”æ·»åŠ æ–°æ¥å£ï¼Œé€‰æ‹©åè®®ä¸º&lt;code>WireGuard VPN&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135.png"
width="1042"
height="303"
srcset="https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135_hu_27b60ca4f9871526.png 480w, https://lbqaq.top/p/ax6000/IMAGE/image-20231021204344135_hu_e307dcc14126bc3.png 1024w"
loading="lazy"
alt="åˆ›å»ºæ–°æ¥å£"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="825px"
>
æ¥ç€ä¿®æ”¹ç›¸åº”çš„é…ç½®ï¼š&lt;/p>
&lt;p>æ¥å£åŸºæœ¬è®¾ç½®&lt;/p>
&lt;ul>
&lt;li>ç§é’¥ - ä¸Šæ–‡è·å–çš„&lt;code>æœåŠ¡ç«¯ç§é’¥&lt;/code>&lt;/li>
&lt;li>ç›‘å¬æ¥å£ - éšæœºä¸€ä¸ªé«˜ä½çš„ç«¯å£ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨10800&lt;/li>
&lt;li>IPåœ°å€ - è¿™é‡Œå¡«ä¸€ä¸ªä¸“ç”¨çš„ç½‘æ®µ IPï¼Œæˆ‘é€‰æ‹©&lt;code>192.168.100.1/24&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Peers&lt;/strong>è®¾ç½®&lt;/p>
&lt;p>é€‰æ‹©&lt;code>é¢„å…±äº«å¯†é’¥&lt;/code> - æ·»åŠ &lt;/p>
&lt;ul>
&lt;li>å…¬é’¥ - å¡«å†™ä¸Šæ–‡è·å–çš„&lt;code>å®¢æˆ·ç«¯å…¬é’¥&lt;/code>&lt;/li>
&lt;li>å…è®¸çš„ IP - ä¸ºæ­¤å®¢æˆ·ç«¯åˆ†é…çš„å›ºå®š IPï¼Œæˆ‘è¿™é‡Œæ˜¯&lt;code>192.168.100.2/32&lt;/code>&lt;strong>æ³¨æ„ä¸è¦å†²çª&lt;/strong>&lt;/li>
&lt;li>é¢„å…±äº«å¯†é’¥ - å¡«å†™ä¸Šæ–‡è·å–çš„&lt;code>é¢„å…±äº«å¯†é’¥&lt;/code>&lt;/li>
&lt;li>è·¯ç”±å…è®¸çš„ IP - å‹¾é€‰&lt;/li>
&lt;/ul>
&lt;p>é˜²ç«å¢™è®¾ç½®&lt;/p>
&lt;ul>
&lt;li>é€‰æ‹©&lt;code>LAN&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>ä¹‹å‰æˆ‘å°è¯•è‡ªå·±åˆ›å»ºä¸€ä¸ª&lt;code>VPN&lt;/code>åˆ†åŒºè¿›è¡Œç®¡ç†ï¼Œä½†æ˜¯æ— æ³•è®¿é—®è·¯ç”±å™¨ä¸Šä¸€å±‚å†…ç½‘çš„åœ°å€ï¼Œä¼°è®¡æ˜¯é˜²ç«å¢™ä¹‹å‰çš„è½¬å‘è§„åˆ™æ²¡è®¾ç½®å¥½ï¼Œå¦‚æœä¸æƒ³æŠ˜è…¾å°±é€‰&lt;code>LAN&lt;/code>å§&lt;/p>&lt;/div>
&lt;p>ä¹‹ååœ¨é˜²ç«å¢™ä¸­çš„â€”â€”â€æ‰“å¼€è·¯ç”±å™¨ç«¯å£â€œï¼Œå°†ä¹‹å‰è®¾ç½®çš„WireGuardç›‘å¬ç«¯å£çš„UDPæµé‡æ”¾è¡Œ&lt;/p>
&lt;p>è¿™æ ·å°±ç®—é…ç½®å¥½äº†ã€‚&lt;/p>
&lt;p>å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Interface]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å¯¹åº”ä¹‹å‰é…ç½®çš„é™æ€åœ°å€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Address = 192.168.100.2/32
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å®¢æˆ·ç«¯çš„ç§é’¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PrivateKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æœ¬åœ°çš„ DNS æœåŠ¡å™¨æˆ–è€…å…¬æœ‰ DNS æœåŠ¡å™¨,ä¾‹å¦‚: 114.114.114.114
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#DNS = 192.168.6.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Peer]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è·¯ç”±å™¨å…¬é’¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PublicKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è®¾ç½®é‚£äº›åœ°å€èµ°WireGuardï¼Œå¦‚ä¸‹è®¾ç½®åªç”¨å±€åŸŸç½‘èµ°WireGuard,äº’è”ç½‘èµ°æœ¬åœ°ç½‘ç»œ.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#AllowedIPs = 192.168.6.0/24, 192.168.100.0/24, 192.168.101.0/24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å…¨å±€æ¨¡å¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AllowedIps = 0.0.0.0/0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># é¢„å…±äº«å¯†é’¥ï¼ŒåŒä¹‹å‰æ‰€é…ç½®
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PresharedKey = ******
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è·¯ç”±å™¨çš„ipåœ°å€å’Œç«¯å£
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Endpoint = 10.134.10.10:10800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ¯éš”å¤šå°‘ç§’æ£€æŸ¥ä¸€æ¬¡è¿æ¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PersistentKeepalive = 25
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®ddns">&lt;a href="#%e9%85%8d%e7%bd%aeddns" class="header-anchor">&lt;/a>é…ç½®ddns
&lt;/h3>&lt;p>è™½ç„¶æˆ‘ä»¬æ‹¥æœ‰äº†å…¬ç½‘ipv6ï¼Œä½†è¿™æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ddnsä½¿å…¶è‡ªåŠ¨å¯¹åº”åˆ°åŸŸåä¸Šã€‚ä»¥åä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åŸŸåå³å¯ï¼Œæ— éœ€è®°ä½ipã€‚&lt;/p>
&lt;p>237å¤§ä½¬çš„å›ºä»¶å·²ç»å†…ç½®äº†ddnsï¼Œæˆ‘çš„åŸŸåæ˜¯åœ¨cloudflareä¸Šï¼Œæ‰€ä»¥é€‰æ‹©DDNS æœåŠ¡æä¾›å•† [IPv6]ä¸ºcloudflare.com-v4ï¼ŒåŸŸåå¡«å†™éœ€è¦ddnsçš„åŸŸåï¼Œæ³¨æ„è¿™é‡Œè¦ç”¨@éš”ç¦»å­åŸŸåå’Œæ ¹ï¼Œä¾‹å¦‚&lt;code>ddns@lbqaq.top&lt;/code>ï¼Œå¯†ç å¡«å†™å…¨å±€è®¿é—®å¯†é’¥ã€‚&lt;/p>
&lt;p>åœ¨é«˜çº§è®¾ç½®é‡Œï¼Œæˆ‘å°†IP åœ°å€æ¥æº [IPv6]è®¾ç½®ä¸ºäº†&lt;code>URL&lt;/code>ï¼Œè¿™æ ·é¿å…äº†è„šæœ¬é”™è¯¯è¯»å–ipåœ°å€çš„æƒ…å†µã€‚&lt;/p>
&lt;p>éƒ½è®¾ç½®å¥½åï¼Œå°±å¯ä»¥çœ‹åˆ°åŸŸåæ‰€å¯¹åº”çš„åœ°å€å·²ç»è¢«æ›´æ–°äº†ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>Openwrtä½œä¸ºä¸€ä¸ªå¼€æ”¾çš„ç³»ç»Ÿï¼Œå¯ç©æ€§è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œé€šè¿‡è£…ä¸Šæ‰€éœ€çš„æ’ä»¶ï¼Œæå¤§çš„æé«˜äº†æˆ‘çš„ä¸Šç½‘ä½“éªŒï¼Œåªèƒ½è¯´ï¼šçœŸé¦™~&lt;/p>
&lt;p>ï¼ˆæœ¬æ¥æ˜¯æ‰“ç®—ä»‹ç»æˆ‘å†™çš„æ ¡å›­ç½‘è¿æ¥ç¨‹åºï¼Œç»“æœä¸ºäº†è¿™ç¢Ÿé†‹åŒ…äº†è¿™ç›˜é¥ºå­QwQï¼‰&lt;/p>
&lt;h2 id="æ›´æ–°æ—¥å¿—">&lt;a href="#%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97" class="header-anchor">&lt;/a>æ›´æ–°æ—¥å¿—
&lt;/h2>&lt;ul>
&lt;li>23.11.22ï¼šæ·»åŠ äº†ubootå’Œmosdnsçš„å†…å®¹&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/BV1Co4y1F7wM/" target="_blank" rel="noopener"
>çº¢ç±³AX6000å®Œç¾åˆ·æœº | åˆ·æœºæ— é£é™© å°ç™½é€‚ç”¨&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://www.right.com.cn/forum/thread-8265832-1-2.html" target="_blank" rel="noopener"
>çº¢ç±³AX6000åˆ·hanwckfå¤§ä½¬çš„ä¸æ­»uboot+åˆ·å›å®˜æ–¹å›ºä»¶+TTLä½¿ç”¨+ç¼–ç¨‹å™¨æ•‘ç –æ•™ç¨‹&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/492774540" target="_blank" rel="noopener"
>æ ¡å›­ç½‘ç¯å¢ƒä¸‹Openwrté…ç½®ipv6æ•™ç¨‹â€”â€”ä»¥nat6ä¸ºä¾‹&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Graph Unlearning</title><link>https://lbqaq.top/p/graph-unlearning/</link><pubDate>Wed, 13 Sep 2023 16:38:20 +0800</pubDate><guid>https://lbqaq.top/p/graph-unlearning/</guid><description>&lt;img src="https://lbqaq.top/p/graph-unlearning/110091745.webp" alt="Featured image of post Graph Unlearning" />&lt;h2 id="ä»‹ç»">&lt;a href="#%e4%bb%8b%e7%bb%8d" class="header-anchor">&lt;/a>ä»‹ç»
&lt;/h2>&lt;p>æ•°æ®ä¿æŠ¤æœ€è¿‘å¼•èµ·äº†è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ï¼Œå¹¶ä¸”å·²ç»æå‡ºäº†ä¸€äº›æ³•è§„æ¥ä¿æŠ¤ä¸ªäººç”¨æˆ·çš„éšç§ã€‚åœ¨è¿™äº›æ³•è§„ä¸­ï¼Œæåˆ°äº†ã€Œè¢«é—å¿˜æƒã€ï¼Œå®ƒèµ‹äºˆæ•°æ®ä¸»ä½“ä»å­˜å‚¨æ•°æ®çš„å®ä½“ä¸­åˆ é™¤å…¶æ•°æ®çš„æƒåˆ©ã€‚è¿™ä¹Ÿæ„å‘³ç€åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ¨¡å‹æä¾›è€…æœ‰ä¹‰åŠ¡æ¶ˆé™¤å…¶æ‰€æœ‰è€…è¦æ±‚è¢«é—å¿˜çš„æ•°æ®çš„ä»»ä½•å½±å“ï¼Œå³é—å¿˜å­¦ä¹ ã€‚&lt;/p>
&lt;p>æœ€ç®€å•å’Œæœ‰æ•ˆçš„é—å¿˜å­¦ä¹ æ–¹æ³•å°±æ˜¯ç§»é™¤å¯¹åº”çš„æ ·æœ¬åé‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œç„¶è€Œå½“åº•å±‚æ•°æ®é›†å¾ˆå¤§æ—¶ï¼Œè¿™ç§æ–¹æ³•åœ¨è®¡ç®—ä¸Šå¯èƒ½ä»¤äººæœ›è€Œå´æ­¥ã€‚ç›®å‰é€šç”¨çš„é—å¿˜å­¦ä¹ æ–¹æ³•æ˜¯SISA (Sharded, Isolated, Sliced, and Aggregated) â€”â€”å°†è®­ç»ƒé›†åˆ†ä¸ºshards, shardsä¸­åˆ†ä¸ºslices, å¯¹äºæ¯ä¸ªsliceè®­ç»ƒä¹‹åè®°å½•model parameters, æ¯ä¸ªæ•°æ®ç‚¹è¢«åˆ’åˆ†åˆ°ä¸åŒçš„shardså’Œslicesä¸­, unlearnæ—¶å°±æ˜¯æ’é™¤æ‰å¯¹åº”æ•°æ®ç‚¹ç„¶åretrainå¯¹åº”çš„shardå’Œslices, ä»¥ç©ºé—´å¼€é”€æ¢å–è®­ç»ƒçš„æ—¶é—´å¼€é”€ã€‚&lt;/p>
&lt;p>å¯¹äºå›¾åƒå’Œæ–‡æœ¬æ•°æ®ï¼Œåˆ†å‰²æ•°æ®æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ç„¶è€Œï¼Œå¯¹äºå›¾æ¥è¯´ï¼ŒGNNä¾èµ–äºå›¾ç»“æ„ä¿¡æ¯ï¼Œåƒåœ¨SISAä¸­é‚£æ ·å°†èŠ‚ç‚¹éšæœºåˆ’åˆ†ä¸ºå­å›¾å¯èƒ½ä¼šä¸¥é‡æŸåç”Ÿæˆçš„æ¨¡å‹ã€‚å¯¹æ­¤ï¼Œä½œè€…æå‡ºäº†GraphEraserï¼Œä»¥å®ç°GNNä¸­çš„é—å¿˜å­¦ä¹ ã€‚&lt;/p>
&lt;p>ä½œè€…å°†å›¾é—å¿˜å­¦ä¹ åˆ†ä¸ºnode unlearningã€ŒèŠ‚ç‚¹é—å¿˜å­¦ä¹ ã€å’Œedge unlearningã€Œè¾¹é—å¿˜å­¦ä¹ ã€ï¼Œæå‡ºäº†ä¸¤ç§å›¾åˆ†å‰²ç­–ç•¥ã€‚ç¬¬ä¸€ç§ä¾§é‡äºgraph structural informationã€Œå›¾ç»“æ„ä¿¡æ¯ã€ï¼Œå¦ä¸€ç§åˆ™æ˜¯åŒæ—¶è€ƒè™‘graph structural and node feature informationã€Œå›¾ç»“æ„å’ŒèŠ‚ç‚¹ç‰¹å¾ä¿¡æ¯ã€ã€‚&lt;/p>
&lt;p>ä¸ºäº†åŒæ—¶è€ƒè™‘å›¾ç»“æ„å’ŒèŠ‚ç‚¹ç‰¹å¾ä¿¡æ¯ï¼Œä½œè€…å°†èŠ‚ç‚¹ç‰¹å¾å’Œå›¾ç»“æ„è½¬åŒ–ä¸ºåµŒå…¥å‘é‡ï¼Œç„¶åå°†å…¶èšç±»ä¸ºä¸åŒçš„shardsã€‚ä½†æ˜¯ç”±äºç°å®ä¸–ç•Œå›¾çš„ç»“æ„ç‰¹æ€§ï¼Œä¼ ç»Ÿçš„ç¾¤è½æ£€æµ‹å’Œèšç±»æ–¹æ³•åˆ’åˆ†ä¼šå¯¼è‡´åˆ†ç‰‡å¤§å°ä¸å¹³è¡¡ï¼Œè€Œå¤§éƒ¨åˆ†éœ€è¦è¢«æ’¤é”€çš„æ•°æ®éƒ½åœ¨æœ€å¤§çš„åˆ†åŒºï¼Œä»è€Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚ä½œè€…æå‡ºäº†ä¸¤ç§åˆ†å‰²ç®—æ³•å’Œä¸€ç§èšåˆç®—æ³•ä»¥è§£å†³æ­¤é—®é¢˜ã€‚&lt;/p>
&lt;h3 id="è´¡çŒ®">&lt;a href="#%e8%b4%a1%e7%8c%ae" class="header-anchor">&lt;/a>è´¡çŒ®
&lt;/h3>&lt;ul>
&lt;li>ç¬¬ä¸€æ¬¡æå‡ºäº†åœ¨GNNæ¨¡å‹ä¸Šçš„é—å¿˜å­¦ä¹ æ–¹æ³•&lt;/li>
&lt;li>æå‡ºäº†ä¸¤ç§ç®—æ³•ä»¥å¹³è¡¡å›¾åˆ†å‰²å—å¤§å°&lt;/li>
&lt;li>æå‡ºäº†ä¸€ç§åŸºäºå­¦ä¹ çš„èšåˆæ–¹æ³•&lt;/li>
&lt;/ul>
&lt;h2 id="é—®é¢˜æ„é€ ">&lt;a href="#%e9%97%ae%e9%a2%98%e6%9e%84%e9%80%a0" class="header-anchor">&lt;/a>é—®é¢˜æ„é€ 
&lt;/h2>&lt;h3 id="é—®é¢˜å®šä¹‰">&lt;a href="#%e9%97%ae%e9%a2%98%e5%ae%9a%e4%b9%89" class="header-anchor">&lt;/a>é—®é¢˜å®šä¹‰
&lt;/h3>&lt;p>&lt;strong>èŠ‚ç‚¹é—å¿˜å­¦ä¹ &lt;/strong>&lt;/p>
&lt;p>å¯¹äºGNNæ¨¡å‹$F_o$ï¼Œæ¯ä¸ªæ•°æ®ä¸»ä½“çš„æ•°æ®å¯¹åº”äºGNNè®­ç»ƒå›¾$G_o$ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ•°æ®ä¸»ä½“$u$è¦åˆ é™¤å…¶æ‰€æœ‰æ•°æ®ï¼Œåˆ™æ„å‘³ç€ä»GNNçš„è®­ç»ƒå›¾ä¸­é—å¿˜å­¦ä¹ $u$çš„èŠ‚ç‚¹ç‰¹å¾ä»¥åŠå…¶äºå…¶ä»–èŠ‚ç‚¹çš„é“¾æ¥ã€‚ä»¥ç¤¾äº¤ç½‘ç»œä¸ºä¾‹ï¼ŒèŠ‚ç‚¹é—å¿˜å­¦ä¹ æ„å‘³ç€éœ€è¦ä»ç›®æ ‡GNNçš„è®­ç»ƒå›¾ä¸­åˆ é™¤ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ä¿¡æ¯å’Œç¤¾äº¤å…³ç³»ã€‚&lt;/p>
&lt;p>&lt;strong>è¾¹é—å¿˜å­¦ä¹ &lt;/strong>&lt;/p>
&lt;p>æ•°æ®ä¸»ä½“$u$è¦åˆ é™¤å…¶èŠ‚ç‚¹äºå¦ä¸€ä¸ªèŠ‚ç‚¹$v$ä¹‹é—´çš„ä¸€æ¡è¾¹ç¼˜ã€‚ä»ç„¶ä»¥ç¤¾äº¤ç½‘ç»œä¸ºä¾‹ï¼Œè¾¹ç¼˜é—å¿˜æ„å‘³ç€ç¤¾äº¤ç½‘ç»œç”¨æˆ·æƒ³è¦éšè—ä»–ä»¬ä¸å¦ä¸€ä¸ªäººçš„å…³ç³»ã€‚&lt;/p>
&lt;h3 id="è¯„ä¼°æŒ‡æ ‡">&lt;a href="#%e8%af%84%e4%bc%b0%e6%8c%87%e6%a0%87" class="header-anchor">&lt;/a>è¯„ä¼°æŒ‡æ ‡
&lt;/h3>&lt;ul>
&lt;li>unlearning efficiencyã€Œé—å¿˜å­¦ä¹ æ•ˆç‡ã€ï¼šä¸åœ¨è®­ç»ƒçš„æ—¶é—´æœ‰å…³ï¼Œæ—¶é—´è¦å°½å¯èƒ½çŸ­ã€‚&lt;/li>
&lt;li>model utilityã€Œæ¨¡å‹æ•ˆç”¨ã€ï¼šä¸å‡†ç¡®æ€§æœ‰å…³ï¼Œè¶Šé«˜è¶Šå¥½ã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨ä¹‹å‰æè¿‡ï¼Œå›¾åˆ†å‰²å­˜åœ¨åˆ†ç‰‡å¤§å°ä¸å‡åŒ€çš„é—®é¢˜ã€‚ä¸ºæ­¤ï¼Œä½œè€…æå‡ºäº†ä¸¤ç§åˆ†ç‰‡ç›®æ ‡ï¼š&lt;/p>
&lt;ul>
&lt;li>G1: Balanced Shardsã€Œå‡è¡¡åˆ†ç‰‡ã€ï¼šæ¯ä¸ªåˆ†ç‰‡ä¸­çš„èŠ‚ç‚¹æ•°é‡ç›¸ä¼¼ã€‚è¿™æ ·ï¼Œæ¯ä¸ªåˆ†ç‰‡çš„å†è®­ç»ƒæ—¶é—´æ˜¯ç›¸ä¼¼çš„ï¼Œä»è€Œæé«˜äº†æ•´ä¸ªå›¾é—å¿˜å­¦ä¹ è¿‡ç¨‹çš„æ•ˆç‡ã€‚&lt;/li>
&lt;li>G2: Comparable Model Utilityã€Œå¯æ¯”æ¨¡å‹æ•ˆç”¨ã€ï¼šå›¾ç»“æ„ä¿¡æ¯æ˜¯å†³å®šGNNæ€§èƒ½çš„ä¸»è¦å› ç´ ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½åº”ä¿ç•™å›¾çš„ç»“æ„å±æ€§ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="grapheraseræ¡†æ¶æ„é€ ">&lt;a href="#grapheraser%e6%a1%86%e6%9e%b6%e6%9e%84%e9%80%a0" class="header-anchor">&lt;/a>GraphEraseræ¡†æ¶æ„é€ 
&lt;/h3>&lt;p>ä½œè€…å°†GraphEraseræ¡†æ¶åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š&lt;/p>
&lt;ul>
&lt;li>Balanced Graph Partitionã€Œå¹³è¡¡å›¾åˆ†åŒºã€ï¼šå°†è®­ç»ƒå›¾åˆ’åˆ†ä¸ºä¸ç›¸äº¤çš„åˆ†ç‰‡&lt;/li>
&lt;li>Shard Model Trainingã€Œåˆ†ç‰‡è®­ç»ƒæ¨¡å‹ã€ï¼šå¯¹æ¯ä¸ªåˆ†ç‰‡è¿›è¡Œè®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œç§°ä¹‹ä¸ºshard modelã€Œåˆ†ç‰‡æ¨¡å‹ã€$F_i$&lt;/li>
&lt;li>Shard Model Aggregationã€Œåˆ†ç‰‡æ¨¡å‹èšåˆã€ï¼šä¸ºäº†å¾—åˆ°é¢„æµ‹èŠ‚ç‚¹$w$çš„æ ‡ç­¾ï¼Œå°†å¯¹åº”çš„æ•°æ®ï¼ˆ$w$çš„ç‰¹å¾ã€å…¶é‚»å±…çš„ç‰¹å¾ä»¥åŠå…¶ä¸­çš„å›¾ç»“æ„ï¼‰åŒæ—¶å‘é€åˆ°æ‰€æœ‰åˆ†ç‰‡æ¨¡å‹ï¼Œå¹¶é€šè¿‡èšåˆæ‰€æœ‰åˆ†ç‰‡æ¨¡å‹çš„é¢„æµ‹æ¥è·å¾—æœ€ç»ˆé¢„æµ‹ã€‚&lt;/li>
&lt;/ul>
&lt;p>GraphEraseræ¡†æ¶çš„ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230910155749458.png"
width="1609"
height="546"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230910155749458_hu_afc1e13c416b6b72.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230910155749458_hu_6fcb945e6404318f.png 1024w"
loading="lazy"
alt="GraphEraseræ¡†æ¶å›¾"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="707px"
>&lt;/p>
&lt;h2 id="å¹³è¡¡å›¾åˆ†å‰²">&lt;a href="#%e5%b9%b3%e8%a1%a1%e5%9b%be%e5%88%86%e5%89%b2" class="header-anchor">&lt;/a>å¹³è¡¡å›¾åˆ†å‰²
&lt;/h2>&lt;p>ä½œè€…æå‡ºäº†ä¸‰ç§å›¾åˆ†åŒºç­–ç•¥ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>ç­–ç•¥0&lt;/strong>ï¼šä»…è€ƒè™‘èŠ‚ç‚¹ç‰¹å¾ä¿¡æ¯ï¼Œå¹¶éšæœºå¯¹èŠ‚ç‚¹è¿›è¡Œåˆ†åŒº&lt;/p>
&lt;p>è¯¥ç­–ç•¥å¯ä»¥æ»¡è¶³G1ã€Œå‡è¡¡åˆ†ç‰‡ã€è¦æ±‚ï¼Œä½†ä¸æ»¡è¶³G2ã€Œå¯æ¯”æ¨¡å‹æ•ˆç”¨ã€è¦æ±‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ç­–ç•¥1&lt;/strong>ï¼šä¾é community detectionã€Œç¤¾åŒºå‘ç°ã€ï¼Œä»…è€ƒè™‘ç»“æ„ä¿¡æ¯ï¼Œå¹¶å°½å¯èƒ½ä¿ç•™å®ƒ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ç­–ç•¥2&lt;/strong>ï¼šåŒæ—¶è€ƒè™‘ç»“æ„ä¿¡æ¯å’ŒèŠ‚ç‚¹ç‰¹å¾ã€‚å°†èŠ‚ç‚¹ç‰¹å¾å’Œå›¾ç»“æ„è¡¨ç¤ºä¸ºä½ç»´å‘é‡ï¼Œå³èŠ‚ç‚¹åµŒå…¥ï¼Œç„¶åå°†èŠ‚ç‚¹åµŒå…¥èšç±»åˆ°ä¸åŒçš„åˆ†ç‰‡ä¸­ã€‚&lt;/p>
&lt;p>ç›´æ¥è¿™æ ·åˆ’åˆ†ä¼šå¯¼è‡´åˆ’åˆ†åŒºåŸŸä¸å¹³è¡¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911095231520.png"
width="970"
height="376"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911095231520_hu_6fc11e1147f5d99b.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911095231520_hu_d2a05acf1ae949d6.png 1024w"
loading="lazy"
alt="åœ¨Coraæ•°æ®é›†ä¸Šä½¿ç”¨ä¼ ç»Ÿåˆ’åˆ†åŒºåŸŸçš„å¤§å°"
class="gallery-image"
data-flex-grow="257"
data-flex-basis="619px"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æ¥ä¸‹æ¥ï¼Œä½œè€…ä¾¿ä»‹ç»äº†å¯¹åº”çš„å¹³è¡¡å›¾åˆ†åŒºç®—æ³•ã€‚&lt;/p>
&lt;h3 id="ç¤¾åŒºå‘ç°ç®—æ³•">&lt;a href="#%e7%a4%be%e5%8c%ba%e5%8f%91%e7%8e%b0%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>ç¤¾åŒºå‘ç°ç®—æ³•
&lt;/h3>&lt;p>å¯¹äºç­–ç•¥1ï¼Œä¸»è¦ä¾èµ–çš„å°±æ˜¯æ­¤ç®—æ³•ã€‚ä½œè€…åŸºäºLabel Propagation Algorithm (LPA)ã€Œæ ‡ç­¾ä¼ æ’­ç®—æ³•ã€æ¥è®¾è®¡å›¾åˆ†åŒºç®—æ³•ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œshardå°±æ˜¯communityã€‚&lt;/p>
&lt;p>&lt;strong>æ ‡ç­¾ä¼ æ’­ç®—æ³•&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911105605800.png"
width="898"
height="358"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911105605800_hu_1a8b28a41da05111.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911105605800_hu_adaf0536ba7d5e5.png 1024w"
loading="lazy"
alt="LPAå·¥ä½œæµç¨‹"
class="gallery-image"
data-flex-grow="250"
data-flex-basis="602px"
>&lt;/p>
&lt;p>åœ¨åˆå§‹é˜¶æ®µï¼ˆå›¾aï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éšæœºåˆ†é…ä¸€ä¸ªåˆ†ç‰‡æ ‡ç­¾ã€‚&lt;/p>
&lt;p>åœ¨æ ‡ç­¾ä¼ æ’­é˜¶æ®µï¼ˆå›¾b â†’ å›¾ cï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå‘é€è‡ªå·±çš„æ ‡ç­¾ï¼Œå°†è‡ªå·±æ›´æ–°æˆæ”¶åˆ°æœ€å¤šçš„é‚£ä¸ªæ ‡ç­¾&lt;/p>
&lt;p>æ ‡ç­¾ä¼ æ’­è¿‡ç¨‹ä¼šå¯¹æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œå¤šæ¬¡è¿­ä»£ï¼Œç›´åˆ°æ”¶æ•›ï¼ˆæ²¡æœ‰èŠ‚ç‚¹æ›´æ”¹æ ‡ç­¾ï¼‰&lt;/p>
&lt;p>å°±å¦‚ä¹‹å‰æåˆ°çš„ï¼Œä¼ ç»Ÿçš„LPAä¼šå¯¼è‡´é«˜åº¦ä¸å¹³è¡¡çš„å›¾å½¢åˆ†åŒºï¼Œä¸¥é‡å½±å“äº†é—å¿˜å­¦ä¹ çš„æ•ˆç‡ã€‚&lt;/p>
&lt;p>å¯¹æ­¤ï¼Œä½œè€…æå‡ºäº†ä¸€ä¸ªå®ç°å¹³è¡¡å›¾åˆ†åŒºçš„&lt;strong>ä¸€èˆ¬æ–¹æ³•&lt;/strong>ã€‚ç»™å®šæ‰€éœ€çš„åˆ†ç‰‡å¤§å°$k$å’Œæœ€å¤§åˆ†ç‰‡å¤§å°$\delta$ï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹-åˆ†ç‰‡å®šä¹‰ä¸€ä¸ªå¯èƒ½è¢«åˆ†é…åˆ°æ­¤åˆ†ç‰‡çš„preferenceã€Œåå¥½å€¼ã€ï¼Œä»£è¡¨è¯¥èŠ‚ç‚¹è¢«åˆ†é…ç»™äº†åˆ†ç‰‡ï¼ˆè¿™è¢«ç§°ä¸ºdestination shardã€Œç›®æ ‡åˆ†ç‰‡ã€ï¼‰ï¼Œä»è€Œäº§ç”Ÿ$k \times n$ä¸ªåå¥½å€¼ã€‚å¯¹è¿™äº›å€¼è¿›è¡Œæ’åºï¼Œå¦‚æœç›®æ ‡åˆ†ç‰‡ä¸­çš„èŠ‚ç‚¹æ•°ä¸è¶…è¿‡$\delta$ï¼Œå°±å°†è¯¥èŠ‚ç‚¹åˆ†é…ç»™æ­¤åˆ†ç‰‡ã€‚&lt;/p>
&lt;p>å…·ä½“è€Œè¨€ï¼Œä½œè€…æå‡ºäº†Balanced LPA (BLPA)ã€Œå¹³è¡¡æ ‡ç­¾ä¼ æ’­ç®—æ³•ã€ï¼Œå°†åå¥½å€¼å®šä¹‰ä¸ºèŠ‚ç‚¹åˆ†ç‰‡å¯¹çš„neighbor countsã€Œé‚»å±…è®¡æ•°ã€ï¼ˆå±äºç›®æ ‡åˆ†ç‰‡çš„é‚»å±…æ•°é‡ï¼‰ï¼Œå¹¶ä¸”å…·æœ‰è¾ƒå¤§é‚»å±…è®¡æ•°çš„èŠ‚ç‚¹åˆ†ç‰‡å¯¹å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§åˆ†é…ã€‚&lt;/p>
&lt;p>ç®—æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911142423655.png"
width="1005"
height="1271"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911142423655_hu_6cd374f3aae8569a.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230911142423655_hu_92b8b6b78d535d99.png 1024w"
loading="lazy"
alt="BLPAç®—æ³•"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="189px"
>&lt;/p>
&lt;ol>
&lt;li>åˆå§‹åŒ–ï¼šå°†æ¯ä¸ªèŠ‚ç‚¹éšæœºåˆ†é…ç»™kä¸ªåˆ†ç‰‡ä¹‹ä¸€&lt;/li>
&lt;li>é‡æ–°åˆ†é…é…ç½®æ–‡ä»¶è®¡ç®—ï¼šå¯¹äºæ¯ä¸ªèŠ‚ç‚¹$u$ï¼Œä½¿ç”¨å…ƒç»„$\left\langle u, \mathbb{C}_{s r c}, \mathbb{C}_{d s t}, \xi\right\rangle$è¡¨ç¤ºå…¶é‡æ–°åˆ†é…çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­$\mathbb{C}_{s r c}$å’Œ$\mathbb{C}_{d s t}$æ˜¯èŠ‚ç‚¹$u$çš„å½“å‰åˆ†ç‰‡å’Œç›®æ ‡åˆ†ç‰‡ï¼Œ$\xi$æ˜¯ç›®æ ‡åˆ†ç‰‡$\mathbb{C}_{d s t}$çš„é‚»å±…è®¡æ•°ï¼Œå¹¶å°†å…¶å­˜å…¥$\mathbb{F}$&lt;/li>
&lt;li>æ’åºï¼šé‚»å±…æ•°é‡è¶Šå¤šçš„é‡æ–°åˆ†é…é…ç½®æ–‡ä»¶åº”å…·æœ‰è¶Šé«˜çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥æŒ‰$\xi$å¯¹$\mathbb{F}$è¿›è¡Œé™åºæ’åº&lt;/li>
&lt;li>ä¼ æ’­æ ‡ç­¾ï¼šæšä¸¾$\mathbb{F}$é‡Œçš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœ$\mathbb{C}_{d s t}$çš„å¤§å°ä¸è¶…è¿‡ç»™å®šçš„é˜ˆå€¼$\delta$ï¼Œå°±å°†å…¶æ·»åŠ åˆ°ç›®æ ‡åˆ†ç‰‡å¹¶ä»å½“å‰åˆ†ç‰‡ä¸­åˆ é™¤ã€‚ä¹‹ååœ¨$\mathbb{F}$ä¸­åˆ é™¤æ‰€æœ‰å‰©ä½™çš„åŒ…å«èŠ‚ç‚¹$u$çš„å…ƒç»„ã€‚&lt;/li>
&lt;/ol>
&lt;p>ä¹‹åä¸æ–­è¿­ä»£ï¼Œç›´åˆ°åˆ†ç‰‡ä¸æ›´æ”¹æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£$T$&lt;/p>
&lt;p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(nÂ·d_{ave})$ï¼Œ$n$ä¸ºèŠ‚ç‚¹æ•°ï¼Œ$d_{ave}$ä¸ºè®­ç»ƒå›¾çš„å¹³å‡èŠ‚ç‚¹æ•°ã€‚&lt;/p>
&lt;p>ä½œè€…æ— æ³•ä»ç†è®ºä¸Šè¯æ˜å…¶æ”¶æ•›æ€§ï¼Œä¸è¿‡é€šè¿‡å®éªŒè¡¨ç¤º$T=30$æ—¶å‡ ä¹æ˜¯æ”¶æ•›çš„ã€‚&lt;/p>
&lt;h3 id="åµŒå…¥å¼èšç±»ç®—æ³•">&lt;a href="#%e5%b5%8c%e5%85%a5%e5%bc%8f%e8%81%9a%e7%b1%bb%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>åµŒå…¥å¼èšç±»ç®—æ³•
&lt;/h3>&lt;p>å¯¹äºç­–ç•¥2ï¼Œä½œè€…ä½¿ç”¨é¢„è®­ç»ƒçš„GNNæ¨¡å‹æ¥è·å–æ‰€æœ‰èŠ‚ç‚¹åµŒå…¥ï¼Œç„¶åå¯¹ç”Ÿæˆçš„èŠ‚ç‚¹åµŒå…¥æ‰§è¡Œèšç±»ã€‚&lt;/p>
&lt;p>æ€è·¯æ˜¯å°†GNNæ¨¡å‹çš„æ‰€æœ‰èŠ‚ç‚¹æŠ•å½±åˆ°ç©ºé—´ä¸­ï¼Œå†ä½¿ç”¨K-Meansè¿›è¡Œèšç±»ã€‚åŒæ ·ä¹Ÿä¼šå¯¼è‡´åˆ†å—çš„ä¸å¹³å‡è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>å¯¹æ­¤ï¼Œä½œè€…æå‡ºäº†Balanced Embedding k-means (BEKM)ã€‚å®šä¹‰preferenceã€Œåå¥½å€¼ã€ä¸ºèŠ‚ç‚¹åµŒå…¥å’Œæ‰€æœ‰èŠ‚ç‚¹åˆ†ç‰‡å¯¹çš„åˆ†ç‰‡è´¨å¿ƒä¹‹é—´çš„æ¬§æ°è·ç¦»ã€‚&lt;/p>
&lt;p>å…·ä½“çš„ç®—æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912153952657.png"
width="998"
height="1447"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912153952657_hu_97849e8d384ef55b.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912153952657_hu_918b0ba534c5b6d2.png 1024w"
loading="lazy"
alt="BEKMç®—æ³•"
class="gallery-image"
data-flex-grow="68"
data-flex-basis="165px"
>&lt;/p>
&lt;ol>
&lt;li>åˆå§‹åŒ–ï¼šéšæœºé€‰æ‹©$k$ä¸ªè´¨å¿ƒ$C^0=\{C^0_1,C^0_2,\dots,C^0_k\}$&lt;/li>
&lt;li>è®¡ç®—åµŒå…¥è´¨å¿ƒè·ç¦»ï¼šè®¡ç®—èŠ‚ç‚¹åµŒå…¥å’Œè´¨å¿ƒä¹‹é—´çš„æ‰€æœ‰æˆå¯¹è·ç¦»ï¼Œä»è€Œå¾—åˆ°$n\times k$ä¸ªåµŒå…¥è´¨å¿ƒå¯¹ã€‚è¿™äº›å¯¹å­˜å‚¨åœ¨$\mathbb{F}$ä¸­ã€‚&lt;/li>
&lt;li>æ’åºè´¨å¿ƒè·ç¦»ï¼šè·ç¦»è¾ƒè¿‘çš„åµŒå…¥è´¨å¿ƒå¯¹å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥æŒ‰ç…§å‡åºå¯¹$\mathbb{F}$è¿›è¡Œæ’åº&lt;/li>
&lt;li>é‡æ–°åˆ†é…èŠ‚ç‚¹å’Œæ›´æ–°è´¨å¿ƒï¼šæšä¸¾$\mathbb{F}$é‡Œçš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœ$\mathbb{C}_{j}$çš„å¤§å°ä¸è¶…è¿‡ç»™å®šçš„é˜ˆå€¼$\delta$ï¼Œå°±å°†å…¶æ·»åŠ åˆ°ç›®æ ‡åˆ†ç‰‡ã€‚ä¹‹ååœ¨$\mathbb{F}$ä¸­åˆ é™¤æ‰€æœ‰å‰©ä½™çš„åŒ…å«èŠ‚ç‚¹$i$çš„å…ƒç»„ã€‚æœ€åï¼Œå°†æ–°è´¨å¿ƒè®¡ç®—ä¸ºå…¶ç›¸åº”åˆ†ç‰‡ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å¹³å‡å€¼ã€‚&lt;/li>
&lt;/ol>
&lt;p>åŒæ ·ï¼Œä¸æ–­é‡å¤ç›´åˆ°åˆ†ç‰‡ä¸æ›´æ”¹æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£$T$&lt;/p>
&lt;p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(kÂ·n)$ï¼Œ$n$ä¸ªèŠ‚ç‚¹,$k$ä¸ªåˆ†ç‰‡ã€‚&lt;/p>
&lt;h2 id="åŸºäºå­¦ä¹ çš„èšåˆ">&lt;a href="#%e5%9f%ba%e4%ba%8e%e5%ad%a6%e4%b9%a0%e7%9a%84%e8%81%9a%e5%90%88" class="header-anchor">&lt;/a>åŸºäºå­¦ä¹ çš„èšåˆ
&lt;/h2>&lt;p>ç›®å‰å¸¸è§çš„èšåˆæ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>MajAggrï¼šæ¯ä¸ªåˆ†ç‰‡æ¨¡å‹é¢„æµ‹ä¸€ä¸ªæ ‡ç­¾ï¼Œå–æœ€å¤šé¢„æµ‹çš„æ ‡ç­¾&lt;/li>
&lt;li>MeanAggrï¼šæ”¶é›†æ‰€æœ‰åˆ†ç‰‡æ¨¡å‹çš„åéªŒå‘é‡ï¼Œç„¶åæ±‚å¹³å‡å€¼ï¼Œå¾—åˆ°èšåˆåéªŒï¼Œé€‰å–æœ€é«˜åéªŒå€¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä½œè€…æå‡ºäº†ä¸€ç§åŸºäºå­¦ä¹ çš„èšåˆæ–¹æ³•LBAggrï¼Œä¸ºæ¯ä¸ªåˆ†ç‰‡æ¨¡å‹åˆ†é…ä¸€ä¸ªé‡è¦æ€§åˆ†æ•°ï¼Œé€šè¿‡ä»¥ä¸‹æŸå¤±å‡½æ•°è¿›è¡Œå­¦ä¹ ï¼š&lt;/p>
$$\min \_{\alpha} \underset{w \in \mathcal{G}\_{o}}{\mathbb{E}}\left[\mathcal{L}\left(\sum\_{i=0}^{m} \alpha\_{i} \cdot \mathcal{F}\_{i}\left(X\_{w}, \mathcal{N}\_{w}\right), y\right)\right]+\lambda \sum\_{i=0}^{m}\left\|\alpha\_{i}\right\|$$&lt;p>å…¶ä¸­$X_{w}$å’Œ$\mathcal{N}_{w}$æ˜¯è®­ç»ƒå›¾ä¸­èŠ‚ç‚¹$w$çš„ç‰¹å¾å‘é‡å’Œé‚»åŸŸï¼Œ$y$æ˜¯$w$çš„çœŸå®æ ‡ç­¾ï¼Œ$\mathcal{F}_{i}(\cdot)$è¡¨ç¤ºåˆ†ç‰‡æ¨¡å‹$i$ï¼Œ$\alpha_{i}$æ˜¯$\mathcal{F}_{i}(\cdot)$çš„é‡è¦æ€§å¾—åˆ†ï¼Œ$m$æ˜¯åˆ†ç‰‡æ€»æ•°ã€‚å°†æ‰€æœ‰é‡è¦æ€§åˆ†æ•°çš„æ€»å’Œè°ƒèŠ‚ä¸º 1ã€‚&lt;/p>
&lt;p>ä½œè€…é€šè¿‡æ¢¯åº¦ä¸‹é™æ¥æ‰¾åˆ°æœ€ä¼˜çš„$\alpha$ï¼Œä»è€Œè§£å†³æœ€ä¼˜åŒ–é—®é¢˜ã€‚ç„¶è€Œï¼Œç›´æ¥æ¢¯åº¦ä¸‹é™ä¼šå¯¼è‡´$\alpha$ä¸ºè´Ÿæ•°ã€‚ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œä½œè€…ä½¿ç”¨softmax å‡½æ•°åœ¨æ¯æ¬¡è¿­ä»£ä¸­è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ã€‚&lt;/p>
&lt;p>ä¸ºäº†æå‡è¿è¡Œé€Ÿåº¦ï¼Œä½œè€…æŒ‡å‡ºå¯ä»¥ä½¿ç”¨è®­ç»ƒå›¾ä¸­ 10% çš„èŠ‚ç‚¹è¿›è¡Œé‡æ–°è®­ç»ƒã€‚&lt;/p>
&lt;h2 id="grapheraser">&lt;a href="#grapheraser" class="header-anchor">&lt;/a>GraphEraser
&lt;/h2>&lt;p>å°†ä¸Šé¢æåˆ°çš„æ–¹æ³•é›†åˆåœ¨ä¸€èµ·ï¼Œå°±å¾—åˆ°äº†æ­¤ç®—æ³•ã€‚å½“æŸäº›èŠ‚ç‚¹æˆ–è¾¹ç¼˜è¢«æ•°æ®æ‰€æœ‰è€…æ’¤é”€æ—¶ï¼Œåªéœ€è¦é‡æ–°è®­ç»ƒç›¸åº”çš„åˆ†ç‰‡æ¨¡å‹å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912202314840.png"
width="1029"
height="1020"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912202314840_hu_72e08d63c3131ee4.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230912202314840_hu_282650750a810a6b.png 1024w"
loading="lazy"
alt="GraphEraser"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="242px"
>&lt;/p>
&lt;h2 id="è¯„ä¼°">&lt;a href="#%e8%af%84%e4%bc%b0" class="header-anchor">&lt;/a>è¯„ä¼°
&lt;/h2>&lt;p>&lt;strong>æ•°æ®é›†&lt;/strong>&lt;/p>
&lt;p>ä½œè€…é‡‡ç”¨äº†äº”ä¸ªå¸¸ç”¨çš„å›¾åƒæ•°æ®é›†ï¼Œåˆ†åˆ«ä¸ºCora, Citeseer, Pubmed, CSå’ŒPhysicsã€‚&lt;/p>
&lt;p>&lt;strong>æ¨¡å‹&lt;/strong>&lt;/p>
&lt;p>ä½œè€…åœ¨å››ä¸ªGNNæ¨¡å‹ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œåˆ†åˆ«æ˜¯SAGEï¼ŒGCNï¼ŒGATå’ŒGINã€‚æ¯ä¸ªæ¨¡å‹éƒ½ç»è¿‡100è½®çš„è®­ç»ƒï¼Œé»˜è®¤å­¦ä¹ ç‡è®¾ç½®ä¸º0.01ï¼Œæƒé‡è¡°å‡ä¸º0.001ã€‚&lt;/p>
&lt;p>&lt;strong>æŒ‡æ ‡&lt;/strong>&lt;/p>
&lt;p>åœ¨é—®é¢˜æ„é€ ä¸­æè¿‡ï¼Œå°±æ˜¯é—å¿˜å­¦ä¹ æ•ˆç‡å’Œæ¨¡å‹æ•ˆç”¨&lt;/p>
&lt;ul>
&lt;li>é—å¿˜å­¦ä¹ æ•ˆç‡ï¼šè®¡ç®—100ä¸ªç‹¬ç«‹é—å¿˜å­¦ä¹ è¯·æ±‚çš„å¹³å‡é—å¿˜å­¦ä¹ æ—¶é—´ã€‚&lt;/li>
&lt;li>æ¨¡å‹æ•ˆç”¨ï¼šä½¿ç”¨F1å¾—åˆ†&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>åŸºçº¿&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Scratchã€Œä»å¤´å¼€å§‹è®­ç»ƒã€&lt;/li>
&lt;li>Randomã€Œéšæœºåˆ†åŒºã€&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å®éªŒè®¾ç½®&lt;/strong>&lt;/p>
&lt;p>å°†æ•´ä¸ªå›¾åˆ†ä¸ºä¸¤ä¸ªä¸ç›¸äº¤çš„éƒ¨åˆ†ï¼Œå…¶ä¸­80%çš„èŠ‚ç‚¹ç”¨äºè®­ç»ƒGNNæ¨¡å‹ï¼Œ20%çš„èŠ‚ç‚¹ç”¨äºè¯„ä¼°æ¨¡å‹æ•ˆç”¨ã€‚&lt;/p>
&lt;p>åˆ†ç‰‡å¤§å°$k$è®¾ä¸º20, 20, 50, 30, å’Œ 100&lt;/p>
&lt;p>ç‰‡ä¸­èŠ‚ç‚¹æœ€å¤§ä¸ªæ•°$\delta$è®¾ä¸º$\left \lceil \frac{n}{k} \right \rceil $&lt;/p>
&lt;p>æœ€å¤§è¿­ä»£æ¬¡æ•°$T$è®¾ä¸º30&lt;/p>
&lt;p>BLPAå¯¹åº”ç¤¾åŒºå‘ç°ç®—æ³•ï¼›BEKMå¯¹åº”åµŒå…¥å¼èšç±»ç®—æ³•&lt;/p>
&lt;h3 id="é—å¿˜å­¦ä¹ æ•ˆç‡è¯„ä¼°">&lt;a href="#%e9%81%97%e5%bf%98%e5%ad%a6%e4%b9%a0%e6%95%88%e7%8e%87%e8%af%84%e4%bc%b0" class="header-anchor">&lt;/a>é—å¿˜å­¦ä¹ æ•ˆç‡è¯„ä¼°
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185539675.png"
width="1733"
height="464"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185539675_hu_6f3a611eb1d0d762.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185539675_hu_96450a638557c16b.png 1024w"
loading="lazy"
alt="é—å¿˜å­¦ä¹ æ•ˆç‡"
class="gallery-image"
data-flex-grow="373"
data-flex-basis="896px"
>&lt;/p>
&lt;p>å¦‚å›¾æ‰€ç¤ºï¼ŒBLPAå’ŒBEKMç›¸å¯¹äºä»å¤´è®­ç»ƒæ¨¡å‹ï¼Œå¯ä»¥æ˜¾è‘—çš„å‡å°‘è®­ç»ƒçš„æ—¶é—´ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185950025.png"
width="991"
height="358"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185950025_hu_cb8af87f07830d8c.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921185950025_hu_489c8bf421efc731.png 1024w"
loading="lazy"
alt="æ¯ä¸ªæ­¥éª¤æ‰€èŠ±è´¹çš„æ—¶é—´"
class="gallery-image"
data-flex-grow="276"
data-flex-basis="664px"
>&lt;/p>
&lt;p>ç›¸å¯¹äºRandomï¼Œæ—¶é—´ç•¥é•¿æ˜¯å› ä¸ºå­˜åœ¨æ›´é•¿çš„å›¾åˆ†å‰²æˆæœ¬ã€‚BLPA å’Œ BEKM éƒ½éœ€è¦å¤šæ¬¡è¿­ä»£ä»¥ä¿ç•™ç»“æ„ä¿¡æ¯ã€‚ä½†ä¸€æ—¦å®Œæˆå›¾åˆ†å‰²ï¼Œå°±ä¼šå°†å…¶å›ºå®šä¸‹æ¥ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œæˆ‘ä»¬å¯ä»¥å®¹å¿è¿™ç§ä»£ä»·ï¼Œå› ä¸ºå®ƒåªæ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p>
&lt;h3 id="æ¨¡å‹æ•ˆç”¨è¯„åˆ†">&lt;a href="#%e6%a8%a1%e5%9e%8b%e6%95%88%e7%94%a8%e8%af%84%e5%88%86" class="header-anchor">&lt;/a>æ¨¡å‹æ•ˆç”¨è¯„åˆ†
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921193316971.png"
width="1960"
height="799"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921193316971_hu_3d1f0efb28430581.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921193316971_hu_e1ccddf03fd2d90f.png 1024w"
loading="lazy"
alt="ä¸åŒé—å¿˜å­¦ä¹ æ–¹æ³•æ¨¡å‹æ•ˆç”¨"
class="gallery-image"
data-flex-grow="245"
data-flex-basis="588px"
>&lt;/p>
&lt;p>ç»¿è‰²åº•è‰²è¡¨ç¤ºä¸éœ€è¦èšåˆï¼Œçº¢è‰²åº•è‰²è¡¨ç¤ºä½œè€…æå‡ºçš„æ–¹æ³•ï¼Œè“è‰²å­—ä½“è¡¨ç¤ºæœ€ä¼˜å¾—åˆ†ã€‚&lt;/p>
&lt;p>æœ‰äº›éšæœºå¾—åˆ†å’ŒBLPAå’ŒBEKMå·®ä¸å¤šï¼Œä½œè€…è®¤ä¸ºè¿™æ—¶ç”±äºå›¾ç»“æ„ä¿¡æ¯åœ¨GNNæ¨¡å‹ä¸­ä½œç”¨ä¸å¤§å¯¼è‡´çš„ã€‚&lt;/p>
&lt;p>å¯¹æ­¤ï¼Œä½œè€…æå‡ºäº†ä¸€ä¸ªæ–¹æ³•é€‰æ‹©çš„æŠ€å·§ï¼šå¯ä»¥é¦–å…ˆæ¯”è¾ƒMLPå’ŒGNNçš„F1åˆ†æ•°ï¼Œå¦‚æœMLPå’ŒGNNä¹‹é—´çš„F1åˆ†æ•°å·®è·å¾ˆå°ï¼Œéšæœºæ–¹æ³•å¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“å®ç°ï¼Œå¹¶ä¸”å¯ä»¥å®ç°ä¸BLPAå’ŒBEKMç›¸å½“çš„æ¨¡å‹æ•ˆç”¨ã€‚å¦åˆ™ï¼ŒBLPAå’ŒBEKMæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºæ›´å¥½çš„æ¨¡å‹å®ç”¨ç¨‹åºã€‚&lt;/p>
&lt;p>å¦‚æœ GNN éµå¾ª GCN ç»“æ„ï¼Œåˆ™å¯ä»¥é€‰æ‹©BLPAï¼Œå¦åˆ™å¯ä»¥é‡‡ç”¨ BEKMã€‚è¿™æ˜¯å› ä¸º GCN æ¨¡å‹éœ€è¦èŠ‚ç‚¹åº¦ä¿¡æ¯æ¥è¿›è¡Œå½’ä¸€åŒ–ï¼Œè€ŒBLPA å¯ä»¥ä¿ç•™æ›´å¤šçš„å±€éƒ¨ç»“æ„ä¿¡æ¯ï¼Œä»è€Œæ›´å¥½åœ°ä¿ç•™èŠ‚ç‚¹åº¦ã€‚&lt;/p>
&lt;p>BEKM åœ¨ Cora æ•°æ®é›†å’Œ GIN æ¨¡å‹ä¸Šçš„ F1 å¾—åˆ†ä¸º 0.801ï¼Œè€Œ Scratch çš„ç›¸åº” F1 å¾—åˆ†ä¸º 0.787ã€‚ä½œè€…è®¤ä¸ºæœ‰ä¸¤ç§å¯èƒ½çš„åŸå› ï¼šæŠ½æ ·å¾€å¾€å¯ä»¥æ¶ˆé™¤æ•°æ®é›†ä¸­çš„ä¸€äº›â€œå™ªå£°â€ï¼›å…¶æ¬¡ï¼ŒGraphEraseré€šè¿‡èšåˆæ‰€æœ‰å­æ¨¡å‹çš„ç»“æœæ¥è¿›è¡Œæœ€ç»ˆé¢„æµ‹ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼ŒGraphEraseræ‰§è¡Œé›†æˆï¼Œè¿™æ˜¯æé«˜æ¨¡å‹æ€§èƒ½çš„å¦ä¸€ç§æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="lbaggr-çš„æ•ˆæœ">&lt;a href="#lbaggr-%e7%9a%84%e6%95%88%e6%9e%9c" class="header-anchor">&lt;/a>LBAggr çš„æ•ˆæœ
&lt;/h3>&lt;p>æœ‰æ•ˆï¼Œå¯ä»¥æå‡F1åˆ†æ•°ã€‚&lt;/p>
&lt;p>æ¯”è¾ƒä¸åŒçš„GNNæ¨¡å‹ï¼ŒGCNä»LBAggrä¸­å—ç›Šæœ€å¤§ï¼Œè€ŒGINå—ç›Šæœ€å°‘ã€‚åœ¨æ¨¡å‹æ•ˆç”¨æ–¹é¢ï¼ŒGraphEraser-BLPAæ–¹æ³•ä»LBAggrä¸­å—ç›Šæœ€å¤§ã€‚æˆ‘ä»¬æ¨æµ‹è¿™æ˜¯å› ä¸ºBLPAåˆ’åˆ†æ–¹æ³•å¯ä»¥æ•è·å±€éƒ¨ç»“æ„ä¿¡æ¯ï¼ŒåŒæ—¶ä¸¢å¤±è®­ç»ƒå›¾çš„ä¸€äº›å…¨å±€ç»“æ„ä¿¡æ¯ã€‚&lt;/p>
&lt;p>ä¸ºäº†è¿›ä¸€æ­¥æé«˜å¿˜å´æ•ˆç‡ï¼Œå¯ä»¥ä½¿ç”¨è®­ç»ƒå›¾ä¸­çš„ä¸€å°éƒ¨åˆ†èŠ‚ç‚¹æ¥å­¦ä¹ é‡è¦æ€§åˆ†æ•°ã€‚è¿™æ ·åšå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘ LBAggr çš„é—å¿˜å­¦ä¹ æ—¶é—´ã€‚ä½¿ç”¨ 10% çš„èŠ‚ç‚¹å’Œä½¿ç”¨å›ºå®šæ•°é‡çš„ 1ï¼Œ000 ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥å®ç°ä¸ä½¿ç”¨æ‰€æœ‰èŠ‚ç‚¹ç›¸å½“çš„æ¨¡å‹æ•ˆç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921194318907.png"
width="971"
height="561"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921194318907_hu_92b016a23587b81c.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921194318907_hu_71f9c13474b1d5.png 1024w"
loading="lazy"
alt="LBAggr çš„æ•ˆæœ"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="415px"
>&lt;/p>
&lt;h3 id="å’Œå…¶ä»–é—å¿˜å­¦ä¹ æ–¹æ³•å¯¹æ¯”">&lt;a href="#%e5%92%8c%e5%85%b6%e4%bb%96%e9%81%97%e5%bf%98%e5%ad%a6%e4%b9%a0%e6%96%b9%e6%b3%95%e5%af%b9%e6%af%94" class="header-anchor">&lt;/a>å’Œå…¶ä»–é—å¿˜å­¦ä¹ æ–¹æ³•å¯¹æ¯”
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921200838804.png"
width="2011"
height="1003"
srcset="https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921200838804_hu_baf7ab0c311bd774.png 480w, https://lbqaq.top/p/graph-unlearning/IMAGE/image-20230921200838804_hu_b15c3db71f522390.png 1024w"
loading="lazy"
alt="é—å¿˜å­¦ä¹ å¯¹æ¯”"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="481px"
>&lt;/p>
&lt;p>åŒæ ·ï¼Œä¹Ÿæ˜¯ä½œè€…çš„æ–¹æ³•æ¯”è¾ƒå¥½ã€‚&lt;/p></description></item><item><title>æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—</title><link>https://lbqaq.top/p/langchao/</link><pubDate>Sun, 03 Sep 2023 14:10:14 +0800</pubDate><guid>https://lbqaq.top/p/langchao/</guid><description>&lt;img src="https://lbqaq.top/p/langchao/102879503.webp" alt="Featured image of post æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—" />&lt;p>éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹ç®—åŠ›çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚ä½†æˆ‘å®éªŒå®¤çš„ç”µè„‘å¹¶æ²¡æœ‰é…ç½®æ˜¾å¡ï¼Œæ‰€ä»¥ä¾¿éœ€è¦ä½¿ç”¨å­¦é™¢çš„æœåŠ¡å™¨ã€‚æˆåŠŸæ‹¿åˆ°è´¦å·åï¼Œå´å‘ç°è¿™ä¸ªå¹³å°å¹¶æ²¡æœ‰æˆ‘æƒ³è±¡çš„é‚£ä¹ˆå¥½ç”¨ğŸ˜‡ä¸ºäº†è¾¾åˆ°æœ€èˆ’é€‚çš„ä½¿ç”¨ä½“éªŒï¼Œå¼€æï¼&lt;/p>
&lt;h2 id="é…ç½®å¼€å‘é•œåƒ">&lt;a href="#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%8f%91%e9%95%9c%e5%83%8f" class="header-anchor">&lt;/a>é…ç½®å¼€å‘é•œåƒ
&lt;/h2>&lt;p>å¹³å°é‡Œè™½ç„¶é¢„ç½®äº†ä¸€äº›å¼€å‘ç¯å¢ƒï¼Œä½†ä»ç„¶ç¼ºå°‘ä¸€äº›éœ€è¦çš„è½¯ä»¶ï¼Œæ¯æ¬¡è¿å…¥åå†é‡æ–°å®‰è£…å®åœ¨æ˜¯ä¸ä¼˜é›…ã€‚é‚£ä¹ˆæœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯é…ç½®å¥½ä¸€å¥—ç¯å¢ƒï¼Œç›´æ¥æ‹‰å–å°±èƒ½ä½¿ç”¨ã€‚åœ¨æˆ‘ä¹‹å‰ï¼Œå·²ç»æœ‰ä½å¤§ä½¬æ„å»ºäº†ä¸€å¥—å¼€å‘ç¯å¢ƒå¹¶è¿›è¡Œäº†åˆ†äº«ï¼Œå¯æ˜¯é•œåƒå¤§å°è¾¾åˆ°äº†æƒŠäººçš„18.4GğŸ˜¯ï¼ˆå®¹é‡å¤§è¯´æ˜åŠŸèƒ½å¤šï¼Œæ­¤å¤„å¹¶æ²¡æœ‰è´¬ä½çš„æ„æ€ï¼‰ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢Archçš„å“²å­¦ï¼Œå³Keep It Simple, Stupidï¼ˆå¯¹åº”ä¸­æ–‡ä¸ºâ€œä¿æŒç®€å•ï¼Œä¸”ä¸€ç›®äº†ç„¶â€ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘å†³å®šæ„å»ºä¸€ä¸ªæœ€å°åŒ–çš„å¼€å‘ç¯å¢ƒä¸”å¯ä»¥å¼€ç®±å³ç”¨ã€‚&lt;/p>
&lt;p>é€šè¿‡æ¢ç©¶å‘ç°ï¼Œè¿™ä¸ªå¹³å°ä¸Šæ‰€æœ‰çš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯ä¸€ä¸ªDockerå®¹å™¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦æ„å»ºå¥½é•œåƒå¹¶ä¸Šä¼ å°±OKäº†ã€‚æ„å»ºé•œåƒæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è¿›å…¥å®¹å™¨æ‰‹åŠ¨é…ç½®ç„¶åä½¿ç”¨&lt;code>docker commit ...&lt;/code>ä¿å­˜ä¿®æ”¹ï¼›å¦ä¸€ç§åˆ™æ˜¯ä½¿ç”¨&lt;code>Dockerfile&lt;/code>ã€‚ä¸ºäº†ä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ï¼Œæˆ‘é€‰æ‹©äº†ç¬¬äºŒç§ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥å°±æ˜¯æ˜ç¡®éœ€æ±‚äº†ï¼Œæˆ‘å¯¹å…¶çš„è¦æ±‚æœ‰å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰è£…å¥½æ˜¾å¡é©±åŠ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨cuda&lt;/li>
&lt;li>å®‰è£…å¥½condaï¼Œå¯ä»¥ä¾¿æ·çš„ç®¡ç†pythonå¼€å‘ç¯å¢ƒ&lt;/li>
&lt;li>æœ‰ä¸€ä¸ªæ˜“ç”¨çš„ç»ˆç«¯ï¼Œæ–¹ä¾¿è°ƒè¯•&lt;/li>
&lt;/ul>
&lt;p>cudaå¾ˆå¥½è§£å†³ï¼Œç›´æ¥åœ¨nvidiaå®˜æ–¹çš„é•œåƒä¸Šè¿›è¡Œä¿®æ”¹å°±è¡Œäº†&lt;/p>
&lt;p>å¯¹äºcondaï¼ŒåŸç‰ˆçš„Anacondaè¿‡äºè‡ƒè‚¿ï¼Œä¸ç¬¦åˆKISSåŸåˆ™ã€‚åŒæ—¶ï¼Œå½“ç¯å¢ƒå¤æ‚(&lt;code>conda&lt;/code>å’Œ&lt;code>pip&lt;/code>æ··ç”¨)æ—¶ï¼Œ&lt;code>solving environment&lt;/code>è¿™ä¸€æ­¥å¯ä»¥å¡åˆ°ä½ æ€€ç–‘äººç”Ÿï¼Œäºæ˜¯æˆ‘é€‰æ‹©äº†ä½¿ç”¨C++é‡æ„çš„&lt;a class="link" href="https://github.com/mamba-org/mamba" target="_blank" rel="noopener"
>mamba&lt;/a>ï¼Œå¹¶é€‰æ‹©&lt;code>micromamba&lt;/code>è¿›ä¸€æ­¥å‹ç¼©ä½“ç§¯ã€‚&lt;/p>
&lt;p>å¯¹äºç»ˆç«¯ï¼Œé‚£å°±æ— è„‘ä½¿ç”¨&lt;code>zsh&lt;/code>å¹¶åŠ è½½&lt;code>oh-my-zsh&lt;/code>å¹¶å®‰è£…æˆ‘æ—¥å¸¸ä½¿ç”¨çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥å¼€å†™Dockerfileäº†ã€‚&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># base image&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nvidia/cuda:11.3.1-cudnn8-runtime-ubuntu20.04&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> luoboQAQ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># è®¾ç½®å›½å†…é•œåƒæºå¹¶å®‰è£…è½¯ä»¶&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s1">&amp;#39;s@/archive.ubuntu.com/@/mirrors.bfsu.edu.cn/@g&amp;#39;&lt;/span> /etc/apt/sources.list &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get clean &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get update &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y --no-install-recommends openssh-client openssh-server git zsh curl vim &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/* &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®openssh[https://github.com/wjyzzu/inpsur-dockerfile/blob/main/base/ubuntu/Dockerfile]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mkdir -p /var/run/sshd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> /usr/bin/ssh-keygen -A &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/ssh_config &lt;span class="p">|&lt;/span> grep -v StrictHostKeyChecking &amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34; StrictHostKeyChecking no&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/sshd_config &lt;span class="p">|&lt;/span> grep -v PermitRootLogin&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;PermitRootLogin yes&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/ssh_config.new /etc/ssh/ssh_config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/sshd_config.new /etc/ssh/sshd_config&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®oh-my-zsh&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/mirrors/oh-my-zsh ~/.oh-my-zsh &lt;span class="se">\ &lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/lightnear/zsh-syntax-highlighting.git &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-syntax-highlighting &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s2">&amp;#34;s/plugins=(git.*)&lt;/span>$&lt;span class="s2">/plugins=(git zsh-syntax-highlighting)/&amp;#34;&lt;/span> ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> chsh -s /bin/zsh &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å®‰è£…micromambaå¹¶é…ç½®å›½å†…æº&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest &lt;span class="p">|&lt;/span> tar -xvj bin/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> ./bin/micromamba shell init -s zsh -p ~/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nalias conda=&amp;#39;micromamba&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - defaults \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">show_channel_urls: true \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">default_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/main \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/r \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/msys2 \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">custom_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> conda-forge: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> msys2: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> bioconda: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> menpo: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch-lts: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> simpleitk: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> deepmodeling: https://mirrors.bfsu.edu.cn/anaconda/cloud/&amp;#34;&lt;/span> &amp;gt; ~/.condarc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;[global] \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">index-url = https://mirrors.bfsu.edu.cn/pypi/web/simple&amp;#34;&lt;/span> &amp;gt; /etc/pip.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®ç½‘ç»œä»£ç†&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nexport HTTP_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export HTTPS_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export ALL_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 22&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /root&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;/bin/zsh&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>é™¤äº†ä¸Šé¢æåˆ°çš„å‡ ç‚¹ï¼Œæˆ‘è¿˜å¢åŠ äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>é•œåƒå·²é…ç½®å¥½å›½å†…é•œåƒæºï¼Œæ–¹ä¾¿æ„å»ºä»¥åŠä½¿ç”¨æ—¶å®‰è£…æ–°çš„åŒ…&lt;/li>
&lt;li>é…ç½®opensshï¼Œä½¿å…¶å¯ä»¥è¢«æµªæ½®å¹³å°æ¥å…¥å¹¶æä¾›SSHæœåŠ¡&lt;/li>
&lt;li>é¢„å…ˆå®‰è£…å¥½vimï¼Œä¾¿äºé…ç½®æ–‡ä»¶çš„ä¿®æ”¹&lt;/li>
&lt;li>æå‰è®¾ç½®å¥½ç½‘ç»œä»£ç†ï¼Œä¾¿äºè¿æ¥äº’è”ç½‘&lt;/li>
&lt;li>è®¾ç½®åˆ«åï¼š&lt;code>conda&lt;/code>-&amp;gt;&lt;code>micromamba&lt;/code>ï¼Œæ–¹ä¾¿æ—¥å¸¸ä½¿ç”¨&lt;/li>
&lt;/ul>
&lt;p>ç”±äºæœåŠ¡å™¨æ²¡æœ‰ç½‘ç»œï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¸Šä¼ é•œåƒï¼Œä½¿ç”¨å‘½ä»¤&lt;code>docker save -o [TAGS]&lt;/code>æ‰“åŒ…æˆtaråŒ…å¹¶ä¸Šä¼ è‡³ç³»ç»Ÿä¸­ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©å¤§ä¼™å¿«é€Ÿä¸Šæ‰‹è¯¥å¹³å°ï¼Œæ¯•ç«Ÿæœ‰è¿™ä¹ˆå¥½çš„èµ„æºå°±è¦å¥½å¥½åˆ©ç”¨èµ·æ¥ã€‚&lt;/p></description></item><item><title>ä»é›¶å¼€å§‹ç¼–å†™Xposedæ¨¡å—</title><link>https://lbqaq.top/p/init-xposed/</link><pubDate>Fri, 21 Jul 2023 14:22:44 +0800</pubDate><guid>https://lbqaq.top/p/init-xposed/</guid><description>&lt;img src="https://lbqaq.top/p/init-xposed/109457609.webp" alt="Featured image of post ä»é›¶å¼€å§‹ç¼–å†™Xposedæ¨¡å—" />&lt;p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äº&lt;a class="link" href="https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/" target="_blank" rel="noopener"
>Magiskæ¨¡å—&lt;/a>çš„ç¼–å†™çš„æ–‡ç« ï¼Œä¸è¿‡Magiskä¿®æ”¹çš„éƒ½æ˜¯æ¯”è¾ƒåç³»ç»Ÿçš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨çš„å¹¶ä¸æ˜¯å¾ˆå¤šã€‚äºæ˜¯æˆ‘ä¾¿æŠŠç›®å…‰è½¬å‘Xposedï¼Œæ¯•ç«Ÿä¼šHookçœŸçš„å¤ªé…·è¾£ğŸ˜&lt;/p>
&lt;h2 id="xposedçš„åŸºæœ¬æ¦‚å¿µ">&lt;a href="#xposed%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>Xposedçš„åŸºæœ¬æ¦‚å¿µ
&lt;/h2>&lt;p>æåˆ°Xposedï¼Œçˆ±ç©æœºçš„ç”¨æˆ·éƒ½åº”è¯¥å¬è¿‡ä»–çš„å¤§åï¼Œä½œä¸ºä¸€æ¬¾å¯ä»¥åœ¨ä¸ä¿®æ”¹APKçš„æƒ…å†µä¸‹å½±å“ç¨‹åºè¿è¡Œçš„æ¡†æ¶ï¼Œå¯ä»¥åŸºäºå®ƒå¯ä»¥åˆ¶ä½œå‡ºè®¸å¤šåŠŸèƒ½å¼ºå¤§çš„æ¨¡å—ï¼Œä¸”åœ¨åŠŸèƒ½ä¸å†²çªçš„æƒ…å†µä¸‹åŒæ—¶è¿ä½œã€‚å¾®ä¿¡é˜²æ’¤å›ã€æ­¥æ•°ä¿®æ”¹ã€å»å¹¿å‘Šã€ç¾åŒ–&amp;hellip;&amp;hellip;.ä»–èƒ½å®ç°è®¸è®¸å¤šå¤šçš„åŠŸèƒ½ï¼Œå¯ä»¥è¯´æ²¡æœ‰å®ƒç©æœºçš„ä¸–ç•Œå°†ä¼šå°‘å¾ˆå¤šçš„ä¹è¶£ã€‚&lt;/p>
&lt;p>å®ƒçš„åŸç†å°±æ˜¯é€šè¿‡æ›¿æ¢ç³»ç»ŸåŸæœ¬çš„&lt;code>app_process&lt;/code>ï¼ŒåŠ è½½ä¸€ä¸ªé¢å¤–çš„jaråŒ…ï¼Œä»è€Œå®ç°å¯¹zygoteè¿›ç¨‹åŠå…¶åˆ›å»ºçš„Dalvik/ARTè™šæ‹Ÿæœºçš„åŠ«æŒã€‚&lt;/p>
&lt;p>æ²¡å¬æ‡‚ï¼Ÿæ²¡å…³ç³»ï¼Œ&lt;del>æˆ‘ä¹Ÿä¸æ‡‚&lt;/del>ã€‚ç›®å‰æˆ‘ä»¬åªè¦å…³æ³¨å¦‚ä½•ä½¿ç”¨å³å¯äº†ï¼Œè‡³äºåŸç†å¯ä»¥å…ˆæ”¾ä¸€æ”¾ã€‚&lt;/p>
&lt;h2 id="ç¯å¢ƒå‡†å¤‡">&lt;a href="#%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87" class="header-anchor">&lt;/a>ç¯å¢ƒå‡†å¤‡
&lt;/h2>&lt;p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€å°å¯ä»¥å®‰è£…Xposedæ¡†æ¶çš„æ‰‹æœºï¼ˆæ¨èLSPosedã€Android 10+ï¼‰&lt;/li>
&lt;li>ä¸€å°å¯ä»¥ç¼–å†™ä»£ç å¹¶ä¸”è£…æœ‰jdkçš„ç”µè„‘&lt;/li>
&lt;li>ä¸€ä¸ªåå«&lt;a class="link" href="https://developer.android.com/studio" target="_blank" rel="noopener"
>Android Studio&lt;/a>çš„è½¯ä»¶ï¼ˆæˆ‘ä¸»æ‰“ä¸€ä¸ªå›é€†ï¼Œç”¨&lt;a class="link" href="https://www.jetbrains.com/zh-cn/idea/download/" target="_blank" rel="noopener"
>IDEA&lt;/a>åŒæ ·å¯ä»¥ï¼‰&lt;/li>
&lt;li>ä¸€ä¸ªåç¼–è¯‘è½¯ä»¶ï¼Œå¦‚ï¼š&lt;a class="link" href="https://github.com/skylot/jadx" target="_blank" rel="noopener"
>JADX&lt;/a>&lt;/li>
&lt;li>ä¸€ä¸ªå¯ä»¥æŸ¥çœ‹å¸ƒå±€çš„Appï¼Œå¦‚ï¼šå¼€å‘è€…åŠ©æ‰‹&lt;/li>
&lt;/ul>
&lt;p>è¿™æ¬¡æˆ‘æ‰“ç®—ä»ä¸€ä¸ªå®ä¾‹å‡ºå‘ï¼šå°æ˜æ‰‹æœºä¸Šè£…äº†ä¸€äº›æ¶æ„è½¯ä»¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡Xposedè¿›è¡ŒHookï¼Œä¸è®©å°æ˜å¯åŠ¨è¿™äº›è½¯ä»¶ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;h3 id="åˆ›å»ºé¡¹ç›®å¼•å…¥ä¾èµ–">&lt;a href="#%e5%88%9b%e5%bb%ba%e9%a1%b9%e7%9b%ae%e5%bc%95%e5%85%a5%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>åˆ›å»ºé¡¹ç›®&amp;amp;å¼•å…¥ä¾èµ–
&lt;/h3>&lt;p>é¦–å…ˆåœ¨IDEAé€‰æ‹©æ–°å»ºé¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆå™¨ä¸‹æœ‰Androidè¿™é¡¹ï¼Œæˆ‘ä»¬é€‰æ‹©å®ƒã€‚&lt;/p>
&lt;p>ç¬¬ä¸€æ¬¡é€‰æ‹©æ—¶å¯èƒ½ä¼šè¦æ±‚ä½ ä¸‹è½½å®‰å“çš„SDKï¼ŒæŒ‰ç…§æŒ‡ç¤ºä¸€æ­¥ä¸€æ­¥è¿›è¡Œå°±å¥½ã€‚&lt;/p>
&lt;h4 id="java">&lt;a href="#java" class="header-anchor">&lt;/a>Java
&lt;/h4>&lt;p>æˆ‘ä»¬é€‰æ‹©åˆ›å»ºä¸€ä¸ª&lt;code>No Activity&lt;/code>ï¼Œè¯­è¨€é€‰æ‹©&lt;code>Java&lt;/code>ï¼ŒSDKé€‰é»˜è®¤çš„&lt;code>API 24&lt;/code>å°±å¯ã€‚&lt;/p>
&lt;p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥Xposedçš„åº“ï¼Œä¸è¿‡å®ƒå¹¶æ²¡æœ‰ä¸Šä¼ åˆ°MavenCentralä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨&lt;code>settings.gradle&lt;/code>é‡Œä¿®æ”¹ä¸€ä¸‹(gradle 7.0+)&lt;/p>
&lt;p>æ‰“å¼€&lt;code>settings.gradle&lt;/code>ï¼Œæ·»åŠ ä¸€è¡Œä»£ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencyResolutionManagement&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RepositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">FAIL_ON_PROJECT_REPOS&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositories&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">google&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mavenCentral&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maven&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="s1">&amp;#39;https://api.xposed.info/&amp;#39;&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="c1">// æ·»åŠ è¿™ä¸€è¡Œå³å¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åï¼Œè¿›å…¥æˆ‘ä»¬appç›®å½•ä¸‹çš„build.gradleï¼Œå¼•å…¥xposedçš„ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencies&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compileOnly&lt;/span> &lt;span class="s1">&amp;#39;de.robv.android.xposed:api:82&amp;#39;&lt;/span> &lt;span class="c1">//æ·»åŠ æˆ‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// compileOnly &amp;#39;de.robv.android.xposed:api:82:sources&amp;#39; // ä¸è¦å¯¼å…¥æºç ï¼Œè¿™ä¼šå¯¼è‡´ideaæ— æ³•ç´¢å¼•æ–‡ä»¶ï¼Œä»è€Œè®©è¯­æ³•æç¤ºå¤±æ•ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬è¿˜è¦åœ¨&lt;code>./app/src/main/res/values&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>arrays.xml&lt;/code>ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string-array&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;xposedscope&amp;#34;&lt;/span> &lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è¿™é‡Œå¡«å†™æ¨¡å—çš„ä½œç”¨åŸŸåº”ç”¨çš„åŒ…åï¼Œå¯ä»¥å¡«å¤šä¸ªã€‚ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>ceui.lisa.pixiv&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>com.xjs.ehviewer&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>com.picacomic.fregata&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/string-array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸€æ­¥ä¸»è¦æ˜¯æŒ‡å®šæ¨¡å—çš„ä½œç”¨åŸŸåŒ…åï¼Œæ•ˆæœå°±æ˜¯åœ¨Lsposedä¸­å‹¾é€‰ä½œç”¨åŸŸæ—¶ä¼šåœ¨åº”ç”¨ä¸‹æç¤ºæ¨èåº”ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/1.jpg"
width="864"
height="956"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/1_hu_844a5e10eae581d7.jpg 480w, https://lbqaq.top/p/init-xposed/IMAGE/1_hu_a27c19c76dcb8ce0.jpg 1024w"
loading="lazy"
alt="æ¨èåº”ç”¨æ•ˆæœ"
class="gallery-image"
data-flex-grow="90"
data-flex-basis="216px"
>&lt;/p>
&lt;p>æœ€åï¼Œæˆ‘ä»¬åœ¨Runé‚£é‡Œç¼–è¾‘ä¸€ä¸‹å¯åŠ¨é…ç½®ï¼Œå‹¾é€‰&lt;code>Always install with package manager&lt;/code>å¹¶ä¸”å°†&lt;code>Launch Options&lt;/code>æ”¹æˆ&lt;code>Nothing&lt;/code>&lt;/p>
&lt;h4 id="kotlin">&lt;a href="#kotlin" class="header-anchor">&lt;/a>Kotlin
&lt;/h4>&lt;p>åˆ›å»ºé¡¹ç›®çš„éƒ¨åˆ†å’ŒJavaçš„è®¾ç½®æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªä¸è¿‡æ˜¯éœ€è¦å°†è¯­è¨€åˆ‡æ¢ä¸€ä¸‹ã€‚æ–°ç‰ˆæœ¬çš„Android Studioå°†åŸæ¥çš„æ‰“åŒ…è¯­è¨€æ¢æˆäº†Kotlinï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è®¾ç½®æœ‰ä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚&lt;a class="link" href="#20240915" >2024.09.15æ›´æ–°&lt;/a>&lt;/p>
&lt;p>åŸæ¥çš„&lt;code>settings.gradle&lt;/code>å˜ä¸º&lt;code>settings.gradle.kts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencyResolutionManagement&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">set&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">RepositoriesMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">FAIL_ON_PROJECT_REPOS&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repositories&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">google&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mavenCentral&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maven&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="n">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uri&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;https://api.xposed.info/&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="c1">//æ·»åŠ è¿™ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸæ¥çš„&lt;code>build.gradle&lt;/code>å˜ä¸º&lt;code>build.gradle.kts&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencies&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compileOnly&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;de.robv.android.xposed:api:82&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//æ·»åŠ æˆ‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å£°æ˜æ¨¡å—">&lt;a href="#%e5%a3%b0%e6%98%8e%e6%a8%a1%e5%9d%97" class="header-anchor">&lt;/a>å£°æ˜æ¨¡å—
&lt;/h3>&lt;p>æ¥ä¸‹æ¥å°±æ˜¯è¦å£°æ˜æˆ‘ä»¬æ˜¯ä¸€ä¸ªXposedæ¨¡å—ï¼Œæ–¹ä¾¿æ¡†æ¶å‘ç°ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>./app/src/main/AndroidManifest.xml&lt;/code>é‡Œï¼Œæˆ‘ä»¬å°†&lt;code>&amp;lt;application ... /&amp;gt;&lt;/code>æ”¹æˆä»¥ä¸‹å½¢å¼ï¼ˆæ³¨æ„ï¼Œæ˜¯æ”¹æˆï¼å°±æ˜¯æŠŠç»“å°¾çš„&lt;code>/&amp;gt;&lt;/code>æ¢æˆ&lt;code>&amp;gt; &amp;lt;/application&amp;gt;&lt;/code>ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;application&lt;/span> &lt;span class="err">...&lt;/span> &lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ˜¯å¦æ˜¯xposedæ¨¡å—ï¼Œxposedæ ¹æ®è¿™ä¸ªæ¥åˆ¤æ–­æ˜¯å¦æ˜¯æ¨¡å— --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedmodule&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ¨¡å—æè¿°ï¼Œæ˜¾ç¤ºåœ¨xposedæ¨¡å—åˆ—è¡¨é‚£é‡Œç¬¬äºŒè¡Œ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposeddescription&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;ä¸å¯ä»¥æ¶©æ¶©&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æœ€ä½xposedç‰ˆæœ¬å·(libæ–‡ä»¶åå¯çŸ¥,ä¸€èˆ¬å¡«54å³å¯) --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedminversion&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:value=&lt;/span>&lt;span class="s">&amp;#34;54&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- æ¨¡å—ä½œç”¨åŸŸ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;meta-data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;xposedscope&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">android:resource=&lt;/span>&lt;span class="s">&amp;#34;@array/xposedscope&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/application&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååœ¨&lt;code>src/main&lt;/code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åå«&lt;code>assets&lt;/code>ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å«&lt;code>xposed_init&lt;/code>ï¼Œ&lt;strong>æ³¨æ„ï¼Œå®ƒæ²¡æœ‰åç¼€åï¼ï¼&lt;/strong>ã€‚&lt;/p>
&lt;p>æ¥ç€æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå…¥å£ç±»ï¼Œåå«&lt;code>MainHook&lt;/code>ï¼ˆæˆ–è€…éšä¾¿ä½ æƒ³å–ä»€ä¹ˆåå­—éƒ½è¡Œï¼‰ï¼Œåˆ›å»ºå¥½åå›åˆ°æˆ‘ä»¬çš„&lt;code>xposed_init&lt;/code>é‡Œå¹¶ç”¨æ–‡æœ¬æ–‡ä»¶çš„æ–¹å¼æ‰“å¼€å®ƒï¼Œè¾“å…¥æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç±»çš„å®Œæ•´è·¯å¾„ã€‚å¦‚ï¼š&lt;code>top.lbqaq.nosese.MainHook&lt;/code>ï¼ŒåŒæ—¶&lt;strong>æ³¨æ„å¤§å°å†™&lt;/strong>ã€‚&lt;/p>
&lt;p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¼å¼€å§‹ç¼–å†™Xposedæ¨¡å—äº†ã€‚&lt;/p>
&lt;h2 id="æ¨¡å—ç¼–å†™">&lt;a href="#%e6%a8%a1%e5%9d%97%e7%bc%96%e5%86%99" class="header-anchor">&lt;/a>æ¨¡å—ç¼–å†™
&lt;/h2>&lt;h3 id="mainhook">&lt;a href="#mainhook" class="header-anchor">&lt;/a>MainHook
&lt;/h3>&lt;p>åœ¨&lt;code>MainHook&lt;/code>é‡Œï¼Œæˆ‘ä»¬éœ€è¦å®ç°Xposedçš„IXposedHookLoadPackageæ¥å£ï¼Œä»¥ä¾¿æ‰§è¡ŒHookæ“ä½œã€‚å°†ä»¥ä¸‹å†…å®¹æ›¿æ¢åŸæ¥çš„ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">de.robv.android.xposed.IXposedHookLoadPackage&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">de.robv.android.xposed.callbacks.XC_LoadPackage&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MainHook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IXposedHookLoadPackage&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">handleLoadPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¿‡æ»¤ä¸å¿…è¦çš„åº”ç”¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// æ‰§è¡ŒHook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å…·ä½“æµç¨‹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºKotlinï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">de.robv.android.xposed.IXposedHookLoadPackage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">de.robv.android.xposed.callbacks.XC_LoadPackage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MainHook&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">IXposedHookLoadPackage&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">handleLoadPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nc">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LoadPackageParam&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¿‡æ»¤ä¸å¿…è¦çš„åº”ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s2">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰§è¡ŒHook
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">private&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nc">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LoadPackageParam&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…·ä½“æµç¨‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆï¼Œå®‰è£…æ¨¡å—å¹¶åœ¨æ¡†æ¶ä¸­æ¿€æ´»å®ƒï¼&lt;/p>
&lt;h3 id="é˜»æ­¢åº”ç”¨å¯åŠ¨">&lt;a href="#%e9%98%bb%e6%ad%a2%e5%ba%94%e7%94%a8%e5%90%af%e5%8a%a8" class="header-anchor">&lt;/a>é˜»æ­¢åº”ç”¨å¯åŠ¨
&lt;/h3>&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åç¼–è¯‘ç¨‹åºæ¥æ‰¾åˆ°éœ€è¦Hookçš„ç‚¹ã€‚æ ¹æ®å®ä¾‹çš„è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦é˜»æ­¢å°æ˜å¯åŠ¨æŸäº›åº”ç”¨ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬åªéœ€è¦Hookå¯åŠ¨å‡½æ•°ï¼Œè®©å…¶æ— æ³•è¿è¡Œå³å¯ã€‚&lt;/p>
&lt;p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆäº†è§£Androidçš„å››å¤§ç»„ä»¶ä¹‹ä¸€â€”â€”&amp;ldquo;Activity(æ´»åŠ¨)&amp;rdquo;&lt;/p>
&lt;blockquote>
&lt;p>åœ¨åº”ç”¨ä¸­çš„ä¸€ä¸ªActivityå¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç•Œé¢ï¼Œæ„æ€å¯ä»¥ç†è§£ä¸ºâ€œæ´»åŠ¨â€ï¼Œå³ä¸€ä¸ªæ´»åŠ¨å¼€å§‹ï¼Œä»£è¡¨ Activityç»„ä»¶å¯åŠ¨ï¼Œæ´»åŠ¨ç»“æŸï¼Œä»£è¡¨ä¸€ä¸ªActivityçš„ç”Ÿå‘½å‘¨æœŸç»“æŸã€‚ä¸€ä¸ªAndroidåº”ç”¨å¿…é¡»é€šè¿‡Activityæ¥è¿è¡Œå’Œå¯åŠ¨ï¼ŒActivityçš„ç”Ÿå‘½å‘¨æœŸäº¤ç»™ç³»ç»Ÿç»Ÿä¸€ç®¡ç†ã€‚&lt;/p>&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‡½æ•°åç§°&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>onCreate()&lt;/td>
&lt;td>ä¸€ä¸ªActivityå¯åŠ¨åç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„å‡½æ•°ï¼Œå¸¸ç”¨æ¥åœ¨æ­¤æ–¹æ³•ä¸­è¿›è¡ŒActivityçš„ä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚ä¾‹å¦‚åˆ›å»ºViewï¼Œç»‘å®šæ•°æ®ï¼Œæ³¨å†Œç›‘å¬ï¼ŒåŠ è½½å‚æ•°ç­‰ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onStart()&lt;/td>
&lt;td>å½“Activityæ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œæ­¤æ–¹æ³•è¢«è°ƒç”¨ä½†æ­¤æ—¶è¿˜æ— æ³•è¿›è¡Œä¸ç”¨æˆ·çš„äº¤äº’æ“ä½œã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onResume()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•åœ¨onStart()ä¹‹åè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨Activityå‡†å¤‡å¥½ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„æ—¶å€™è°ƒç”¨ï¼Œæ­¤æ—¶çš„Activityä¸€å®šä½äºActivityæ ˆé¡¶ï¼Œå¤„äºè¿è¡ŒçŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onPause()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç³»ç»Ÿå‡†å¤‡å»å¯åŠ¨æˆ–è€…æ¢å¤å¦å¤–ä¸€ä¸ªActivityçš„æ—¶å€™è°ƒç”¨ï¼Œé€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰§è¡Œä¸€äº›é‡Šæ”¾èµ„æºçš„æ–¹æ³•ï¼Œä»¥åŠä¿å­˜ä¸€äº›å…³é”®æ•°æ®ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onStop()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Activityå®Œå…¨ä¸å¯è§çš„æ—¶å€™è°ƒç”¨çš„ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onDestroy()&lt;/td>
&lt;td>è¿™ä¸ªæ–¹æ³•åœ¨Activityé”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œä¹‹åActivityçš„çŠ¶æ€ä¸ºé”€æ¯çŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>onRestart()&lt;/td>
&lt;td>å½“Activityä»åœæ­¢stopçŠ¶æ€æ¢è¿›å…¥startçŠ¶æ€æ—¶è°ƒç”¨çŠ¶æ€ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å½“ Activity è¿›å…¥æ–°çŠ¶æ€æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨å…¶ä¸­æ¯ä¸ªå›è°ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle.png"
width="513"
height="663"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle_hu_dee1c1ccebe80832.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/activity_lifecycle_hu_5724e3eb302afd88.png 1024w"
loading="lazy"
alt="Activityç”Ÿå‘½å‘¨æœŸ"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="185px"
>&lt;/p>
&lt;p>é‚£ä¹ˆï¼Œæˆ‘ä»¬çš„æ€è·¯å°±å¾ˆæ˜ç¡®äº†ï¼šåªè¦æ‰¾åˆ°è¿™äº›ç¨‹åºçš„èµ·å§‹Activityï¼Œå¹¶Hookå®ƒçš„&lt;code>onCreate()&lt;/code>å‡½æ•°ï¼Œåœ¨å…¶å¯åŠ¨æ—¶å°±å°†å…¶æ€æ­»ï¼Œè¿™æ ·èƒ½å®ç°æ— æ³•å¯åŠ¨è¯¥ç¨‹åºã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨å¼€å‘è€…åŠ©æ‰‹ï¼Œé€‰æ‹©å¸ƒå±€æŸ¥çœ‹ï¼Œç„¶åæ‰“å¼€ç›®æ ‡åº”ç”¨ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ˜¾ç¤ºäº†å½“å‰çš„åŒ…åå’Œå½“å‰Activityã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/2.jpg"
width="432"
height="960"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/2_hu_52b78cececac8714.jpg 480w, https://lbqaq.top/p/init-xposed/IMAGE/2_hu_15ac3d3dccafb44b.jpg 1024w"
loading="lazy"
alt="å¸ƒå±€æŸ¥çœ‹"
class="gallery-image"
data-flex-grow="45"
data-flex-basis="108px"
>&lt;/p>
&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨jadx-guiï¼Œåç¼–è¯‘è¯¥åº”ç”¨ï¼Œæ‰¾åˆ°è¯¥Activity(&lt;code>ceui.lisa.activities.MainActivity&lt;/code>)ï¼Œå¹¶å¯»æ‰¾æ˜¯å¦æœ‰&lt;code>onCreate()&lt;/code>å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥Hookå³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336.png"
width="1790"
height="1004"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336_hu_730d6091497d831b.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721100655336_hu_a03e790876a820cf.png 1024w"
loading="lazy"
alt="jadx-guiåç¼–è¯‘"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ç„¶è€Œï¼Œè¿™ä¸ªç¨‹åºå±…ç„¶æ²¡æœ‰ğŸ˜¥ï¼Œè¯´æ˜å®ƒæ²¡æœ‰é‡å†™è¯¥æ–¹æ³•ï¼Œé‚£è¯¥å¦‚ä½•åšå‘¢ï¼Ÿè¿™æ—¶å°±å¯ä»¥ç”¨ç¬¬äºŒç§æ–¹æ³•äº†ã€‚&lt;/p>
&lt;h3 id="éå†æ‰€æœ‰ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•">&lt;a href="#%e9%81%8d%e5%8e%86%e6%89%80%e6%9c%89%e7%b1%bb%e4%b8%8b%e7%9a%84%e6%89%80%e6%9c%89%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>éå†æ‰€æœ‰ç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•
&lt;/h3>&lt;p>ä»æ ‡é¢˜å°±èƒ½çœ‹å‡ºæ¥ï¼Œæˆ‘ç›´æ¥æŠŠä½ æ‰€æœ‰èƒ½Hookçš„æ–¹æ³•å…¨éƒ¨è¯»å‡ºæ¥ï¼Œé‚£ä¸å°±éšä¾¿æˆ‘æŒ‘äº†å˜›ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“ï¼ŒJavaç¨‹åºéƒ½è¿è¡Œåœ¨jvmè™šæ‹Ÿæœºä¸­ï¼Œjvmè™šæ‹Ÿæœºé€šè¿‡ClassLoaderåŠ¨æ€è£…è½½æ‰€éœ€çš„classã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ç›´æ¥Hook ClassLoader ï¼Œä¸å°±çŸ¥é“ä½ æœ‰å“ªäº›æ–¹æ³•è¢«åŠ è½½è¿›æ¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ClassLoader&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;loadClass&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getResult&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazzName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ’é™¤éåŒ…åçš„ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazzName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getDeclaredMethods&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getModifiers&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å»é™¤æŠ½è±¡ã€nativeã€æ¥å£æ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAbstract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isNative&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;!&lt;/span>&lt;span class="n">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isAbstract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedBridge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">hookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mds&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;lbqaq&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ï¼ˆPSï¼šè¿™ä¸ªç¨‹åºå¾ˆå¥‡æ€ªï¼ŒåŒ…åæœ‰pixivï¼Œä½†ç±»åæ²¡æœ‰ï¼Œæ‰€ä»¥ç”¨&lt;code>ceui.lisa.pixiv&lt;/code>ä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰&lt;/p>
&lt;p>å°†ä¸Šé¢è¿™æ®µä»£ç å¤åˆ¶åˆ°ä¹‹å‰å†™å¥½çš„&lt;code>MainHook&lt;/code>ä¸­å»ï¼Œç¼–è¯‘æ¨é€åˆ°æ‰‹æœºã€‚&lt;/p>
&lt;p>åœ¨ç»ˆç«¯æ‰§è¡Œ&lt;code>adb logcat &amp;quot;lbqaq:D *:S&amp;quot;&lt;/code>å¼€å¯logcatå¹¶è¿›è¡Œè¿‡æ»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">â¯ adb logcat &amp;#34;lbqaq:D *:S&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--------- beginning of main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.185 5050 5050 D lbqaq : public void ceui.lisa.activities.Shaft.onCreate()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.194 5050 5050 D lbqaq : private void ceui.lisa.activities.Shaft.updateTheme()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.216 5050 5050 D lbqaq : public static android.content.Context ceui.lisa.activities.Shaft.getContext()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.238 5050 5050 D lbqaq : protected int ceui.lisa.activities.MainActivity.initLayout()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.238 5050 5050 D lbqaq : public boolean ceui.lisa.activities.MainActivity.hideStatusBar()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : protected void ceui.lisa.activities.MainActivity.initView()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : public static com.tencent.mmkv.MMKV ceui.lisa.activities.Shaft.getMMKV()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.276 5050 5050 D lbqaq : private void ceui.lisa.activities.MainActivity.initDrawerHeader()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.278 5050 5050 D lbqaq : public androidx.drawerlayout.widget.DrawerLayout ceui.lisa.activities.MainActivity.getDrawer()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.279 5050 5050 D lbqaq : protected void ceui.lisa.activities.MainActivity.initData()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">07-21 10:49:48.279 5050 5050 D lbqaq : private void ceui.lisa.activities.MainActivity.initFragment()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°è¯¥ç¨‹åºçš„è°ƒç”¨æ–¹æ³•ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©é åçš„&lt;code>ceui.lisa.activities.MainActivity.initFragment()&lt;/code>ä½œä¸ºæˆ‘ä»¬çš„Hookç›®æ ‡ã€‚&lt;/p>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>ä¸ºä»€ä¹ˆè¦é€‰æ‹©é åçš„æ–¹æ³•ä½œä¸ºæˆ‘ä»¬çš„Hookç›®æ ‡å‘¢ï¼Ÿ&lt;/p>
&lt;p>è¿™æ˜¯ç”±äºå¦‚æœé€‰æ‹©è¾ƒå‰çš„æ–¹æ³•ï¼Œæœ‰äº›å˜é‡è¿˜æ²¡åˆå§‹åŒ–å®Œæˆï¼Œè¿™æ—¶è°ƒç”¨&lt;code>finish()&lt;/code>å¯èƒ½ä¼šæŠ¥é”™ã€‚&lt;/p>&lt;/div>
&lt;h3 id="hook-activity">&lt;a href="#hook-activity" class="header-anchor">&lt;/a>Hook activity
&lt;/h3>&lt;p>æˆ‘ä»¬ä½¿ç”¨æœ€åŸºç¡€çš„hookæ–¹å¼ï¼Œå³Xposedè‡ªå¸¦çš„&lt;code>XposedHelpers.findAndHookMethod&lt;/code>ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">XC_LoadPackage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LoadPackageParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å®ƒæœ‰ä¸¤ä¸ªé‡è½½ï¼ŒåŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯å¡«Classï¼Œä¸€ä¸ªæ˜¯å¡«ClassNameä»¥åŠClassLoader&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç¬¬ä¸€ç§ å¡«ClassName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Unhook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">unhook&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;me.kyuubiran.xposedapp.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// className&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// classLoader ä½¿ç”¨lpparam.classLoader&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¦hookçš„æ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// è¦hookçš„æ–¹æ³•çš„å‚æ•°è¡¨ï¼Œå¦‚æœæœ‰å¤šä¸ªå°±ç”¨é€—å·éš”å¼€ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// æœ€åä¸€ä¸ªå¡«hookçš„å›è°ƒ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">beforeHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Hookæ–¹æ³•æ‰§è¡Œå‰ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Hookæ–¹æ³•æ‰§è¡Œå&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å®ƒè¿”å›ä¸€ä¸ªunhook åœ¨ä½ ä¸éœ€è¦ç»§ç»­hookçš„æ—¶å€™å¯ä»¥è°ƒç”¨å®ƒæ¥å–æ¶ˆHook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">unhook&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">unhook&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// å–æ¶ˆç©ºçš„Hook &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç¬¬äºŒç§æ–¹å¼ å¡«Class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// é¦–å…ˆä½ å¾—åŠ è½½å®ƒçš„ç±» æˆ‘ä»¬ä½¿ç”¨XposedHelpers.findClasså³å¯ å‚æ•°æœ‰ä¸¤ä¸ª ä¸€ä¸ªæ˜¯ç±»å ä¸€ä¸ªæ˜¯ç±»åŠ è½½å™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;me.kyuubiran.xposedapp.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clazz&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ç”±äºæˆ‘ä»¬éœ€è¦åœ¨Activityåˆ›å»ºä¹‹åå†å¼¹å‡ºToastï¼Œæ‰€ä»¥æˆ‘ä»¬Hookæ–¹æ³•æ‰§è¡Œä¹‹å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ¨¡å—åŠ è½½æˆåŠŸï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ®ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºå¯¹åº”çš„æ–¹æ³•äº†ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ç»“æŸè¿™ä¸ªç¨‹åºå‘¢ï¼Ÿåœ¨å‰é¢æˆ‘ä»¬ä»‹ç»äº†Activityçš„ç”Ÿå­˜å‘¨æœŸï¼Œé€šè¿‡æŸ¥è¯¢å¯çŸ¥Activityå­˜åœ¨ä¸€ä¸ªå…³é—­çš„æ–¹æ³•&lt;code>finish()&lt;/code>ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦æ‰‹åŠ¨è°ƒç”¨å³å¯ï¼Œå…·ä½“çš„ä»£ç å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initFragment&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ ·ï¼Œå¦å¤–ä¸¤ä¸ªåº”ç”¨ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å®ç°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.xjs.ehviewer&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.hippo.ehviewer.ui.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initUserImage&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.picacomic.fregata&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.picacomic.fregata.activities.SplashActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;onCreate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">finish&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œè¦æ³¨æ„ï¼Œä½¿ç”¨&lt;code>findAndHookMethod&lt;/code>æ—¶è¦hookçš„æ–¹æ³•çš„å‚æ•°è¡¨ä¸€å®šè¦å¡«å¯¹ã€‚å¦‚æœæ²¡æœ‰å¡«å¯¹å°±ä¼šæŠ¥&lt;code>java.lang.NoSuchMethodError&lt;/code>é”™è¯¯ã€‚æˆ‘ä¹‹å‰è¢«è¿™ä¸ªé—®é¢˜æŠ˜ç£¨äº†å¾ˆä¹…ğŸ˜­ï¼ˆä»”ç»†æƒ³æƒ³ä¹Ÿæ˜¯è¿™æ ·ï¼ŒJavaé‡Œæœ‰é‡è½½æœºåˆ¶ï¼Œå‚æ•°ä¸åŒå°±ä¸æ˜¯åŒä¸€ä¸ªæ–¹æ³•äº†ï¼‰&lt;/p>
&lt;p>kotlinæ‰€å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;com.xjs.ehviewer&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.hippo.ehviewer.ui.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">classLoader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;initUserImage&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">object&lt;/span> &lt;span class="err">: &lt;/span>&lt;span class="nc">XC&lt;/span>&lt;span class="n">_MethodHook&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MethodHookParam&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">makeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">finish&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¿®æ”¹å†…éƒ¨å‚æ•°">&lt;a href="#%e4%bf%ae%e6%94%b9%e5%86%85%e9%83%a8%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>ä¿®æ”¹å†…éƒ¨å‚æ•°
&lt;/h3>&lt;p>è™½ç„¶ä¸€è‚¡è„‘å…³é—­ç¨‹åºéå¸¸ç®€å•ï¼Œä½†å°æ˜ä¸ä¹æ„äº†ã€‚å¯¹äº&lt;code>ceui.lisa.pixiv&lt;/code>æ¥è¯´ï¼Œåªæœ‰é•¿æŒ‰å¤´åƒæ‰ä¼šè§¦å‘ï¼Œç›´æ¥ä¸€åˆ€åˆ‡å®åœ¨æ˜¯å¤ªç²—æš´äº†ã€‚æ²¡é—®é¢˜ï¼Œç›´æ¥å®‰æ’ä¸Šã€‚&lt;/p>
&lt;p>é¦–å…ˆæˆ‘ä»¬è¦å®šä½åˆ°è¿™ä¸ªåˆ‡æ¢çš„æ–¹æ³•ç©¶ç«Ÿåœ¨å“ªï¼Ÿä»”ç»†è§‚å¯Ÿï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªé¢œæ–‡å­—çš„Toastï¼Œæˆ‘ä»¬å°±ä»æ­¤å¤„åˆ‡å…¥ã€‚è¿™ä¸¤ä¸ªé¢œæ–‡å­—åˆ†åˆ«ä¸º&lt;code>Ô…(â™¡ï¹ƒâ™¡Ô…)&lt;/code>å’Œ&lt;code>Xï¹X&lt;/code>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨jadx-guiåç¼–è¯‘ç¨‹åºï¼Œå…¨å±€æœç´¢ï¼Œç›´æ¥å°±æ‰¾åˆ°äº†æ‰€åœ¨ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862.png"
width="793"
height="493"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862_hu_181bd4c880565686.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141436862_hu_e8c62698746d232f.png 1024w"
loading="lazy"
alt="å…¨å±€æœç´¢"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="386px"
>&lt;/p>
&lt;p>åŒå‡»æŸ¥çœ‹æ­¤å¤„çš„ä»£ç ï¼Œåèµ·æ¥äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬æ²¡æœ‰è¿™ä¸ªå‡½æ•°åï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•å¯¹å…¶è¿›è¡ŒHookã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571.png"
width="1788"
height="996"
srcset="https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571_hu_aeda4e86ca43434e.png 480w, https://lbqaq.top/p/init-xposed/IMAGE/image-20230721141535571_hu_3083de029044a583.png 1024w"
loading="lazy"
alt="å…·ä½“ä»£ç "
class="gallery-image"
data-flex-grow="179"
data-flex-basis="430px"
>&lt;/p>
&lt;p>éš¾é“å°±è¦å¡åœ¨è¿™é‡Œäº†å—ï¼Ÿ&lt;del>å¦‚æœçœŸæ˜¯è¿™æ ·æˆ‘å°±ä¸ä¼šå†™è¿™ç¯‡æ–‡ç« äº†&lt;/del>&lt;/p>
&lt;p>ä»”ç»†åˆ†æè¿™æ®µä»£ç ï¼Œè¿™é‡Œå¯¹&lt;code>this.userHead&lt;/code>è®¾ç½®äº†ä¸€ä¸ª&lt;code>OnLongClickListener&lt;/code>ã€‚ä¸€ä¸ªæ§ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªä¾¦å¬å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ä¸ªæ›¿æ¢ï¼Œä¸å°±å®ç°å¯¹å…¶çš„Hookäº†å—ğŸ˜&lt;/p>
&lt;p>ç›´æ¥Hook &lt;code>initView&lt;/code>è¿™ä¸ªæ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">packageName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">classLoader&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;initView&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XC_MethodHook&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MethodHookParam&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getDeclaredField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userHead&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAccessible&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ImageView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ImageView&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// v.setLongClickable(false); //è®¾ç½®å…¶æ— æ³•å“åº”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setOnLongClickListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Activity&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">thisObject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨äº†Javaçš„åå°„æœºåˆ¶ï¼Œæ‹¿åˆ°äº†å®ƒå†…éƒ¨çš„å˜é‡&lt;code>userHead&lt;/code>ï¼Œç„¶åé€šè¿‡&lt;code>setAccessible&lt;/code>å°†å…¶è®¾ç½®ä¸ºå¯è®¿é—®ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½å¯¹å…¶ç§æœ‰å˜é‡è¿›è¡Œä¿®æ”¹äº†ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥ç®€å•çš„å°†å…¶å¯ç‚¹å‡»å…³é—­ï¼Œä½†æ˜¯è¿™æ ·ä¸€ç‚¹ä¹Ÿä¸é…·ã€‚æˆ‘ç›´æ¥ä½¿ç”¨è‡ªå·±çš„å‡½æ•°å°†å…¶è¿›è¡Œæ›¿æ¢ï¼Œè¿™æ ·æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šå‡ºç°ä¸€ä¸ª&lt;code>Toast&lt;/code>ã€‚&lt;/p>
&lt;p>kotlinçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">packageName&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;ceui.lisa.pixiv&amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">XposedHelpers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">findAndHookMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ceui.lisa.activities.MainActivity&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lpparam&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">classLoader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;initView&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">object&lt;/span> &lt;span class="err">: &lt;/span>&lt;span class="nc">XC&lt;/span>&lt;span class="n">_MethodHook&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">fun&lt;/span> &lt;span class="nf">afterHookedMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MethodHookParam&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">f&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">javaClass&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getDeclaredField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;userHead&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">isAccessible&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">v&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">ImageView&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setOnLongClickListener&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">makeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">param&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">thisObject&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">Activity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;ä¸è®¸æ¶©æ¶©ï¼&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nc">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LENGTH_SHORT&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„Xposedæ¨¡å—å°±å†™å¥½äº†ã€‚&lt;/p>
&lt;h2 id="é…ç½®æ–‡ä»¶è¯»å–">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e8%af%bb%e5%8f%96" class="header-anchor">&lt;/a>é…ç½®æ–‡ä»¶è¯»å–
&lt;/h2>&lt;p>ç°åœ¨çš„æ¨¡å—å¾€å¾€è¿˜ä¼šæ­é…ä¸€ä¸ªUIæ¥å®ç°é…ç½®æ–‡ä»¶çš„è®¾ç½®ï¼Œåœ¨å®‰å“å¼€å‘ä¸­ï¼Œå¸¸ç”¨&lt;code>SharedPreferences&lt;/code>æ¥å®ç°é…ç½®çš„ä¿å­˜ã€‚éšç€googleçš„æ›´æ–°ï¼Œç°åœ¨çš„é…ç½®æ–‡ä»¶æ— æ³•è®¾ç½®&lt;code>MODE_WORLD_READABLE&lt;/code>çš„æƒé™ï¼Œå³åªå…è®¸æœ¬åº”ç”¨è¯»å–ã€‚è™½ç„¶Xposedæœ¬èº«æä¾›äº†&lt;code>XSharedPreferences&lt;/code>æ¥è¯»å–é…ç½®æ–‡ä»¶ï¼Œç„¶è€Œæ¨¡å—æ˜¯ä¾é™„äºå®¿ä¸»ç¨‹åºæ‰€æ‰§è¡Œçš„ï¼Œå®ƒçš„è®¿é—®æƒé™å’Œå®¿ä¸»ä¸€è‡´ï¼Œæ‰€ä»¥æ— æ³•è®¿é—®åˆ°æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚&lt;a class="link" href="#20240915" >2024.09.15æ›´æ–°&lt;/a>&lt;/p>
&lt;p>å¥½åœ¨ç›®å‰å¸¸ç”¨çš„æ¡†æ¶LSPosedæä¾›äº†&lt;a class="link" href="https://github.com/LSPosed/LSPosed/wiki/New-XSharedPreferences" target="_blank" rel="noopener"
>New XSharedPreferences&lt;/a>ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®šxposedAPIçš„æœ€ä½ç‰ˆæœ¬â‰¥93å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>AndroidManifest.xml&lt;/code>é‡Œå°†&lt;code>xposedminversion&lt;/code>çš„å€¼æ”¹ä¸º&lt;code>93&lt;/code>&lt;/p>
&lt;p>å¯¹äºæ¨¡å—çš„Activityæ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®šæƒé™ä¸º&lt;code>Context.MODE_WORLD_READABLE&lt;/code>å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">sharedPreferences&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">SharedPreferences&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">getSharedPreferences&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;config&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nc">Context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">MODE_WORLD_READABLE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºhookçš„åº”ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸæ¥çš„&lt;code>XSharedPreferences&lt;/code>å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">xsp&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">XSharedPreferences&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;top.lbqaq.nosese&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;config&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç»“è¯­">&lt;a href="#%e7%bb%93%e8%af%ad" class="header-anchor">&lt;/a>ç»“è¯­
&lt;/h2>&lt;p>å®Œæ•´çš„é¡¹ç›®ä»£ç å¯ä»¥åœ¨&lt;a class="link" href="https://github.com/luoboQAQ/nosese" target="_blank" rel="noopener"
>Githubä»“åº“&lt;/a>ä¸­æŸ¥çœ‹ï¼Œé€šè¿‡è¿™æ¬¡çš„ç¼–å†™ï¼Œæˆ‘å‘ç°Xposedå®é™…ä¸Šè¿˜æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæƒ³è¦å®ç°å»å¹¿å‘Šç­‰åŠŸèƒ½ï¼Œéƒ½æ˜¯é€šè¿‡åç¼–è¯‘æ¥æ‰¾åˆ°çªç ´å£ï¼Œæœ‰äº†Hookçš„ç›®æ ‡åæ‰éœ€è¦Xposedã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œä¹‹åçš„å­¦ä¹ è¿˜æ˜¯è¦ä»¥å®‰å“é€†å‘ä¸ºä¸»ï¼Œåªæœ‰æ‰“å¥½åŸºæœ¬åŠŸï¼Œæ‰èƒ½å†™å‡ºä¼˜ç§€çš„ä»£ç ã€‚&lt;/p>
&lt;h2 id="åç»­æ›´æ–°">&lt;a href="#%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0" class="header-anchor">&lt;/a>åç»­æ›´æ–°
&lt;/h2>&lt;h3 id="20240915">&lt;a href="#20240915" class="header-anchor">&lt;/a>2024.09.15
&lt;/h3>&lt;p>å°†é¡¹ç›®ä½¿ç”¨äº†ç›®å‰æµè¡Œçš„Kotliné‡æ„äº†ä¸€æ³¢ï¼Œå¹¶æ·»åŠ äº†UIå’Œæ¨¡å—çš„é…ç½®è¯»å–çš„å†…å®¹&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1740944-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹ä¸ƒã€Sorryï¼Œä¼šHookçœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º-Xposedå¿«é€Ÿä¸Šæ‰‹(ä¸Š)æ¨¡å—ç¼–.. - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://blog.ketal.icu/cn/Xposed%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener"
>Xposedæ¨¡å—å¼€å‘å…¥é—¨ä¿å§†çº§æ•™ç¨‹ - ç‹è¨€ç‹è¯­å’Œä»™è´çš„é­”æ³•å­¦ä¹ è®°å½•&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1706691-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹å››ã€æ­å–œä½ è·å¾—å¹¿å‘Š&amp;amp;å¼¹çª—é™é»˜å¡ - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.52pojie.cn/thread-1748081-1-1.html" target="_blank" rel="noopener"
>ã€Šå®‰å“é€†å‘è¿™æ¡£äº‹ã€‹å…«ã€Sorryï¼Œä¼šHookçœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º-Xposedå¿«é€Ÿä¸Šæ‰‹(ä¸‹)æ¨¡å—ç¼–.. - å¾çˆ±ç ´è§£&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>APMSA: Adversarial Perturbation Against Model Stealing Attacks</title><link>https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/</link><pubDate>Thu, 20 Jul 2023 14:57:05 +0800</pubDate><guid>https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/</guid><description>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/108529802.webp" alt="Featured image of post APMSA: Adversarial Perturbation Against Model Stealing Attacks" />&lt;h2 id="ä»‹ç»">&lt;a href="#%e4%bb%8b%e7%bb%8d" class="header-anchor">&lt;/a>ä»‹ç»
&lt;/h2>&lt;p>åœ¨å¤§æ•°æ®æ—¶ä»£ï¼Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰ä¸ºæˆ‘ä»¬çš„ç”Ÿæ´»æä¾›äº†ä¾¿åˆ©ï¼Œå¹¶åœ¨å„ä¸ªé¢†åŸŸå‘æŒ¥ç€ä¸å¯æˆ–ç¼ºçš„ä½œç”¨ã€‚éšç€æ·±åº¦å­¦ä¹ åº”ç”¨åœºæ™¯çš„ä¸°å¯Œå’Œæ•°æ®çš„å¢é•¿ï¼Œä¸»æµäº‘æä¾›å•†ï¼ˆå¦‚è°·æ­Œã€äºšé©¬é€Šå’Œå¾®è½¯ï¼‰æ¨å‡ºäº†æœºå™¨å­¦ä¹ å³æœåŠ¡ï¼ˆMLaaSï¼‰ã€‚&lt;/p>
&lt;h3 id="mlaas">&lt;a href="#mlaas" class="header-anchor">&lt;/a>MLaaS
&lt;/h3>&lt;p>é¡¾åæ€ä¹‰ï¼ŒMLaaSæ˜¯ä¸€ç³»åˆ—æä¾›æœºå™¨å­¦ä¹ å·¥å…·ä½œä¸ºäº‘è®¡ç®—æœåŠ¡ä¸€éƒ¨åˆ†çš„æœåŠ¡ã€‚ è¿™äº›æœåŠ¡çš„ä¸»è¦å¸å¼•åŠ›åœ¨äºï¼Œå°±åƒå…¶ä»–ä»»ä½•äº‘æœåŠ¡ä¸€æ ·ï¼Œå®¢æˆ·æ— éœ€å®‰è£…è½¯ä»¶æˆ–é…ç½®è‡ªå·±çš„æœåŠ¡å™¨å³å¯å¿«é€Ÿå¼€å§‹æœºå™¨å­¦ä¹ ã€‚å®ƒå¸®åŠ©èµ„æºå’Œä¸“ä¸šçŸ¥è¯†æœ‰é™çš„æ•°æ®æ‰€æœ‰è€…ï¼ˆå°å‹ä¼ä¸šæˆ–ä¸ªäººï¼‰è§£å†³æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ç­‰åŸºç¡€è®¾æ–½é—®é¢˜ã€‚æ¨¡å‹æä¾›è€…é€šè¿‡æ ¹æ®æŸ¥è¯¢æ—¶é—´å‘ç”¨æˆ·æ”¶è´¹æ¥è·å¾—æ”¶ç›Šã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒMLaaSå´å®¹æ˜“å—åˆ°æ¨¡å‹æå–æ”»å‡»çš„å½±å“ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè™½ç„¶æ¨¡å‹æ‰˜ç®¡åœ¨å®‰å…¨çš„äº‘æœåŠ¡ä¸­ï¼Œå®¢æˆ·é€šè¿‡åŸºäºäº‘çš„APIè¿›è¡ŒæŸ¥è¯¢ã€‚ä½†æ˜¯ï¼Œæ”»å‡»è€…å¯ä»¥åŸºäºé¢„æµ‹è¾“å‡ºæ¥è®­ç»ƒå…·æœ‰ç›®æ ‡ç§æœ‰æ¨¡å‹ç±»ä¼¼åŠŸèƒ½çš„æ›¿ä»£æ¨¡å‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è®¿é—®æ›¿ä»£æ¨¡å‹è€Œæ— éœ€å‘æ¨¡å‹æä¾›è€…ä»˜è´¹ï¼Œä»è€Œç ´åäº†å…¶å•†ä¸šä»·å€¼ã€‚æ­¤å¤–ï¼Œæ”»å‡»è€…è¿˜å¯ä»¥åˆ©ç”¨æ›¿ä»£æ¨¡å‹æ¥åˆ¶ä½œä¼˜ç§€çš„å¯è½¬ç§»å¯¹æŠ—æ€§ç¤ºä¾‹ï¼Œä»è€Œæœ‰æ•ˆåœ°æ¬ºéª—åŸå§‹æ¨¡å‹åšå‡ºé”™è¯¯çš„é¢„æµ‹ï¼Œæ„æˆä¸¥é‡çš„å®‰å…¨å¨èƒã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718150526260.png"
width="1032"
height="497"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718150526260_hu_46fb8d49824db0f4.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718150526260_hu_cfced2b85b0f71f4.png 1024w"
loading="lazy"
alt="æ¨¡å‹æå–æ”»å‡»æµç¨‹"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="498px"
>&lt;/p>
&lt;p>ä½œè€…æå‡ºäº†APMSAæ¥é˜²å¾¡æ¨¡å‹æå–æ”»å‡»ã€‚å½“æ”»å‡»è€…çªƒå–æœåŠ¡å™¨ä¸­éƒ¨ç½²çš„ &amp;ldquo;model under attack&amp;rdquo; (MUA) æ—¶ï¼Œé€šè¿‡å‘æ•£ç»™å®šç‰¹å®šç±»åˆ«çš„ç‰¹å¾ç©ºé—´ä¸­æŸ¥è¯¢æ ·æœ¬çš„ç½®ä¿¡å‘é‡è·ç¦»ï¼Œå°±ä¼šæ³„éœ²è¶³å¤Ÿçš„MUAå†…éƒ¨ä¿¡æ¯ï¼Œæœ‰åˆ©äºæ›¿ä»£æ¨¡å‹çš„è®­ç»ƒã€‚å¯¹æ­¤ï¼Œä½œè€…åœ¨MUA ä¹‹å‰å°†å¾®å¦™çš„å™ªå£°æ³¨å…¥æ¯ä¸ªä¼ å…¥çš„è¾“å…¥æŸ¥è¯¢ä¸­ï¼Œä»¥é™åˆ¶å…¶ç½®ä¿¡å‘é‡çš„å¤šæ ·æ€§ã€‚&lt;/p>
&lt;h3 id="ç›¸å…³ç ”ç©¶">&lt;a href="#%e7%9b%b8%e5%85%b3%e7%a0%94%e7%a9%b6" class="header-anchor">&lt;/a>ç›¸å…³ç ”ç©¶
&lt;/h3>&lt;p>ç›®å‰ï¼Œå°†å¯¹äºæ¨¡å‹æå–æ”»å‡»çš„é˜²å¾¡é€šå¸¸å¯åˆ†ä¸ºä¸¤ç±»ï¼šè¢«åŠ¨é˜²å¾¡å’Œä¸»åŠ¨é˜²å¾¡ã€‚ å‰è€…æ˜¯è¢«åŠ¨åœ°æ£€æµ‹æ¶æ„æŸ¥è¯¢è¡Œä¸ºï¼Œç„¶åé™åˆ¶æˆ–æ‹’ç»ä¸ºæ›´å¯èƒ½æ¥è‡ªæ”»å‡»è€…çš„æ¶æ„ä¼ å…¥æŸ¥è¯¢æä¾›æ¨ç†æœåŠ¡ã€‚ åè€…ä¸»è¦æ˜¯æŒ‡ä¸»åŠ¨ç½®ä¿¡æ‰°åŠ¨æŠ€æœ¯ã€‚æœ¬æ–‡ä»‹ç»çš„APMSAå±äºä¸»åŠ¨é˜²å¾¡æŠ€æœ¯ï¼Œä½œè€…å°†ç›¸å…³çš„æ–‡ç« è¿›è¡Œäº†æ•´ç†ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718154251270.png"
width="2143"
height="1005"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718154251270_hu_2f19808c1b6b7730.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230718154251270_hu_e1ee7a4fb20e139e.png 1024w"
loading="lazy"
alt="ç›¸å…³æ–‡ç« "
class="gallery-image"
data-flex-grow="213"
data-flex-basis="511px"
>&lt;/p>
&lt;ul>
&lt;li>Model extraction warning in MLaaS paradigm&lt;/li>
&lt;li>PRADA: Protecting against DNN model stealing attacks&lt;/li>
&lt;li>Defending against model stealing attacks with adaptive misinformation&lt;/li>
&lt;li>Defending against neural network model stealing attacks using deceptive perturbations&lt;/li>
&lt;li>BODAME: Bilevel optimization for defense against model extraction&lt;/li>
&lt;li>Prediction poisoning: Towards defenses against DNN model stealing attacks&lt;/li>
&lt;li>Model stealing defense with hybrid fuzzy models: Work-in-progress&lt;/li>
&lt;/ul>
&lt;p>ä¸ç°æœ‰çš„ç›´æ¥ç½®ä¿¡æ‰°åŠ¨æŠ€æœ¯ç›¸æ¯”ï¼ŒAPMSAä¸ä»…ä¿ç•™äº†MUAçš„å¯ç”¨æ€§ï¼Œè¿˜ä¿ç•™äº†MUAçš„å®ç”¨æ€§ã€‚ä¸å…¶ä»–ä¸»åŠ¨é˜²å¾¡ç›¸æ¯”ï¼ŒAPMSAå¯ä»¥ç®€å•åœ°åœ¨MUAä¹‹å‰æ’å…¥ï¼Œè€Œæ— éœ€å¯¹MUAæœ¬èº«è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œå› æ­¤å®ƒæ˜¯é€šç”¨çš„ï¼Œæ˜“äºéƒ¨ç½²çš„ã€‚&lt;/p>
&lt;h3 id="è´¡çŒ®">&lt;a href="#%e8%b4%a1%e7%8c%ae" class="header-anchor">&lt;/a>è´¡çŒ®
&lt;/h3>&lt;ul>
&lt;li>é€šè¿‡å»ºè®¾æ€§åœ°æœ€å°åŒ–å¯¹è®­ç»ƒæ›¿ä»£æ¨¡å‹è‡³å…³é‡è¦çš„å‘æ•£ç½®ä¿¡åº¦ä¿¡æ¯æ¥ç¦ç”¨è¢«ç›—æ¨¡å‹çš„å¯ç”¨åŠŸèƒ½ã€‚&lt;/li>
&lt;li>é€šè¿‡å½¢å¼åŒ–çš„ä¼˜åŒ–å®ç°äº†ç½®ä¿¡å‘é‡å¯¹ MUA å†³ç­–è¾¹ç•Œçš„é™åˆ¶ã€‚&lt;/li>
&lt;li>APMSAä¸ä¼šå¯¹å…·æœ‰ç¡¬æ ‡ç­¾æ¨ç†çš„æ™®é€šç”¨æˆ·é€ æˆæ•ˆç”¨æŸå¤±&lt;/li>
&lt;/ul>
&lt;h2 id="é—®é¢˜æ„é€ ">&lt;a href="#%e9%97%ae%e9%a2%98%e6%9e%84%e9%80%a0" class="header-anchor">&lt;/a>é—®é¢˜æ„é€ 
&lt;/h2>&lt;h3 id="å¨èƒæ¨¡å‹">&lt;a href="#%e5%a8%81%e8%83%81%e6%a8%a1%e5%9e%8b" class="header-anchor">&lt;/a>å¨èƒæ¨¡å‹
&lt;/h3>&lt;p>å‡è®¾æ”»å‡»è€…ä¸äº†è§£ç³»ç»Ÿçš„æ¨¡å‹ä½“ç³»ç»“æ„ã€‚æ”»å‡»è€…åªèƒ½é€šè¿‡è¿ç§»å­¦ä¹ å‘èµ·æ”»å‡»ï¼Œå³æ”»å‡»è€…ä½¿ç”¨æ¶æ„æ ·æœ¬æŸ¥è¯¢é»‘ç›’æ¨¡å‹ï¼Œä»¥æ ‡è®°è¿™äº›å°†ç”¨äºè®­ç»ƒæ›¿ä»£æ¨¡å‹çš„æ ·æœ¬ã€‚æ”»å‡»è€…ä»å…¬ä¼—ä¸­è¯†åˆ«é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¹¶åŸºäºé¢„è®­ç»ƒæ¨¡å‹é€šè¿‡è¿ç§»å­¦ä¹ æ„å»ºæ›¿ä»£æ¨¡å‹;è®­ç»ƒæ•°æ®é›†æ˜¯é€šè¿‡ MUA ä¸Šçš„æŸ¥è¯¢çš„ä¸€ç»„è¾“å…¥è¾“å‡ºå¯¹ã€‚å…·ä½“ç®—æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719093246990.png"
width="1035"
height="940"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719093246990_hu_fa39e24285594e39.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719093246990_hu_d8272ca6104544fe.png 1024w"
loading="lazy"
alt="åŸºäºè¿ç§»å­¦ä¹ çš„æ¨¡å‹æå–æ”»å‡»"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="264px"
>&lt;/p>
&lt;p>æ”»å‡»è€…åªèƒ½é€šè¿‡ API ä¸æ¨¡å‹äº¤äº’ï¼ŒæŸ¥è¯¢æ¬¡æ•°å—é¢„ç®—é™åˆ¶ã€‚ä½†æ˜¯ï¼Œä»–ä»¬å¯ä»¥è‡ªç”±é€‰æ‹©ä»»ä½•æ ·æœ¬è¿›è¡ŒæŸ¥è¯¢ï¼ˆå³æœªæ ‡è®°çš„å…¬å…±æ•°æ®é›†$X_{pub}$ï¼‰ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å®Œå…¨äº†è§£è¾“å…¥ï¼ˆå³æ ·æœ¬ç±»å‹ï¼‰å’Œè¾“å‡ºï¼ˆå³æ ‡ç­¾é›†ï¼‰çš„ç‰¹å¾ã€‚ä½†æ˜¯ï¼Œæ”»å‡»è€…åªèƒ½è§‚å¯Ÿè¿”å›çš„é¢„æµ‹ç½®ä¿¡å‘é‡ï¼Œè€Œä¸èƒ½è§‚å¯Ÿæ¨¡å‹æ¶æ„å’Œæ¢¯åº¦ä¿¡æ¯ã€‚&lt;/p>
&lt;p>æ”»å‡»è€…æ—¨åœ¨è·å¾—ä¸ç§æœ‰æ¨¡å‹$f$å…·æœ‰ç›¸ä¼¼åŠŸèƒ½çš„æ›¿ä»£æ¨¡å‹$f&amp;rsquo;$ã€‚æ›¿ä»£æ¨¡å‹$f&amp;rsquo;$åœ¨å…¬å…±æ•°æ®é›† $\mathbf{S}\subseteq\mathbf{X}_{pub}$ çš„å­é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼š&lt;/p>
$$f^{\prime}\approx\arg\min\mathcal{L}\left(\\{(\mathbf{x},f(\mathbf{x})):\mathbf{x}\in\mathbf{S}\\},f^{\prime}(\mathbf{x})\right)$$&lt;p>é˜²å¾¡è€…æ—¨åœ¨å°†å™ªå£°æ³¨å…¥æ¯ä¸ªæŸ¥è¯¢çš„è¾“å…¥ä¸­ï¼Œä»¥é—´æ¥å¹²æ‰°æ¨¡å‹è¿”å›çš„é¢„æµ‹ã€‚APMSAæœ‰ä¸¤ä¸ªä¸»è¦ç›®æ ‡ã€‚ä¸€æ–¹é¢ï¼Œä¿ç•™äº†æ¨¡å‹çš„ç²¾åº¦ï¼Œå³ä¸ä½¿ç”¨APMSAæ—¶çš„ç²¾åº¦åº”ä¸åŸå§‹ç²¾åº¦ç›¸åŒã€‚å¦ä¸€æ–¹é¢ï¼Œè¢«ç›—æ¨¡å‹çš„å‡†ç¡®æ€§åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¢«ç ´åï¼Œä½¿æ”»å‡»è€…çš„å…è´¹ç§äººæŸ¥è¯¢ä¸å†æœ‰æ•ˆã€‚ä½œè€…å°†ä½¿ç”¨ APMSA å‰åæ¨¡å‹å‡†ç¡®æ€§çš„ä¸‹é™ç¨‹åº¦ä½œä¸ºæŒ‡æ ‡ã€‚&lt;/p>
&lt;h3 id="apmsaçš„æ¦‚è¿°">&lt;a href="#apmsa%e7%9a%84%e6%a6%82%e8%bf%b0" class="header-anchor">&lt;/a>APMSAçš„æ¦‚è¿°
&lt;/h3>&lt;p>APMSAçš„ç›´è§‰æ˜¯å¦‚æœé˜²å¾¡è€…ç­–ç•¥æ€§åœ°æ··æ·†è¾“å…¥æŸ¥è¯¢ä¸å…¶è¿”å›çš„ç½®ä¿¡åº¦ï¼ˆå‘é‡ï¼‰çš„è¾“å‡ºä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œåˆ™å½“æ”»å‡»è€…åˆ©ç”¨è¿™æ ·çš„è¾“å…¥-è¾“å‡ºå¯¹æ¥è®­ç»ƒå…¶æ›¿ä»£æ¨¡å‹æ—¶ï¼Œå¯¹æ”»å‡»è€…æœ‰ç”¨çš„æ³„æ¼ä¿¡æ¯å°†è¢«æœ€å°åŒ–ç”šè‡³è¯¯å¯¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719095133552.png"
width="1036"
height="381"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719095133552_hu_dc8d51a86b052ea6.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719095133552_hu_64aede77c8449950.png 1024w"
loading="lazy"
alt="APMSAçš„æµç¨‹"
class="gallery-image"
data-flex-grow="271"
data-flex-basis="652px"
>&lt;/p>
&lt;p>ä¸Šå›¾æ˜¯APMSAçš„æµç¨‹ã€‚å½“å‘APIæŸ¥è¯¢è¾“å…¥æ—¶ï¼ŒAPMSAä¸ç›´æ¥å°†è¯¥è¾“å…¥é¦ˆé€åˆ°æ¨¡å‹å¹¶è¿”å›ç½®ä¿¡å‘é‡ã€‚ ç›¸åï¼ŒAPMSAé€šè¿‡å°†å¯¹æŠ—æ€§å™ªå£°æ‰°åŠ¨æ³¨å…¥åˆ°è¾“å…¥ä¸­æ¥å°†è¯¥è¾“å…¥è½¬æ¢ä¸ºå¯¹æŠ—æ€§è¾“å…¥ã€‚æ¨¡å‹æœ€ç»ˆè¿”å›çš„æ˜¯å˜æ¢åçš„å¯¹æŠ—æ€§è¾“å…¥ç›¸å¯¹åº”çš„ç½®ä¿¡åº¦å‘é‡ã€‚ä»æ”»å‡»è€…çš„è§’åº¦æ¥çœ‹ï¼Œå…¶è¾“å…¥ä¸è¿”å›çš„ç½®ä¿¡å‘é‡ä¹‹é—´çš„å…³ç³»æ˜ å°„å·²ç»è¢«æ··æ·†ã€‚å¹¶ä¸”å°†ç»™å®šç±»åˆ«æ ·æœ¬çš„ç½®ä¿¡åº¦å‘é‡çº¦æŸåœ¨ä¸€ä¸ªå°çš„åŒºåŸŸå†…ï¼Œä»è€Œå¤§å¤§å‡å°‘äº†æ³„æ¼ä¿¡æ¯ï¼Œä¾¿äºå…¶æ›¿ä»£æ¨¡å‹çš„è®­ç»ƒã€‚åŒæ—¶ï¼Œç”±äºAPMSAä¸ä¼šä¿®æ”¹è¾“å…¥çš„ç¡¬æ ‡ç­¾ï¼Œæ‰€ä»¥å¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´æ€§èƒ½å‡ ä¹æ²¡æœ‰æŸå¤±ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒAPMSAæ˜¯ä½œä¸ºæ’ä»¶ä½¿ç”¨ï¼Œä¸éœ€è¦ä¿®æ”¹æ¨¡å‹ã€‚&lt;/p>
&lt;h3 id="apmsaçš„å®ç°">&lt;a href="#apmsa%e7%9a%84%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>APMSAçš„å®ç°
&lt;/h3>&lt;p>ä½œè€…åœ¨æ­¤ç”¨ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šäº†APMSAã€‚å‡è®¾æœ‰ä¸€ä¸ªäºŒåˆ†ç±»æ¨¡å‹ï¼ˆæ€§åˆ«åˆ†ç±»ï¼‰ï¼Œå¦‚æœæ¨¡å‹å°†$k$ä¸ªç”·æ€§ç±»åˆ«çš„å›¾åƒæ˜ å°„åˆ°$k$ä¸ªä¸åŒçš„æ¦‚ç‡åˆ†å¸ƒï¼Œåˆ™åœ¨ç»™å®šä¸åŒåˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼Œ$k$ä¸ªè¾“å…¥-è¾“å‡ºå¯¹çš„æ˜ å°„å…³ç³»å°†æ­ç¤ºæ›´å¤šå…³äºæ¨¡å‹çš„å†…éƒ¨ä¿¡æ¯ã€‚ ï¼ˆå¦‚å›¾aæ‰€ç¤ºï¼‰ä½†æ˜¯ï¼Œå¦‚æœæ§åˆ¶$k$ä¸ªä¸åŒçš„ç”·æ€§å›¾åƒæ˜ å°„åˆ°ç‰¹å¾ç©ºé—´ä¸­çš„ç›¸é‚»åŒºåŸŸï¼Œåˆ™æ³„éœ²çš„ä¿¡æ¯å°†å¤§å¤§å‡å°‘ã€‚ æ­¤å¤–ï¼Œè¿™äº›æ··æ·†çš„è¾“å…¥-è¾“å‡ºå¯¹å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¯¯å¯¼è®­ç»ƒæ›¿ä»£æ¨¡å‹ã€‚ï¼ˆå¦‚å›¾bæ‰€ç¤ºï¼‰&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´å¦‚æœè¾“å‡ºéƒ½å †åœ¨ä¸€èµ·ï¼Œå°±å¯ä»¥æ··æ·†è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥æ›´å¥½åœ°ä¿æŠ¤æ¨¡å‹çš„éšç§ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719100907739.png"
width="1036"
height="384"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719100907739_hu_d99f6a3840a205e4.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719100907739_hu_a3f1ce1b4090c8a.png 1024w"
loading="lazy"
alt="ä¸¾ä¾‹"
class="gallery-image"
data-flex-grow="269"
data-flex-basis="647px"
>&lt;/p>
&lt;p>ä½œè€…éšåä»‹ç»äº†APMSAçš„è¯¦ç»†åŸç†ã€‚åŒæ ·æ˜¯ä»¥äºŒåˆ†ç±»çš„æ¨¡å‹ä¸ºä¾‹ï¼Œ$f$æ˜¯åŸæ¨¡å‹ï¼Œ$f&amp;rsquo;$æ˜¯æ”»å‡»è€…å¾—åˆ°çš„æ›¿ä»£æ¨¡å‹ã€‚å…¶ä¸­ï¼Œæ”»å‡»è€…åˆ©ç”¨æŸ¥è¯¢$x$æ¥è·å¾—é¢„æµ‹$y=f(x)$ï¼Œå…¶ä¸­$y=\{y_1,y_2\}$ï¼Œæ”»å‡»è€…ä½¿ç”¨$(x,y)$æ¥è®­ç»ƒæ›¿ä»£æ¨¡å‹ã€‚APMSAåˆ™æ˜¯é€šè¿‡å°†å‘è¾“å…¥ç©ºé—´ä¸­çš„$x$æ·»åŠ å¯¹æŠ—æ€§å™ªå£°æ¥å°†æ ·æœ¬$x$å˜ä¸ºæ··æ·†æ ·æœ¬$x_c$ã€‚è¿™é‡Œåº”ç”¨äº†åˆ¶ä½œå¯¹æŠ—æ€§æ ·æœ¬$x&amp;rsquo;$çš„æŠ€æœ¯ã€‚ä¸$x&amp;rsquo;$ä¸åŒçš„æ˜¯ï¼Œ$x_c$çš„ç¡¬æ ‡ç­¾ä¸APMSAä¸­çš„$x$çš„ç¡¬æ ‡ç­¾ç›¸åŒã€‚è¿™æ ·ï¼Œæ”»å‡»è€…é€šè¿‡$\{x,y_c=f(x_c)\}$è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹$f&amp;rsquo;$å†³ç­–è¾¹ç•Œå°±ä¼šå¯¼è‡´$x_t$è¢«è¯¯åˆ†ç±»ï¼Œä»è€Œé˜²æ­¢æ¨¡å‹çªƒå–æ”»å‡»ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719140727663.png"
width="994"
height="474"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719140727663_hu_b4407383a03bde74.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719140727663_hu_9dc9419a786b281.png 1024w"
loading="lazy"
alt="APMSAå·¥ä½œæµç¨‹"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="503px"
>&lt;/p>
&lt;p>ä¸ä¼ å…¥çš„æŸ¥è¯¢è¾“å…¥$x$ç›¸æ¯”ï¼Œç»å˜æ¢çš„å¯¹æŠ—è¾“å…¥$x_c$æ¥è¿‘å†³ç­–è¾¹ç•Œã€‚ä½œè€…å°†å…¶è½¬åŒ–æˆäº†ä¸€ä¸ªä¼˜åŒ–é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>æ··æ·†çš„è¾“å…¥$x&amp;rsquo;$ä¸å…¶å¯¹åº”çš„å¯¹æŠ—ç¤ºä¾‹$x_c$åœ¨ç‰¹å¾ç©ºé—´ä¸­ç›¸ä¼¼ï¼Œä½†$x_c$çš„ç¡¬æ ‡ç­¾ä¸åŸå§‹è¾“å…¥$x$çš„ç±»åˆ«ç›¸åŒ&lt;/li>
&lt;li>æ··æ·†è¾“å…¥$x_c$å’ŒåŸå§‹è¾“å…¥$x$çš„ç½®ä¿¡å‘é‡ä¹‹é—´çš„é—´éš™åº”å°½å¯èƒ½å°&lt;/li>
&lt;/ul>
&lt;p>å°†å…¶å…¬å¼åŒ–è¡¨ç¤ºä¸ºï¼š&lt;/p>
$$\begin{aligned}\mathcal{L}\_1&amp;=J\left(\mathbf{x}\_c\right)=J(\mathbf{x}+\delta)\\\\&amp;=\min\_\delta\max\left(Z(\mathbf{x}+\delta)\_s-Z(\mathbf{x}+\delta)\_t,0\right)\end{aligned}$$&lt;p>å…¶ä¸­$Z(x_c)_t$è¡¨ç¤ºç›®æ ‡ç±»åˆ«$t$çš„å¯¹æ•°å€¼ï¼Œ$Z(x_c)_s$è¡¨ç¤ºåŸç±»åˆ«$s$ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿$Z(x_c)_s-Z(x_c)_t$å˜å°ï¼Œå°±è¡¨æ˜æŒ‡å®šç±»åˆ«çš„å¯¹æ•°å€¼å’Œæºç±»åˆ«ä¹‹é—´çš„å·®è·è¶Šæ¥è¶Šå¤§ï¼Œåˆ™æ··æ·†è¾“å…¥$x_t$æ›´æ¥è¿‘ç›®æ ‡ç±»åˆ«çš„å¯¹æŠ—æ ·æœ¬ã€‚ä½œè€…æå‡ºäº†æ–°çš„çº¦æŸæ¥æé«˜ä¼˜åŒ–é€Ÿåº¦ã€‚&lt;/p>
$$\begin{cases}\mathcal{L}\_2=Clip\_{(0,\infty)}\left(\max\left\\{Z(\mathbf{x}+\delta)\_i:i\neq t,o\right\\}-Z(\mathbf{x}+\delta)\_t\right)\\\\
\mathcal{L}\_3=Clip\_{(0,\infty)}\left(\max\left\\{Z(\mathbf{x}+\delta)\_i:i\neq t,s\right\\}-Z(\mathbf{x}+\delta)\_s\right)\end{cases}$$&lt;p>å…¶ä¸­$Clip(Â·)$è¡¨ç¤ºèŒƒå›´çº¦æŸã€‚&lt;/p>
&lt;p>ä¸ºäº†ç¡®ä¿ APMSA ä¸ä¼šå½±å“æ¨¡å‹çš„æ€§èƒ½ï¼ˆå³æ ‡ç­¾ä¸ä¼šæ›´æ”¹ï¼‰ï¼Œä¼˜åŒ–ç›®æ ‡æ˜¯ï¼š&lt;/p>
$$\begin{aligned}
\mathcal{L}\_{4}&amp; =\text{distance }(\mathbf{y},\mathbf{y}\_c)=\min\_\delta\|\mathbf{y}-\mathbf{y}\_c\| \\\\
&amp;=\min\_\delta\|f(\mathbf{x})-f(\mathbf{x}+\delta)\|
\end{aligned}$$&lt;p>è¿™æ˜¯ä¸ºäº†æµ‹é‡æ‰°åŠ¨è¾“å…¥å‰åçš„ç½®ä¿¡å·®ï¼Œä»¥å‡è½»APMSAå¯¹æ¨¡å‹æ•ˆç”¨å¯¹æ™®é€šç”¨æˆ·çš„å½±å“ã€‚ç»¼ä¸Šï¼Œå¯ä»¥å¾—åˆ°ä¼˜åŒ–å‡½æ•°ï¼š&lt;/p>
$$\begin{aligned}\mathcal{L}&amp;=\mathcal{L}\_1+c\_1\cdot\mathcal{L}\_2+\mathcal{L}\_3+c\_2\cdot\mathcal{L}\_4\\\\&amp;=\min\_\delta J(\mathbf{x}+\delta)+c\_1\cdot\mathcal{L}\_2+\mathcal{L}\_3+c\_2\cdot\|f\left(\mathbf{x}\right)-f\left(\mathbf{x}+\delta\right)\|\end{aligned}$$&lt;p>å…¶ä¸­è¶…å‚æ•°$c_1$å’Œ$c_2$ç”¨äºæ­£åˆ™åŒ–æŸå¤±å‡½æ•°ï¼Œåœ¨å®éªŒä¸­æ ¹æ®ç»éªŒåˆ†åˆ«è®¾ç½®ä¸º2å’Œ0.01ã€‚ ä¼˜åŒ–è¿‡ç¨‹ä¸æ˜¯è¦æ‰¾åˆ°å¯¹æŠ—æ€§æ ·ä¾‹ï¼Œè€Œæ˜¯è¦è¯†åˆ«ä»¥æ­£ç¡®ä¿å­˜ç±»åˆ«ä¸ºæ¡ä»¶çš„æ¥è¿‘å…¶å¯¹åº”å¯¹æŠ—æ€§æ ·ä¾‹çš„æ··æ·†è¾“å…¥$x_c$ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154342558.png"
width="1032"
height="409"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154342558_hu_e7489508d97d651f.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154342558_hu_96fd674848b77702.png 1024w"
loading="lazy"
alt="è¾“å…¥æ··æ·†æœºåˆ¶"
class="gallery-image"
data-flex-grow="252"
data-flex-basis="605px"
>&lt;/p>
&lt;p>APMSAçš„å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154510502.png"
width="1051"
height="1354"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154510502_hu_5ab13c6f6c1825be.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719154510502_hu_8e6a33603c50f6fb.png 1024w"
loading="lazy"
alt="APMSAç®—æ³•æµç¨‹"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="186px"
>&lt;/p>
&lt;h2 id="å®éªŒè¯„ä»·">&lt;a href="#%e5%ae%9e%e9%aa%8c%e8%af%84%e4%bb%b7" class="header-anchor">&lt;/a>å®éªŒè¯„ä»·
&lt;/h2>&lt;p>&lt;strong>æ•°æ®é›†ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>CIFAR10&lt;/li>
&lt;li>GTSRB&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>è¯„ä¼°æŒ‡æ ‡ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Top-1 ç²¾åº¦&lt;/li>
&lt;/ul>
&lt;h3 id="æ¨¡å‹æå–æ”»å‡»è¯„ä¼°">&lt;a href="#%e6%a8%a1%e5%9e%8b%e6%8f%90%e5%8f%96%e6%94%bb%e5%87%bb%e8%af%84%e4%bc%b0" class="header-anchor">&lt;/a>æ¨¡å‹æå–æ”»å‡»è¯„ä¼°
&lt;/h3>&lt;p>é€‰æ‹©VGG16ä½œä¸ºæ”»å‡»è€…åˆå§‹æ›¿ä»£æ¨¡å‹çš„æ¨¡å‹ç»“æ„ã€‚ä½¿ç”¨å­¦ä¹ ç‡ä¸º 0.0001 çš„ SGD æ¥æœ€å°åŒ–å‡æ–¹è¯¯å·®çš„æŸå¤±ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193250587.png"
width="1055"
height="319"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193250587_hu_1d814802ee858dbb.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193250587_hu_9405fd5d1582cc28.png 1024w"
loading="lazy"
alt="STL10æ•°æ®é›†"
class="gallery-image"
data-flex-grow="330"
data-flex-basis="793px"
>&lt;/p>
&lt;p>ä½¿ç”¨CIFAR-10æ•°æ®é›†è®­ç»ƒäº†ä¸€ä¸ªåŸºäºResNet-18çš„æ¨¡å‹ï¼Œå‡†ç¡®ç‡ä¸º91.94%ï¼Œå¹¶åœ¨ä¸åº”ç”¨é˜²å¾¡çš„æƒ…å†µä¸‹éƒ¨ç½²ã€‚ å¯¹äºåˆå§‹æ›¿ä»£æ¨¡å‹ï¼Œä½œè€…é€‰æ‹©äº†åœ¨ImageNetä¸Šé¢„è®­ç»ƒçš„VGG 16æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨STL 10æ•°æ®é›†ä½œä¸ºå…¬å…±æŸ¥è¯¢æ ·æœ¬ã€‚&lt;/p>
&lt;p>æ”¾å®½é™åˆ¶ï¼Œå°†æŸ¥è¯¢æ ·æœ¬è®¾ç½®ä¸º CIFAR10 æµ‹è¯•é›†çš„ä¸€å°éƒ¨åˆ†è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193548726.png"
width="1040"
height="320"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193548726_hu_c999424fcba6218b.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193548726_hu_4f6b84e41df1e4a3.png 1024w"
loading="lazy"
alt="CIFAR-10æ•°æ®é›†"
class="gallery-image"
data-flex-grow="325"
data-flex-basis="780px"
>&lt;/p>
&lt;p>ä½¿ç”¨GTSRBæ•°æ®é›†è®­ç»ƒäº†ä¸€ä¸ªåŸºäºResNet-18çš„MUAæ¨¡å‹ï¼Œå‡†ç¡®ç‡ä¸º95.40%ï¼Œå¹¶åœ¨ä¸åº”ç”¨é˜²å¾¡çš„æƒ…å†µä¸‹éƒ¨ç½²ã€‚ å¯¹äºåˆå§‹æ›¿ä»£æ¨¡å‹ï¼Œé€‰æ‹©äº†åœ¨ImageNetä¸Šé¢„è®­ç»ƒçš„VGG 16æ¨¡å‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193708827.png"
width="1021"
height="319"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193708827_hu_952b708151badab8.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719193708827_hu_d82fd7e3fb3b5011.png 1024w"
loading="lazy"
alt="GTSRBæ•°æ®é›†"
class="gallery-image"
data-flex-grow="320"
data-flex-basis="768px"
>&lt;/p>
&lt;p>ä¸Šè¿°æ¡ˆä¾‹è¡¨æ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>æŸ¥è¯¢æ ·æœ¬çš„é€‰æ‹©ä¼šå½±å“æ¨¡å‹çªƒå–æ”»å‡»çš„æ•ˆç‡ã€‚å…·ä½“æ¥è¯´ï¼Œæ›´æ¥è¿‘ç›®æ ‡åŸŸæ•°æ®åˆ†å¸ƒçš„æŸ¥è¯¢æ ·æœ¬å§‹ç»ˆæœ‰åˆ©äºæ”»å‡»ã€‚&lt;/li>
&lt;li>åŸºäºå†³ç­–è¾¹ç•Œçš„æ ·æœ¬åˆæˆæŠ€æœ¯ï¼ˆå³é€šè¿‡PGDã€CWï¼‰å¯ä»¥æä¾›æ¯”éšæœºæŸ¥è¯¢æ›´æœ‰ç”¨çš„ä¿¡æ¯ã€‚&lt;/li>
&lt;li>éšç€æŸ¥è¯¢é¢„ç®—çš„å¢åŠ ï¼ŒåŸºäºå†³ç­–è¾¹ç•Œçš„æ ·æœ¬ç”Ÿæˆå¹¶æ²¡æœ‰å¸¦æ¥å¤ªå¤§çš„æ€§èƒ½æå‡ã€‚åŸå› å¯èƒ½æ˜¯æ‰€é€‰æ ·æœ¬åˆ†å¸ƒä¸åŸå§‹æ¨¡å‹çš„è®­ç»ƒé›†è¿‡äºæ¥è¿‘ï¼ŒåŸºäºå†³ç­–è¾¹ç•Œçš„æ ·æœ¬ç»“æ„æä¾›çš„ä¿¡æ¯é‡ç›¸å¯¹æœ‰é™ã€‚&lt;/li>
&lt;li>å½“æ ·æœ¬æ•°é‡è¾ƒå°‘æ—¶ï¼ŒåŸºäºè¿ç§»å­¦ä¹ çš„æ¨¡å‹çªƒå–æ”»å‡»å¯æé«˜æ”»å‡»æ•ˆæœã€‚åŸå› æ˜¯æ ·æœ¬è¶Šå°‘ï¼Œå†—ä½™ä¿¡æ¯è¶Šå°‘ã€‚ç„¶è€Œï¼Œç”±äºè·å¾—çš„ä¿¡æ¯ç›¸ä¼¼ï¼Œæ›´å¤šçš„æŸ¥è¯¢æ ·æœ¬å¯èƒ½ä¼šå¯¼è‡´ä¿¡æ¯å†—ä½™ï¼Œè¿™ä¸ä¼šä¸ºä¿ƒè¿›æ”»å‡»æä¾›æ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä½œè€…è¿›ä¸€æ­¥è¯„ä¼°æ”»å‡»è€…é€‰æ‹©çš„ä¸åŒæ›¿ä»£æ¨¡å‹æ¶æ„å¯¹æ”»å‡»æ•ˆæœçš„å½±å“ã€‚æ›¿ä»£æ¨¡å‹çš„æ€§èƒ½å—æ‰€é€‰æ¨¡å‹æ¶æ„çš„å½±å“ã€‚å¦‚å›¾æ‰€ç¤ºï¼ŒVGG16å§‹ç»ˆè¡¨ç°å‡ºä¼˜äºCIFAR10å…¶ä»–æ¨¡å‹çš„æ”»å‡»æ€§èƒ½ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194215459.png"
width="999"
height="759"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194215459_hu_db6c7b48e68c2016.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194215459_hu_c954b26b99f5c204.png 1024w"
loading="lazy"
alt="CIFAR10å®éªŒç»“æœ"
class="gallery-image"
data-flex-grow="131"
data-flex-basis="315px"
>&lt;/p>
&lt;p>åŒæ ·ï¼Œåœ¨åœ¨GTSRBæ•°æ®é›†ä¸Šè¯„ä¼°æ—¶ï¼ŒResNet50è¡¨ç°å‡ºæœ€å¥½çš„æ”»å‡»æ•ˆæœï¼Œç•¥å¥½äºVGG16ï¼Œä½¿ç”¨AlexNetçš„æ€§èƒ½æœ€å·®ã€‚è¿™è¡¨æ˜é€‰æ‹©åˆé€‚çš„æ›¿ä»£æ¨¡å‹å¯ä»¥é™ä½æ”»å‡»æˆæœ¬ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194317767.png"
width="991"
height="395"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194317767_hu_cbb598af4fbcda9e.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194317767_hu_393f17f40dddc8a9.png 1024w"
loading="lazy"
alt="GTSRBæ•°æ®é›†ç»“æœ"
class="gallery-image"
data-flex-grow="250"
data-flex-basis="602px"
>&lt;/p>
&lt;p>ç»¼ä¸Šï¼ŒæŸ¥è¯¢æ ·æœ¬çš„é€‰æ‹©ä¼šå½±å“æ¨¡å‹çªƒå–æ”»å‡»çš„æ•ˆç‡å’Œæ›¿ä»£æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚å…·ä½“æ¥è¯´ï¼Œæ”»å‡»æœ€å¥½é€‰æ‹©ç±»ä¼¼äºç›®æ ‡åŸŸçš„æ•°æ®åˆ†å¸ƒçš„å…¬å…±æŸ¥è¯¢æ ·æœ¬ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼ŒåŸºäºå†³ç­–è¾¹ç•Œçš„æ ·æœ¬åˆæˆæŠ€æœ¯ï¼ˆPGDã€CWç­‰ï¼‰å¯ä»¥æä¾›æ¯”éšæœºæŸ¥è¯¢æ›´æœ‰ç”¨çš„ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œéšç€æŸ¥è¯¢æ¬¡æ•°çš„å¢åŠ ï¼ŒåŸºäºå†³ç­–è¾¹ç•Œçš„æ ·æœ¬å¹¶æ²¡æœ‰å¸¦æ¥å¤ªå¤§çš„æ€§èƒ½æå‡ã€‚åŸå› å¯èƒ½æ˜¯æ‰€é€‰æ ·æœ¬åˆ†å¸ƒä¸åŸå§‹æ¨¡å‹çš„è®­ç»ƒé›†å¤ªæ¥è¿‘ã€‚&lt;/p>
&lt;h3 id="é˜²å¾¡éªŒè¯">&lt;a href="#%e9%98%b2%e5%be%a1%e9%aa%8c%e8%af%81" class="header-anchor">&lt;/a>é˜²å¾¡éªŒè¯
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194541217.png"
width="968"
height="758"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194541217_hu_1ff504c17ea44227.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719194541217_hu_ceab8f471377b8d5.png 1024w"
loading="lazy"
alt="éªŒè¯APMSA"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;p>ä½¿ç”¨APMSAåï¼Œæ›¿ä»£æ¨¡å‹çš„å‡†ç¡®ç‡ç”šè‡³ä½äºåŸºå‡†ï¼Œè¡¨æ˜é˜²å¾¡å‡å°‘äº†æ¨¡å‹é¢„æµ‹å¼•èµ·çš„æ¨¡å‹å†…éƒ¨ä¿¡æ¯æ³„éœ²ã€‚&lt;/p>
&lt;p>APMSAçš„å…³é”®è§è§£æ˜¯ï¼Œé€šè¿‡å°†è¾“å…¥æ˜ å°„åˆ°ç‰¹å¾ç©ºé—´çš„å°å°ºåº¦åŒºåŸŸï¼Œå¯ä»¥å°½å¯èƒ½å‡å°‘è¾“å…¥è¾“å‡ºå¯¹æºå¸¦çš„ä¿¡æ¯æ³„æ¼ï¼Œç”šè‡³åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šäº§ç”Ÿè¯¯å¯¼æ€§ä¿¡æ¯ã€‚ä¸ºäº†å¯è§†åŒ–è¿™ä¸€å…³é”®è§è§£ï¼Œä½œè€…ä½¿ç”¨ t-SNE å’Œå½’ä¸€åŒ–æ“ä½œæ¥å‡å°‘ç”¨äºå¯è§†åŒ–çš„æ··æ·†è¾“å…¥çš„ç»´åº¦ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719195342175.png"
width="984"
height="721"
srcset="https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719195342175_hu_b495bf4d14862906.png 480w, https://lbqaq.top/p/apmsa-adversarial-perturbation-against-model-stealing-attacks/IMAGE/image-20230719195342175_hu_d7648715cc4956a9.png 1024w"
loading="lazy"
alt="t-SNEç»“æœ"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="327px"
>&lt;/p>
&lt;p>CIFAR10 æ•°æ®é›†ä¸Šçš„æ··æ·†è¾“å…¥å’ŒæŸ¥è¯¢æ ·æœ¬ä¹‹é—´å­˜åœ¨æ˜æ˜¾çš„åˆ†ç¦»â€”â€”æ¯ä¸ªæ··æ·†è¾“å…¥éƒ½æ˜¯ä»ä¼ å…¥çš„æŸ¥è¯¢æ ·æœ¬ä¸­æ‰¾åˆ°çš„ã€‚åœ¨å°†åŸå§‹æŸ¥è¯¢æ ·æœ¬ä¸æ··æ·†è¾“å‡ºç›¸å…³è”æ—¶ï¼Œé€šè¿‡å¹²æ‰°æ¨¡å‹é¢„æµ‹ä¸­æ³„éœ²çš„ä¿¡æ¯ï¼Œä»¥å‡å°‘æ¨¡å‹çªƒå–æ”»å‡»çš„å½±å“ã€‚&lt;/p></description></item><item><title>fontconfigï¼šLinuxä¸‹çš„å­—ä½“é…ç½®</title><link>https://lbqaq.top/p/linux-font/</link><pubDate>Wed, 05 Jul 2023 20:58:15 +0800</pubDate><guid>https://lbqaq.top/p/linux-font/</guid><description>&lt;img src="https://lbqaq.top/p/linux-font/109572761.webp" alt="Featured image of post fontconfigï¼šLinuxä¸‹çš„å­—ä½“é…ç½®" />&lt;h2 id="å­—ä½“çš„åˆ†ç±»">&lt;a href="#%e5%ad%97%e4%bd%93%e7%9a%84%e5%88%86%e7%b1%bb" class="header-anchor">&lt;/a>å­—ä½“çš„åˆ†ç±»
&lt;/h2>&lt;p>å­—ä½“çš„æ•°é‡å¯ä»¥è¯´æ˜¯æˆåƒä¸Šä¸‡ï¼Œä½†ä¸€èˆ¬åœ¨ç”µè„‘ä¸Šæ˜¾ç¤ºçš„åŸºæœ¬ä¸ºä»¥ä¸‹è¿™ä¸‰ç±»&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>monospace [ç­‰å®½]&lt;/p>
&lt;p>ç­‰å®½å­—ä½“æ˜¯æŒ‡å­—ç¬¦å®½åº¦ç›¸åŒçš„å­—ä½“ï¼Œç”¨äºéœ€è¦å­—ç¬¦ä¸¥æ ¼å¯¹é½çš„åœºåˆï¼Œä¾‹å¦‚æ§åˆ¶å°å’Œæºä»£ç ã€‚ä¸æ­¤ç›¸å¯¹ï¼Œå­—ç¬¦å®½åº¦å„ä¸ç›¸åŒçš„å­—ä½“ç§°ä¸ºæ¯”ä¾‹å­—ä½“(å…¶ä½™å››ç±»å­—ä½“éƒ½æ˜¯)ã€‚ä¸è¿‡ï¼Œå¯¹äºä¸­æ–‡å­—ä½“è€Œè¨€ï¼Œå¹¶ä¸å­˜åœ¨ç­‰å®½ä¸æ¯”ä¾‹çš„å·®åˆ«ï¼Œå› ä¸ºæ‰€æœ‰ä¸­æ–‡å­—éƒ½æ˜¯ç­‰å®½çš„ã€‚ä¸­æ–‡å­—ä½“ä¸­çš„â€œç­‰å®½â€æŒ‡çš„æ˜¯å­—ä½“çš„è¥¿æ–‡éƒ¨åˆ†æ˜¯ç­‰å®½çš„ï¼Œ2ä¸ªå­—æ¯å¯¹åº”1ä¸ªæ±‰å­—ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>sans-serif [æ— è¡¬çº¿]&lt;/p>
&lt;p>æ˜¯æŒ‡ç¬”ç”»æœ«ç«¯æ²¡æœ‰ä¿®é¥°(è¡¬çº¿)çš„å­—ä½“ï¼Œé€šå¸¸ç”¨äºå±å¹•æ˜¾ç¤ºã€‚ä¸­æ–‡çš„é»‘ä½“ä¸åœ†ä½“å°±å±äºæ­¤ç±»å­—ä½“ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>serif [æœ‰è¡¬çº¿]&lt;/p>
&lt;p>æ˜¯æŒ‡ç¬”ç”»æœ«ç«¯æœ‰ä¿®é¥°(è¡¬çº¿)çš„å­—ä½“ï¼Œé€šå¸¸ç”¨äºæ‰“å°ã€‚ä¸­æ–‡çš„å®‹ä½“ä¸ä»¿å®‹å°±å±äºæ­¤ç±»å­—ä½“ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬è¦åšçš„å­—ä½“é…ç½®ä¸»è¦å°±æ˜¯é’ˆå¯¹ä¸Šé¢è¿™ä¸‰ç±»å­—ä½“ã€‚&lt;/p>
&lt;h2 id="é€‰å­—ä½“">&lt;a href="#%e9%80%89%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>é€‰å­—ä½“
&lt;/h2>&lt;p>æœ‰äº†ç›®æ ‡ï¼Œä¸‹é¢å°±æ˜¯é€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å­—ä½“äº†ã€‚ä¸è¿‡ï¼Œå¯¹äºä¸­æ–‡å­—ä½“ï¼Œç›®å‰ç°åœ¨ Linux ä¸Šå¸¸ç”¨çš„ã€åœ¨ç»´æŠ¤çš„å¼€æºä¸­æ–‡å­—ä½“å°±ä¸€å¥—â€”â€”â€œæ€æºé»‘ä½“â€å’Œâ€œæ€æºå®‹ä½“â€ï¼ŒåŒæ—¶è¢« &lt;a class="link" href="https://en.wikipedia.org/wiki/Noto_fonts" target="_blank" rel="noopener"
>Noto&lt;/a> å’Œ&lt;a class="link" href="https://en.wikipedia.org/wiki/Source_Han_Sans" target="_blank" rel="noopener"
>æ€æº&lt;/a>ä¸¤ä¸ªé¡¹ç›®æ”¶å½•ã€‚Noto ç³»åˆ—å­—ä½“æ˜¯ Google ä¸»å¯¼çš„ï¼Œæ€æºç³»åˆ—å­—ä½“æ˜¯ Adobe ä¸»å¯¼çš„ã€‚&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å¯¹äºç¼–ç¨‹å­—ä½“ï¼Œå¯ä»¥é€‰æ‹©çš„ä½™åœ°å°±å¤šå¤šäº†ï¼Œåƒæ˜¯Source Code Proï¼ŒConsolasï¼ŒMenloç­‰ç­‰ã€‚æˆ‘ä¸€å¼€å§‹é€‰æ‹©çš„æ˜¯ &lt;a class="link" href="https://github.com/be5invis/Iosevka" target="_blank" rel="noopener"
>Iosevka&lt;/a> ã€‚ä½†æ˜¯ï¼Œè¿™æ¬¾å­—ä½“ç»™æˆ‘æ„Ÿè§‰å¤ªç˜¦äº†ï¼Œçœ‹èµ·æ¥å¾ˆæ˜¯åˆ«æ‰­ã€‚æœ€åï¼Œæˆ‘é€‰æ‹©äº†å¹¿å—å¥½è¯„çš„ &lt;a class="link" href="https://github.com/tonsky/FiraCode" target="_blank" rel="noopener"
>Fira Code&lt;/a> ã€‚&lt;/p>
&lt;p>å°ç»“ä¸€ä¸‹ï¼Œæˆ‘çš„é€‰æ‹©æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>æ— è¡¬çº¿ï¼šè¥¿æ–‡ Noto Sansï¼Œä¸­æ–‡ Noto Sans CJK&lt;/li>
&lt;li>è¡¬çº¿ï¼šè¥¿æ–‡ Noto Serifï¼Œä¸­æ–‡ Noto Serif CJK&lt;/li>
&lt;li>ç­‰å®½ï¼šè¥¿æ–‡ Fira Codeï¼Œä¸­æ–‡ Noto Sans Mono CJK&lt;/li>
&lt;/ul>
&lt;p>åœ¨ArchLiunxä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å®‰è£…&lt;code>noto-fonts&lt;/code>å’Œ&lt;code>noto-fonts-cjk&lt;/code>è¿™ä¸¤ä¸ªåŒ…å³å¯ï¼Œä»–ä»¬åˆ†åˆ«æä¾›äº†è¥¿æ–‡å­—ä½“ Noto Sans / Noto Serifå’Œä¸­æ–‡å­—ä½“ Noto Sans CJK / Noto Serif CJK / Noto Sans Mono CJK ã€‚&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;p>å…³äº emojiï¼Œæˆ‘é€‰æ‹©äº† Twitter æ¨å‡ºçš„å­—ä½“ Twemojiã€‚&lt;/p>
&lt;ul>
&lt;li>ttf-twemoji&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œå°‘ä¸äº†äººè§äººçˆ±çš„å›¾æ ‡å­—ä½“ Nerd Fontsã€‚&lt;/p>
&lt;ul>
&lt;li>ttf-nerd-fonts-symbols&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œå°±æœ‰å°ä¼™ä¼´å¼€å§‹å¥½å¥‡äº†ï¼Œå¦‚ä½•è®©è¥¿æ–‡å’Œä¸­æ–‡ä½¿ç”¨ä¸åŒçš„å­—ä½“å‘¢ï¼Ÿ&lt;/p>
&lt;p>åœ¨ Windows ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆæˆå­—ä½“ï¼Œå³å°†å„ç±»å­—ä½“æ‰“åŒ…åˆ°ä¸€èµ·ã€‚ä¾‹å¦‚&lt;a class="link" href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener"
>æ›´çº±é»‘ä½“&lt;/a>å°±æ˜¯ç”±æ€æºé»‘ä½“å’Œè¥¿æ–‡å­—ä½“ Iosevka æ•´åˆè€Œæ¥çš„ã€‚è¿™ç§å­—ä½“çš„å¥½å¤„å°±æ˜¯æ–¹ä¾¿ï¼Œç›´æ¥é€‰æ‹©ä½¿ç”¨å³å¯ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§ï¼Œå°±æ˜¯æ‰“åŒ…å¤ªéº»çƒ¦äº†ï¼Œå¼•å…¥ Iosevka è¦æ‰“ä¸€æ¬¡åŒ…ï¼Œæƒ³è¦æ”¯æŒ Nerd Fontsï¼Œåˆè¦æ‰“ä¸€æ¬¡åŒ…ã€‚å¦‚æœæ˜¯åˆ«äººå¸®ä½ æä¾›å¥½çš„åˆæˆå­—ä½“é‚£è¿˜å¥½è¯´ï¼Œ ä»ç½‘ä¸Šä¸‹è½½ã€ä»è½¯ä»¶ä»“åº“å®‰è£…å°±å®Œäº‹äº†ï¼Œè‡ªå·±æ‰“åŒ…çš„è¯çœŸçš„å·¥ä½œé‡å·¨å¤§ã€‚&lt;/p>
&lt;p>è€Œåœ¨ Liunx ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½® fontconfig å°±å¥½äº†ï¼Œæ— è®ºæƒ³æ€ä¹ˆæ­é…éƒ½å¯ä»¥å®ç°ï¼Œå¬èµ·æ¥æ˜¯ä¸æ˜¯ç‰¹åˆ«é…·ğŸ˜ã€‚å¯æƒœçš„æ˜¯ï¼Œæœ‰ä¸€äº›ç¨‹åºå¯¹ fontconfig æ”¯æŒå¹¶ä¸å®Œå–„ï¼Œè¿™å°±è¾¾ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚ï¼ˆè¯´çš„å°±æ˜¯ä½ ï¼ŒChromeğŸ˜ ï¼‰&lt;/p>
&lt;h2 id="fontconfig">&lt;a href="#fontconfig" class="header-anchor">&lt;/a>fontconfig
&lt;/h2>&lt;p>åœ¨æˆ‘ä»¬å¼€å§‹æ­£å¼é…ç½®å‰ï¼Œè¿˜æ˜¯æœ‰å¿…è¦äº†è§£ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ã€‚è¿™é‡Œæˆ‘å°±ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œå¦‚æœæƒ³è¦æ·±å…¥äº†è§£çš„è¯å¯ä»¥çœ‹çœ‹åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/post/2020-10-31/" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†Linux fontconfig çš„å­—ä½“åŒ¹é…æœºåˆ¶ã€‚&lt;/p>
&lt;h3 id="å­—ä½“çš„å±æ€§">&lt;a href="#%e5%ad%97%e4%bd%93%e7%9a%84%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>å­—ä½“çš„å±æ€§
&lt;/h3>&lt;p>å­—ä½“æœ‰å¾ˆå¤šå±æ€§ï¼Œå¸¸ç”¨çš„æœ‰å­—æ—ï¼ˆfamilyï¼‰ã€å€¾æ–œï¼ˆslantï¼‰ã€å­—é‡ï¼ˆweightï¼‰ã€‚åä¸¤è€…åˆä¸€èµ·å«æ ·å¼ï¼ˆstyleï¼‰ã€‚&lt;/p>
&lt;p>å­—æ—å°±æ˜¯å®ƒçš„åå­—å•¦ã€‚ä¸€ä¸ªå­—ä½“æ–‡ä»¶ï¼Œå¯ä»¥æä¾›å¤šä¸ªå­—ä½“æ—å (family)ã€‚æ¯”å¦‚ Arch Linux ç”¨æˆ·åœ¨å®‰è£… wqy-microhei åï¼Œç³»ç»Ÿç«¯å¢åŠ äº† wqy-microhei.ttc è¿™ä¸ªå­—ä½“æ–‡ä»¶ï¼Œåˆ†åˆ«æä¾›ã€ŒWenQuanYi Micro Heiã€ã€Œæ–‡æ³‰é©›å¾®ç±³é»‘ã€,ã€Œæ–‡æ³‰é©¿å¾®ç±³é»‘ã€ä¸‰ä¸ªå­—ä½“æ—åï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªæ„æ€ã€‚æˆ‘ä»¬å¯ä»¥è¿è¡Œ fontconfig æä¾›çš„å‘½ä»¤è¡Œå·¥å…· fc-list å»æŸ¥çœ‹ç³»ç»Ÿä¸Šå·²å®‰è£…çš„å­—ä½“å·²ç»å®ƒä»¬å¯¹åº”çš„å­—ä½“æ—åã€‚&lt;/p>
&lt;p>å€¾æ–œå°±æ˜¯æ–œä¸æ–œï¼Œè‹±æ–‡å«ã€ŒRomanã€ã€ŒItalicã€æˆ–è€…ã€ŒObliqueã€ï¼ŒItalic æ˜¯ä¸“é—¨çš„æ–œä½“å†™æ³•ï¼ˆæ›´æ¥è¿‘æ‰‹å†™æ ·å¼ï¼‰ï¼Œ Oblique æ˜¯æŠŠå¸¸è§„å†™æ³•å€¾æ–œä¸€ä¸‹å®Œäº‹ã€‚&lt;/p>
&lt;p>å­—é‡å°±æ›´ç®€å•äº†ï¼Œå°±æ˜¯ç¬”åˆ’çš„ç²—ç»†ã€‚å¸¸è§çš„æœ‰ Regularã€Normalã€Mediumã€Boldã€Semiboldã€Blackã€Thinã€Lightã€Extralight ç­‰ã€‚&lt;/p>
&lt;h3 id="é€šç”¨å­—æ—å">&lt;a href="#%e9%80%9a%e7%94%a8%e5%ad%97%e6%97%8f%e5%90%8d" class="header-anchor">&lt;/a>é€šç”¨å­—æ—å
&lt;/h3>&lt;p>å¾ˆå¤šæ—¶å€™ï¼Œç¨‹åºå¹¶ä¸åœ¨ä¹ç”¨æˆ·å…·ä½“ä½¿ç”¨çš„æ˜¯å“ªæ¬¾å­—ä½“ï¼Œåƒå¾ˆå¤šç½‘ç«™çš„ CSS é‚£æ ·æŠŠå„ä¸ªå¹³å°çš„å¸¸è§å­—ä½“å…¨éƒ¨åˆ—å‡ºæ¥å¤ªå‚»äº†ï¼Œåˆå®¹æ˜“å‡ºé—®é¢˜ã€‚æ‰€ä»¥ï¼Œäººä»¬å‘æ˜äº†ã€Œé€šç”¨å­—æ—åã€ï¼Œä¹Ÿå°±æ˜¯ sans-serif (sans)ã€serif å’Œ monospace (mono) è¿™äº›ã€‚å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„å­—ä½“ï¼Œè€Œæ˜¯åˆ†åˆ«æŒ‡ç¤ºç¨‹åºå»ä½¿ç”¨æ— è¡¬çº¿ã€è¡¬çº¿ã€ç­‰å®½å­—ä½“ã€‚é‚£ä¹ˆæ¡Œé¢ç¨‹åºåˆæ˜¯å¦‚ä½•çŸ¥é“å…·ä½“ä½¿ç”¨å“ªäº›å­—ä½“å‘¢ï¼Ÿå®ƒåªéœ€è¦å»æŸ¥è¯¢ fontconfig å°±è¡Œäº†ã€‚ç”±äºå®ƒä»¬å¿…å®šè¦ç»è¿‡ fontconfig çš„æŸ¥è¯¢æµç¨‹åæ‰èƒ½ä½¿ç”¨å­—ä½“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ fontconfig çš„é…ç½®å»ç²¾å‡†æ§åˆ¶ç¨‹åºä½¿ç”¨çš„å­—ä½“ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•è°ƒè¯•">&lt;a href="#%e5%a6%82%e4%bd%95%e8%b0%83%e8%af%95" class="header-anchor">&lt;/a>å¦‚ä½•è°ƒè¯•
&lt;/h3>&lt;p>ä¼ å…¥ç¯å¢ƒå˜é‡&lt;code>FC_DEBUG=4&lt;/code>å³å¯ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FC_DEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4&lt;/span> kitty
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>fontconfig å°±ä¼šæ‰“å°è°ƒè¯•ä¿¡æ¯ï¼Œå…¶ä¸­å¯ä»¥çœ‹åˆ°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">FcConfigSubstitute Pattern has 6 elts (size 16)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> family: &amp;#34;monospace&amp;#34;(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> slant: 0(i)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> weight: 80(i)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pixelsize: 19.1667(f)(s)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> lang: &amp;#34;en&amp;#34;(w)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> prgname: &amp;#34;kitty&amp;#34;(s)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™¤äº†å¯åŠ¨ä¸€ä¸ªç¨‹åºæ¥çœ‹å®ƒå­—ä½“çš„è°ƒç”¨æ—¥å¿—ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³çœ‹ monospace åœ¨ç³»ç»Ÿé‡Œè¢«ä¿®æ”¹æˆäº†ä»€ä¹ˆå­—ä½“ï¼Œå°±å¯ä»¥æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">FC_DEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4&lt;/span> fc-match &lt;span class="s1">&amp;#39;monospace&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“å°å‡ºçš„è°ƒè¯•ä¿¡æ¯ä¼šå¾ˆé•¿ï¼Œæˆ‘ä»¬ä¸»è¦çœ‹å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p>
&lt;p>ç¬¬ä¸€éƒ¨åˆ†ï¼ŒAdd Ruleï¼ŒæŒ‡å·²æ·»åŠ çš„é…ç½®æ–‡ä»¶è§„åˆ™ã€‚è¿™é‡Œé¢ä¹ŸåŒ…å«äº†å®¶ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ‰¾æ¥çœ‹çœ‹è¢«è§£ææˆäº†ä»€ä¹ˆã€‚&lt;/p>
&lt;p>ç¬¬äºŒéƒ¨åˆ†ï¼Œåœ¨ Add Rule ä¹‹åï¼Œè¿æ¥äº†æœ€å…³é”®çš„ã€æˆ‘ä»¬åº”å½“å…³å¿ƒçš„ FcConfigSubstitute Patternï¼Œå®ƒåŒ…å«äº† font patternã€‚(s) å’Œ (w) åˆ†åˆ«ä»£è¡¨å¼ºå¼±ç»‘å®šï¼›prgname ä»£è¡¨ç¨‹åºåï¼Œæ­¤æ—¶å°±æ˜¯ fc-matchã€‚è‡³äº langï¼Œç”±äºæ²¡æœ‰å¯¹ fc-match æŒ‡å®šè¯­è¨€ï¼Œæ‰€ä»¥é»˜è®¤æ˜¯ enã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥æœ‰å¾ˆå¤šæ¡ FcConfigSubstitute editPatternï¼Œä»£è¡¨å¯¹ font pattern çš„æ›¿æ¢æ“ä½œã€‚ä½†æ˜¯å¿…é¡»å½“è§„åˆ™åŒ¹é…çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ Rule Set ä¸æ˜¯ No match çš„æƒ…å†µä¸‹ï¼Œæ‰æ‰§è¡Œ FcConfigSubstitute editPatternã€‚é‚£ä¹ˆï¼Œåˆåº”è¯¥æ€ä¹ˆçœ‹ FcConfigSubstitute editPattern å‘¢ï¼Ÿä¸»è¦çœ‹ familyï¼Œå› ä¸º family ä»£è¡¨ç€å­—ä½“åŒ¹é…é¡ºåºã€‚å®ƒå°±æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„&lt;code>&amp;lt;edit target=&amp;quot;pattern&amp;quot;&amp;gt;&lt;/code>æ“ä½œã€‚&lt;/p>
&lt;p>æœ€ååº”è¯¥å…³å¿ƒ FcConfigSubstitute donePatternï¼Œè¿™æ˜¯ fontconfig æ‰§è¡Œå®Œå­—ä½“æ›¿æ¢åçš„ç»“æœã€‚&lt;/p>
&lt;h3 id="é…ç½®æ–‡ä»¶">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>é…ç½®æ–‡ä»¶
&lt;/h3>&lt;p>æ•´ä¸ªé…ç½®æ–‡ä»¶ç”±å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ä¾æ¬¡æ‹¼æ¥è€Œæˆï¼š&lt;/p>
&lt;ol>
&lt;li>ç›®å½•è®¾ç½®(&lt;code>&amp;lt;dir&amp;gt;&lt;/code>, &lt;code>&amp;lt;cachedir&amp;gt;&lt;/code>, &lt;code>&amp;lt;include&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ‚é¡¹è®¾ç½®(&lt;code>&amp;lt;config&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ‰«æé˜¶æ®µ(&lt;code>&amp;lt;match target=&amp;quot;scan&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;li>åŒ¹é…é˜¶æ®µ(&lt;code>&amp;lt;alias&amp;gt;&lt;/code>, &lt;code>&amp;lt;match target=&amp;quot;pattern&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;li>æ¸²æŸ“é˜¶æ®µ(&lt;code>&amp;lt;match target=&amp;quot;font&amp;quot;&amp;gt;&lt;/code>)&lt;/li>
&lt;/ol>
&lt;p>æƒ³è¦å®ç°åˆæˆå­—ä½“çš„æ•ˆæœï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ€è·¯ï¼Œæœ¬æ–‡ä¹ŸåŸºäºè¯¥æ€è·¯ï¼šä¸è®©ç¨‹åºä½¿ç”¨æŸä¸ªå…·ä½“çš„å­—ä½“ï¼Œè€Œæ˜¯ä½¿ç”¨é€šç”¨å­—ä½“æ—å (Generic Font Family)ã€‚æ¯”å¦‚ï¼Œè®©ç¨‹åºä½¿ç”¨ sans-serifï¼Œä¹Ÿå°±æ˜¯é»˜è®¤çš„æ— è¡¬çº¿å­—ä½“ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¦å…³å¿ƒç¬¬å››ä¸ªéƒ¨åˆ†ï¼Œå³åŒ¹é…é˜¶æ®µï¼Œä½¿ç”¨ fontconfig é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ç§ font stack çš„æ–¹å¼ï¼Œå³å¯è®©ç¨‹åºæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ¸²æŸ“å­—ä½“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Noto Sans CJK SC â€”&amp;gt; Noto Sans -&amp;gt; Twemoji
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œçš„&lt;code>&amp;lt;test&amp;gt;&lt;/code>å°±æ˜¯æ¡ä»¶åˆ¤æ–­ï¼Œ&lt;code>mode=&amp;quot;prepend&amp;quot;&lt;/code>æŒ‡åœ¨å‰æ·»åŠ ï¼Œ&lt;code>binding=&amp;quot;strong&amp;quot;&lt;/code>åˆ™æ˜¯å¼ºç»‘å®š&lt;/p>
&lt;h2 id="å¼€å§‹é…ç½®">&lt;a href="#%e5%bc%80%e5%a7%8b%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>å¼€å§‹é…ç½®
&lt;/h2>&lt;p>æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯å°±æ˜¯ä¿®æ”¹é»˜è®¤çš„å­—æ—ï¼Œè®©å…¶æˆä¸ºæˆ‘ä»¬æƒ³è¦æŒ‡å®šçš„å­—ä½“ã€‚ç„¶åå°†æ‰€æœ‰ç¨‹åºçš„å­—ä½“é…ç½®æ”¹ä¸ºé€šç”¨å­—ä½“æ—åï¼šsans-serifï¼Œserifï¼Œmonospaceã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çš„é…ç½®éƒ½æ”¾åœ¨æ­¤ç›®å½•ä¸­&lt;code>~/.config/fontconfig/fonts.conf&lt;/code>ï¼Œæˆ‘çš„å®Œæ•´é…ç½®åœ¨&lt;a class="link" href="https://github.com/luoboQAQ/dotconfig/tree/main/fontconfig" target="_blank" rel="noopener"
>æ­¤ä»“åº“&lt;/a>ä¸­ã€‚&lt;/p>
&lt;h3 id="è®¾ç½®é»˜è®¤å­—ä½“">&lt;a href="#%e8%ae%be%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>è®¾ç½®é»˜è®¤å­—ä½“
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default system-ui fonts --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>system-ui&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default sans-serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- Default monospace fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>monospace&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Symbols Nerd Font&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Twemoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Fira Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹ system-uiï¼Œsans-serifï¼Œserifï¼Œmonospace è®¾ç½®ä¼˜å…ˆæ˜¾ç¤ºçš„å­—ä½“ã€‚åœ¨è¿™é‡Œæˆ‘è®© system-ui é»˜è®¤ä¸ºæ— è¡¬çº¿ã€‚æ³¨æ„ï¼Œsystem-ui å¿…é¡»åœ¨æœ€å‰ã€‚ç”±äº fontconfig å¯¹ font pattern çš„æ“ä½œæ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œæ‰€ä»¥å¿…é¡»å…ˆè®© system-ui èƒ½ä¼˜å…ˆä»¥ sans-serif æ˜¾ç¤ºï¼Œç„¶åæ‰æ˜¯å¯¹ sans-serif çš„æ“ä½œã€‚&lt;/p>
&lt;p>æ‰€æœ‰çš„ Noto CJK å­—ä½“éƒ½ä»¥ SC ç»“å°¾ï¼Œå› ä¸ºæˆ‘å¸Œæœ›åœ¨æ²¡æŒ‡å®šè¯­è¨€çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œä»¥ç®€ä½“ä¸­æ–‡æ˜¾ç¤ºä¸­æ–‡å­—å½¢ã€‚&lt;/p>
&lt;h3 id="è®¾ç½®å¼‚å½¢å­—">&lt;a href="#%e8%ae%be%e7%bd%ae%e5%bc%82%e5%bd%a2%e5%ad%97" class="header-anchor">&lt;/a>è®¾ç½®å¼‚å½¢å­—
&lt;/h3>&lt;p>ä»€ä¹ˆæ˜¯å¼‚å½¢å­—ï¼ŸNoto Sans CJK ä¸­çš„å¼‚ä½“å­—ï¼Œæ˜¯åœ¨ &lt;strong>ç›¸åŒçš„&lt;/strong> Unicode ç ä½ä¸‹ï¼Œä¸åŒçš„è¯­è¨€ä¼šä½¿ç”¨ä¸åŒçš„å­—å½¢ã€‚&lt;/p>
&lt;p>å¯ä»¥åœ¨åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/raw/fontconfig.html#%E5%BC%82%E4%BD%93%E5%AD%97" target="_blank" rel="noopener"
>è¿™ä¸ªæµ‹è¯•ç½‘ç«™&lt;/a>ä¸­çœ‹åˆ°ï¼Œä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹ï¼Œè¿™äº›å­—çš„æ˜¾ç¤ºæ˜¯ä¸åŒçš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants.png"
width="250"
height="280"
srcset="https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants_hu_748a2ef604a61235.png 480w, https://lbqaq.top/p/linux-font/IMAGE/font_glyph_variants_hu_92a7f637e7b2aeb8.png 1024w"
loading="lazy"
alt="å¼‚å½¢å­—"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="214px"
>&lt;/p>
&lt;p>æˆ‘ä»¬æƒ³è¦å®ç°åœ¨ä¿ç•™å¼‚ä½“å­—çš„æƒ…å†µä¸‹ï¼Œè®©å®ƒé»˜è®¤æ˜¾ç¤ºä¸­å›½å¤§é™†å­—å½¢ï¼›åªåœ¨ç‰¹å®šè¯­è¨€ä¸‹æ˜¾ç¤ºå¼‚ä½“å­—ï¼Œæ¯”å¦‚ç”¨æµè§ˆå™¨æŸ¥çœ‹ä¸€ä¸ªæ—¥æ–‡é¡µé¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Replace fonts for Japanese --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>ja&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK JP&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å­—ä½“åŒ¹é…æ—¶ï¼Œå°† Noto Sans CJK SC æ›¿æ¢æˆ Noto Sans CJK JPã€‚é™¤äº† ï¼Œä½ è¿˜éœ€è¦ç…§è‘«èŠ¦ç”»ç“¢åˆ†åˆ«æŒ‡å®š zh-TWã€zh-HKã€jaã€koï¼Œä»¥åŠå¯¹å®‹ä½“å’Œç­‰å®½å­—ä½“è¿›è¡Œé‡å¤çš„æ­¥éª¤ã€‚åœ¨æ­¤æˆ‘å°±ä¸é‡å¤äº†ã€‚&lt;/p>
&lt;h3 id="è§£å†³å…¨è§’å¼•å·">&lt;a href="#%e8%a7%a3%e5%86%b3%e5%85%a8%e8%a7%92%e5%bc%95%e5%8f%b7" class="header-anchor">&lt;/a>è§£å†³å…¨è§’å¼•å·
&lt;/h3>&lt;p>è‹±æ–‡ä¸­çš„å•å¼•å·æœ‰ä¸¤ç§ï¼Œ&lt;code>'&lt;/code>(U+0027) å’Œ&lt;code>â€™&lt;/code>(U+2019)ã€‚å¯èƒ½ä¼šè§‰å¾—å‰ä¸€ç§å‡ºç°åœ¨è‹±æ–‡æ–‡æœ¬ä¸­ï¼Œåä¸€ç§å‡ºç°åœ¨ä¸­æ–‡æ–‡æœ¬ä¸­ï¼Œå¹¶ä¸”å®½åº¦å’Œä¸­æ–‡ç­‰å®½ã€‚ç„¶è€Œï¼Œè‹±è¯­ä¸–ç•Œä¸­çš„ä¸€äº›äººåœ¨è‹±æ–‡æ–‡ç« ä¸­ä¹Ÿæ˜¯ä¼šä½¿ç”¨åä¸€ç§çš„ã€‚æ‰€ä»¥ï¼Œå­—ä½“åœ¨æ˜¾ç¤ºåä¸€ç§å¼•å·çš„æ—¶å€™ï¼Œç©¶ç«Ÿæ˜¯å’Œè‹±æ–‡å­—æ¯ä¸€æ ·çª„ï¼Œè¿˜æ˜¯è¯¥å’Œä¸­æ–‡å­—ä½“ç­‰å®½å‘¢ï¼Ÿå¦‚æœåœ¨è‹±æ–‡æ–‡ç« ä¸­æ˜¾ç¤ºæˆå…¨å®½å­—ç¬¦åˆ™ä¼šæ˜¾å¾—çªå…€ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œæ€æºé»‘ä½“å…¶å®ä¹ŸåŒ…å«äº†æ‹‰ä¸å­—æ¯çš„å­—å½¢ï¼Œå¯ä»¥å®Œå…¨ä½¿ç”¨æ€æºé»‘ä½“å»æ˜¾ç¤ºè¥¿æ–‡ã€‚æ­¤æ—¶ï¼Œåä¸€ç§å•å¼•å·çš„å®½åº¦ä¼šæ˜¾ç¤ºæˆä¸­æ–‡å­—å½¢çš„å®½åº¦ã€‚å¯¼è‡´å³ä½¿åœ¨å…¨è‹±æ–‡ç¯å¢ƒä¸­ï¼Œå•å¼•å·ä¹Ÿä¼šçªå…€åœ°åœ¨æ–‡æœ¬ä¸­è¿‡å®½ã€‚&lt;/p>
&lt;p>åŒæ ·åœ°ï¼Œ&lt;code>â€˜&lt;/code>(U+2018) &lt;code>â€œ&lt;/code>(U+201C) &lt;code>â€&lt;/code>(U+201D) ä¹Ÿæœ‰ç±»ä¼¼çš„æƒ…å†µã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¸åŒè¯­è¨€ç¯å¢ƒä¸‹å­—å½¢ä¼šæœ‰æ‰€åŒºåˆ«ï¼Œè®©å¼•å·åªåœ¨ä¸­æ–‡æ–‡æœ¬ä¸­å…¨å®½ã€‚&lt;/p>
&lt;p>åŒæ ·ï¼Œåœ¨åŒçŒ«å¤§ä½¬çš„&lt;a class="link" href="https://catcat.cc/raw/fontconfig.html#%E5%BC%82%E4%BD%93%E5%AD%97" target="_blank" rel="noopener"
>è¿™ä¸ªæµ‹è¯•ç½‘ç«™&lt;/a>ä¸­å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/linux-font/IMAGE/font_quote.png"
width="280"
height="85"
srcset="https://lbqaq.top/p/linux-font/IMAGE/font_quote_hu_c4b7d90fcc11c9b2.png 480w, https://lbqaq.top/p/linux-font/IMAGE/font_quote_hu_4db44c4d82d44826.png 1024w"
loading="lazy"
alt="å…¨è§’å¼•å·"
class="gallery-image"
data-flex-grow="329"
data-flex-basis="790px"
>&lt;/p>
&lt;p>åˆ©ç”¨fontconfigï¼Œå¯ä»¥æ–¹ä¾¿çš„è§£å†³æ­¤é—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- è§£å†³å…¨è§’å¼•å· --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>en&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¦†ç›–è¥¿æ–‡å­—ä½“">&lt;a href="#%e8%a6%86%e7%9b%96%e8%a5%bf%e6%96%87%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>è¦†ç›–è¥¿æ–‡å­—ä½“
&lt;/h3>&lt;p>å¦‚æœå»è§‚å¯Ÿ Noto Sans CJK è¿™ä¸ªä¸­æ–‡å­—ä½“ï¼Œä¼šå‘ç°å®ƒçš„è¥¿æ–‡éƒ¨åˆ†çš„å­—å½¢å…¶å®å’Œ Noto Sans ä¸ä¸€æ ·ï¼Œè™½ç„¶å®ƒä»¬éƒ½ä»¥ Noto è‡ªç§°ã€‚ä¸­æ–‡å­—ä½“æºå¸¦çš„è‹±æ–‡å­—ç¬¦æœ‰å¯èƒ½ååˆ†ç³Ÿç³•ï¼Œç‰¹åˆ«æ˜¯ Windows è‡ªå¸¦çš„ SimHeiï¼Œä¹Ÿå°±æ˜¯ä¸­æ˜“é»‘ä½“ï¼Œå®ƒçš„è‹±æ–‡ç›¸å½“ç³Ÿç³•ã€‚å¦å¤–ï¼Œå¾®è½¯é›…é»‘çš„å­—é‡å®åœ¨æ˜¯å¤ªå°‘äº†ï¼Œå¯¹äºè®¾è®¡å¸ˆæ¥è¯´å¾ˆä¸å‹å¥½ã€‚è€Œå„ç§æµè¡Œçš„è‹±æ–‡å­—ä½“æ”¯æŒå¾ˆå¤šå­—é‡ã€‚&lt;/p>
&lt;p>Noto Sans CJK çš„è‹±æ–‡è¿˜æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œä¸ºäº†å­—ä½“çš„æ ·å¼ç»Ÿä¸€ï¼Œè¿™é‡Œå°±ä¸ä¿®æ”¹sans-serifå’Œseriäº†ã€‚ä¸»è¦å°†ç¼–ç¨‹ç”¨çš„ç­‰å®½å­—ä½“æ¢æˆFira Codeã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Replace english fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;prgname&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;not_eq&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>msedge&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans Mono CJK&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Fira Code&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œä¸ºä»€ä¹ˆè¦å¤šåŠ ä¸€å¥åˆ¤æ–­å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæœ‰äº›ç¨‹åºå±…ç„¶åªä½¿ç”¨ font pattern ç»“æœä¸­çš„é¦–ä¸ªå­—ä½“ï¼Œæ¯”å¦‚ Chromeï¼ˆä»¥åŠè¡ç”Ÿçš„Chromiumï¼‰ï¼Œè™½ç„¶ Chrome æ¥å—äº†æˆ‘ä»¬æŒ‡å®šçš„è¥¿æ–‡å­—ä½“ï¼Œä½†æ˜¯å®ƒå¿½ç•¥äº†ç´§æ¥å…¶åçš„ä¸­æ–‡å­—ä½“ï¼Œå³ä½¿é…ç½®é‡‡ç”¨äº†å¼ºç»‘å®šï¼ç„¶åä¸­æ–‡å­—ä½“åˆä¸çŸ¥é“å®ƒ fallback åˆ°å“ªå»äº†ï¼Œå¯èƒ½ä¼šå‡ºç°ä½ æƒ³è¦çš„ä¸­æ–‡å­—ä½“ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ã€‚&lt;/p>
&lt;p>è¿™é‡Œæ˜¯ msedge ä¸»è¦æ˜¯æˆ‘å¹³æ—¶éƒ½ç”¨ edge è€Œä¸æ˜¯ Chromeã€‚å¯æƒœç”±äº Chromium åœ¨ Linux ä¸Šå°é—®é¢˜å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œè¿˜æ˜¯è€è€å®å®çš„ç”¨ firefox å§ã€‚&lt;/p>
&lt;p>åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†ç¨‹åºåä¸º msedge çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨ Fira Code æ˜¾ç¤ºè¥¿æ–‡ï¼Œå†ç”¨ Noto Sans Mono CJK æ˜¾ç¤ºä¸­æ–‡ã€‚è™½ç„¶æˆ‘ä¸èƒ½è®© msedge ä½¿ç”¨ Fira Codeï¼Œä½†å®ƒä¸€å®šèƒ½ç”¨ä¸Š Noto Sans Mono CJK æ˜¾ç¤ºä¸­æ–‡ã€‚&lt;/p>
&lt;h3 id="æ›¿æ¢ä»»æ„å­—ä½“">&lt;a href="#%e6%9b%bf%e6%8d%a2%e4%bb%bb%e6%84%8f%e5%ad%97%e4%bd%93" class="header-anchor">&lt;/a>æ›¿æ¢ä»»æ„å­—ä½“
&lt;/h3>&lt;p>å½“ç³»ç»Ÿé‡Œå·²ç»å®‰è£…äº†ä¸€äº›ä¸éœ€è¦çš„å­—ä½“ï¼Œä½†åˆä¸æƒ³åˆ é™¤æˆ–è€…å±è”½å®ƒæ€ä¹ˆåŠå‘¢ï¼Ÿæ›¿æ¢æ‰ font pattern å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œåˆ™æ˜¯ç”¨æ¥æ›¿æ¢æ€æºå­—ä½“ï¼Œæ¯•ç«Ÿå®ƒå°±æ˜¯ Noto å˜›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">qual=&lt;/span>&lt;span class="s">&amp;#34;any&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Source Han Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;same&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å­—ä½“æ¸²æŸ“å‚æ•°">&lt;a href="#%e5%ad%97%e4%bd%93%e6%b8%b2%e6%9f%93%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>å­—ä½“æ¸²æŸ“å‚æ•°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--rendering options--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;font&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;autohint&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hinting&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hintstyle&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>hintslight&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;antialias&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bool&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/bool&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lcdfilter&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>lcddefault&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;rgba&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;assign&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;const&amp;gt;&lt;/span>rgb&lt;span class="nt">&amp;lt;/const&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œä¸»è¦è®¾ç½®äº†ä¸€äº›å­—ä½“çš„æ¸²æŸ“æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>autohint&lt;/code>ï¼šä¼˜å…ˆä½¿ç”¨å†…åµŒå¾®è°ƒ&lt;/li>
&lt;li>&lt;code>hinting&lt;/code>ï¼šå¼€å¯å¾®è°ƒ&lt;/li>
&lt;li>&lt;code>hintstyle&lt;/code>ï¼šå¾®è°ƒçš„ç¨‹åº¦ï¼Œè½»å¾®&lt;/li>
&lt;li>&lt;code>antialias&lt;/code>ï¼šå¼€å¯æŠ—é”¯é½¿åŠŸèƒ½&lt;/li>
&lt;li>&lt;code>lcdfilter&lt;/code>ï¼šLCD filter çš„é£æ ¼ï¼Œé»˜è®¤&lt;/li>
&lt;li>&lt;code>rgba&lt;/code>ï¼šLCD å­åƒç´ çš„æ’åˆ—é¡ºåºï¼Œrgb&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œå°±ç›´æ¥æŠ„ä½œä¸šäº†ã€‚&lt;/p>
&lt;h2 id="é‡åˆ°çš„é—®é¢˜">&lt;a href="#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>é‡åˆ°çš„é—®é¢˜
&lt;/h2>&lt;h3 id="å…¨è§’å¼•å·è®¾ç½®æ— æ•ˆ">&lt;a href="#%e5%85%a8%e8%a7%92%e5%bc%95%e5%8f%b7%e8%ae%be%e7%bd%ae%e6%97%a0%e6%95%88" class="header-anchor">&lt;/a>å…¨è§’å¼•å·è®¾ç½®æ— æ•ˆ
&lt;/h3>&lt;p>ä¸€å¼€å§‹æˆ‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ— è®ºæ€ä¹ˆè®¾ç½®éƒ½æ˜¯åŠè§’ï¼Œç»è¿‡æ’æŸ¥ä»¥åŠç½‘å‹çš„ç•™è¨€åå‘ç°ï¼Œè¿™æ˜¯ç”±äºç³»ç»Ÿå˜é‡ä¸­çš„&lt;code>LANG&lt;/code>ä¸º&lt;code>en_US.utf-8&lt;/code>ï¼Œè¿™ä¼šå¯¼è‡´ä¼ é€’ç»™ fontconfig çš„ lang æ˜¯ &lt;code>lang: zh-cn(s) &amp;quot;en&amp;quot;(w)&lt;/code>ã€‚äºæ˜¯å°±ä¸€ç›´åŒ¹é…è¥¿æ–‡å­—ä½“ã€‚&lt;/p>
&lt;p>è§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç›´æ¥ä¿®æ”¹&lt;code>LANG&lt;/code>ç¯å¢ƒå˜é‡ä¸º&lt;code>zh_CN.UTF-8&lt;/code>ï¼Œæˆ‘ç›®å‰é‡‡ç”¨çš„å°±æ˜¯è¿™ç§å½¢å¼ã€‚&lt;/p>
&lt;p>æˆ–è€…å°±æ˜¯é»˜è®¤æ¸²æŸ“è‹±æ–‡ï¼Œå½“ç½‘é¡µå£°æ˜æ˜¯ä¸­æ–‡æ—¶å†æ¢å­—ä½“ï¼Œç›¸å…³é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Default sans-serif fonts--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>sans-serif&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Color Emoji&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- cn --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;match&lt;/span> &lt;span class="na">target=&lt;/span>&lt;span class="s">&amp;#34;pattern&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;lang&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>cn&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;test&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">compare=&lt;/span>&lt;span class="s">&amp;#34;contains&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/test&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;edit&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;family&amp;#34;&lt;/span> &lt;span class="na">mode=&lt;/span>&lt;span class="s">&amp;#34;prepend&amp;#34;&lt;/span> &lt;span class="na">binding=&lt;/span>&lt;span class="s">&amp;#34;strong&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;string&amp;gt;&lt;/span>Noto Sans CJK SC&lt;span class="nt">&amp;lt;/string&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/edit&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/match&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å¦‚æœç½‘é¡µå£°æ˜äº†&lt;code>lang=zh-cn&lt;/code>ï¼Œå°±ä¼šç”¨&lt;code>Noto Sans CJK SC&lt;/code>å­—ä½“è¿›è¡Œè¦†ç›–ï¼Œä¹Ÿå°±å®ç°äº†å…¨å®½å¼•å·ã€‚å‡å¦‚ç½‘é¡µæ²¡æœ‰å£°æ˜&lt;code>lang&lt;/code>æˆ–è€…é”™è¯¯åœ°å£°æ˜äº†&lt;code>lang=en&lt;/code>ï¼Œè¿™æ—¶å°±ä¼šå‡ºç°åŠè§’å¼•å·+æ±‰å­—çš„ç»„åˆäº†ã€‚&lt;/p>
&lt;h2 id="ä¸èƒ½è§£å†³çš„é—®é¢˜">&lt;a href="#%e4%b8%8d%e8%83%bd%e8%a7%a3%e5%86%b3%e7%9a%84%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>ä¸èƒ½è§£å†³çš„é—®é¢˜
&lt;/h2>&lt;p>Linux ä¸å¼ºè¿«ç¨‹åºå¿…é¡»ä½¿ç”¨ç‰¹å®šçš„ä¾èµ–ï¼Œè€Œæ˜¯ç¨‹åºä¸»åŠ¨é€‰æ‹©äº†çº¦å®šä¿—æˆçš„ä¾èµ–ã€‚è€è¯é‡è°ˆï¼Œç¨‹åºå¯ä»¥è‡ªç”±é€‰æ‹©å®Œå…¨éµå®ˆ fontconfigï¼Œä¹Ÿå¯ä»¥é€‰æ‹©éƒ¨åˆ†ä½¿ç”¨ fontconfig çš„é…ç½®ï¼Œæˆ–è€…å®Œå…¨ä¸éµå®ˆå®ƒã€‚è¿™ä¹Ÿå¯¼è‡´äº†å¯¹ä¸€äº›ç¨‹åºæ— æ³•å®ç°å­—ä½“çš„ä¿®æ”¹ã€‚ä»¥åŠä¸Šé¢æåˆ°çš„ chrome å¯¹ fontconfig å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæˆ–è®¸é¢å¯¹è¿™ç§ç¨‹åºï¼Œå°±éœ€è¦åˆæˆå­—ä½“çš„å‡ºåœºäº†ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="http://www.jinbuguo.com/gui/linux_fontconfig.html" target="_blank" rel="noopener"
>Linuxå­—ä½“ç¾åŒ–å®æˆ˜(Fontconfigé…ç½®) [é‡‘æ­¥å›½]&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://blog.lilydjwg.me/2023/3/5/linux-fonts.216591.html" target="_blank" rel="noopener"
>Linux ä¸Šçš„å­—ä½“é…ç½®ä¸æ•…éšœæ’é™¤ - ä¾äº‘&amp;rsquo;s Blog&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://catcat.cc/post/2021-03-07/" target="_blank" rel="noopener"
>ç”¨ fontconfig æ²»ç† Linux ä¸­çš„å­—ä½“ - åŒçŒ«CC&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ReDroid+MAAï¼šåœ¨Linuxä¸‹æ¸¸ç©æ˜æ—¥æ–¹èˆŸ</title><link>https://lbqaq.top/p/redroid-maa/</link><pubDate>Sat, 17 Jun 2023 16:47:00 +0800</pubDate><guid>https://lbqaq.top/p/redroid-maa/</guid><description>&lt;img src="https://lbqaq.top/p/redroid-maa/103123878.webp" alt="Featured image of post ReDroid+MAAï¼šåœ¨Linuxä¸‹æ¸¸ç©æ˜æ—¥æ–¹èˆŸ" />&lt;p>æœ€è¿‘æ‰“ç®—å°†ArchLinuxä½œä¸ºä¸»åŠ›ç³»ç»ŸæŒ‘æˆ˜ä¸€ä¸‹ï¼Œç”±äºå¹³æ—¶æœ‰ç”¨ç”µè„‘æŒ‚æ˜æ—¥æ–¹èˆŸçš„ä¹ æƒ¯ï¼Œäºæ˜¯æ‰“ç®—å®‰è£…æ¨¡æ‹Ÿå™¨åœ¨Linuxä¸Šã€‚ç›¸è¾ƒäºWindowsä¸‹å„ç§xxæ¨¡æ‹Ÿå™¨ç™¾èŠ±é½æ”¾ï¼ŒLinuxä¸‹å°±æƒ¨ä¸å¿ç¹äº†ã€‚ç½‘ä¸Šæœç´¢åˆ°çš„çŸ¥åæ¨¡æ‹Ÿå™¨ä¸­ï¼ŒAnboxå·²ç»è¢«ä½œè€…å¼ƒå‘äº†ï¼ŒAndroid Studioæ¨¡æ‹Ÿå™¨åˆ™æ˜¯é¢å‘å¼€å‘è€…ï¼Œæƒ³è¦ä½¿ç”¨è¿˜è¦å®‰è£…Android Studioå¼€å‘ç¯å¢ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA.jpg"
width="680"
height="652"
srcset="https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA_hu_c75c6775f0f9f0.jpg 480w, https://lbqaq.top/p/redroid-maa/IMAGE/FUrYLxA_hu_ba1dee1c70dac098.jpg 1024w"
loading="lazy"
alt="be like"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/p>
&lt;p>åœ¨æœç´¢ä¸­ï¼Œæˆ‘å‘ç°ReDroidå¯ä»¥æ»¡è¶³æˆ‘çš„éœ€æ±‚ã€‚ä½œä¸ºä¸€ä¸ªâ€œäº‘æ‰‹æœºâ€çš„æ–¹æ¡ˆï¼Œè‡ªç„¶æ˜¯å¯ä»¥éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œæ‘¸ç´¢æ˜ç™½äº†éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šä¹ŸæŒºä¸é”™(é›¾ã€‚&lt;/p>
&lt;p>å…·ä½“çš„å®‰è£…çš„æ•™ç¨‹æˆ‘å‚è€ƒçš„æ˜¯Ivonå¤§ä½¬çš„&lt;a class="link" href="https://ivonblog.com/posts/redroid-android-docker/" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šä½œäº†ä¸€äº›å°å°çš„ä¿®æ”¹ã€‚&lt;/p>
&lt;h2 id="redroidé…ç½®">&lt;a href="#redroid%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>ReDroidé…ç½®
&lt;/h2>&lt;h3 id="å®‰è£…ç¯å¢ƒ">&lt;a href="#%e5%ae%89%e8%a3%85%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>å®‰è£…ç¯å¢ƒ
&lt;/h3>&lt;p>ReDroidéœ€è¦Linuxå†…æ ¸å¯ç”¨binderfsæ¨¡å—ï¼ŒArch Liunxé»˜è®¤çš„linuxå†…æ ¸å¹¶ä¸åŒ…å«æ­¤æ¨¡å—ï¼Œéœ€è¦å®‰è£…linux-zenæ¨¡å—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">pacman -S linux-zen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘å¼ºçƒˆå»ºè®®å®‰è£…å®˜æ–¹çš„&lt;a class="link" href="https://github.com/remote-android/redroid-doc/blob/master/deploy/README.md" target="_blank" rel="noopener"
>å®‰è£…æŒ‡å—&lt;/a>æ¥ï¼Œæˆ‘ä¸€å¼€å§‹æŒ‰ç…§Ivonå¤§ä½¬çš„æ•™ç¨‹å°è¯•åœ¨é»˜è®¤çš„Linuxå†…æ ¸é‡Œå¯ç”¨è¯¥æ¨¡å—ï¼Œç»“æœReDroidä¸€ç›´å¯åŠ¨ä¸äº†ã€‚æœ€åæ›´æ¢å†…æ ¸åå°±æˆåŠŸè¿è¡Œèµ·æ¥äº†QAQã€‚&lt;/p>
&lt;p>æ¥ç€å®‰è£…dockerå’Œdocker-composeï¼Œç”¨æ¥è¿è¡ŒReDroidçš„å®¹å™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo pacman -S docker docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿˜è¦å®‰è£…ADBå’ŒScrcpyï¼Œç”¨äºè¿æ¥åˆ°å®‰å“è™šæ‹Ÿæœº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo pacman -S android-tools
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S scrcpy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯é€‰é…ç½®armè½¬è¯‘å™¨">&lt;a href="#%e5%8f%af%e9%80%89%e9%85%8d%e7%bd%aearm%e8%bd%ac%e8%af%91%e5%99%a8" class="header-anchor">&lt;/a>[å¯é€‰]é…ç½®ARMè½¬è¯‘å™¨
&lt;/h3>&lt;p>å¤§éƒ¨åˆ†å®‰å“åº”ç”¨éƒ½åªæœ‰ARMç‰ˆï¼Œè¿™ä¹Ÿæ„å‘³ç€æ— æ³•åœ¨X86çš„ç”µè„‘ä¸Šè¿è¡Œï¼Œè¿™æ—¶å°±éœ€è¦å®‰è£…ARMè½¬è¯‘å™¨äº†ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæ˜æ—¥æ–¹èˆŸå±…ç„¶æ”¯æŒX86ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‹ç¼©å·¥å…·è§£å‹æ–¹èˆŸçš„å®‰è£…åŒ…ï¼Œå¯ä»¥çœ‹åˆ°&lt;code>lib&lt;/code>ä¸‹æœ‰&lt;code>x86&lt;/code>ç›®å½•ã€‚è¿™ä¹Ÿæ„å‘³ç€å¦‚æœåªæ˜¯ç”¨æ¥ç©æ–¹èˆŸçš„è¯ï¼Œå®Œå…¨ä¸éœ€è¦é…ç½®ARMè½¬è¯‘ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œæ ¹æ®å¤§ä½¬çš„æ•™ç¨‹é…ç½®å¥½è½¬è¯‘å™¨åï¼Œæ–¹èˆŸåè€Œä¼šé—ªé€€ï¼Œæ‰€ä»¥å®Œå…¨ä¸ç”¨åšæ­¤æ­¥ğŸ˜¥ã€‚å¦‚æœéœ€è¦å®‰è£…armåº”ç”¨ï¼Œå¯ä»¥çœ‹ä¸Šé¢å¤§ä½¬çš„æ•™ç¨‹æ¥åšã€‚&lt;/p>
&lt;p>æˆ‘åé¢å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨libhoudiniæ¥ä½œä¸ºReDroidçš„è½¬è¯‘å™¨ã€‚&lt;/p>
&lt;h3 id="å¯åŠ¨é•œåƒ">&lt;a href="#%e5%90%af%e5%8a%a8%e9%95%9c%e5%83%8f" class="header-anchor">&lt;/a>å¯åŠ¨é•œåƒ
&lt;/h3>&lt;p>æˆ‘è¿™é‡Œå°±ä½¿ç”¨ä¸åŒ…å«ARMè½¬è¯‘å™¨çš„ReDroidç»§ç»­äº†ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å³å¯éƒ¨ç½²ReDroidï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo docker run -itd --privileged &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /home/luobo/redroid:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 5555:5555 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name redroid11 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> redroid/redroid:11.0.0-latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åä½¿ç”¨adbè¿æ¥ï¼Œå¹¶æ‰§è¡ŒScrcpyï¼Œæ˜¾ç¤ºæ‰‹æœºç”»é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">adb connect localhost:5555
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹äºGoogleæœåŠ¡æ¡†æ¶ï¼Œæˆ‘å¹¶ä¸æ˜¯åˆšéœ€ï¼Œå°±ä¸å®‰è£…äº†ã€‚å¦‚æœéœ€è¦å®‰è£…ï¼Œå¯ä»¥æŸ¥çœ‹ä¹‹å‰æåˆ°çš„æ•™ç¨‹ã€‚&lt;/p>
&lt;p>Scrcpy2.0ç‰ˆæœ¬ï¼Œå·²ç»è‡ªå¸¦äº†å£°éŸ³æ¨¡å—ï¼Œæ— éœ€å†å®‰è£…é¢å¤–çš„è½¯ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æœé‡åˆ°æŠ¥é”™&lt;code>Failed to initialize audio/opus, error 0xfffffffe&lt;/code>&lt;/p>
&lt;p>åªéœ€è¦æ‰‹åŠ¨æŒ‡å®šå…¶ä»–çš„éŸ³é¢‘è§£æå™¨å³å¯ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555 --audio-codec&lt;span class="o">=&lt;/span>aac
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä¸éœ€è¦å£°éŸ³ï¼Œåªéœ€è¦åŠ ä¸Š&lt;code>--no-audio&lt;/code>ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">scrcpy -s localhost:5555 --no-audio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447.png"
width="1340"
height="928"
srcset="https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447_hu_3d7c40e95c733123.png 480w, https://lbqaq.top/p/redroid-maa/IMAGE/image-20230617164434447_hu_8f37323fcbd91ffd.png 1024w"
loading="lazy"
alt="è¿è¡Œæˆªå›¾"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;h3 id="å®‰è£…åº”ç”¨åŠå¼€å…³æœº">&lt;a href="#%e5%ae%89%e8%a3%85%e5%ba%94%e7%94%a8%e5%8f%8a%e5%bc%80%e5%85%b3%e6%9c%ba" class="header-anchor">&lt;/a>å®‰è£…åº”ç”¨åŠå¼€å…³æœº
&lt;/h3>&lt;p>å‘ReDroidå®‰è£…åº”ç”¨ï¼Œåªéœ€è¦ä½¿ç”¨adbå³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">adb -s localhost:5555 install &lt;span class="s2">&amp;#34;/mnt/data/Downloads/mrfz_2.0.11_20230605_102450_87eb5.apk&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¼€å…³æœºä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€å¯¹dockerå®¹å™¨è¿›è¡Œæ“ä½œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo docker stop redroid11 &lt;span class="c1">#å…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo docker start redroid11 &lt;span class="c1">#å¼€æœº&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="maaé…ç½®">&lt;a href="#maa%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>MAAé…ç½®
&lt;/h2>&lt;p>MAAä½œä¸ºè‡ªåŠ¨åŒ–çš„æŒ‚æœº&lt;del>é•¿è‰&lt;/del>ç¥å™¨ï¼Œè‚¯å®šæ˜¯è¦å®‰æ’ä¸Šçš„ã€‚&lt;/p>
&lt;h3 id="å®‰è£…maa">&lt;a href="#%e5%ae%89%e8%a3%85maa" class="header-anchor">&lt;/a>å®‰è£…MAA
&lt;/h3>&lt;p>&lt;del>Archç”¨æˆ·ç›´æ¥aurå®‰è£…å³å¯&lt;/del>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">yay -S maa-assistant-arknights
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä½¿ç”¨yayå®‰è£…æ—¶ï¼Œä¼šå®‰è£…è®¸å¤šç”¨ä¸åˆ°çš„åº“ï¼Œè€Œä¸”ä¼šå› ä¸ºä¾èµ–é”™è¯¯è€Œæ— æ³•å®‰è£…ã€‚æ•…è¿˜æ˜¯å»&lt;a class="link" href="https://maa.plus/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸‹è½½å‹ç¼©åŒ…è§£å‹ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="é…ç½®maa">&lt;a href="#%e9%85%8d%e7%bd%aemaa" class="header-anchor">&lt;/a>é…ç½®MAA
&lt;/h3>&lt;p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹&lt;code>./MAA-v{ç‰ˆæœ¬å·}-linux-{æ¶æ„}/Python/&lt;/code> ç›®å½•ä¸‹çš„ &lt;code>sample.py&lt;/code> æ–‡ä»¶&lt;/p>
&lt;p>é¦–å…ˆéœ€è¦é…ç½®adbè¿æ¥ï¼Œç”±äºæˆ‘ä»¬ä¹‹å‰å·²ç»å®‰è£…è¿‡adbäº†ï¼Œè¿™é‡Œç›´æ¥æ›¿æ¢åœ°å€å³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">connect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;adb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;127.0.0.1:5555&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ&lt;code>python sample.py&lt;/code>ï¼Œå¦‚æœè¾“å‡º&lt;code>è¿æ¥æˆåŠŸ&lt;/code>åˆ™é…ç½®æˆåŠŸ&lt;/p>
&lt;p>ä¹‹åæˆ‘ä»¬éœ€è¦é…ç½®MAAçš„ä»»åŠ¡ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://maa.plus/docs/3.1-%E9%9B%86%E6%88%90%E6%96%87%E6%A1%A3.html" target="_blank" rel="noopener"
>å®˜æ–¹çš„æ–‡æ¡£&lt;/a>è¿›è¡Œä¿®æ”¹&lt;/p>
&lt;p>è¿™é‡Œé™„ä¸Šæˆ‘çš„é…ç½®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;StartUp&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Fight&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;stage&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># å…³å¡åï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºç©ºï¼Œè¯†åˆ«å½“å‰/ä¸Šæ¬¡çš„å…³å¡ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;report_to_penguin&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ˜¯å¦æ±‡æŠ¥ä¼é¹…æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;expiring_medicine&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">999&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æœ€å¤§ä½¿ç”¨ 48 å°æ—¶å†…è¿‡æœŸç†æ™ºè¯æ•°é‡ï¼Œå¯é€‰ï¼Œé»˜è®¤ 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># &amp;#39;penguin_id&amp;#39;: &amp;#39;1234567&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Recruit&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;enable&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ˜¯å¦å¯ç”¨æœ¬ä»»åŠ¡ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸º true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;select&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="c1"># ä¼šå»ç‚¹å‡»æ ‡ç­¾çš„ Tag ç­‰çº§ï¼Œå¿…é€‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;confirm&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;times&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Infrast&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;facility&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mfg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Trade&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Control&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Power&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Reception&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Office&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Dorm&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;drones&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Money&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># æ— äººæœºç”¨é€” &amp;#34;_NotUse&amp;#34;ã€&amp;#34;Money&amp;#34;ã€&amp;#34;SyntheticJade&amp;#34;ã€&amp;#34;CombatRecord&amp;#34;ã€&amp;#34;PureGold&amp;#34;ã€&amp;#34;OriginStone&amp;#34;ã€&amp;#34;Chip&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;replenish&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># è´¸æ˜“ç«™â€œæºçŸ³ç¢ç‰‡â€æ˜¯å¦è‡ªåŠ¨è¡¥è´§,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;dorm_trust_enabled&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="c1"># æ˜¯å¦å°†å®¿èˆå‰©ä½™ä½ç½®å¡«å…¥ä¿¡èµ–æœªæ»¡å¹²å‘˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Visit&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Mall&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;shopping&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;buy_first&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;æ‹›è˜è®¸å¯&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;é¾™é—¨å¸&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;blacklist&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;å®¶å…·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ç¢³&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">asst&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append_task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Award&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®å¥½ååªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥æ‰§è¡Œè„šæœ¬äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">python sample.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ„‰å¿«çš„æŒ‚æœºäº†ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä½“åŠ›è¢«æµªè´¹äº†ï¼ˆé›¾&lt;/p>
&lt;p>ç”±äºReDroidæ˜¯åŸºäºDokcerçš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€å¯ä»¥å°†å…¶é…ç½®åˆ°æœåŠ¡å™¨ä¸Šï¼Œå°±å¯ä»¥å®ç°24å°æ—¶è‡ªåŠ¨æŒ‚æœºäº†ã€‚ä¸è¿‡ï¼Œè¦æƒ³æµç•…çš„è¿è¡Œæ–¹èˆŸï¼Œæœ€å¥½è¿˜æ˜¯æœ‰4Gä»¥ä¸Šçš„å†…å­˜ï¼Œç›®å‰æˆ‘çš„æœåŠ¡å™¨è¿˜æ²¡æœ‰è¿™ä¹ˆå¤§çš„å†…å­˜ï¼Œä¹‹åæœ‰æœºä¼šå†å°è¯•å§ã€‚&lt;/p></description></item><item><title>åˆ©ç”¨Grounding DINOè‡ªåŠ¨æ ‡æ³¨æ•°æ®</title><link>https://lbqaq.top/p/using-grounded-dino-label-data/</link><pubDate>Fri, 14 Apr 2023 10:07:42 +0800</pubDate><guid>https://lbqaq.top/p/using-grounded-dino-label-data/</guid><description>&lt;img src="https://lbqaq.top/p/using-grounded-dino-label-data/75910823.webp" alt="Featured image of post åˆ©ç”¨Grounding DINOè‡ªåŠ¨æ ‡æ³¨æ•°æ®" />&lt;p>æœ€è¿‘éœ€è¦æ„å»ºå±äºè‡ªå·±çš„YOLOè®­ç»ƒæ•°æ®é›†ï¼Œå¦‚æœæ‰‹åŠ¨æ ‡æ³¨2kå¼ å›¾ç‰‡è¿™å·¥ä½œé‡å¤ªå¤§äº†ï¼Œäºæ˜¯å°±å¯»æ‰¾æœ‰ä»€ä¹ˆå¯ä»¥è‡ªåŠ¨æ ‡æ³¨çš„æ–¹æ³•ã€‚ç¢°å·§çš„æ˜¯ï¼Œ çŸ¥ä¹æ­£å¥½æ¨èäº†ä¸€ç¯‡ç›¸å…³çš„æ–‡ç« ï¼Œé‡Œé¢ä»‹ç»äº†&lt;a class="link" href="https://github.com/IDEA-Research/GroundingDINO" target="_blank" rel="noopener"
>Grounding DINO&lt;/a>è¿™ä¸ªé¡¹ç›®å®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚é‚£å°±ä¸ç”¨å¤šè¯´äº†ï¼Œç›´æ¥ä¿®æ”¹ä»–æ¥å®ç°æˆ‘æ‰€éœ€çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h2 id="éœ€æ±‚">&lt;a href="#%e9%9c%80%e6%b1%82" class="header-anchor">&lt;/a>éœ€æ±‚
&lt;/h2>&lt;p>é¦–å…ˆè¦æ˜ç¡®ä¸€ä¸‹æˆ‘çš„éœ€æ±‚ï¼š&lt;/p>
&lt;ul>
&lt;li>èƒ½æ ¹æ®promptå®ç°ç”»æ¡†æ ‡æ³¨&lt;/li>
&lt;li>èƒ½å¯¹æ–‡ä»¶å¤¹å†…çš„æ•°æ®è¿›è¡Œæ‰¹é‡å¤„ç†&lt;/li>
&lt;li>èƒ½å°†è¯†åˆ«çš„ç»“æœä¿å­˜ä¸ºYOLO TXTæ ¼å¼&lt;/li>
&lt;/ul>
&lt;p>è¿™ä¸ªé¡¹ç›®å¯ä»¥å®ç°ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼Œä½†å¯¹äºç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªåŠŸèƒ½å°±éœ€è¦æˆ‘è‡ªå·±æ¥å®ç°äº†ã€‚&lt;/p>
&lt;h2 id="å®ç°">&lt;a href="#%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>å®ç°
&lt;/h2>&lt;p>Grounding DINOå¯ä»¥åœ¨CPUä¸Šè¿è¡Œï¼Œä¸è¿‡ä¸ºäº†æ•ˆç‡è€ƒè™‘ï¼Œæœ€å¥½è¿˜æ˜¯è¿è¡Œåœ¨GPUä¸Šï¼Œä¸ºæ­¤æˆ‘æ‰€æœ‰çš„ä»£ç éƒ½åœ¨Colabä¸Šå®ç°ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://colab.research.google.com/drive/1SkxCR5Qi6fvLe1DNnwGgayPe5GpQ7a5l?usp=sharing" target="_blank" rel="noopener"
>&lt;img src="https://colab.research.google.com/assets/colab-badge.svg"
loading="lazy"
alt="Open In Colab"
>&lt;/a>&lt;/p>
&lt;p>é¦–å…ˆæ˜¯ç¯å¢ƒé…ç½®ï¼Œæˆ‘ä»¬è¦æŒ‚è½½Googleäº‘ç›˜ä»¥åŠå®‰è£…Grounding DINOã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">google.colab&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">drive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">drive&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/content/drive&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">HOME&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getcwd&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">!&lt;/span>&lt;span class="n">git&lt;/span> &lt;span class="n">clone&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">IDEA&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Research&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">GroundingDINO&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">git&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">GroundingDINO&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">!&lt;/span>&lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">!&lt;/span>&lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="n">roboflow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">CONFIG_PATH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;GroundingDINO/groundingdino/config/GroundingDINO_SwinB.cfg.py&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CONFIG_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;; exist:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isfile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CONFIG_PATH&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">!&lt;/span>&lt;span class="n">mkdir&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">weights&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">weights&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">!&lt;/span>&lt;span class="n">wget&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">IDEA&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Research&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">GroundingDINO&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">releases&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">download&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">v0&lt;/span>&lt;span class="mf">.1.0&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">alpha2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">groundingdino_swinb_cogcoor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pth&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">WEIGHTS_NAME&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;groundingdino_swinb_cogcoor.pth&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">WEIGHTS_PATH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;weights&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">WEIGHTS_NAME&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">WEIGHTS_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;; exist:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isfile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">WEIGHTS_PATH&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">HOME&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">GroundingDINO&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">groundingdino.util.inference&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">load_model&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">load_image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">predict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">annotate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">load_model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CONFIG_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">WEIGHTS_PATH&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ä¸Šé¢è¿™äº›ä»£ç ï¼Œæˆ‘ä»¬å°±æˆåŠŸé…ç½®å¥½Grounding DINOå¹¶è½½å…¥äº†æ¨¡å‹ã€‚&lt;/p>
&lt;p>ä¸‹é¢å°±æ˜¯æˆ‘è‡ªå·±å®ç°çš„è®­ç»ƒé›†è‡ªåŠ¨æ ‡æ³¨ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TRAIN_DATA_PATH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/content/my_data/images&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TRAIN_DATA_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;; exist:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TRAIN_DATA_PATH&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TEXT_PROMPT&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;face . phone&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">BOX_TRESHOLD&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.35&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TEXT_TRESHOLD&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.25&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">filename&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">listdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TRAIN_DATA_PATH&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">endswith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.png&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TRAIN_DATA_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image_source&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">load_image&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">boxes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">logits&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">phrases&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">predict&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">caption&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">TEXT_PROMPT&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">box_threshold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">BOX_TRESHOLD&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text_threshold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">TEXT_TRESHOLD&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">save_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TRAIN_DATA_PATH&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">splitext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">save_path&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.txt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">phrases&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">class_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">phrases&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;face&amp;#39;&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">class_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">boxes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">boxes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">boxes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">boxes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> is over&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬çš„ä»£ç ä¼šè‡ªåŠ¨éå†æ–‡ä»¶å¤¹ä¸‹é¢æ‰€æœ‰çš„&lt;code>.png&lt;/code>æ ¼å¼çš„æ–‡ä»¶ï¼Œå¹¶è°ƒç”¨Grounding DINOè¿›è¡Œæ ‡æ³¨ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ&lt;code>face&lt;/code>çš„&lt;code>class_id&lt;/code>ä¸º&lt;code>0&lt;/code>ï¼Œ&lt;code>phone&lt;/code>çš„&lt;code>class_id&lt;/code>ä¸º&lt;code>1&lt;/code>ã€‚&lt;/p>
&lt;p>ç‰¹åˆ«çš„ï¼Œå‚è€ƒ&lt;a class="link" href="https://github.com/IDEA-Research/GroundingDINO/issues/26#issuecomment-1501045766" target="_blank" rel="noopener"
>è¿™ç¯‡issue&lt;/a>ï¼Œæˆ‘ä»¬çš„promptä½¿ç”¨äº†&lt;code>.&lt;/code>åˆ†å‰²ï¼Œè¿™æ˜¯ä¸ºäº†é¿å…ä¸åŒé¡ºåºå¯¹ç»“æœçš„å½±å“ã€‚&lt;/p>
&lt;h2 id="æµ‹è¯•">&lt;a href="#%e6%b5%8b%e8%af%95" class="header-anchor">&lt;/a>æµ‹è¯•
&lt;/h2>&lt;p>ç”±äºæ‹¿åˆ°çš„æ•°æ®æ˜¯txtæ ¼å¼ï¼Œäººç±»å¾ˆéš¾è¯†åˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å€ŸåŠ©&lt;code>cv2&lt;/code>å°†è¯†åˆ«çš„ç»“æœåœ¨å›¾ç‰‡ä¸­æ¡†å‡ºï¼Œç›´æ¥å†™ä¸ªå°è„šæœ¬ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">cv2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DATA_PATH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;D:\Code\Python\yolo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">filename&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">listdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DATA_PATH&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">endswith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.png&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DATA_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">txt_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DATA_PATH&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">splitext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.txt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">txt_path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è¯»å–å›¾åƒæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">h&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">line&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">readline&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">line&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">msg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">line&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># print(x_center,&amp;#34;,&amp;#34;,y_center,&amp;#34;,&amp;#34;,width,&amp;#34;,&amp;#34;,height)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># x_center - width/2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># y_center - height/2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># x_center + width/2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># y_center + height/2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç”»å‡ºæ¡†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rectangle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rectangle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ˜¾ç¤ºå›¾åƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imshow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;image&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">image&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">waitKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># cv2.destroyAllWindows()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªæ¨¡å‹è¯†åˆ«çš„æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰äº›å¤šä½™çš„è¯†åˆ«éœ€è¦æ‰‹å·¥å»é™¤ã€‚&lt;/p></description></item><item><title>Feature Inference Attack on Model Predictions in Vertical Federated Learning</title><link>https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/</link><pubDate>Tue, 03 Jan 2023 16:27:11 +0800</pubDate><guid>https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/</guid><description>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/100018879.webp" alt="Featured image of post Feature Inference Attack on Model Predictions in Vertical Federated Learning" />&lt;h2 id="ä»‹ç»">&lt;a href="#%e4%bb%8b%e7%bb%8d" class="header-anchor">&lt;/a>ä»‹ç»
&lt;/h2>&lt;p>è¿‘å¹´æ¥ï¼Œäººä»¬å¯¹åˆ©ç”¨æ¥è‡ªå¤šä¸ªç»„ç»‡çš„åˆ†å¸ƒå¼æºçš„æ•°æ®æ¥è®¾è®¡å¤æ‚çš„æœºå™¨å­¦ä¹ æ¨¡å‹è¶Šæ¥è¶Šæ„Ÿå…´è¶£ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œç”±äº&lt;/p>
&lt;ul>
&lt;li>ç”¨æˆ·æ•æ„Ÿæ•°æ®çš„ä½¿ç”¨è¢«è¿«éµå®ˆæ ‡å‡†éšç§è§„ç« æˆ–æ³•å¾‹ï¼Œä¾‹å¦‚GDPRæˆ–CCPA&lt;/li>
&lt;li>æ•°æ®æ˜¯ç»„ç»‡ä¿æŒä¸šåŠ¡ç«äº‰ä¼˜åŠ¿çš„å®è´µèµ„äº§ï¼Œåº”è¯¥å—åˆ°é«˜åº¦ä¿æŠ¤&lt;/li>
&lt;/ul>
&lt;p>è¿™ä¸¤ä¸ªåŸå› ï¼Œä¸“æœ‰æ•°æ®ä¸èƒ½è¢«ç›´æ¥å…±äº«ã€‚äºæ˜¯ï¼Œ&lt;strong>è”é‚¦å­¦ä¹ &lt;/strong>ä¾¿è¢«æå‡ºã€‚è”é‚¦å­¦ä¹ æ˜¯ä¸€ç§æ–°å…´çš„æ•°æ®åä½œèŒƒä¾‹ï¼Œå®ƒå…è®¸å¤šä¸ªæ•°æ®æ‰€æœ‰è€…è”åˆæ„å»ºMLæ¨¡å‹è€Œä¸å‘å½¼æ­¤æ³„éœ²å…¶ç§æœ‰æ•°æ®ã€‚&lt;/p>
&lt;p>è”é‚¦å­¦ä¹ æ ¹æ®æ•°æ®åˆ’åˆ†ï¼Œè¢«åˆ†ä¸ºæ¨ªå‘è”é‚¦å­¦ä¹ ã€çºµå‘è”é‚¦å­¦ä¹ ã€è”é‚¦è¿ç§»å­¦ä¹ ä¸‰ç±»ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œä½œè€…ä¸»è¦è€ƒè™‘çš„æ˜¯çºµå‘è”é‚¦å­¦ä¹ è¿™ä¸€ç±»ã€‚ä½•ä¸ºçºµå‘è”é‚¦å­¦ä¹ å‘¢ï¼Ÿä¹Ÿå°±æ˜¯ï¼’ä¸ªæ•°æ®é›†çš„ç”¨æˆ·é‡å éƒ¨åˆ†è¾ƒå¤§ï¼Œè€Œç”¨æˆ·ç‰¹å¾é‡å éƒ¨åˆ†è¾ƒå°ï¼Œä½œè€…ç»™å‡ºäº†ä¸€ä¸ªå®ä¾‹ï¼š&lt;/p>
&lt;p>ä¸€å®¶é“¶è¡Œå¸Œæœ›æ„å»ºä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œé€šè¿‡åŠ å…¥Fintechå…¬å¸çš„æ›´å¤šç‰¹æ€§æ¥è¯„ä¼°æ˜¯å¦æ‰¹å‡†ç”¨æˆ·çš„ä¿¡ç”¨å¡ç”³è¯·ã€‚è¿™å®¶é“¶è¡Œæ‹¥æœ‰â€œå¹´é¾„â€å’Œâ€œæ”¶å…¥â€çš„ç‰¹å¾ï¼Œè€ŒFintechå…¬å¸æ‹¥æœ‰â€œå­˜æ¬¾â€å’Œâ€œå¹³å‡åœ¨çº¿è´­ç‰©æ¬¡æ•°â€çš„ç‰¹å¾ã€‚åªæœ‰é“¶è¡Œæ‹¥æœ‰è®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ä¸­çš„æ ‡ç­¾ä¿¡æ¯ï¼Œå³ï¼šæ˜¯å¦åº”æ‰¹å‡†ç”³è¯·ã€‚æˆ‘ä»¬å°†å¸¦æœ‰æ ‡ç­¾çš„ä¸€æ–¹ç§°ä¸ºä¸»åŠ¨æ–¹ï¼Œå…¶ä½™æ²¡æœ‰æ ‡ç­¾å€¼çš„ä¸€æ–¹æˆ–è€…å‡ æ–¹ç§°ä¸ºè¢«åŠ¨æ–¹ã€‚&lt;/p>
&lt;p>åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼ŒæŠŠæ‹¥æœ‰æ ‡ç­¾å€¼çš„ä¸€æ–¹çœ‹ä½œè¿›æ”»æ–¹ï¼Œè€Œæ²¡æœ‰æ ‡ç­¾å€¼çš„ä¸€æ–¹æˆ–è€…å‡ æ–¹æ‰€æ‹¥æœ‰çš„ç‰¹å¾å€¼çœ‹ä½œç›®æ ‡å€¼ï¼Œè¿›æ”»æ–¹é€šè¿‡ä¸€å®šçš„æ–¹æ³•å¾—åˆ°ç›®æ ‡æ–¹çš„ç›®æ ‡å€¼ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ¨¡å‹ä¸­è¢«åŠ¨æ–¹çš„éšç§æ•°æ®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101100642620.png"
width="1050"
height="609"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101100642620_hu_d078401738fac925.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101100642620_hu_1a69e51281fcb2c0.png 1024w"
loading="lazy"
alt="çºµå‘è”é‚¦å­¦ä¹ ç¤ºä¾‹"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="413px"
>&lt;/p>
&lt;h3 id="ç›¸å…³ç ”ç©¶">&lt;a href="#%e7%9b%b8%e5%85%b3%e7%a0%94%e7%a9%b6" class="header-anchor">&lt;/a>ç›¸å…³ç ”ç©¶
&lt;/h3>&lt;ul>
&lt;li>Comprehensive privacy analysis of deep learning: Stand-alone and federated learning under passive and active white-box inference attacks&lt;/li>
&lt;li>The secret sharer: Measuring unintended neural network memorization &amp;amp; extracting secrets&lt;/li>
&lt;li>Exploiting unintended feature leakage in collaborative learning&lt;/li>
&lt;li>Deep models under the gan: information leakage from collaborative deep learning&lt;/li>
&lt;/ul>
&lt;p>ç­‰ç­‰ï¼Œè¿™äº›æ–‡ç« æ—¨åœ¨æ¨æ–­æ¨ªå‘è”é‚¦å­¦ä¹ ä¸­å‚ä¸æ–¹çš„ç‰¹å¾å€¼ï¼Œå…¶ä¸­å„æ–¹å…·æœ‰ç›¸åŒçš„ç‰¹å¾ä½†å…·æœ‰ä¸åŒçš„æ ·æœ¬ã€‚ ç„¶è€Œï¼Œè¿™äº›æ”»å‡»æå¤§åœ°ä¾èµ–äºåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­äº¤æ¢çš„æ¨¡å‹æ¢¯åº¦ï¼Œä¸€æ—¦æ¨¡å‹æ¢¯åº¦è¢«å®‰å…¨åœ°ä¿æŠ¤ï¼Œè¿™äº›æ”»å‡»å°†æ˜¯æ— æ•ˆçš„ã€‚è€Œä¸”ï¼Œå¯¹äºé¢„æµ‹é˜¶æ®µä¸­çš„æ¨ç†æ”»å‡»ï¼Œè”é‚¦å­¦ä¹ æ¨¡å‹äº‹å…ˆä¸çŸ¥é“é¢„æµ‹æ ·æœ¬ã€‚äºæ˜¯ï¼Œä½œè€…æå‡ºå‡ ç§åŸºäºæ¨¡å‹é¢„æµ‹çš„ç‰¹å¾æ¨ç†æ”»å‡»ï¼Œç ”ç©¶äº†çºµå‘è”é‚¦å­¦ä¹ é¢„æµ‹é˜¶æ®µçš„éšç§æ³„éœ²é—®é¢˜ï¼Œè¯¥æ”»å‡»æ–¹æ³•åœ¨é¢„æµ‹è¾“å‡ºçš„è®¡ç®—è¿‡ç¨‹ä¸­ä¸ä¾èµ–ä»»ä½•ä¸­é—´ä¿¡æ¯ã€‚&lt;/p>
&lt;h3 id="æœ¬æ–‡è´¡çŒ®">&lt;a href="#%e6%9c%ac%e6%96%87%e8%b4%a1%e7%8c%ae" class="header-anchor">&lt;/a>æœ¬æ–‡è´¡çŒ®
&lt;/h3>&lt;ul>
&lt;li>é¦–æ¬¡æå‡ºäº†çºµå‘è”é‚¦å­¦ä¹ é¢„æµ‹æ¨¡å‹çš„ç‰¹å¾æ¨ç†æ”»å‡»&lt;/li>
&lt;li>æå‡ºäº†é’ˆå¯¹é€»è¾‘å›å½’å’Œå†³ç­–æ ‘çš„ä¸¤ç§ç‰¹å®šçš„æ”»å‡»æ€è·¯&lt;/li>
&lt;li>åˆ©ç”¨æ”»æ–¹ç§¯ç´¯çš„å¤šç§é¢„æµ‹è¾“å‡ºï¼Œæ¥è®¾è®¡ä¸€ç§ä»ä¸­å­¦ä¹ æ”»æ–¹ç‰¹å¾å’Œç›®æ ‡ç‰¹å¾å…³è”çš„é€šç”¨æ”»å‡»æ€è·¯&lt;/li>
&lt;li>åœ¨çœŸå®å’Œåˆæˆçš„æ•°æ®é›†ä¸Šï¼Œå®è·µäº†æå‡ºçš„æ–¹æ³•å¹¶è¿›è¡Œäº†å¤§é‡çš„è¯„ä¼°ã€‚ç»“è®ºæ˜¾ç¤ºäº†æ”»å‡»çš„æœ‰æ•ˆæ€§ï¼Œæœ¬æ–‡ä¹Ÿåˆ†æå’Œå»ºè®®äº†å‡ ç§æ½œåœ¨çš„åº”å¯¹æ€è·¯&lt;/li>
&lt;/ul>
&lt;h2 id="é—®é¢˜æ„é€ ">&lt;a href="#%e9%97%ae%e9%a2%98%e6%9e%84%e9%80%a0" class="header-anchor">&lt;/a>é—®é¢˜æ„é€ 
&lt;/h2>&lt;h3 id="ç³»ç»Ÿæ¨¡å‹">&lt;a href="#%e7%b3%bb%e7%bb%9f%e6%a8%a1%e5%9e%8b" class="header-anchor">&lt;/a>ç³»ç»Ÿæ¨¡å‹
&lt;/h3>&lt;p>æˆ‘ä»¬è€ƒè™‘ä¸€ç»„mä¸ªåˆ†å¸ƒæ–¹ï¼ˆæˆ–æ•°æ®æ‰€æœ‰è€…ï¼‰${P_1,&amp;hellip;,P_m}$ï¼Œä»–ä»¬é€šè¿‡åˆå¹¶å„è‡ªçš„æ•°æ®é›†æ¥è®­ç»ƒçºµå‘è”é‚¦å­¦ä¹ æ¨¡å‹ã€‚åœ¨è·å¾—ç»è®­ç»ƒçš„çºµå‘è”é‚¦å­¦ä¹ æ¨¡å‹å‚æ•°$\theta$ä¹‹åï¼Œå„æ–¹åä½œåœ°å¯¹å…¶è”åˆé¢„æµ‹æ•°æ®é›†$D_{pred}={D_1,&amp;hellip;,D_m}$è¿›è¡Œé¢„æµ‹ã€‚ æ•°æ®é›†ä¸­çš„æ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæ ·æœ¬ï¼Œæ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªè¦ç´ ã€‚ è®¾$n$ä¸ºæ ·æœ¬æ•°ï¼Œ$d_i$ä¸º$D_i$ä¸­çš„ç‰¹å¾æ•°ï¼Œå…¶ä¸­$i\in{1,&amp;hellip;,m}$ã€‚æˆ‘ä»¬è¡¨ç¤º$D_i={x^t_i}^n_{t=1}$ï¼Œå…¶ä¸­$x^t_i$è¡¨ç¤º$D_i$çš„ç¬¬tä¸ªæ ·æœ¬ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…è€ƒè™‘ç›‘ç£åˆ†ç±»ä»»åŠ¡ï¼Œå¹¶ç”¨$c$è¡¨ç¤ºåˆ†ç±»çš„æ•°é‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101115423656.png"
width="1017"
height="715"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101115423656_hu_463b64018c45090d.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101115423656_hu_9ccfddf49fb88dee.png 1024w"
loading="lazy"
alt="ç¬¦å·è¯´æ˜"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="341px"
>&lt;/p>
&lt;h3 id="å¨èƒæ¨¡å‹">&lt;a href="#%e5%a8%81%e8%83%81%e6%a8%a1%e5%9e%8b" class="header-anchor">&lt;/a>å¨èƒæ¨¡å‹
&lt;/h3>&lt;p>æˆ‘ä»¬è€ƒè™‘åŠè¯šå®æ¨¡å‹ï¼Œå…¶ä¸­æ¯ä¸€æ–¹éƒ½ä¸¥æ ¼æŒ‰ç…§è§„å®šéµå¾ªåè®®ï¼Œä½†å¯èƒ½è¯•å›¾åŸºäºæ¥æ”¶åˆ°çš„æ¶ˆæ¯æ¨æ–­å…¶ä»–æ–¹çš„ç§æœ‰ä¿¡æ¯ã€‚å…·ä½“è€Œè¨€ï¼Œæœ¬æ–‡ç€é‡ç ”ç©¶äº†ä¸»åŠ¨æ–¹ä¸ºå¯¹æŠ—æ–¹çš„æƒ…å½¢ã€‚ä¸»åŠ¨æ–¹è¿˜å¯ä»¥ä¸å…¶ä»–è¢«åŠ¨æ–¹ä¸²é€šæ¥æ¨æ–­ä¸€ç»„ç›®æ ‡è¢«åŠ¨æ–¹çš„ç§æœ‰ç‰¹å¾å€¼ã€‚æœ€å¼ºçš„æ¦‚å¿µæ˜¯m-1ä¸ªå‚ä¸æ–¹ï¼ˆåŒ…æ‹¬ä¸»åŠ¨æ–¹ï¼‰åˆè°‹æ¨æ–­å…¶ä½™è¢«åŠ¨æ–¹çš„ç‰¹å¾å€¼ã€‚&lt;/p>
&lt;h2 id="æ”»å‡»æ–¹æ³•">&lt;a href="#%e6%94%bb%e5%87%bb%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>æ”»å‡»æ–¹æ³•
&lt;/h2>&lt;h3 id="é€»è¾‘å›å½’æ¨¡å‹lrçš„ç­‰å¼æ±‚è§£æ”»å‡»">&lt;a href="#%e9%80%bb%e8%be%91%e5%9b%9e%e5%bd%92%e6%a8%a1%e5%9e%8blr%e7%9a%84%e7%ad%89%e5%bc%8f%e6%b1%82%e8%a7%a3%e6%94%bb%e5%87%bb" class="header-anchor">&lt;/a>é€»è¾‘å›å½’æ¨¡å‹(LR)çš„ç­‰å¼æ±‚è§£æ”»å‡»
&lt;/h3>&lt;p>ç»™å®šé¢„æµ‹è¾“å‡º$v$ï¼Œå¯¹æ‰‹$P_{adv}$å¯ä»¥æ„é€ ä¸€ç»„æ–¹ç¨‹ï¼Œ$P_{adv}$å¯ä»¥ä»è¯¥ç»„æ–¹ç¨‹æ¨æ–­å‡º$P_{target}$æ‰€æŒæœ‰çš„ç‰¹å¾å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´æ”»å‡»è€…åˆ©ç”¨çºµå‘è”é‚¦å­¦ä¹ é¢„æµ‹ç»“æœä»¥åŠè‡ªå·±æ‰€æŒæœ‰çš„å‚æ•°æ¨æ–­æ•°æ®å…¶ä»–æä¾›æ–¹çš„å‚æ•°ã€‚&lt;/p>
&lt;p>ä½œè€…åˆ†åˆ«è®¨è®ºäº†äºŒåˆ†ç±»é€»è¾‘å›å½’ä»¥åŠå¤šåˆ†ç±»é€»è¾‘å›å½’ã€‚&lt;/p>
&lt;h4 id="äºŒåˆ†ç±»é€»è¾‘å›å½’">&lt;a href="#%e4%ba%8c%e5%88%86%e7%b1%bb%e9%80%bb%e8%be%91%e5%9b%9e%e5%bd%92" class="header-anchor">&lt;/a>äºŒåˆ†ç±»é€»è¾‘å›å½’
&lt;/h4>&lt;p>å°†æ¨¡å‹å‚æ•°è¡¨ç¤ºä¸º$\theta = \theta (\theta_{adv},\theta_{target})$ï¼Œå…¶ä¸­$\theta_{adv}$å’Œ$\theta_{target}$åˆ†åˆ«æ˜¯å¯¹åº”äº$P_{adv}$å’Œ$P_{target}$æ‰€æ‹¥æœ‰çš„ç‰¹å¾çš„æƒé‡ã€‚&lt;/p>
&lt;p>ä»¤$v$ä¸ºç»™å®šæ ·æœ¬$x=(x_{adv},x_{target})$çš„é¢„æµ‹è¾“å‡ºã€‚å¯¹äºäºŒå…ƒLRåˆ†ç±»ï¼Œ$v$ä¸­åªæœ‰ä¸€ä¸ªæœ‰æ„ä¹‰çš„ç½®ä¿¡åº¦åˆ†æ•°ï¼Œæˆ‘ä»¬ä»¤å…¶ä¸º$v_1$ã€‚&lt;/p>
&lt;p>ç»™å®š$v_1$å’Œå¯¹æ‰‹è‡ªå·±çš„ç‰¹å¾å€¼$x_{adv}$ï¼Œ$P_{adv}$å¯ä»¥ç›´æ¥åˆ›å»ºä»¥$x_{target}$ä½œä¸ºå˜é‡çš„æ–¹ç¨‹ï¼Œå³ï¼Œ&lt;/p>
$$\sigma\left(x\_{\text {adv }} \cdot \theta\_{\text {adv }}+x\_{\text {target }} \cdot \theta\_{\text {target }}\right)=v\_{1}$$&lt;p>å…¶ä¸­$\sigma(\cdot)$æ˜¯Så½¢å‡½æ•°ã€‚æ˜¾ç„¶ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªæœªçŸ¥ç‰¹å¾ï¼Œå³ï¼Œ$d_{target} = 1$ï¼Œåˆ™æ–¹ç¨‹åªæœ‰ä¸€ä¸ªè§£ï¼Œè¿™æ„å‘³ç€å¯ä»¥ç²¾ç¡®åœ°æ¨æ–­æœªçŸ¥ç‰¹å¾å€¼$x_{target}$ã€‚&lt;/p>
&lt;h4 id="å¤šåˆ†ç±»é€»è¾‘å›å½’">&lt;a href="#%e5%a4%9a%e5%88%86%e7%b1%bb%e9%80%bb%e8%be%91%e5%9b%9e%e5%bd%92" class="header-anchor">&lt;/a>å¤šåˆ†ç±»é€»è¾‘å›å½’
&lt;/h4>&lt;p>å¯¹äºå¤šåˆ†ç±»é€»è¾‘å›å½’ï¼Œå­˜åœ¨$c$ä¸ªçº¿æ€§å›å½’æ¨¡å‹ã€‚è®¾$\theta = (\theta^{(1)},&amp;hellip;,\theta^{(c)})$åˆ†åˆ«ä¸ºè¿™äº›$c$æ¨¡å‹çš„å‚æ•°ã€‚&lt;/p>
&lt;p>ä¸ºäº†å‘èµ·ç‰¹å¾æ¨ç†æ”»å‡»ï¼Œå¯¹æ‰‹çš„ç›®æ ‡æ˜¯æ„é€ $k\in{1,&amp;hellip;,c}$çš„çº¿æ€§æ–¹ç¨‹ã€‚&lt;/p>
$$x \_ { a d v } \cdot \theta \_ { a d v } ^ { ( k ) } + x \_ { target } \cdot \theta \_ { target } ^ { ( k ) } = z \_ { k }$$&lt;p>å…¶ä¸­$z_k$æ˜¯ç¬¬$k$ä¸ªçº¿æ€§å›å½’æ¨¡å‹çš„è¾“å‡ºã€‚ç„¶è€Œï¼Œ$P_{adv}$åªçŸ¥é“ç½®ä¿¡åº¦å‘é‡$v =(v_1,&amp;hellip;,v_c)$ï¼Œä½¿å¾—&lt;/p>
$$v \_ { k } = \frac { e x p ( z \_ { k } ) } { \sum \_ { k' } exp ( z \_ { k' } ) }$$&lt;p>ä¸Šé¢ä¸¤ä¸ªå¼å­æ˜¯æˆ‘ä»¬ç”¨é€»è¾‘å›å½’è§£å†³å¤šåˆ†ç±»é—®é¢˜çš„é€šç”¨çš„å…¬å¼ï¼Œå…¶ä¸­ä½œè€…åœ¨ç¬¬ä¸€ä¸ªå¼å­ä¸­æŠŠxå’ŒÎ¸åˆ†æˆäº†æ”»æ–¹å’Œç›®æ ‡æ–¹çš„æ•°æ®ã€‚&lt;/p>
&lt;p>ä½œè€…å°†ç¬¬äºŒä¸ªå¼å­åŒæ–¹å–å¯¹æ•°&lt;/p>
$$\ln v \_ { k } = z \_ { k } - \ln ( \sum \_ { k ^ { \prime } } e x p ( z \_ { k } ^ { \prime } ) )$$&lt;p>ç­‰å¼å³è¾¹çš„ç¬¬äºŒé¡¹å¯¹äºæ‰€æœ‰$k\in{1,&amp;hellip;,c}$æ˜¯ç›¸åŒçš„ã€‚å› æ­¤ï¼Œå¯¹ä¸¤ä¸ªç›¸é‚»ç±»åˆ«æ¦‚ç‡vçš„å¯¹æ•°å–å·®å€¼&lt;/p>
$$\ln v \_ { k } - \ln v \_ { k'} = z \_ { k } - z \_ { k' }$$&lt;p>æœ€åå¯ä»¥å¾—åˆ°ä¸€ä¸ªæ— å…³zå€¼çš„ä¸€ä¸ªç­‰å¼&lt;/p>
$$x\_{\text {adv }}\left(\theta\_{\text {adv }}^{(k)}-\theta\_{\text {adv }}^{(k+1)}\right)+x\_{\text {target }}\left(\theta\_{\text {target }}^{(k)}-\theta\_{\text {target }}^{(k+1)}\right)=a\_{k}^{\prime}$$&lt;p>å…¶ä¸­$a^\prime_k=\ln v_k-\ln v_{k+1},k\in{1,&amp;hellip;,c}$ã€‚&lt;/p>
&lt;p>ä½†æ˜¯åœ¨åé¢æ¨ç†çš„æ—¶å€™æœ¬æ–‡æœ‰ä¸€äº›ä¸ºäº†é€»è¾‘ä¸Šæ–¹ä¾¿è€Œé‡‡ç”¨äº†ä¸€ä¸ªæŠŠçºµå‘è”é‚¦é™åˆ¶å‡å°‘çš„åšæ³•ï¼šæŠŠç›®æ ‡æ–¹æˆ–è€…è¯´è¢«åŠ¨æ–¹çš„å‚æ•°Î¸çœ‹ä½œè¿›æ”»æ–¹æˆ–è€…ä¸»åŠ¨æ–¹èƒ½å¤Ÿå¾—åˆ°çš„æ•°æ®ã€‚&lt;/p>
&lt;p>å®é™…æƒ…å†µä¸­ï¼Œä¸»åŠ¨æ–¹æˆ–è€…è¿›æ”»æ–¹åœ¨ä¸€èˆ¬çš„çºµå‘è”é‚¦æ¡†æ¶ä¸­æ˜¯æ— æ³•å¾—åˆ°è¢«åŠ¨æ–¹çš„å‚æ•°Î¸æ•°æ®çš„ã€‚&lt;/p>
&lt;p>æœ¬æ–‡ä¸­æˆ‘ä»¬å§‘ä¸”è®¤ä¸ºè¿›æ”»æ–¹èƒ½å¾—åˆ°ï¼Œé‚£ä¹ˆä¸Šå¼ä¸­çš„æœªçŸ¥æ•°åªæœ‰$x_{target}$äº†ï¼Œè€Œ$x_{target}$çš„ç»´æ•°ä¸º$d_{target}$ï¼Œæ•°é‡ä¸ºç›®æ ‡æ–¹æ‰€ç”¨æ‹¥æœ‰çš„ç‰¹å¾æ•°ã€‚&lt;/p>
&lt;p>è¿™é‡Œæˆ‘ä»¬æŠŠ$x_{target}$çš„æœªçŸ¥æ•°çœ‹ä½œè‡ªå˜é‡ï¼Œä¸ªæ•°ä¸ºç›®æ ‡æ”¾æ‰€æ‹¥æœ‰çš„ç‰¹å¾æ•°ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ï¼Œ$d_{target}$ä¸ªè‡ªå˜é‡ï¼Œ$c-1$ä¸ªæ–¹ç¨‹ï¼Œå½“$d_{target}\le c-1$ï¼Œé‚£ä¹ˆ$x_{target}$åªæœ‰ä¸€ä¸ªè§£ï¼Œå¯ä»¥ç²¾ç¡®åœ°æ¨æ–­å‡ºæ¥ã€‚&lt;/p>
&lt;h3 id="å†³ç­–æ ‘æ¨¡å‹çš„è·¯å¾„é™åˆ¶æ”»å‡»">&lt;a href="#%e5%86%b3%e7%ad%96%e6%a0%91%e6%a8%a1%e5%9e%8b%e7%9a%84%e8%b7%af%e5%be%84%e9%99%90%e5%88%b6%e6%94%bb%e5%87%bb" class="header-anchor">&lt;/a>å†³ç­–æ ‘æ¨¡å‹çš„è·¯å¾„é™åˆ¶æ”»å‡»
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101155921474.png"
width="1016"
height="673"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101155921474_hu_540bc76f19e55b86.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230101155921474_hu_50c4ce55f98ff4f2.png 1024w"
loading="lazy"
alt="è·¯å¾„é™åˆ¶æ”»å‡»ç¤ºä¾‹"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="362px"
>&lt;/p>
&lt;p>æ”»å‡»æ–¹å¯ä»¥æ ¹æ®è‡ªå·±çš„éƒ¨åˆ†ç‰¹å¾ä¿¡æ¯(è“è‰²æ–¹æ¡†) é™åˆ¶æ ‘æ¨¡å‹ä¸­å¯èƒ½çš„è·¯å¾„(ç°è‰²ç®­å¤´ -&amp;gt; è“è‰²ç®­å¤´ 5:2)ï¼Œç»“åˆé¢„æµ‹ç±»åˆ«ç»“æœ&lt;strong>1&lt;/strong>è¿›ä¸€æ­¥é™åˆ¶å†³ç­–è·¯å¾„(è“è‰² - &amp;gt; çº¢è‰²ç®­å¤´ 2:1 )ï¼Œå¯ä»¥æ¨æµ‹ç›®æ ‡æ–¹Targetçš„depositå±æ€§(ç»¿è‰²æ–¹æ¡†) &amp;gt; 5Kã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101241766.png"
width="1043"
height="1094"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101241766_hu_9b0eac0701bccb27.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101241766_hu_d7173bff23454079.png 1024w"
loading="lazy"
alt="è·¯å¾„é™åˆ¶æ”»å‡»ç®—æ³•"
class="gallery-image"
data-flex-grow="95"
data-flex-basis="228px"
>&lt;/p>
&lt;h3 id="ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»">&lt;a href="#%e7%94%9f%e6%88%90%e5%9b%9e%e5%bd%92%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb" class="header-anchor">&lt;/a>ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»
&lt;/h3>&lt;p>ä¸Šé¢ä»‹ç»çš„ä¸¤ç§æ”»å‡»æ–¹å¼éƒ½æ˜¯åŸºäºå•ä¸ªæ¨¡å‹é¢„æµ‹ã€‚ç„¶è€Œï¼Œè¿™äº›æ”»å‡»å¾ˆéš¾åº”ç”¨äºå¤æ‚çš„æ¨¡å‹ï¼Œå¦‚ç¥ç»ç½‘ç»œï¼ˆNNï¼‰å’Œéšæœºæ£®æ—ï¼ˆRFï¼‰ã€‚&lt;/p>
&lt;p>é’ˆå¯¹ä¸Šè¿°ç¼ºé™·ï¼Œä½œè€…è®¾è®¡äº†ä¸€ç§åŸºäºå¤šæ¨¡å‹é¢„æµ‹çš„é€šç”¨ç‰¹å¾æ¨ç†æ”»å‡»ï¼Œå³ç”Ÿæˆå›å½’ç½‘ç»œï¼ˆGRNï¼‰æ”»å‡»ï¼Œè¿™æ˜¯æœ¬ç¯‡è®ºæ–‡çš„é‡ç‚¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101712865.png"
width="1583"
height="769"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101712865_hu_b2d4bb9a5d4acaec.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102101712865_hu_e40be91b033b01c4.png 1024w"
loading="lazy"
alt="ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ¦‚å†µ"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="494px"
>&lt;/p>
&lt;p>&lt;strong>åŸºæœ¬æ€æƒ³ï¼š&lt;/strong>&lt;/p>
&lt;p>è®¡ç®—å‡ºå¯¹æ‰‹è‡ªèº«ç‰¹å¾ä¸æ”»å‡»ç›®æ ‡æœªçŸ¥ç‰¹å¾ä¹‹é—´çš„æ€»ä½“ç›¸å…³æ€§ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ¨æ–­æœªçŸ¥ç‰¹å¾å€¼çš„é—®é¢˜ç­‰æ•ˆäºç”Ÿæˆæ–°å€¼$\hat{x}_{target}$ä»¥åŒ¹é…å‚ç›´FLæ¨¡å‹çš„å†³ç­–çš„é—®é¢˜ï¼Œå…¶ä¸­$\hat{x}_{target}$éµå¾ªç”±å¯¹æ‰‹çš„å·²çŸ¥ç‰¹å¾å€¼å’Œç‰¹å¾ç›¸å…³æ€§ç¡®å®šçš„æ¦‚ç‡åˆ†å¸ƒã€‚&lt;/p>
&lt;p>&lt;strong>ç›®æ ‡å‡½æ•°ï¼š&lt;/strong>&lt;/p>
$$\min \_{\theta\_{G}} \frac{1}{n} \sum\_{t=1}^{n} \ell\left(f\left(x\_{\mathrm{adv}}^{t}, f\_{G}\left(x\_{\mathrm{adv}}^{t}, r^{t} ; \theta\_{G}\right) ; \theta\right), v^{t}\right)+\Omega\left(f\_{G}\right)$$&lt;p>å…¶ä¸­$\theta$å’Œ$\theta_G$åˆ†åˆ«æ˜¯çºµå‘è”é‚¦å­¦ä¹ æ¨¡å‹å’Œç”Ÿæˆæ¨¡å‹çš„å‚æ•°ã€‚æ­¤å¤–ï¼Œ$f_G$è¡¨ç¤º$\hat{x}_{target}^t$ï¼Œå³ç”Ÿæˆæ¨¡å‹çš„è¾“å‡º,$f$è¡¨ç¤ºç»™å®šæ‰€ç”Ÿæˆæ ·æœ¬çš„çºµå‘è”é‚¦å­¦ä¹ æ¨¡å‹çš„è¾“å‡ºï¼ˆç”±$x_{adv}^t$å’Œ$\hat{x}_{target}^t$è¿æ¥ï¼‰ã€‚æ­¤å¤–ï¼Œ$\Omega(\cdot)$æ˜¯ç”Ÿæˆçš„æœªçŸ¥ç‰¹å¾å€¼${\hat{x}_{target}^t}_{t=1}^n$çš„æ­£åˆ™åŒ–é¡¹ã€‚&lt;/p>
&lt;p>&lt;strong>å…·ä½“æ–¹æ³•ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æŠŠè¿›æ”»æ–¹æ‰€æ‹¥æœ‰çš„æ•°æ®ï¼ˆè“è‰²ï¼‰å’Œéšæœºç”Ÿæˆçš„æ•°æ®ï¼ˆæ©™è‰²ï¼‰ï¼Œåˆæˆä¸€ä¸ªdç»´å‘é‡ï¼Œå…¶ä¸­dä¸ºè¿›æ”»æ–¹çš„ç‰¹å¾æ•°é‡å’Œç›®æ ‡æ–¹ç‰¹å¾æ•°é‡ä¹‹å’Œï¼Œéšæœºç”Ÿæˆçš„æ•°æ®æ˜¯ä¸ºäº†åˆå§‹åŒ–ç”Ÿæˆæ¨¡å‹çš„åˆå§‹è¾“å…¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç”Ÿæˆæ¨¡å‹è®¡ç®—ä¹‹åï¼Œè¾“å‡ºç”Ÿæˆæ¨¡å‹å¯¹äºç›®æ ‡æ–¹ç‰¹å¾å€¼çš„é¢„æµ‹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŠŠç”Ÿæˆæ¨¡å‹ç”Ÿæˆçš„ç›®æ ‡æ–¹ç‰¹å¾å€¼çš„é¢„æµ‹ï¼ˆæ©™è‰²ï¼‰ä¸è¿›æ”»æ–¹æ‰€æ‹¥æœ‰çš„æ•°æ®ï¼ˆè“è‰²ï¼‰åˆå¹¶ï¼Œå¾—åˆ°å¦ä¸€ä¸ªdç»´çš„å‘é‡ï¼Œä½œä¸ºå·²ç»ç”Ÿæˆçš„çºµå‘è”é‚¦å­¦ä¹ é¢„æµ‹æ¨¡å‹ï¼ˆæ¯”å¦‚ç¥ç»ç½‘ç»œï¼‰çš„è¾“å…¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¾—åˆ°è¾“å‡ºçš„å¯¹ä¸åŒç±»åˆ«çš„é¢„æµ‹æ¦‚ç‡çŸ©é˜µï¼ˆæ©™è‰²ï¼‰ï¼Œä¸çœŸå®çš„æ”»æ–¹ç‰¹å¾å€¼å’Œç›®æ ‡æ–¹ç‰¹å¾å€¼å¾—åˆ°çš„ä¸åŒç±»åˆ«çš„é¢„æµ‹æ¦‚ç‡çŸ©é˜µï¼ˆè“è‰²ï¼‰æ±‚æŸå¤±ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯¹å¾—åˆ°çš„æŸå¤±è¿›è¡Œåå‘ä¼ æ’­ï¼Œä¿®æ”¹ç”Ÿæˆæ¨¡å‹çš„å‚æ•°ï¼Œå¾—åˆ°æ–°çš„ç”Ÿæˆæ¨¡å‹å¯¹ç›®æ ‡æ”¾ç‰¹å¾å€¼çš„é¢„æµ‹ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>è¿™ç§æ–¹æ³•å¯¹äºç›®æ ‡å‡½æ•°ä¸ºå¯å¾®çš„æƒ…å†µä¸‹æ•ˆæœä¸é”™ï¼Œä¹Ÿå°±è¯´æ˜å¯ä»¥ç”¨æ¥å¯¹é€»è¾‘å›å½’å’Œç¥ç»ç½‘ç»œè¿›è¡Œç”Ÿæˆæ¨¡å‹æ”»å‡»ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102105356091.png"
width="1061"
height="839"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102105356091_hu_1fd0979a015ca771.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102105356091_hu_103261bdcf884718.png 1024w"
loading="lazy"
alt="GRNè®­ç»ƒæ–¹æ³•"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="303px"
>&lt;/p>
&lt;h3 id="éšæœºæ£®æ—çš„ç”Ÿæˆæ¨¡å‹çš„æ”»å‡»">&lt;a href="#%e9%9a%8f%e6%9c%ba%e6%a3%ae%e6%9e%97%e7%9a%84%e7%94%9f%e6%88%90%e6%a8%a1%e5%9e%8b%e7%9a%84%e6%94%bb%e5%87%bb" class="header-anchor">&lt;/a>éšæœºæ£®æ—çš„ç”Ÿæˆæ¨¡å‹çš„æ”»å‡»
&lt;/h3>&lt;p>è·¯å¾„é™åˆ¶æ”»å‡»ä¸é€‚ç”¨äºéšæœºæ£®æ—çš„æ¨¡å‹ï¼Œç‰¹åˆ«æ˜¯å½“éšæœºæ£®æ—çš„æ ‘æ•°é‡å¾ˆå¤§çš„æ—¶å€™ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œåœ¨éšæœºæ£®æ—æ¨¡å‹ä½¿ç”¨GRNæ”»å‡»çš„æ€æƒ³ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œå› ä¸ºéšæœºæ£®æ—ï¼ˆRFï¼‰æ¨¡å‹çš„ç›®æ ‡å‡½æ•°å¹¶ä¸æ˜¯å¯å¾®çš„ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡éšæœºæ£®æ—ï¼ˆRFï¼‰æŠŠé¢„æµ‹æŸå¤±åå‘ä¼ æ’­ç»™ç”Ÿæˆæ¨¡å‹ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæœ¬æ–‡åœ¨å¾—åˆ°çºµå‘è”é‚¦æ¨¡å‹ï¼ˆæ¯”å¦‚éšæœºæ£®æ—RFï¼‰ä¹‹åï¼Œæ”»æ–¹ä¼šå¦å¤–è®­ç»ƒä¸€ä¸ªå¯å¾®çš„æ¨¡å‹ï¼ˆæ¯”å¦‚ç¥ç»ç½‘ç»œNNï¼‰æ¥è¿‘ä¼¼RFæ¨¡å‹ã€‚&lt;/p>
&lt;h2 id="å®éªŒè¯„ä»·">&lt;a href="#%e5%ae%9e%e9%aa%8c%e8%af%84%e4%bb%b7" class="header-anchor">&lt;/a>å®éªŒè¯„ä»·
&lt;/h2>&lt;p>&lt;strong>æ•°æ®é›†ï¼š&lt;/strong>&lt;/p>
&lt;p>å››ä¸ªæ•°æ®é›†ï¼Œåˆ†åˆ«æ˜¯é“¶è¡Œè¥é”€ï¼ˆ20ä¸ªç‰¹å¾çš„2åˆ†ç±»ï¼‰ï¼Œä¿¡ç”¨å¡ï¼ˆ23ä¸ªç‰¹å¾çš„2åˆ†ç±»ï¼‰ï¼Œè¯Šæ–­ï¼ˆ48ä¸ªç‰¹å¾çš„11åˆ†ç±»ï¼‰å’Œæ–°é—»æµè¡Œï¼ˆ59ä¸ªç‰¹å¾çš„5åˆ†ç±»ï¼‰ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œåˆ©ç”¨sklearnåº“ç”Ÿæˆäº†ä¸¤ä¸ªåˆæˆæ•°æ®é›†ï¼Œç”¨äºè¯„ä¼°é¢„æµ‹æ•°æ®é›†ä¸­æ ·æœ¬æ•°nå¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ€§èƒ½çš„å½±å“ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102110409230.png"
width="1014"
height="423"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102110409230_hu_3112a358cdab8e2b.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230102110409230_hu_a71ec3b9f1407162.png 1024w"
loading="lazy"
alt="æ•°æ®é›†æ¦‚å†µ"
class="gallery-image"
data-flex-grow="239"
data-flex-basis="575px"
>&lt;/p>
&lt;p>&lt;strong>æŒ‡æ ‡ï¼š&lt;/strong>&lt;/p>
&lt;p>å¯¹äºç­‰å¼æ±‚è§£æ”»å‡»ï¼ˆESAï¼‰å’Œç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»ï¼ˆGRNAï¼‰ï¼Œç”±äºæ˜¯å›å½’ä»»åŠ¡ï¼Œå› æ­¤ä½¿ç”¨æ¯ä¸ªç‰¹å¾çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æ¥è¡¡é‡å®ƒä»¬åœ¨é‡å»ºå¤šä¸ªç›®æ ‡ç‰¹å¾æ—¶çš„æ€»ä½“å‡†ç¡®æ€§ã€‚å…·ä½“è€Œè¨€ï¼Œæ¯ä¸ªç‰¹å¾çš„MSEè®¡ç®—å¦‚ä¸‹ï¼š&lt;/p>
$$\mathrm{MSE}=\frac{1}{n * d\_{\text {target }}} \sum\_{t=1}^{n} \sum\_{i=1}^{d\_{\text {target }}}\left(\hat{x}\_{\text {target }, i}^{t}-x\_{\text {target }, i}^{t}\right)^{2}$$&lt;p>å¯¹äºè·¯å¾„é™åˆ¶æ”»å‡»ï¼ˆPRAï¼‰ï¼Œä½œè€…æµ‹é‡äº†æ­£ç¡®åˆ†æ”¯ç‡ï¼ˆCBRï¼‰ã€‚&lt;/p>
&lt;h3 id="d_targetå¯¹ç­‰å¼æ±‚è§£æ”»å‡»çš„å½±å“">&lt;a href="#d_target%e5%af%b9%e7%ad%89%e5%bc%8f%e6%b1%82%e8%a7%a3%e6%94%bb%e5%87%bb%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>$d_{target}$å¯¹ç­‰å¼æ±‚è§£æ”»å‡»çš„å½±å“
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103102116720.png"
width="2090"
height="518"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103102116720_hu_44d855796c609ab7.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103102116720_hu_7d2b0e9c45c35dc3.png 1024w"
loading="lazy"
alt="ç­‰å¼æ±‚è§£æ”»å‡»æ€§èƒ½"
class="gallery-image"
data-flex-grow="403"
data-flex-basis="968px"
>&lt;/p>
&lt;p>å¯¹äºæ‰€æœ‰æ•°æ®é›†ï¼Œå¦‚æœæ»¡è¶³é˜ˆå€¼æ¡ä»¶$d_{target}\le c-1$ï¼ˆåœ¨æ¯ä¸ªå­å›¾ä¸­ç”¨â€œTâ€è¡¨ç¤ºï¼‰ï¼Œåˆ™æ¯ä¸ªç‰¹å¾çš„MSEä¸º0ï¼Œè¿™è¯æ˜äº†ä¸Šé¢è®¨è®ºçš„æ€§è´¨æ­£ç¡®ã€‚&lt;/p>
&lt;p>é€šè¿‡è§‚å¯Ÿbå’Œcï¼Œæˆ‘ä»¬å‘ç°å³ä½¿ä¸æ»¡è¶³é˜ˆå€¼æ¡ä»¶ï¼Œç­‰å¼æ±‚è§£æ”»å‡»ä»ç„¶å¯ä»¥æ‰¾åˆ°$x_{target}$çš„è‰¯å¥½æ¨æ–­ï¼Œè¿™å¤§å¤§ä¼˜äºéšæœºçŒœæµ‹æ–¹æ³•ã€‚&lt;/p>
&lt;p>è¿˜æœ‰ä¸€ä¸ªæ˜æ˜¾çš„è¶‹åŠ¿ï¼Œæ¯ä¸ªç‰¹å¾çš„MSEéšç€$d_{target}$åˆ†æ•°çš„å¢åŠ è€Œå¢åŠ ï¼Œå³æ”»æ–¹æ‰€æŒæ¡çš„ç‰¹å¾æ•°è¶Šå°‘ï¼Œä¾›ç»™çš„å‡†ç¡®ç‡è¶Šä½ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œä½œè€…è¿˜åˆ†æäº†ä¸ºä»€ä¹ˆBankæ•°æ®é›†çš„MSEå¢é‡è¿œå¤§äºå…¶ä»–æ•°æ®é›†çš„MSEå¢é‡ï¼Œè¿™æ˜¯å› ä¸ºä¸åŒæ•°æ®é›†çš„æ•°æ®åˆ†å¸ƒå·®å¼‚ã€‚&lt;/p>
&lt;p>ç”±ä¼ªé€†çŸ©é˜µè®¡ç®—å‡ºçš„è§£$\hat{x}_{target}$åœ¨æ‰€æœ‰è§£ä¸­å…·æœ‰æœ€å°çš„æ¬§å‡ é‡Œå¾·èŒƒæ•°ï¼Œå³$||\hat{x}_{target}||_2\le||x_{target}||_2$&lt;/p>
&lt;p>å…¶ä¸­&lt;/p>
$$\sum\_{i=1}^{d\_{\text {target }}} \hat{x}\_{\text {target }, i}^{2} \leq \sum\_{i=1}^{d\_{\text {target }}} x\_{\text {target }, i}^{2}$$&lt;p>å› æ­¤ï¼Œæˆ‘ä»¬æœ‰&lt;/p>
$$\begin{aligned}
\mathrm{MSE} &amp; =\frac{1}{d\_{\text {target }}} \sum\_{i=1}^{d\_{\text {target }}}\left(\hat{x}\_{\text {target }, i}-x\_{\text {target }, i}\right)^{2} \\\\
&amp; =\frac{1}{d\_{\text {target }}} \sum\_{i=1}^{d\_{\text {target }}}\left(\hat{x}\_{\text {target }, i}^{2}+x\_{\text {target }, i}^{2}-2 \hat{x}\_{\text {target }, i} x\_{\text {target }, i}\right) \\\\
&amp; \leq \frac{1}{d\_{\text {target }}} \sum\_{i=1}^{d\_{\text {target }}}\left(\hat{x}\_{\text {target }, i}^{2}+x\_{\text {target }, i}^{2}\right) \\\\
&amp; \leq \frac{1}{d\_{\text {target }}} \sum\_{i=1}^{d\_{\text {target }}} 2 x\_{\text {target }, i}^{2},
\end{aligned}$$&lt;p>æˆ‘ä»¬ä¾¿æ¨å¯¼å‡º$\mathrm{MSE}(\hat{x}_{target},x_{target})$çš„ä¸Šç•Œã€‚&lt;/p>
&lt;p>ä½œè€…åˆ†åˆ«è®¡ç®—äº†Bankã€Creditã€Driveå’ŒNewså››ä¸ªæ•°æ®é›†çš„ä¸Šç•Œï¼Œåˆ†åˆ«ä¸º0.60ã€0.14ã€0.45å’Œ0.34ã€‚&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸Šç•Œè¶Šå¤§ï¼Œå¯¹æ‰‹çš„æ”»å‡»ç²¾åº¦å°±è¶Šå·®ã€‚è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆBankçš„MSEæ¯”å…¶ä»–æ•°æ®é›†å¢é•¿å¾—æ›´å¿«ã€‚&lt;/p>
&lt;h3 id="d_targetå¯¹è·¯å¾„é™åˆ¶æ”»å‡»çš„å½±å“">&lt;a href="#d_target%e5%af%b9%e8%b7%af%e5%be%84%e9%99%90%e5%88%b6%e6%94%bb%e5%87%bb%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>$d_{target}$å¯¹è·¯å¾„é™åˆ¶æ”»å‡»çš„å½±å“
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103104636445.png"
width="2090"
height="516"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103104636445_hu_7282c734e8457a43.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103104636445_hu_efe8e1a6cae3f776.png 1024w"
loading="lazy"
alt="è·¯å¾„é™åˆ¶æ”»å‡»æ€§èƒ½"
class="gallery-image"
data-flex-grow="405"
data-flex-basis="972px"
>&lt;/p>
&lt;p>ä¸ç­‰å¼æ±‚è§£æ”»å‡»ç±»ä¼¼ï¼Œæ”»å‡»ç²¾åº¦éšç€$d_{target}$çš„å¢åŠ è€Œé™ä½ã€‚è¿™æ˜¯å› ä¸ºé€šå¸¸æ›´å¤šçš„ç›®æ ‡ç‰¹å¾å°†å¯¼è‡´æ›´å¤šå¯èƒ½çš„é¢„æµ‹è·¯å¾„ï¼Œä»è€Œå¯¼è‡´é€‰æ‹©æ­£ç¡®è·¯å¾„çš„æ¦‚ç‡é™ä½ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œç¬¬ä¸‰ä¸ªæ•°æ®é›†æ˜¯å¼‚å¸¸çš„ï¼Œå®ƒç”šè‡³éšç€$d_{target}$çš„å¢åŠ è€Œå¢åŠ äº†ã€‚è¿™æ˜¯å› ä¸ºDriveæ•°æ®é›†æœ‰11ä¸ªç±»ï¼Œæ¯”å…¶ä»–æ•°æ®é›†çš„ç±»è¦å¤šå¾—å¤šã€‚å› æ­¤ï¼Œåœ¨Driveä¸­ï¼Œæ¯ä¸ªç±»åˆ«å¯¹åº”çš„æ ‘å½¢è·¯å¾„æ•°é‡è¾ƒå°‘ã€‚å…¶æ¬¡ï¼Œå†³ç­–æ ‘æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åªé€‰æ‹©ä¿¡æ¯é‡å¤§çš„ç‰¹å¾ï¼Œè¿™æ„å‘³ç€Driveæ•°æ®é›†ä¸­$d_{target}$çš„å¢åŠ ä¸ä¸€å®šä¼šå¢åŠ æ ‘ä¸­æœªçŸ¥ç‰¹å¾çš„æ•°é‡ï¼Œå› ä¸ºæœ‰äº›ç‰¹å¾å¯èƒ½æ°¸è¿œä¸ä¼šè¢«é€‰ä¸­ã€‚&lt;/p>
&lt;p>ç»¼ä¸Šï¼Œè¾ƒå¤§çš„ç›®æ ‡æ•°æ®å¹¶ä¸æ€»æ˜¯èƒ½é™ä½è·¯å¾„é™åˆ¶æ”»å‡»çš„CBRã€‚&lt;/p>
&lt;h3 id="d_targetå¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“">&lt;a href="#d_target%e5%af%b9%e7%94%9f%e6%88%90%e5%9b%9e%e5%bd%92%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>$d_{target}$å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103111155894.png"
width="2090"
height="525"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103111155894_hu_ec02b23a4ce8fbe.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103111155894_hu_6030528279424394.png 1024w"
loading="lazy"
alt="ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ€§èƒ½"
class="gallery-image"
data-flex-grow="398"
data-flex-basis="955px"
>&lt;/p>
&lt;p>ä½œè€…å±•ç¤ºäº†ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»å¯¹ä¸‰ç§æ¨¡å‹çš„æ”»å‡»æ€§èƒ½ï¼ˆLRï¼šé€»è¾‘å›å½’ã€RFï¼šéšæœºæ£®æ—ã€NNï¼šç¥ç»ç½‘ç»œï¼‰&lt;/p>
&lt;p>ç±»ä¼¼åœ°ï¼Œæ¯ä¸ªç‰¹å¾çš„MSEéƒ½éšç€$d_{target}$çš„å¢åŠ è€Œä¸Šå‡ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»ä¾èµ–äº$x_{adv}$å’Œ$x_{target}$ä¹‹é—´çš„ç‰¹å¾ç›¸å…³æ€§æ¥æ¨æ–­æœªçŸ¥ç‰¹å¾å€¼ã€‚å¦‚æœ$d_{target}$æ‰€å æ¯”ä¾‹è¾ƒå¤§ï¼Œå­¦ä¹ åˆ°çš„ç›¸å…³æ€§ä¼šå˜å¼±ï¼Œå¯¼è‡´æ”»å‡»æ€§èƒ½ç›¸å¯¹è¾ƒå·®ã€‚ç„¶è€Œï¼Œå³ä½¿åœ¨$d_{target}$çš„åˆ†æ•°ä¸º60%æ—¶ï¼Œç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»ä»ç„¶æ¯”éšæœºçŒœæµ‹æ–¹æ³•è·å¾—äº†æ›´å¥½çš„æ•ˆæœï¼Œè¯æ˜äº†å…¶æœ‰æ•ˆæ€§ã€‚&lt;/p>
&lt;p>ä½œè€…å‘ç°ï¼Œé‡‡ç”¨ç¥ç»ç½‘ç»œæ¨¡å‹çš„ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„æ€§èƒ½ä¼˜äºé€»è¾‘å›å½’å’Œéšæœºæ£®æ—æ¨¡å‹ã€‚åŸå› åœ¨äºç¥ç»ç½‘ç»œæ¨¡å‹æ¯”å…¶ä»–ä¸¤ç§æ¨¡å‹å…·æœ‰æ›´å¤æ‚çš„å†³ç­–è¾¹ç•Œï¼Œä»è€Œæå¤§åœ°é™åˆ¶äº†ç»™å®šç›¸åŒ$x_{adv}$å’Œ$v$æ—¶$x_{target}$çš„å¯èƒ½åˆ†å¸ƒã€‚åŒæ—¶ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹æœ¬èº«å…·æœ‰æ›´å¤šçš„å‚æ•°ï¼Œå¯ä»¥æ•è·æ›´å¤šå…³äºç‰¹å¾ç›¸å…³æ€§çš„é‡è¦ä¿¡æ¯ï¼Œä»è€Œè·å¾—æ›´å¥½çš„æ”»å‡»æ€§èƒ½ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112225469.png"
width="2070"
height="536"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112225469_hu_d6004b51c0051221.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112225469_hu_4e4d044ae18fcb03.png 1024w"
loading="lazy"
alt="ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ€§èƒ½ - CBR"
class="gallery-image"
data-flex-grow="386"
data-flex-basis="926px"
>&lt;/p>
&lt;p>ä½œè€…è¿˜å°†CBRåº¦é‡ç”¨äºè¯„ä¼°RFæ¨¡å‹ä¸Šçš„GRNAï¼ŒåŒæ ·æ•ˆæœä¹Ÿæ¯”éšæœºçŒœæµ‹æ–¹æ³•ä¼˜ç§€ã€‚&lt;/p>
&lt;h3 id="éœ€è¦é¢„æµ‹çš„æ ·æœ¬æ•°å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“">&lt;a href="#%e9%9c%80%e8%a6%81%e9%a2%84%e6%b5%8b%e7%9a%84%e6%a0%b7%e6%9c%ac%e6%95%b0%e5%af%b9%e7%94%9f%e6%88%90%e5%9b%9e%e5%bd%92%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>éœ€è¦é¢„æµ‹çš„æ ·æœ¬æ•°å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112521389.png"
width="2070"
height="518"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112521389_hu_d161a8253ebb6245.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112521389_hu_c6cd7467f682b69b.png 1024w"
loading="lazy"
alt="éœ€è¦é¢„æµ‹çš„æ ·æœ¬æ•°çš„å½±å“"
class="gallery-image"
data-flex-grow="399"
data-flex-basis="959px"
>&lt;/p>
&lt;p>å››ä¸ªæ•°æ®é›†ä¸Šçš„è¶‹åŠ¿è¡¨æ˜ï¼Œé¢„æµ‹æ•°æ®é›†ä¸­çš„æ ·æœ¬è¶Šå¤šï¼Œå¯¹æ‰‹å¯ä»¥è·å¾—çš„æ¯ä¸ªç‰¹å¾çš„MSEè¶Šå°‘ã€‚ æ¢å¥è¯è¯´ï¼Œå¯¹æ‰‹å¯ä»¥é•¿æœŸç§¯ç´¯æ›´å¤šçš„é¢„æµ‹è¾“å‡ºï¼Œä»¥æé«˜å…¶æ”»å‡»ç²¾åº¦ã€‚&lt;/p>
&lt;h3 id="æ•°æ®ç›¸å…³æ€§å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“">&lt;a href="#%e6%95%b0%e6%8d%ae%e7%9b%b8%e5%85%b3%e6%80%a7%e5%af%b9%e7%94%9f%e6%88%90%e5%9b%9e%e5%bd%92%e7%bd%91%e7%bb%9c%e6%94%bb%e5%87%bb%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>æ•°æ®ç›¸å…³æ€§å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„å½±å“
&lt;/h3>&lt;p>ç”±äºLRå’ŒRFæ¨¡å‹çš„æ€§èƒ½ä½äºNNæ¨¡å‹ï¼Œä½œè€…æ¨æ–­æ˜¯å› ä¸ºä¸€å°éƒ¨åˆ†æ¨æ–­å‡ºçš„ç‰¹å¾å€¼ä¸çœŸå®ç›¸å·®ç”šè¿œï¼Œå¯¼è‡´æ•´ä½“æ”»å‡»æ€§èƒ½ç›¸å¯¹è¾ƒä½ï¼Œäºæ˜¯ä½œè€…ç ”ç©¶æ•°æ®ç›¸å…³æ€§çš„å½±å“ã€‚&lt;/p>
&lt;p>æ•°æ®ç›¸å…³æ€§å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p>
$$\begin{aligned}
\operatorname{corr}\left(x\_{\mathrm{adv}}, x\_{\mathrm{target}, i}\right) &amp; =\frac{1}{d\_{\mathrm{adv}}} \sum\_{j=1}^{d\_{\mathrm{adv}}} a b s\left(r\left(x\_{\mathrm{adv}, j}, x\_{\mathrm{target}, i}\right)\right), \\\\
\operatorname{corr}\left(v, x\_{\mathrm{target}, i}\right) &amp; =\frac{1}{c} \sum\_{j=1}^{c} a b s\left(r\left(v\_{j}, x\_{\mathrm{target}, i}\right)\right),
\end{aligned}$$&lt;p>å…¶ä¸­$r(a,b)$è¡¨ç¤ºaå’Œbä¹‹é—´çš„çš®å°”é€Šç›¸å…³ç³»æ•°ï¼Œ$abs(\cdot)$è¡¨ç¤ºç»å¯¹å€¼ã€‚ æœ¬è´¨ä¸Šï¼Œä¸¤ä¸ªç³»æ•°è¶Šå¤§ï¼Œå¯¹æ‰‹è¶Šå®¹æ˜“é€šè¿‡ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»å­¦ä¹ ç‰¹å¾ç›¸å…³æ€§ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112750781.png"
width="1747"
height="769"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112750781_hu_8ebf89399dd41d2d.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103112750781_hu_b3faf008127ffd2d.png 1024w"
loading="lazy"
alt="æ•°æ®ç›¸å…³æ€§å¯¹ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ€§èƒ½"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="545px"
>&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç›¸å…³ç³»æ•°$x_{adv}$å’Œ$v$éƒ½ä¼šå½±å“ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»çš„æ”»å‡»æ€§èƒ½ã€‚$x_{target}$ï¼Œ$i$ä¸$x_{adv}$å’Œ$v$ä¹‹é—´è¾ƒå¼±çš„ç›¸å…³æ€§å¯¼è‡´è¾ƒä½çš„æ¨æ–­å‡†ç¡®åº¦ï¼Œä¾‹å¦‚å›¾10aä¸­çš„ç‰¹å¾1å’Œ3ä»¥åŠå›¾10bä¸­çš„ç‰¹å¾4å’Œ6ã€‚&lt;/p>
&lt;h2 id="å¯¹ç­–">&lt;a href="#%e5%af%b9%e7%ad%96" class="header-anchor">&lt;/a>å¯¹ç­–
&lt;/h2>&lt;p>ä½œè€…è®¨è®ºäº†å‡ ç§å¯èƒ½å‡è½»æ‰€æå‡ºçš„ç‰¹å¾æ¨æ–­æ”»å‡»çš„æ½œåœ¨é˜²å¾¡æ–¹æ³•ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103120035515.png"
width="2030"
height="1174"
srcset="https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103120035515_hu_3ad02ff2a52f490f.png 480w, https://lbqaq.top/p/feature-inference-attack-on-model-predictions-in-vertical-federated-learning/IMAGE/image-20230103120035515_hu_843f72228808122a.png 1024w"
loading="lazy"
alt="é˜²å¾¡æ–¹æ³•æ¯”è¾ƒ"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="414px"
>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ç­–ç•¥åç§°&lt;/th>
&lt;th>æ•ˆæœ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Rounding confidence scores&lt;/td>
&lt;td>ç­‰å¼æ±‚è§£æ”»å‡»æœ‰æ•ˆï¼Œä½†ç”Ÿæˆå›å½’ç½‘ç»œæ”»å‡»æ•ˆæœç”šå¾®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Dropout for neural networks model&lt;/td>
&lt;td>æœ‰æ•ˆï¼Œä½†æ”»å‡»è€…è¿˜æ˜¯æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ¨æ–­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Pre-processing before collaboration&lt;/td>
&lt;td>æœªåšæµ‹è¯•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Post-processing for verification&lt;/td>
&lt;td>å¯¼è‡´æ¨¡å‹é¢„æµ‹è®¡ç®—çš„å·¨å¤§å¼€é”€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Hide the vertical FL model&lt;/td>
&lt;td>å¯èƒ½ä¼šå¯¼è‡´æ–°çš„éšç§æ³„éœ²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Differential Privacy (DP)&lt;/td>
&lt;td>ä¸é€‚ç”¨&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å‚è€ƒæ–‡ç« ">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" class="header-anchor">&lt;/a>å‚è€ƒæ–‡ç« 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/linear345/p/16406051.html" target="_blank" rel="noopener"
>ã€è®ºæ–‡é˜…è¯»ã€‘Feature Inference Attack on Model Predictions in Vertical Federated Learning - linear345 - åšå®¢å›­ (cnblogs.com)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/547510858" target="_blank" rel="noopener"
>çºµå‘è”é‚¦å­¦ä¹ VFL å±æ€§æ¨ç†æ”»å‡» Feature inference attack on model predictions in VFL (ICDE21ï¼‰ - çŸ¥ä¹ (zhihu.com)&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è®©Hugoä¼˜é›…çš„æ˜¾ç¤ºå…¬å¼</title><link>https://lbqaq.top/p/latex-in-hugo/</link><pubDate>Mon, 02 Jan 2023 22:19:15 +0800</pubDate><guid>https://lbqaq.top/p/latex-in-hugo/</guid><description>&lt;img src="https://lbqaq.top/p/latex-in-hugo/103706981.webp" alt="Featured image of post è®©Hugoä¼˜é›…çš„æ˜¾ç¤ºå…¬å¼" />&lt;p>ç»§ä¸Šæ–‡ã€Š&lt;a class="link" href="https://lbqaq.top/p/latex-in-ppt/" target="_blank" rel="noopener"
>åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼&lt;/a>ã€‹åï¼Œæ²¡æƒ³åˆ°æˆ‘åˆé‡åˆ°äº†LaTeXç›¸å…³çš„é—®é¢˜ï¼Œè¿™æ¬¡æ˜¯æˆ‘åšå®¢æ— æ³•æ­£ç¡®çš„æ˜¾ç¤ºå…¬å¼äº†ã€‚å½“ç„¶ï¼Œæœ€ç®€å•å’Œç²—æš´çš„æ–¹æ³•å°±æ˜¯ç›´æ¥è½¬æˆå›¾ç‰‡ï¼Œä½†æœ¬ç€èƒ½æŠ˜è…¾å°±æŠ˜è…¾çš„ç²¾ç¥ï¼Œè¿˜æ˜¯ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•ä¼˜é›…çš„è§£å†³ã€‚&lt;/p>
&lt;h2 id="é—®é¢˜å¤ç°">&lt;a href="#%e9%97%ae%e9%a2%98%e5%a4%8d%e7%8e%b0" class="header-anchor">&lt;/a>é—®é¢˜å¤ç°
&lt;/h2>&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926.png"
width="875"
height="69"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926_hu_cbab972e177861d4.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213822926_hu_8731ba20f343636b.png 1024w"
loading="lazy"
alt="é”™è¯¯çš„å…¬å¼æ¸²æŸ“"
class="gallery-image"
data-flex-grow="1268"
data-flex-basis="3043px"
>&lt;/p>
&lt;p>ç”±äºåœ¨LaTeXè¯­æ³•ä¸­ï¼Œ&lt;code>_&lt;/code>æ˜¯ç”¨æ¥è¡¨ç¤ºä¸‹æ ‡ï¼Œç”±äºä¸‹æ ‡ç»å¸¸è¢«ä½¿ç”¨ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå¯¼è‡´ä¸€å¥è¯ä¸­å‡ºç°ä¸¤ä¸ª&lt;code>_&lt;/code>ã€‚è€Œåœ¨Markdownè¯­æ³•é‡Œï¼Œä¸‹åˆ’çº¿æ˜¯è¡¨ç¤ºæ–œä½“çš„æ„æ€ï¼Œäºæ˜¯Hugoå°±ä¼šå°†å…¶è½¬ä¹‰æˆ&lt;code>&amp;lt;em&amp;gt;&lt;/code>æ ‡ç­¾ï¼Œå¯¼è‡´å…¬å¼æ ¼å¼é”™è¯¯ï¼Œä»è€Œä½¿KaTeXæ— æ³•æ­£ç¡®æ¸²æŸ“ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149.png"
width="1055"
height="31"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149_hu_f9c7f6f1af2ce325.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102213750149_hu_90df279da84943fa.png 1024w"
loading="lazy"
alt="hugoè½¬ä¹‰åçš„ä»£ç "
class="gallery-image"
data-flex-grow="3403"
data-flex-basis="8167px"
>&lt;/p>
&lt;p>è¿™å°±å¾ˆç¬¨äº†ï¼Œæœ¬åœ°çš„Markdownç¼–è¾‘å™¨éƒ½æ²¡æœ‰å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œæ€ä¹ˆåˆ°ä½ Hugoè¿™å°±æ‹‰äº†å‘¢ï¼Ÿ&lt;/p>
&lt;p>&lt;a class="link" href="https://discourse.gohugo.io/t/is-there-any-way-to-ignore-underscore-when-rendering-markdown/5801" target="_blank" rel="noopener"
>Is there any way to ignore underscore when rendering markdown? - support - HUGO (gohugo.io)&lt;/a>&lt;/p>
&lt;p>æœ‰è¿™æ ·é—®é¢˜çš„äººä¹Ÿä¸æ­¢æˆ‘ä¸€ä¸ªï¼Œå®˜æ–¹è®ºå›ä¸Šæ—©åœ¨2017å¹´å°±æœ‰äººæé—®äº†ï¼Œé‚£ä¹ˆå®˜æ–¹çš„ç­”å¤æ˜¯ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440.png"
width="388"
height="508"
srcset="https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440_hu_91e32029ec0a2faa.png 480w, https://lbqaq.top/p/latex-in-hugo/IMAGE/image-20230102214222440_hu_a3db618d1a460bf.png 1024w"
loading="lazy"
alt="å–œå¤šå¯çˆ±æ"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>&lt;/p>
&lt;p>æ²¡é”™ï¼Œå®˜æ–¹å¹¶æ²¡æœ‰ç»™å‡ºå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªæœ‰åœ¨æ–‡æ¡£ä¸­ç¨å¾®æåˆ°äº†ä¸€å˜´ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code>pandoc&lt;/code>æ¥è¿›è¡ŒMarkdownçš„è½¬ä¹‰ã€‚&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ğŸ¤”æœ¬æ¥ç”¨ä½ å°±æ˜¯å›¾ä½ çš„ç”Ÿæˆé€Ÿåº¦å¿«ï¼Œè¿™è°ƒç”¨å…¶ä»–ç¨‹åºåï¼Œè¿™é€Ÿåº¦ä¸å°±æ…¢äº†æ²¡ä¼˜åŠ¿äº†å—ã€‚&lt;/p>
&lt;p>æ²¡åŠæ³•ï¼Œè¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹è§£å†³å§ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ¡ˆ">&lt;a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="header-anchor">&lt;/a>è§£å†³æ–¹æ¡ˆ
&lt;/h2>&lt;p>åœ¨æœç´¢è¿‡åï¼Œç½‘ä¸Šç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä¸‹åˆ’çº¿å‰é¢åŠ ä¸Š&lt;code>\&lt;/code>ï¼Œé¿å…è¢«Hugoè¿›è¡Œè½¬ä¹‰ã€‚ä½†æ˜¯å¦‚æœåœ¨å†™æ–‡æ¡£çš„æ—¶å€™å°±åŠ ä¸Šçš„è¯ï¼Œå°±ä¼šå¯¼è‡´æœ¬åœ°å…¬å¼æ— æ³•æ­£ç¡®æ¸²æŸ“ï¼Œæ‰€ä»¥è¾¹å†™è¾¹åŠ æ˜¯è‚¯å®šä¸å¯èƒ½äº†ã€‚å†™å®Œåæ‰‹åŠ¨æ·»åŠ ï¼Œå¦‚æœæ˜¯ä¸€ä¸¤ä¸ªè¿˜å¥½ï¼Œä½†ä¸‹åˆ’çº¿åœ¨LaTeXé‡Œå®åœ¨æ˜¯å¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥æ‰‹å·¥ä¿®æ”¹ä¹Ÿä¸ç°å®ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œæˆ‘ä¾¿å†³å®šå†™ä¸ªå°ç¨‹åºæ¥è‡ªåŠ¨ä¿®æ”¹ã€‚&lt;del>ç”±äºå¤©å¤©Apexå¤§è„‘é€€åŒ–ä¸¥é‡&lt;/del>ï¼Œæˆ‘å®åœ¨æƒ³ä¸åˆ°ä»€ä¹ˆæ¯”è¾ƒå¥½çš„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•ï¼Œåªå¥½ç”¨éå†å¤§æ³•ã€‚ï¼ˆè¿™æ—¢è§†æ„Ÿï¼Œç¼–è¯‘åŸç†ï¼šâ€¦â€¦ï¼Œä»€ä¹ˆâ€¦â€¦åœ¨æƒ³æˆ‘çš„äº‹æƒ…â€¦â€¦ï¼Ÿï¼‰&lt;/p>
&lt;p>ä¸ç©æ¢—äº†ï¼Œç›´æ¥ä¸Šä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;fstream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">DEBUG&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ifstream&lt;/span> &lt;span class="n">fin&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">argc&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;è¯·è¾“å…¥æ–‡ä»¶åç§°ï¼š&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">is_open&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;æ— æ³•æ‰“å¼€æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¯»å…¥æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">istreambuf_iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fin&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">istreambuf_iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;-----------------&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰€æœ‰æ•°å­¦å…¬å¼çš„å¼€å¤´å’Œç»“å°¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pair&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¼€å§‹å¯»æ‰¾æ‰€æœ‰æ•°å­¦å…¬å¼&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">is_double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">is_double&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;é”™è¯¯ï¼šç¼ºå°‘ç»“æŸç¬¦&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pair&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">math&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">substr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">math&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¯»æ‰¾å®Œæˆï¼Œå¼€å§‹å¤„ç†&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">first&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maths&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">second&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;_&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;{&amp;#39;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;}&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">code&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;å¤„ç†å®Œæˆï¼Œå¼€å§‹å†™å…¥æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ofstream&lt;/span> &lt;span class="n">fout&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">substr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">find_last_of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;\\&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">location&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;index.md&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">fout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">is_open&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;æ— æ³•æ‰“å¼€æ–‡ä»¶&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºåªæ˜¯éšæ‰‹å†™çš„å°å·¥å…·ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰åˆ†å‡½æ•°å•¥çš„ï¼Œç›´æ¥å…¨æ”¾ä¸€èµ·äº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªç¨‹åºä¼šåŒ¹é…&lt;code>$...$&lt;/code>å’Œ&lt;code>$$...$$&lt;/code>è¿™ä¸¤ç§æ ¼å¼ï¼Œå°†å…¶ä¸­æ‰€æœ‰çš„&lt;code>_&lt;/code>æ›¿æ¢ä¸º&lt;code>\_&lt;/code>ï¼Œæ‰€æœ‰çš„&lt;code>\\&lt;/code>æ›¿æ¢ä¸º&lt;code>\\\\&lt;/code>ï¼ŒåŒæ—¶å°†æ–‡ä»¶åœ¨åŸä½ç½®ä¿å­˜ä¸º&lt;code>index.md&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™æ ·æ¯æ¬¡å†™å¥½æ–‡ç« ï¼Œåªè¦å°†å…¶æ‹–åˆ°è¯¥ç¨‹åºä¸Šå°±èƒ½è‡ªåŠ¨è½¬æ¢å®Œæˆäº†ã€‚&lt;/p>
&lt;p>è¿™æ ·å°±èƒ½ç¡®ä¿æœ¬åœ°æŸ¥çœ‹ç¼–è¾‘å’Œç½‘é¡µéƒ½å¯ä»¥æ­£ç¡®æ˜¾ç¤ºå…¬å¼äº†ã€‚ç¼ºç‚¹åˆ™æ˜¯æ¯ä¸ªæœ‰å…¬å¼çš„æ–‡ä»¶éƒ½ä¼šå¤šä¿å­˜ä¸€ä»½ï¼Œä¸è¿‡æ–‡æœ¬æ–‡ä»¶å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¹Ÿæ— ä¼¤å¤§é›…ã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œè¿™ä¸ªç¨‹åºè¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œæ¯”å¦‚è‡ªåŠ¨å¯¹å«æœ‰å…¬å¼çš„æ–‡ç« è¿›è¡Œå¤„ç†ç­‰ç­‰ã€‚ä¸è¿‡çœ‹è¿™æˆ‘æ–‡ç« æ›´æ–°çš„é€Ÿåº¦ğŸ•Šï¸ï¼Œæ‰‹åŠ¨æ‹–ä¸€ä¸‹è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚&lt;/p>
&lt;h2 id="æ›´æ–°è®°å½•">&lt;a href="#%e6%9b%b4%e6%96%b0%e8%ae%b0%e5%bd%95" class="header-anchor">&lt;/a>æ›´æ–°è®°å½•
&lt;/h2>&lt;p>&lt;strong>2023.7.20ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¢åŠ å¯¹&lt;code>\{&lt;/code>å’Œ&lt;code>\}&lt;/code>çš„å¤„ç†&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2023.1.3ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¢åŠ å¯¹&lt;code>\\&lt;/code>çš„å¤„ç†&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://gohugo.io/content-management/formats/#external-helpers" target="_blank" rel="noopener"
>Content Formats |Hugo (gohugo.io)&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼</title><link>https://lbqaq.top/p/latex-in-ppt/</link><pubDate>Sat, 31 Dec 2022 15:25:22 +0800</pubDate><guid>https://lbqaq.top/p/latex-in-ppt/</guid><description>&lt;img src="https://lbqaq.top/p/latex-in-ppt/102317894.webp" alt="Featured image of post åœ¨PowerPointé‡Œä¼˜é›…çš„æ’å…¥LaTeXå…¬å¼" />&lt;p>æœ€è¿‘ï¼Œéœ€è¦æˆ‘åœ¨PPTä¸­æ’å…¥å…¬å¼çš„æ¬¡æ•°è¶Šæ¥è¶Šå¤šäº†ã€‚æœ€ä¼ ç»Ÿçš„åŠæ³•è‡ªç„¶æ˜¯å°†å…¬å¼ç”Ÿæˆå¥½åç›´æ¥è¿›è¡Œæˆªå›¾æ’å…¥ï¼Œä½†è¿™ç§æ–¹å¼è¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ï¼Œå¦‚æœéœ€è¦è°ƒèŠ‚å¤§å°ä¹Ÿååˆ†çš„éº»çƒ¦ï¼Œäºæ˜¯æˆ‘ä¾¿é€šè¿‡æ£€ç´¢æ‰¾åˆ°äº†ä¸¤ç§æ’å…¥å…¬å¼çš„æ–¹æ³•ï¼Œåœ¨æ­¤åšä¸€ä¸ªè®°å½•ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨åŸç”Ÿçš„å…¬å¼åŠŸèƒ½">&lt;a href="#%e4%bd%bf%e7%94%a8%e5%8e%9f%e7%94%9f%e7%9a%84%e5%85%ac%e5%bc%8f%e5%8a%9f%e8%83%bd" class="header-anchor">&lt;/a>ä½¿ç”¨åŸç”Ÿçš„å…¬å¼åŠŸèƒ½
&lt;/h2>&lt;p>2202å¹´äº†ï¼Œå¦‚æœè¯´PowerPointæœ¬èº«ä¸æ”¯æŒLaTeXå…¬å¼é‚£å°±å¤§é”™ç‰¹é”™äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>å°†LaTeXä»£ç æ’å…¥åˆ°æ–‡æœ¬æ¡†ä¸­&lt;/li>
&lt;li>é€‰ä¸­åˆšåˆšè¾“å…¥çš„ä»£ç ï¼Œä¾æ¬¡ç‚¹å‡»åŠŸèƒ½åŒºä¸Šçš„â€œæ’å…¥â€â€”â€”â€œå…¬å¼â€â€”â€”â€œä¸“ç”¨â€&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477.png"
width="1373"
height="143"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477_hu_a8630a60dddc51c.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231113746477_hu_15e7424d8501a860.png 1024w"
loading="lazy"
alt="å…¬å¼æŒ‰é’®"
class="gallery-image"
data-flex-grow="960"
data-flex-basis="2304px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636.png"
width="725"
height="220"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636_hu_53bb70b7107712a5.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231114035636_hu_fbc5da826dd19075.png 1024w"
loading="lazy"
alt="ä¸“ç”¨æŒ‰é’®åŠæ˜¾ç¤ºæ•ˆæœ"
class="gallery-image"
data-flex-grow="329"
data-flex-basis="790px"
>&lt;/p>
&lt;p>åªéœ€è¦ç®€å•ä¸¤æ­¥å³å¯è½¬æ¢å®Œæˆã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å´å­˜åœ¨å¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯æ”¯æŒçš„å…¬å¼å¤ªå°‘äº†ï¼Œä¸€äº›ç®€å•çš„å…¬å¼è¿˜å¯ä»¥æˆåŠŸè½¬æ¢ï¼Œä½†å¦‚æœæ˜¯å…¬å¼å—æˆ–è€…ç”¨äº†ä¸€äº›å®åŒ…ï¼Œå°±ä¼šå¯¼è‡´è½¬æ¢ä¸å‡ºæ¥ã€‚&lt;/p>
&lt;p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹å°±æ˜¯æ— éœ€é¢å¤–é…ç½®ï¼Œä»¥åŠå¯ä»¥ä¸æ–‡å­—æ”¾åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿æ’ç‰ˆã€‚ä½†å¦‚æœä½ çš„å…¬å¼æ¯”è¾ƒå¤æ‚ï¼Œé‚£æˆ‘è¿˜æ˜¯æ¨èä¸‹é¢çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨iguanatexæ’ä»¶">&lt;a href="#%e4%bd%bf%e7%94%a8iguanatex%e6%8f%92%e4%bb%b6" class="header-anchor">&lt;/a>ä½¿ç”¨IguanaTexæ’ä»¶
&lt;/h2>&lt;p>è¦è¯´å¯¹LaTeXæ”¯æŒæœ€å¥½çš„ï¼Œé‚£è‚¯å®šå°±æ˜¯ä½¿ç”¨ä½ ç”µè„‘ä¸Šå®‰è£…å¥½çš„å‘è¡Œç‰ˆè¿›è¡Œç”Ÿæˆï¼ŒIguanaTexæ’ä»¶å°±æ˜¯åŸºäºè¿™ç§æ–¹å¼å®ç°çš„ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æƒ³è¦ä½¿ç”¨IguanaTexï¼Œä½ å¿…é¡»è¦å‡†å¤‡å¥½ä¸€ä¸ªLaTeXå‘è¡Œç‰ˆï¼Œæˆ‘è¿™é‡Œæ¨è&lt;a class="link" href="https://miktex.org/" target="_blank" rel="noopener"
>MiKTeX&lt;/a>ï¼Œå®ƒä¸ä¼šå®‰è£…å®Œæ•´çš„å®åŒ…è€Œæ˜¯åœ¨ä½ éœ€è¦çš„æ—¶å€™è¿›è¡Œå®‰è£…ï¼Œé¿å…å ç”¨è¿‡å¤§çš„ç©ºé—´ï¼Œå…·ä½“çš„å®‰è£…æ–¹æ³•è¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>åœ¨&lt;a class="link" href="https://www.jonathanleroux.org/software/iguanatex/download.html" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸Šä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼Œä¸‹è½½åç¼€åä¸º&lt;code>ppam&lt;/code>çš„æ–‡ä»¶æ”¾å…¥&lt;code>C:\Users\%APPDATA%\Microsoft\AddIns&lt;/code>ç›®å½•ä¸­&lt;/li>
&lt;li>æ‰“å¼€PPTï¼Œä¾æ­¤é€‰æ‹©ï¼š &lt;strong>æ–‡ä»¶&lt;/strong>-&amp;gt;&lt;strong>é€‰é¡¹&lt;/strong>-&amp;gt;&lt;strong>åŠ è½½é¡¹&lt;/strong>-&amp;gt;&lt;strong>ç®¡ç†&lt;/strong>ï¼ˆä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©ï¼š&lt;strong>PowerPointåŠ è½½é¡¹&lt;/strong>ï¼‰-&amp;gt;&lt;strong>è½¬åˆ°&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293.png"
width="836"
height="717"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293_hu_ff5696e038a7072e.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231144938293_hu_a47b5ef64b720b7.png 1024w"
loading="lazy"
alt="åŠ è½½é¡¹é€‰æ‹©"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="279px"
>&lt;/p>
&lt;ol start="3">
&lt;li>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©ï¼š &lt;strong>æ·»åŠ &lt;/strong>-&amp;gt;é€‰æ‹©åˆšä¸‹è½½çš„æ’ä»¶æ–‡ä»¶&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275.png"
width="384"
height="372"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275_hu_40654cc81b32f730.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145220275_hu_401c9fac4f9fd4bf.png 1024w"
loading="lazy"
alt="åŠ è½½é¡¹"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;ol start="4">
&lt;li>æ­¤æ—¶åŠŸèƒ½åŒºä¸Šé¢å°±å·²ç»æœ‰äº†IguanaTexï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ª&lt;code>New LaTeX display&lt;/code>å°±å¯ä»¥æ’å…¥å…¬å¼äº†ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ç‚¹å‡»&lt;code>Main Settings&lt;/code>æ¥è¿›è¡Œä¿®æ”¹ç›¸å…³è®¾ç½®ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417.png"
width="703"
height="139"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417_hu_b9cb2fec662c6715.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231145447417_hu_1593e3141ed62626.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="505"
data-flex-basis="1213px"
>&lt;/p>
&lt;ol start="5">
&lt;li>æˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¿®æ”¹ä¸´æ—¶æ–‡ä»¶ä½ç½®ä»¥åŠå›¾ç‰‡ç”Ÿæˆçš„æ–¹å¼&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982.png"
width="411"
height="563"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982_hu_2bd21c99638a8f74.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150027982_hu_6e4cb0d4e1be723.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="73"
data-flex-basis="175px"
>&lt;/p>
&lt;p>æˆ‘æ¨èå°†&lt;code>Output&lt;/code>ä¿®æ”¹æˆ&lt;code>Vector&lt;/code>ï¼Œè¿™æ ·ç”Ÿæˆçš„å…¬å¼å°±æ˜¯çŸ¢é‡å½¢çŠ¶ï¼Œå³ä½¿æ”¾å¤§ä¹Ÿä¸ä¼šå˜å½¢ã€‚&lt;/p>
&lt;p>ä¸‹é¢å°±æ˜¯ç”Ÿæˆçš„å…¬å¼ï¼Œå¯ä»¥çœ‹å‡ºæ¯ä¸ªå­—æ¯éƒ½æ˜¯å›¾å½¢ã€‚åŒæ—¶å…¬å¼ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥æ’ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191.png"
width="464"
height="151"
srcset="https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191_hu_8144fbd88f9d5e2a.png 480w, https://lbqaq.top/p/latex-in-ppt/IMAGE/image-20221231150555191_hu_26035ed28739eae2.png 1024w"
loading="lazy"
alt="ç”Ÿæˆå…¬å¼"
class="gallery-image"
data-flex-grow="307"
data-flex-basis="737px"
>&lt;/p>
&lt;p>ç»¼ä¸Šï¼Œä¸ªäººæ¨èè¿˜æ˜¯ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå”¯ä¸€éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯ä½ éœ€è¦è‡ªå¤‡LaTeXç¯å¢ƒã€‚&lt;/p>
&lt;p>&lt;del>æœ€è¿‘çš„æ–‡ç« çœŸçš„æ˜¯è¶Šæ¥è¶Šæ°´äº†QAQ&lt;/del>&lt;/p></description></item><item><title>è‡ªå»ºDNSå®ç°åˆ†æµåŠå¹¿å‘Šè¿‡æ»¤</title><link>https://lbqaq.top/p/mydns/</link><pubDate>Wed, 30 Nov 2022 11:05:31 +0800</pubDate><guid>https://lbqaq.top/p/mydns/</guid><description>&lt;img src="https://lbqaq.top/p/mydns/100669875.webp" alt="Featured image of post è‡ªå»ºDNSå®ç°åˆ†æµåŠå¹¿å‘Šè¿‡æ»¤" />&lt;p>ç”±äºè¿è¥å•†é»˜è®¤æä¾›çš„DNSæœ‰å¾ˆå¤šçš„æ±¡æŸ“ï¼Œè®¸å¤šåŸŸåç›´æ¥0.0.0.0æˆ–è€…127.0.0.1ä¼ºå€™ï¼Œå¯¼è‡´ä¸Šç½‘ä½“éªŒå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ•…æƒ³åˆ°è‡ªå»ºåŠ å¯†DNSæ¥æŠµå¾¡æ±¡æŸ“ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/mydns/IMAGE/1.png"
width="867"
height="525"
srcset="https://lbqaq.top/p/mydns/IMAGE/1_hu_d6c273767696e3aa.png 480w, https://lbqaq.top/p/mydns/IMAGE/1_hu_3e97931572d37a18.png 1024w"
loading="lazy"
alt="DNSæ±¡æŸ“"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="396px"
>&lt;/p>
&lt;p>ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯AdGuardHomeï¼Œç„¶è€Œåœ¨æˆ‘çœ‹åˆ°äº†&lt;a class="link" href="https://github.com/XIU2/CloudflareSpeedTest" target="_blank" rel="noopener"
>CloudflareSpeedTest&lt;/a>è¿™ä¸ªé¡¹ç›®åï¼Œå°±èŒç”Ÿäº†ipé‡å®šå‘è¿™ä¸ªéœ€æ±‚ï¼Œä¸ºæ­¤æˆ‘åˆå¥—äº†ä¸€å±‚mosdnsï¼ˆç»å…¸ä¸ºé†‹åŒ…é¥ºå­ï¼‰ã€‚æ—¢ç„¶ä¸Šäº†mosdnsï¼Œå°±å¹²è„†åšé…ä¸Šåˆ†æµå§ï¼Œäºæ˜¯ç°åœ¨çš„è¿™å¥—æ–¹æ¡ˆå°±å½¢æˆäº†ã€‚è™½ç„¶æˆ‘çš„è¿™äº›éœ€æ±‚ä¸€ä¸ªmosdnså°±å¯ä»¥è§£å†³ï¼Œä½†AdGuardHomeçš„å‰ç«¯uiã€æ›´æ–¹ä¾¿çš„å¹¿å‘Šè¿‡æ»¤ã€æ•°æ®ç»Ÿè®¡è¿™äº›åŠŸèƒ½æ˜¯mosdnsæ‰€æ²¡æœ‰çš„ã€‚&lt;/p>
&lt;h2 id="2328æ–°æ–¹æ¡ˆ">&lt;a href="#2328%e6%96%b0%e6%96%b9%e6%a1%88" class="header-anchor">&lt;/a>23.2.8æ–°æ–¹æ¡ˆ
&lt;/h2>&lt;p>ç”±äºCloudFlareçš„ä¼˜é€‰IPåœ¨ä¸åŒè®¾å¤‡ä¸Šé€Ÿåº¦éƒ½ä¸åŒï¼Œæ‰€ä»¥åœ¨è®¾å¤‡æœ¬åœ°æ­å»ºæ›´ä¼˜ã€‚äºæ˜¯ï¼Œæˆ‘ç°åœ¨å°†mosdnsä»æœåŠ¡å™¨ä¸Šç§»åˆ°äº†æœ¬åœ°ã€‚å½“ç„¶ï¼Œåœ¨è·¯ç”±å™¨ä¸Šéƒ¨ç½²è¦æ›´å¥½ï¼Œä½†æˆ‘å®¶çš„è·¯ç”±å™¨æ€§èƒ½å¤ªå¼±äº†ï¼Œå°±ç®—äº†ã€‚åŒæ—¶ï¼Œå»å¹¿å‘Šå°±äº¤ç»™mosdnsï¼Œè¿™æ ·å°±æ— éœ€ä½¿ç”¨ä¸¤ä¸ªè½¯ä»¶è¿›è¡Œå¥—å¨ƒäº†ã€‚&lt;/p>
&lt;p>mosdnsåœ¨è¿™æ®µæ—¶é—´ä¹Ÿæ›´æ–°äº†V5ç‰ˆæœ¬ï¼ŒåŸå…ˆçš„é…ç½®æ–‡ä»¶ä¹Ÿæ— æ³•ä½¿ç”¨äº†ï¼Œæ­£å¥½åšå‡ºV5å¯ç”¨çš„é…ç½®ã€‚&lt;/p>
&lt;p>åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­ï¼Œéœ€è¦ç”¨ä¸Šä»¥ä¸‹é¡¹ç›®æä¾›çš„åŸŸå/IPæ–‡ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat#%e8%a7%84%e5%88%99%e6%96%87%e4%bb%b6%e4%b8%8b%e8%bd%bd%e5%8f%8a%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" target="_blank" rel="noopener"
>reject-list.txt å’Œ direct-list.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Hackl0us/GeoIP2-CN#-%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5" target="_blank" rel="noopener"
>CN-ip-cidr.txt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/XIU2/CloudflareSpeedTest" target="_blank" rel="noopener"
>cloudflare.txt&lt;/a>ï¼šç”±&lt;code>ip.txt&lt;/code>å’Œ&lt;code>ipv6.txt&lt;/code>åˆå¹¶è€Œæ¥&lt;/li>
&lt;li>&lt;a class="link" href="https://anti-ad.net/" target="_blank" rel="noopener"
>ad-domains.txt&lt;/a>ï¼šä¸‹è½½&lt;code>domains.txt&lt;/code>å¹¶æ”¹å&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Powered by luoboQAQ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">level&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">info&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">plugins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ç¼“å­˜æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10240&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lazy_cache_ttl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">86400&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å°†ç¼“å­˜ä¿å­˜åœ¨ç£ç›˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dump_file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./cache.dump&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³æœ¬åœ°æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">alidns_doh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://223.5.5.5/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dnspod_doh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://120.53.53.53/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³è¿œç¨‹æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstreams&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">easymosdns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://doh.apad.pro/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bootstrap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dns_sb&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://45.11.45.11/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨æœ¬åœ°æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿”å›ä¸åŒ…å«æœ¬åœ° ip åˆ™ reject&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">resp_ip &amp;amp;./data/CN-ip-cidr.txt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">drop_resp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># v5.1.2 ä»¥åä¸èƒ½ç”¨ reject&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallback ç”¨è¿œç¨‹æœåŠ¡å™¨ sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_remote&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># CloudFlareåŠ«æŒåˆ°ä¼˜é€‰IP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">resp_ip &amp;amp;./data/cloudflare.txt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">black_hole 172.67.210.33&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># fallbackæ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">local_ip_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secondary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">remote_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">threshold&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">500&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">always_standby&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¸»è¦è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qtype 65&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å»å¹¿å‘Š&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname &amp;amp;./data/reject-list.txt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname &amp;amp;./data/ad-domains.txt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">reject 3 &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prefer_ipv4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qname &amp;amp;./data/direct-list.txt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">matches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">has_resp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">accept&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">$fallback&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å¯åŠ¨ udpæœåŠ¡å™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp_server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listen&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">127.0.0.1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">53&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤é…ç½®æ–‡ä»¶å‚è€ƒäº†&lt;a class="link" href="https://github.com/IrineSistiana/mosdns/discussions/562#discussioncomment-4676699" target="_blank" rel="noopener"
>è¯¥å›ç­”&lt;/a>&lt;/p>
&lt;h2 id="æ–¹æ¡ˆè®¾è®¡">&lt;a href="#%e6%96%b9%e6%a1%88%e8%ae%be%e8%ae%a1" class="header-anchor">&lt;/a>æ–¹æ¡ˆè®¾è®¡
&lt;/h2>&lt;p>é¦–å…ˆç”±AdGuardHomeæ¥å—è¯·æ±‚ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºå¹¿å‘ŠåŸŸå:&lt;/p>
&lt;ul>
&lt;li>æ˜¯ï¼šç›´æ¥æ‹¦æˆªï¼Œç»“æŸæµç¨‹&lt;/li>
&lt;li>å¦ï¼šç»§ç»­ä¼ å…¥mosdns&lt;/li>
&lt;/ul>
&lt;p>åˆ¤æ–­æ˜¯å¦ä¸ºå›½å†…åŸŸåï¼š&lt;/p>
&lt;ul>
&lt;li>æ˜¯ï¼šå‘æœ¬åœ°DNSæŸ¥è¯¢&lt;/li>
&lt;li>å¦ï¼šå‘è¿œç«¯DNSæŸ¥è¯¢&lt;/li>
&lt;/ul>
&lt;p>åˆ¤æ–­æ˜¯å¦ä¸ºCloudFlareçš„IPï¼š&lt;/p>
&lt;ul>
&lt;li>æ˜¯ï¼šä¿®æ”¹å“åº”ä¸ºä¼˜é€‰çš„IP&lt;/li>
&lt;li>å¦ï¼šä¸è¿›è¡Œæ“ä½œ&lt;/li>
&lt;/ul>
&lt;h2 id="ç³»ç»Ÿæ­å»º">&lt;a href="#%e7%b3%bb%e7%bb%9f%e6%90%ad%e5%bb%ba" class="header-anchor">&lt;/a>ç³»ç»Ÿæ­å»º
&lt;/h2>&lt;h3 id="æ­å»ºmosdns">&lt;a href="#%e6%90%ad%e5%bb%bamosdns" class="header-anchor">&lt;/a>æ­å»ºmosdns
&lt;/h3>&lt;p>å¦‚ä½•å®‰è£…å’Œé…ç½®mosdnsï¼Œå®˜æ–¹æ–‡æ¡£å·²ç»å†™çš„éå¸¸è¯¦ç»†äº†ï¼Œç›´æ¥çœ‹&lt;a class="link" href="https://irine-sistiana.gitbook.io/mosdns-wiki/" target="_blank" rel="noopener"
>æ–‡æ¡£&lt;/a>å°±å¥½äº†ã€‚&lt;/p>
&lt;p>é…ç½®æ–‡ä»¶ä¸»è¦å‚è€ƒäº†&lt;a class="link" href="https://github.com/pmkol/easymosdns" target="_blank" rel="noopener"
>pmkol/easymosdns&lt;/a>&lt;/p>
&lt;p>è¿™é‡Œä¸»è¦åˆ†äº«ä¸€ä¸‹æˆ‘çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Powered by luoboQAQ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;./mosdns.log&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">level&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">error&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># æ•°æ®æºè®¾ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data_providers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">CloudFlareIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;./rules/cloudflare.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">auto_reload&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">chinalist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;./rules/geosite_cn.txt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">auto_reload&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">plugins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ç¼“å­˜çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10240&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lazy_cache_ttl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">86400&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cache_everything&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># åŒ¹é…PTRç±»å‹è¯·æ±‚çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_ptr&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_matcher&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">qtype&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">12&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># åŒ¹é…TYPE65ç±»å‹è¯·æ±‚çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qtype65&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_matcher&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">qtype&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">65&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å±è”½è¯·æ±‚çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">black_hole&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">blackhole&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rcode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipv4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipv6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;::1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># åŒ¹é…æœ¬åœ°åŸŸåçš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_is_cn_domain&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">query_matcher&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">domain&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;provider:chinalist&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³æœ¬åœ°æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># [local|alidns]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_local&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fast_forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstream&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;udp://100.100.2.138&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_alidns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fast_forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstream&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://dns.alidns.com:443/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dial_addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># CloudFlareåŠ«æŒçš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">response_is_cloudflare_ip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">response_matcher&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ip&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;provider:CloudFlareIP&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hijack_cloudflare_ip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">blackhole&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipv4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">104.16.111.240&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># è½¬å‘è‡³è¿œç«¯æœåŠ¡å™¨çš„æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">forward_easymosdns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fast_forward&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">upstream&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://doh.apad.pro/dns-query&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bootstrap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;223.5.5.5&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¸»è¦çš„è¿è¡Œé€»è¾‘æ’ä»¶&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ç¼“å­˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å±è”½TYPE65ç±»å‹è¯·æ±‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qtype65&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">black_hole&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">_return &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># åˆ†æµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;(query_is_cn_domain) || (query_is_ptr)&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">forward_alidns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">else_exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">forward_easymosdns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># CloudFlareåŠ«æŒåˆ°ä¼˜é€‰IP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">response_is_cloudflare_ip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">hijack_cloudflare_ip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">_return&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">servers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">exec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main_sequence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">timeout&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">listeners&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">addr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">127.0.0.1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">5533&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">udp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ï¼Œ&lt;code>cloudflare.txt&lt;/code>æ¥è‡ªäºä¸Šé¢çš„CloudflareSpeedTesté¡¹ç›®ï¼Œæ˜¯åŒ…å«ipv4å’Œipv6çš„CloudflareIPæ®µã€‚&lt;/p>
&lt;p>&lt;code>geosite_cn.txt&lt;/code>æ˜¯å›½å†…åŸŸåçš„é›†åˆï¼Œæ¥è‡ª&lt;a class="link" href="https://github.com/Loyalsoldier/v2ray-rules-dat" target="_blank" rel="noopener"
>Loyalsoldier/v2ray-rules-dat&lt;/a>ï¼Œå°†&lt;code>geosite.dat&lt;/code>ä½¿ç”¨&lt;code>mosdns v2dat unpack-domain &lt;/code>è§£åŒ…å¾—åˆ°ã€‚&lt;/p>
&lt;p>&lt;del>è¿™é‡Œæˆ‘æ²¡æœ‰å¯ç”¨mosdnsçš„ç¼“å­˜ï¼Œå› ä¸ºæˆ‘åœ¨AdGuardHomeé‡Œå¯ç”¨ï¼Œå°±ä¸é‡å¤ç¼“å­˜äº†ã€‚å¦‚æœä½ æ˜¯ç›´æ¥ä½¿ç”¨mosdnsï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯ç”¨ç¼“å­˜ã€‚&lt;/del>&lt;/p>
&lt;p>äº‹å®ä¸Šï¼Œè¿˜æ˜¯è¦å¼€å¯mosdnsçš„ç¼“å­˜ï¼Œä»¥æ­¤æ¥å‡å°DNSæŸ¥è¯¢çš„å»¶æ—¶ã€‚&lt;/p>
&lt;h3 id="æ­å»ºadguardhome">&lt;a href="#%e6%90%ad%e5%bb%baadguardhome" class="header-anchor">&lt;/a>æ­å»ºAdGuardHome
&lt;/h3>&lt;p>è¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿ï¼Œå°±ç›´æ¥ä½¿ç”¨äº†dockerï¼Œå…¶å®å¯ä»¥ä¸ç”¨çš„è¯´&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run --name adguardhome&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --restart unless-stopped&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /root/adguardhome/work:/opt/adguardhome/work&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /root/adguardhome/conf:/opt/adguardhome/conf&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --net&lt;span class="o">=&lt;/span>host&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d adguard/adguardhome
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘æ¯”è¾ƒæ‡’ï¼Œå°±ç›´æ¥è®©å®¹å™¨ä½¿ç”¨äº†&lt;code>host&lt;/code>æ¨¡å¼ï¼Œè¿™æ ·å°±ä¸ç”¨é…ç½®ç«¯å£äº†ã€‚&lt;/p>
&lt;p>è®¾ç½®æ–¹é¢&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¸Šæ¸¸DNSæœåŠ¡å™¨å¡«å…¥&lt;code>127.0.0.1:5533&lt;/code>ï¼Œå³mosdnsçš„ç«¯å£ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯ç”¨&lt;code>å¯ç”¨ EDNS å®¢æˆ·ç«¯å­ç½‘&lt;/code>ï¼Œä½¿DNSæŸ¥è¯¢é™„ä¸Šç”¨æˆ·çš„ipï¼Œä½¿è§£æçš„ipåœ°å€é è¿‘æœ¬åœ°ä½ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼€å¯&lt;code>ä¹è§‚ç¼“å­˜&lt;/code>ï¼Œè®¾ç½®&lt;code>è¦†ç›–æœ€å°TTLå€¼&lt;/code>ä¸º600ï¼Œ&lt;code>è¦†ç›–æœ€å¤§TTLå€¼&lt;/code>ä¸º3600ï¼Œé¿å…æ¯æ¬¡éƒ½è¦æŸ¥è¯¢&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼€å¯&lt;code>å¯ç”¨åŠ å¯†ï¼ˆHTTPSã€DNS-over-HTTPSã€DNS-over-TLSï¼‰&lt;/code>ï¼Œå¯ç”¨DoH&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ ¹æ®è‡ªå·±çš„å–œå¥½æ·»åŠ è¿‡æ»¤è§„åˆ™&lt;/p>
&lt;p>æˆ‘æ¨èå¯ç”¨&lt;code>CHN: anti-AD&lt;/code>ï¼Œè¿™ä¸ªåˆ—è¡¨è¿˜æ˜¯å¾ˆä¸é”™çš„&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="nginxåä»£é…ç½®">&lt;a href="#nginx%e5%8f%8d%e4%bb%a3%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>Nginxåä»£é…ç½®
&lt;/h3>&lt;p>è¿™é‡Œä¸ºäº†é¿å…DoHè¢«æ»¥ç”¨ï¼Œæˆ‘ä¿®æ”¹äº†é»˜è®¤çš„è·¯å¾„ï¼ŒåŒæ—¶å°†é»˜è®¤è·¯å¾„è¿”å›444ï¼ˆä¸­æ–­è¿æ¥ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="s">ssl&lt;/span> &lt;span class="s">http2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">you.domain&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">if&lt;/span> &lt;span class="s">(&lt;/span>&lt;span class="nv">$server_port&lt;/span> &lt;span class="s">!~&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="s">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">rewrite&lt;/span> &lt;span class="s">^(/.*)&lt;/span>$ &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">./cert/xxx.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">./cert/xxxx.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„åŠ å¯†å¥—ä»¶çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/set/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://127.0.0.1:11451/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_redirect&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="s">/set/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_cookie_path&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="s">/set/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-For&lt;/span> &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/query&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_http_version&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="s">.1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">https://127.0.0.1:11450/dns-query&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-For&lt;/span> &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">return&lt;/span> &lt;span class="mi">444&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®¢æˆ·ç«¯é…ç½®">&lt;a href="#%e5%ae%a2%e6%88%b7%e7%ab%af%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>å®¢æˆ·ç«¯é…ç½®
&lt;/h2>&lt;h3 id="windows">&lt;a href="#windows" class="header-anchor">&lt;/a>Windows
&lt;/h3>&lt;p>åœ¨win11 22H2ä¸­ï¼Œåœ¨ è®¾ç½®â€”â€”ç½‘ç»œå’ŒInternetä¸­ å°±å¯ä»¥è®¾ç½®åŠ å¯†DNSï¼Œè¾“å…¥æœåŠ¡å™¨ipåœ°å€åé€‰æ‹©æ‰‹åŠ¨æ¨¡æ¿å°±å¯ä»¥è¾“å…¥DoHåœ°å€äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/mydns/IMAGE/image-20221203092246859.png"
width="375"
height="561"
srcset="https://lbqaq.top/p/mydns/IMAGE/image-20221203092246859_hu_b209c38fd80bcb2b.png 480w, https://lbqaq.top/p/mydns/IMAGE/image-20221203092246859_hu_83bf3cb291191510.png 1024w"
loading="lazy"
alt="æ‰‹åŠ¨è®¾ç½®DoH"
class="gallery-image"
data-flex-grow="66"
data-flex-basis="160px"
>&lt;/p>
&lt;p>å¦‚æœè¿˜æ²¡æœ‰å‡çº§åˆ°è¿™ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œpowershellæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Add-DnsClientDohServerAddress&lt;/span> &lt;span class="n">-ServerAddress&lt;/span> &lt;span class="s1">&amp;#39;123.xx.xx.xx&amp;#39;&lt;/span> &lt;span class="n">-DohTemplate&lt;/span> &lt;span class="s1">&amp;#39;https://your.domain/dns-query&amp;#39;&lt;/span> &lt;span class="n">-AllowFallbackToUdp&lt;/span> &lt;span class="vm">$False&lt;/span> &lt;span class="n">-AutoUpgrade&lt;/span> &lt;span class="vm">$True&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>éšåç›´æ¥å°†ä½ æœåŠ¡å™¨çš„ipè®¾ç½®æˆDNSæœåŠ¡å™¨å°±å¯ä»¥äº†ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨DoHè¿›è¡Œè¯·æ±‚ã€‚&lt;/p>
&lt;h3 id="android">&lt;a href="#android" class="header-anchor">&lt;/a>Android
&lt;/h3>&lt;p>å®‰å“ç³»ç»Ÿä»9å¼€å§‹æ”¯æŒDoTï¼Œåªè¦åœ¨è¿æ¥ä¸å…±äº«â€”â€”ç§äººDNSå¡«å…¥æœåŠ¡å™¨çš„åŸŸåå³å¯ã€‚&lt;/p>
&lt;p>æ ¹æ®è°·æ­Œçš„å…¬å‘Šï¼Œä»13å¼€å§‹ï¼Œå®‰å“å¼€å§‹æ”¯æŒDoHã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæƒ³è¦ä½¿ç”¨DoHå°±åªèƒ½ä¾é ç¬¬ä¸‰æ–¹è½¯ä»¶äº†ã€‚&lt;/p>
&lt;h2 id="åè®°">&lt;a href="#%e5%90%8e%e8%ae%b0" class="header-anchor">&lt;/a>åè®°
&lt;/h2>&lt;p>å•ç‹¬ä½¿ç”¨AdGuardHomeçš„æƒ…å†µä¸‹ï¼Œå¼€å¯ç¼“å­˜å¹³å‡å¤„ç†æ—¶é—´æ˜¯5msï¼›AdGuardHome+mosdnsç›®å‰æ˜¯11msã€‚&lt;/p>
&lt;p>æŠ˜è…¾äº†ä¸¤å±‚è§£æï¼Œåªæ˜¯ä¸ºäº†å®ç°CloudFlareçš„IPä¼˜é€‰ï¼Œé€Ÿåº¦æœç„¶ä¸å‡ºæ‰€æ–™çš„æ…¢äº†ä¸€ç‚¹ï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ç¼“å­˜è¿˜æ²¡å®Œå…¨ï¼‰ã€‚å°±å½“æ˜¯å­¦ä¹ äº†ï¼Œæ­£å¸¸ä½¿ç”¨ç•™å…¶ä¸€å³å¯ã€‚_(:Ğ·)âˆ )_&lt;/p>
&lt;p>é€šè¿‡è¿™æ¬¡æŠ˜è…¾ï¼Œå¯¹DNSçš„è®¤è¯†æ›´åŠ æ·±äº†ä¸€æ­¥ï¼Œ&lt;del>ä¹Ÿæ°´äº†ä¸€ç¯‡åšå®¢&lt;/del>ã€‚&lt;/p></description></item><item><title>ç®€æ˜“Magiskæ¨¡å—çš„åˆ¶ä½œ</title><link>https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/</link><pubDate>Fri, 07 Oct 2022 11:30:17 +0800</pubDate><guid>https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/</guid><description>&lt;img src="https://lbqaq.top/p/%E7%AE%80%E6%98%93magisk%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%B6%E4%BD%9C/95936465.webp" alt="Featured image of post ç®€æ˜“Magiskæ¨¡å—çš„åˆ¶ä½œ" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>è¯´åˆ°ææœºï¼Œé‚£è‚¯å®šç»•ä¸å¼€å¤§åé¼é¼çš„&lt;a class="link" href="https://github.com/topjohnwu/Magisk" target="_blank" rel="noopener"
>Magisk&lt;/a>ã€‚å°±æˆ‘æ¥è¯´ï¼Œ&lt;code>root&lt;/code>å®Œååšçš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å®‰è£…å„ç§å„æ ·çš„æ¨¡å—ï¼Œä½†æ˜¯ï¼Œæˆ‘å´ä»æ¥æ²¡æœ‰ç ”ç©¶è¿‡Magiskçš„å†…å®¹ã€‚åŒæ—¶ï¼Œç°åœ¨ä¹Ÿæœ‰è®¸å¤šå¿ƒæ€€ä¸è½¨çš„äººåˆ¶ä½œé”æœºæ¨¡å—éª—äººåˆ·å…¥ã€‚æ‰€ä»¥ï¼Œäº†è§£Magiskæ¨¡å—çš„ä¸€äº›åŸºæœ¬å†…å®¹å°±æ˜¾å¾—æ¯”è¾ƒé‡è¦äº†ã€‚&lt;/p>
&lt;h2 id="è®¤è¯†magiskæ¨¡å—">&lt;a href="#%e8%ae%a4%e8%af%86magisk%e6%a8%a1%e5%9d%97" class="header-anchor">&lt;/a>è®¤è¯†Magiskæ¨¡å—
&lt;/h2>&lt;p>æ ¹æ®å®˜æ–¹çš„æ–‡æ¡£ï¼Œä¸€ä¸ªå…¸å‹çš„Magiskæ¨¡å—çš„ç›®å½•åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">module.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ META-INF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ google
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ android
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ update-binary &amp;lt;--- ä»å®˜æ–¹ä»“åº“ä¸Šä¸‹è½½çš„module_installer.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ updater-script &amp;lt;--- åªæœ‰ä¸€è¡Œæ–‡å­—ä¸º &amp;#34;#MAGISK&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ module.prop &amp;lt;--- æ¨¡å—çš„æ ‡è¯†ä¿¡æ¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ customize.sh &amp;lt;--- (å¯é€‰)ç”¨äºè‡ªå®šä¹‰æ¨¡å—å®‰è£…è¿‡ç¨‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ... /* æ¨¡å—çš„å…¶ä½™æ–‡ä»¶ */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œ&lt;code>META-INF&lt;/code>ç›®å½•æ˜¯ç”±å®˜æ–¹æä¾›ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬è¿›è¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;h3 id="moduleprop">&lt;a href="#moduleprop" class="header-anchor">&lt;/a>module.prop
&lt;/h3>&lt;p>è¿™ä¸ªæ–‡ä»¶æ˜¯æ¨¡å—çš„æ ‡è¯†ä¿¡æ¯ï¼Œæ¨¡å—çš„åŸºæœ¬ä¿¡æ¯å°±å­˜æ”¾åœ¨è¿™é‡Œï¼Œæ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ã€‚&lt;sup id="fnref1:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">id=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">name=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">version=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">versionCode=&amp;lt;int&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description=&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">updateJson=&amp;lt;url&amp;gt; (optional)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å„é”®å€¼çš„ä½œç”¨è¯´æ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åç§°&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>id&lt;/td>
&lt;td>æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œéœ€ç¬¦åˆè¯¥æ­£åˆ™è¡¨è¾¾å¼&lt;code>^[a-zA-Z][a-zA-Z0-9._-]+$&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>name&lt;/td>
&lt;td>æ¨¡å—åç§°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>version&lt;/td>
&lt;td>æ¨¡å—ç‰ˆæœ¬å·&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>versionCode&lt;/td>
&lt;td>æ¨¡å—ç‰ˆæœ¬æ ‡è¯†ï¼Œå¿…é¡»ä¸ºæ•´æ•°ï¼Œç”¨äºæ›´æ–°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>author&lt;/td>
&lt;td>ä½œè€…ä¿¡æ¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>description&lt;/td>
&lt;td>æ¨¡å—æè¿°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>updateJson&lt;/td>
&lt;td>æ›´æ–°ä¿¡æ¯é“¾æ¥ï¼Œç°åœ¨Magiskç§»é™¤äº†å†…éƒ¨çš„æ›´æ–°åŠŸèƒ½ï¼Œè¿™ä¸ªå±æ€§åº”è¯¥æ˜¯æ— ç”¨äº†&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="systemæ–‡ä»¶å¤¹">&lt;a href="#system%e6%96%87%e4%bb%b6%e5%a4%b9" class="header-anchor">&lt;/a>systemæ–‡ä»¶å¤¹
&lt;/h3>&lt;p>Magiskçš„ä¸€ä¸ªä¸»è¦ä½œç”¨å°±æ˜¯å¯¹ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œæ³¨å…¥æˆ–æ›¿æ¢ï¼Œåªè¦å°†æ–‡ä»¶æŒ‰é¡ºåºæ”¾å…¥æ­¤ç›®å½•ä¸­å³å¯ã€‚ä¾‹å¦‚æˆ‘æƒ³ä¿®æ”¹hostsæ–‡ä»¶ï¼Œåªéœ€è¦å°†ä¿®æ”¹å¥½çš„hostsæ–‡ä»¶æ”¾å…¥&lt;code>system/etc&lt;/code>è¿™ä¸ªç›®å½•ä¸‹ï¼ŒMagiskå°±ä¼šè‡ªåŠ¨å°†å…¶æ›¿æ¢äº†ã€‚&lt;/p>
&lt;p>å¦‚æœè¦æ›¿æ¢&lt;code>/vendor&lt;/code>ã€&lt;code>/product&lt;/code>æˆ–&lt;code>/system_ext&lt;/code>ä¸­çš„æ–‡ä»¶ï¼Œåªéœ€å°†å®ƒä»¬åˆ†åˆ«æ”¾åœ¨&lt;code>system/vendor&lt;/code>ã€&lt;code>system/product&lt;/code>å’Œ&lt;code>system/system_ext&lt;/code>ä¸‹ã€‚Magiskå°±ä¼šè‡ªåŠ¨æ›¿æ¢å®Œæˆã€‚&lt;/p>
&lt;h3 id="customizesh">&lt;a href="#customizesh" class="header-anchor">&lt;/a>customize.sh
&lt;/h3>&lt;p>è¿™æ˜¯è‡ªå®šä¹‰æ¨¡å—å®‰è£…è¿‡ç¨‹ï¼Œå¦‚æœåªæ˜¯ç®€å•çš„æ›¿æ¢æ–‡ä»¶å°±ä¸éœ€è¦ç”¨åˆ°å®ƒã€‚ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸æ˜¯ä»…éœ€æ›¿æ¢æ–‡ä»¶ï¼Œè¿˜éœ€è¦æ‰§è¡Œä¸€äº›è„šæœ¬ï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨åˆ°å®ƒäº†ã€‚&lt;/p>
&lt;p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œæ”¯æŒä»¥ä¸‹çš„ç¯å¢ƒå˜é‡ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å˜é‡å&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>MAGISK_VER (string)&lt;/td>
&lt;td>å½“å‰å®‰è£…çš„Magiskçš„ç‰ˆæœ¬å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚v20.0ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MAGISK_VER_CODE (int)&lt;/td>
&lt;td>å½“å‰å®‰è£…çš„Magiskçš„ç‰ˆæœ¬ä»£ç ï¼ˆä¾‹å¦‚20000ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>BOOTMODE (bool)&lt;/td>
&lt;td>å¦‚æœæ¨¡å—æ­£åœ¨Magiskåº”ç”¨ç¨‹åºä¸­å®‰è£…ï¼Œåˆ™ä¸ºtrue&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MODPATH (path)&lt;/td>
&lt;td>å®‰è£…æ¨¡å—æ–‡ä»¶çš„è·¯å¾„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>TMPDIR (path)&lt;/td>
&lt;td>å¯ä»¥ä¸´æ—¶å­˜å‚¨æ–‡ä»¶çš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ZIPFILE (path)&lt;/td>
&lt;td>æ‚¨çš„æ¨¡å—çš„å®‰è£…zip&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ARCH (string)&lt;/td>
&lt;td>è®¾å¤‡çš„CPUæ¶æ„ï¼Œå€¼å¯ä»¥æ˜¯&lt;code>arm&lt;/code>ã€&lt;code>arm 64&lt;/code>ã€&lt;code>x86&lt;/code>æˆ–&lt;code>x64&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>IS64BIT (bool)&lt;/td>
&lt;td>å¦‚æœ&lt;code>$ARCH&lt;/code>ä¸º&lt;code>arm 64&lt;/code>æˆ–&lt;code>x64&lt;/code>ï¼Œåˆ™ä¸ºtrue&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>API (int)&lt;/td>
&lt;td>è®¾å¤‡çš„APIçº§åˆ«ï¼ˆAndroidç‰ˆæœ¬ï¼‰ï¼ˆä¾‹å¦‚ï¼ŒAndroid 5.0ä¸º21ï¼‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä»¥åŠä»¥ä¸‹çš„å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>ui_print &amp;lt;msg&amp;gt;&lt;/code>ï¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºä¿¡æ¯&lt;/li>
&lt;li>&lt;code>abort &amp;lt;msg&amp;gt;&lt;/code>ï¼šå°†é”™è¯¯æ¶ˆæ¯æ‰“å°åˆ°æ§åˆ¶å°å¹¶ç»ˆæ­¢å®‰è£…&lt;/li>
&lt;li>&lt;code>set_perm&lt;/code>å’Œ&lt;code>set_perm_recursive&lt;/code>ï¼šä¿®æ”¹æ–‡ä»¶æƒé™&lt;/li>
&lt;/ul>
&lt;h2 id="å®è·µ">&lt;a href="#%e5%ae%9e%e8%b7%b5" class="header-anchor">&lt;/a>å®è·µ
&lt;/h2>&lt;h3 id="ä¿®æ”¹ç³»ç»Ÿhosts">&lt;a href="#%e4%bf%ae%e6%94%b9%e7%b3%bb%e7%bb%9fhosts" class="header-anchor">&lt;/a>ä¿®æ”¹ç³»ç»ŸHosts
&lt;/h3>&lt;p>æˆ‘ä¸€å¼€å§‹æƒ³ç ”ç©¶Magiskçš„å¥‘æœºï¼Œå°±æ˜¯æƒ³è¦ä¿®æ”¹æˆ‘æ‰‹æœºçš„Hostsæ–‡ä»¶ã€‚ä¸€å¼€å§‹æŒ‰ç™¾åº¦çš„æ•™ç¨‹åšï¼Œä½†æ²¡æœ‰æ•ˆæœï¼Œåæ¥å°±å°è¯•äº†ä¸€ä¸‹Magiskæ¨¡å—ï¼Œç›´æ¥å°±æˆåŠŸäº†ã€‚&lt;/p>
&lt;p>æœ‰äº†å‰é¢çŸ¥è¯†çš„é“ºå«ï¼Œæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å°±éå¸¸ç®€å•äº†ï¼Œä¸‹é¢åˆ—å‡ºæˆ‘ä»¬ç¨‹åºçš„ç›®å½•æ ‘ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ChangeHosts.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ META-INF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ google
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ android
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ update-binary
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ updater-script
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ module.prop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ etc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ hosts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®é™…æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†åªæœ‰&lt;code>module.prop&lt;/code>å’Œ&lt;code>hosts&lt;/code>ï¼Œ&lt;code>hosts&lt;/code>æ˜¯æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±åªè¦å…³æ³¨&lt;code>module.prop&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ChangeHosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ChangeHosts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">v1.0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">versionCode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">author&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">luoboQAQ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">ä¿®æ”¹hostsæ–‡ä»¶æ¥å±è”½å¹¿å‘Š&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤çœ‹æ¥ï¼Œå¦‚æœåªè¦æ›¿æ¢æ–‡ä»¶ï¼ŒåŸºæœ¬æ²¡æœ‰ä»»ä½•éš¾åº¦ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨dnscrypt-proxyå®ç°doh">&lt;a href="#%e4%bd%bf%e7%94%a8dnscrypt-proxy%e5%ae%9e%e7%8e%b0doh" class="header-anchor">&lt;/a>ä½¿ç”¨dnscrypt-proxyå®ç°DoH
&lt;/h3>&lt;p>è¿™éƒ¨åˆ†æˆ‘æ­£åœ¨ç ”ç©¶ï¼Œç­‰ç ”ç©¶æ˜ç™½äº†å°±è¡¥ä¸ŠğŸ•Šï¸ã€‚&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://topjohnwu.github.io/Magisk/guides.html" target="_blank" rel="noopener"
>Magiskå®˜æ–¹å¼€å‘æŒ‡å¯¼&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&amp;#160;&lt;a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>åœ¨Linuxä¸‹å®‰è£…SVP4</title><link>https://lbqaq.top/p/svp4inlinux/</link><pubDate>Tue, 23 Aug 2022 09:58:00 +0800</pubDate><guid>https://lbqaq.top/p/svp4inlinux/</guid><description>&lt;img src="https://lbqaq.top/p/svp4inlinux/100213137.webp" alt="Featured image of post åœ¨Linuxä¸‹å®‰è£…SVP4" />&lt;p>ä¹‹å‰åœ¨ã€Š&lt;a class="link" href="https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/" target="_blank" rel="noopener"
>å¦‚ä½•ä¼˜é›…çš„çœ‹ç•ª&lt;/a>ã€‹è¿™ç¯‡æ–‡ç« ä¸­æˆ‘æåˆ°äº†è¡¥å¸§çš„3æ¬¾è½¯ä»¶ï¼Œåœ¨Windowsç³»ç»Ÿä¸Šæˆ‘ä½¿ç”¨çš„æ˜¯dmitriRenderè¿™æ¬¾è½¯ä»¶ï¼Œè€Œå…¶å¹¶æ²¡æœ‰æä¾›Linuxç‰ˆæœ¬çš„ç¨‹åºã€‚ä¸ä¹‹ç›¸åçš„æ˜¯ï¼ŒSVPä¸ä½†æä¾›äº†Linuxç‰ˆæœ¬ï¼Œè€Œä¸”è¿˜æ˜¯å…è´¹çš„ã€‚&lt;/p>
&lt;p>ç”±äºå®˜æ–¹æ–‡æ¡£æ˜¯è‹±æ–‡ä¸”æœ‰äº›åœ°æ–¹æ²¡æœ‰è¡¨è¿°æ¸…æ¥šï¼Œè¿™é‡Œæˆ‘å°±å°†æˆ‘å®‰è£…å’Œé…ç½®çš„æ–¹å¼è®°å½•ä¸‹æ¥ä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>å¯¹äºArchç”¨æˆ·éå¸¸ç®€å•ï¼Œç›´æ¥&lt;code>yay -S svp-bin&lt;/code>å³å¯å®Œæˆå®‰è£…ã€‚&lt;/p>
&lt;p>å¯¹äºå…¶ä»–å‘è¡Œç‰ˆï¼Œå¯ä»¥é€‰æ‹©åœ¨&lt;a class="link" href="https://www.svp-team.com/zh/get/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>ä¸Šä¸‹è½½å¹¶å®‰è£…ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…æ’­æ”¾å™¨ï¼Œè¿™é‡Œæˆ‘æ¨èå®‰è£…VLCï¼Œå› ä¸ºå…¶å®‰è£…ç®€ä¾¿ï¼Œå¹¶ä¸”åé¢é…ç½®SVPä¹Ÿå¾ˆå®¹æ˜“ã€‚&lt;/p>
&lt;p>å®‰è£…ç›´æ¥è¾“å…¥&lt;code>sudo pacman -S vlc&lt;/code>å³å¯&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚æœéœ€è¦GPUåŠ é€Ÿï¼Œè¿˜éœ€è¦å®‰è£…ç›¸åº”çš„æ’ä»¶&lt;code>sudo pacman -S ocl-icd&lt;/code>ã€‚æˆ‘ä¹‹å‰å°±æ˜¯æ²¡æœ‰å®‰è£…ï¼Œå¯¼è‡´ä¸€ç›´æ— æ³•è¯»å–åˆ°æˆ‘çš„æ˜¾å¡ã€‚&lt;/p>
&lt;p>å®‰è£…å¥½åå°±å¯ä»¥åœ¨SVPèœå•â€”â€”åº”ç”¨ç¨‹åºè®¾ç½®â€”â€”GPUåŠ é€Ÿé‡Œçœ‹åˆ°ä½ çš„æ˜¾å¡äº†&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="é…ç½®">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é…ç½®
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>ä¿®æ”¹VLCæ’ä»¶ç›®å½•æƒé™ï¼Œä»¥ä¾¿SVPå†™å…¥æ’ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">777&lt;/span> /usr/lib/vlc/plugins/video_filter
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨SVPçš„èœå•é‡Œé€‰æ‹©â€œå·¥å…·â€â€”â€”â€œVLCçš„SVPæ’ä»¶â€ï¼Œå°†å…¶é€‰ä¸­&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ£€æŸ¥&lt;code>/usr/lib/vlc/plugins/video_filter&lt;/code>ç›®å½•ä¸‹çš„&lt;code>libsvpcontrol_plugin.so&lt;/code>å’Œ&lt;code>libvapoursynth_plugin.so&lt;/code>æ˜¯å¦æœ‰å¯æ‰§è¡Œæƒé™ï¼Œæˆ‘ä¹‹å‰å°±æ˜¯å› ä¸ºæ²¡æœ‰ç»™æ‰§è¡Œæƒé™ï¼Œå¯¼è‡´VLCä¸€ç›´ä¸ä¼šè°ƒç”¨SVP&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">chmod +x /usr/lib/vlc/plugins/video_filter/libsvpcontrol_plugin.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x /usr/lib/vlc/plugins/video_filter/libvapoursynth_plugin.so
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å®˜ç½‘è¡¨ç¤ºéœ€è¦å¼€å¯â€œåäº¤é”™â€æ‰ä¼šå¯ç”¨ï¼Œä½†å®æµ‹å¥½åƒä¸å¼€å¯ä¹Ÿå¯ä»¥è¿è¡Œã€‚&lt;/p>
&lt;p>å¦‚æœVLCåå¥½è®¾ç½®â€”â€”æ˜¾ç¤ºè®¾ç½®â€”â€”å…¨éƒ¨â€”â€”æ§åˆ¶ç•Œé¢æœ‰&lt;code>SVP control interface&lt;/code>&lt;/p>
&lt;p>ä»¥åŠæ»¤é•œé‡Œæœ‰&lt;code>Vapoursynth filter&lt;/code>å³è¡¨æ˜å®‰è£…æˆåŠŸäº†ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>å®˜ç½‘ä¸Šçš„å®‰è£…æ–‡æ¡£å†™äº†å¾ˆé•¿ï¼Œä½†å®é™…ä¸Šå¯¹äºVLCä½¿ç”¨SVPå¹¶ä¸å¤æ‚ï¼Œå¤æ‚çš„æ˜¯MPVä½¿ç”¨SVPã€‚æœ¬æ¥æ‰“ç®—é…å‡ å¼ å›¾çš„ï¼Œä½†å®é™…å†™ä¸‹æ¥ä¹Ÿæ²¡æœ‰å‘ç°éœ€è¦å›¾ç‰‡è¾…åŠ©è¯´æ˜çš„ï¼Œé‚£å°±ç®—äº†ï¼Œç›¸ä¿¡èªæ˜çš„ä½ ä¸€å®šèƒ½çœ‹æ‡‚ _(:Ğ·)âˆ )_&lt;/p></description></item><item><title>æˆ‘çš„æ™ºæ…§ç‰©æµä¹‹æ—…</title><link>https://lbqaq.top/p/roslogistic/</link><pubDate>Sun, 21 Aug 2022 21:20:00 +0800</pubDate><guid>https://lbqaq.top/p/roslogistic/</guid><description>&lt;img src="https://lbqaq.top/p/roslogistic/97096454.webp" alt="Featured image of post æˆ‘çš„æ™ºæ…§ç‰©æµä¹‹æ—…" />&lt;p>éšç€ç­”è¾©çš„ç»“æŸï¼Œæ™ºæ…§ç‰©æµè¿™ä¸ªé¡¹ç›®å°±ç®—æ˜¯å½»åº•ç»“æŸäº†ã€‚ä¸å‡ºæ„å¤–çš„è¯ï¼Œè¿™åº”è¯¥æ˜¯æˆ‘å¤§å­¦ç”Ÿæ¶¯çš„å‚åŠ çš„æœ€åä¸€ä¸ªæ¯”èµ›äº†ã€‚çœ‹äº†çœ‹gitçš„è®°å½•ï¼Œæäº¤çš„ä»£ç è¶…è¿‡äº†1kè¡Œï¼ŒåŒæ—¶ä¹ŸèŠ±äº†ä¸å°‘çš„æ—¶é—´åœ¨ä¸Šé¢ã€‚åšäº†è¿™ä¹ˆå¤šä¸œè¥¿ï¼Œä¸ç•™ä¸‹ç‚¹ä»€ä¹ˆæ€»è§‰å¾—ä¸å¥½ï¼Œæƒ³æ¥æƒ³å»ï¼Œè¿˜æ˜¯æŠŠæ¯”èµ›åšçš„ä¸œè¥¿åšä¸ªå°ç»“å§ï¼Œä¹Ÿç®—æ˜¯çºªå¿µæˆ‘è¿™ä¸ç®—ä¸°å¯Œçš„æ¯”èµ›æ—¶å…‰å§ï¼ˆé›¾ï¼‰&lt;/p>
&lt;p>è¿™é‡Œéå¸¸æ„Ÿè°¢æˆ‘ä»¬é˜Ÿé•¿ï¼Œæ¯”èµ›é‡Œè®¸å¤šå…³é”®çš„é—®é¢˜æ˜¯ä»–è§£å†³çš„ï¼Œä»–çš„åŠ¨æ‰‹èƒ½åŠ›å’Œå–„äºæå‡ºåˆ›æ–°æ€§æƒ³æ³•çš„èƒ½åŠ›ï¼Œéƒ½æ˜¯å€¼å¾—æˆ‘å»å­¦ä¹ çš„ã€‚ä¹Ÿæ„Ÿè°¢å¦ä¸€ä½é˜Ÿå‹ï¼Œåœ¨èµ›å‰ç´§å¼ çš„å‡†å¤‡æ—¶é—´é‡Œç‹¬è‡ªä¸€äººåˆ†æ‹…äº†åˆ¶ä½œPPTçš„å·¥ä½œï¼Œå¹¶ä¸”èƒ½åšå‡ºå¦‚æ­¤ç²¾ç¾çš„PPTã€‚ï¼ˆå¤§ä½¬å¸¦å¸¦æˆ‘ _(:Ğ·)âˆ )_ ï¼‰&lt;/p>
&lt;p>æ„Ÿæƒ³ä¹Ÿå°±å†™è¿™ä¹ˆå¤šå§ï¼Œä¸‹é¢ä¸»è¦ä»‹ç»æˆ‘ä»¬æ¯”èµ›æ—¶æ‰€åšçš„ä¸€äº›å·¥ä½œå’Œåˆ›æ–°ã€‚&lt;/p>
&lt;h2 id="ç¨‹åºçš„å¤§ä½“æ€è·¯å’Œæµç¨‹">&lt;a href="#%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%a4%a7%e4%bd%93%e6%80%9d%e8%b7%af%e5%92%8c%e6%b5%81%e7%a8%8b" class="header-anchor">&lt;/a>ç¨‹åºçš„å¤§ä½“æ€è·¯å’Œæµç¨‹
&lt;/h2>&lt;p>æ ¹æ®èµ›é¢˜è¦æ±‚ï¼Œç¨‹åºè¦å®ç°ä¸‹é¢å‡ ä¸ªåŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯¼èˆªè‡³é‚®ä»¶åˆ†æ‹£å°&lt;/li>
&lt;li>è¿ç”¨è§†è§‰ç®—æ³•è¯†åˆ«é‚®ä»¶&lt;/li>
&lt;li>æœºæ¢°è‡‚å®šä½æŠ“å–é‚®ä»¶&lt;/li>
&lt;li>æœºå™¨äººè¿é€é‚®ä»¶æŠ•å…¥æ­£ç¡®çš„é‚®ç®±&lt;/li>
&lt;/ul>
&lt;p>æ‰€ä»¥ç¨‹åºå¤§è‡´çš„æ­¥éª¤å°±æ˜¯ï¼šå»ºå›¾-&amp;gt;å¯¼èˆªè‡³åˆ†æ‹£å°-&amp;gt;è¯†åˆ«-&amp;gt;æŠ“å–-&amp;gt;å¯¼èˆªè‡³æŠ•é€’ç‚¹-&amp;gt;æŠ•é€’-&amp;gt;å¯¼èˆªè‡³åˆ†æ‹£å°-&amp;gt;&amp;hellip;&amp;hellip;&lt;/p>
&lt;p>è¿™é‡Œæˆ‘å°±æŒ‰ä¸Šé¢çš„è¦æ±‚ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†çš„è®²äº†ã€‚&lt;/p>
&lt;h3 id="å»ºå›¾">&lt;a href="#%e5%bb%ba%e5%9b%be" class="header-anchor">&lt;/a>å»ºå›¾
&lt;/h3>&lt;p>å»ºå›¾ç®—æ³•æ˜¯Gmappingç®—æ³•ï¼Œè¿™æ˜¯ä¸€ç§åŸºäº2Dæ¿€å…‰é›·è¾¾é€šè¿‡ä½¿ç”¨RBPFç²’å­æ»¤æ³¢æ–¹æ³•æ‰€å®Œæˆçš„äºŒç»´æ …æ ¼åœ°å›¾æ„å»ºSLAMç®—æ³•ï¼Œå®ƒä¹Ÿæ˜¯ç§»åŠ¨æœºå™¨äººä¸­é€‚ç”¨æœ€å¤šçš„ç®—æ³•ã€‚å®ƒå¯¹æ¿€å…‰é›·è¾¾é¢‘ç‡è¦æ±‚ç›¸å¯¹è¾ƒä½ï¼Œç¨³å®šæ€§è¾ƒé«˜ï¼Œä¸”èƒ½å¤Ÿç»“åˆé‡Œç¨‹è®¡ã€é™€èºä»ªç­‰è¿›è¡Œå®šä½ä¸åœ°å›¾æ„å»ºï¼Œæ„å»ºå°åœºæ™¯åœ°å›¾æ—¶é€Ÿåº¦å¿«ã€è®¡ç®—é‡å°ï¼Œç¼ºç‚¹å°±æ˜¯éå¸¸ä¾èµ–é‡Œç¨‹è®¡ï¼Œæ‰€ä»¥æ— æ³•é€‚åº”ä¸å¹³å¦çš„åœ°é¢ï¼Œæ— æ³•ä½¿ç”¨å›ç¯æ£€æµ‹ï¼Œåœ¨å¤§åœºæ™¯ã€ç²’å­å¤šçš„æƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ¶ˆè€—èµ„æºã€‚&lt;/p>
&lt;p>å½“ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰å»ä»”ç»†ç ”ç©¶è¿™ä¸ªç®—æ³•ï¼Œå»ºå›¾çš„è¯æŒ‰ç…§å®˜æ–¹æä¾›çš„æ•™ç¨‹æ¥ä¸€æ­¥æ­¥åšå°±å¥½äº†ã€‚ä¸å¾—ä¸åæ§½çš„æ˜¯æˆ‘ä»¬çš„å°è½¦ä¸€å¼€å§‹åè½®æ˜¯åé«˜çš„ï¼Œå¯¼è‡´é›·è¾¾ä¼šæ‰“åˆ°åœ°é¢ï¼Œé¢„é€‰èµ›å»ºå›¾çš„æ—¶å€™ä¸€ç›´å»ºä¸å¥½ï¼Œæœ€ç»ˆåªèƒ½é ä¾§è¾¹çš„é›·è¾¾æ‰æŠŠå›¾å»ºå¥½ï¼Œå½“æ—¶ä»¥ä¸ºè½¦å°±æ˜¯è¿™æ ·çš„ï¼Œç›´åˆ°æ­£èµ›æ—¶æ‰çŸ¥é“æ˜¯è½¦çš„é—®é¢˜ã€‚æ‰€ä»¥è¿™ç§ç¡¬ä»¶é—®é¢˜ä¸€å®šè¦åŠæ—¶å’Œå‚å•†è”ç³»ï¼Œä¸ç„¶å…¨æ˜¯æ³ªå•ŠğŸ˜­ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/1.png"
width="518"
height="369"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/1_hu_d75e01417e1f0e11.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/1_hu_715429cf3309308b.png 1024w"
loading="lazy"
alt="é›·è¾¾æ‰“åˆ°åœ°é¢"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="336px"
>&lt;/p>
&lt;h3 id="å¯¼èˆª">&lt;a href="#%e5%af%bc%e8%88%aa" class="header-anchor">&lt;/a>å¯¼èˆª
&lt;/h3>&lt;p>å¯¼èˆªè¿™é‡Œä¸æ˜¯æˆ‘ä»¬å†™ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å®˜æ–¹æä¾›çš„å¯¼èˆªåŒ…ã€‚æ ¹æ®åŸ¹è®­æ–‡æ¡£ï¼Œè¿™é‡Œä¸»è¦é‡‡ç”¨äº†AMCLè‡ªé€‚åº”è’™ç‰¹å¡ç½—ç®—æ³•ï¼Œå®ƒæ˜¯æœºå™¨äººåœ¨äºŒç»´ç§»åŠ¨è¿‡ç¨‹ä¸­çš„ä¸€ç§æ¦‚ç‡å®šä½ç³»ç»Ÿï¼Œé€šè¿‡å®ƒå®ç°äº†è‡ªé€‚åº”ï¼ˆæˆ– kld é‡‡æ ·ï¼‰çš„è’™ç‰¹å¡ç½—å®šä½æ–¹æ³•ã€‚ç”±äºé‡‡ç”¨ç²’å­æ»¤æ³¢å™¨æ¥è·Ÿè¸ªå·²ç»çŸ¥é“çš„åœ°å›¾ä¸­æœºå™¨äººä½å§¿ï¼Œæ•…å¯¹äºå¤§èŒƒå›´çš„å±€éƒ¨å®šä½é—®é¢˜å·¥ä½œè‰¯å¥½ã€‚è·¯å¾„è§„åˆ’åˆ™æ˜¯æœ€çŸ­è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œä¾‹å¦‚é‡‡ç”¨Floydç®—æ³•ã€Dijkstraç®—æ³•ã€Bellman-Fordç®—æ³•ç­‰ã€‚&lt;/p>
&lt;p>å¯¼èˆªè¿™é‡Œå…¶å®æ˜¯æœ‰å¤§å‘çš„ï¼Œæˆ‘ä»¬æœ€ç»ˆæ¯”èµ›æ—¶å°±æ ½åœ¨è¿™é‡Œäº†ã€‚æˆ‘ä»¬å‘ç°å°è½¦è¿è¡Œæ—¶ï¼Œæ¿€å…‰é›·è¾¾ç»å¸¸ä¼šå‘ç”Ÿé”™ä½ï¼Œå¯¼è‡´å¯¼èˆªå‘ç”Ÿåç§»ã€‚è¿™ç§æƒ…å†µåŸºæœ¬æ˜¯å‡ºç°åœ¨å°è½¦è½¬å‘æ—¶ï¼Œæˆ‘ä»¬æ€€ç–‘æ˜¯è½®å­æ‰“æ»‘ï¼Œä¹Ÿè°ƒç´§äº†åè½®çš„å¼¹ç°§ï¼Œä½†ä¹Ÿæ²¡æœ‰ç”¨ã€‚æˆ‘ä»¬å½“æ—¶è®¤ä¸ºè¿™å°±æ˜¯å°è½¦æœ¬èº«çš„å±€é™æ€§ï¼ŒåŒæ—¶åœ¨å°è½¦è¿è¡Œæ—¶ä¹Ÿä¼šè‡ªåŠ¨è°ƒæ•´è‡³æ­£ç¡®ä½ç½®ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰ç‰¹åˆ«é‡è§†è¿™ä¸ªé—®é¢˜ã€‚ç»“æœåœ¨æ­£å¼æ¯”èµ›æ—¶å¯¼èˆªå°±å‡ºç°åç§»ï¼Œå¯¼è‡´å¥½å‡ ä¸ªåŒ…è£¹éƒ½é”™ä½æŠ“å–äº†ï¼Œè™½ç„¶æœ€ç»ˆéƒ½å…¨éƒ¨æŠ“å–ä¸Šäº†ï¼Œä½†æµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œéå¸¸çš„å¯æƒœã€‚æ‰€ä»¥æœ‰æ—¶é—´çš„è¯ï¼Œä¸€å®šè¦çœ‹çœ‹å®˜æ–¹æä¾›çš„å¯¼èˆªå®šä½ç®—æ³•ï¼Œæˆ–è€…è”ç³»å‚å®¶çœ‹çœ‹é›·è¾¾æœ‰æ— é—®é¢˜ï¼Œä¸ç„¶ç¨‹åºæ²¡é—®é¢˜ï¼Œå´å› ä¸ºç¡¬ä»¶é—®é¢˜è€Œå‡ºé”™è¿˜æ˜¯å¾ˆéš¾å—çš„ã€‚( â€˜-Ï‰à¸Ì€ )&lt;/p>
&lt;h3 id="å›¾åƒè¯†åˆ«">&lt;a href="#%e5%9b%be%e5%83%8f%e8%af%86%e5%88%ab" class="header-anchor">&lt;/a>å›¾åƒè¯†åˆ«
&lt;/h3>&lt;p>å›¾åƒè¯†åˆ«è¿™é‡Œæˆ‘ä»¬æ˜¯è°ƒç”¨æ˜¯ç™¾åº¦çš„PaddleOCRæ¨¡å—ï¼Œç”±äºROSé‡Œçš„Pythonæ˜¯2ç‰ˆæœ¬çš„ï¼Œæˆ‘ä»¬é‡‡ç”¨çš„ä¹Ÿæ˜¯PaddleOCRé‡Œçš„developåˆ†æ”¯è€Œéæœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä¸€å¼€å§‹æ˜¯æ‰“ç®—è‡ªå·±è®­ç»ƒPaddleOCRæ¨¡å‹çš„ï¼Œç„¶è€Œæˆ‘å°è¯•äº†ä¸€æ™šä¸Šï¼Œä¸æ˜¯å¾ˆæ¸…æ¥šæ¨¡å‹è®­ç»ƒçš„æ–¹æ³•ï¼Œå¥½ä¸å®¹æ˜“è¿è¡Œäº†ä¸€ä¸ªå…¬å¼€çš„è®­ç»ƒé›†ï¼Œå‘ç°è®­ç»ƒæ—¶é—´è¦ä¸€å¤©å¤šï¼ŒåŒæ—¶è¿˜éœ€è¦è‡ªå·±åšè®­ç»ƒé›†ã€‚è€ƒè™‘åˆ°æ—¶é—´çš„é—®é¢˜ï¼Œæœ€ç»ˆè¿˜æ˜¯é€‰æ‹©é‡‡ç”¨å®˜æ–¹çš„æ¨¡å‹ã€‚å½“ç„¶ï¼Œæœ€ä¸»è¦çš„åŸå› è¿˜æ˜¯åˆ†å¸ƒå¼å›¾åƒè¯†åˆ«æå‡äº†æ€§èƒ½ï¼Œè¿™éƒ¨åˆ†æˆ‘åœ¨ä¸‹é¢ä¼šæåˆ°ï¼Œè¿™é‡Œå°±å…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚&lt;/p>
&lt;h3 id="æœºæ¢°è‡‚æŠ“å–åŠæŠ•é€’">&lt;a href="#%e6%9c%ba%e6%a2%b0%e8%87%82%e6%8a%93%e5%8f%96%e5%8f%8a%e6%8a%95%e9%80%92" class="header-anchor">&lt;/a>æœºæ¢°è‡‚æŠ“å–åŠæŠ•é€’
&lt;/h3>&lt;p>æ ¹æ®æœºæ¢°è‡‚çš„å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œæ¶‰åŠçš„åæ ‡ç³»ä¸»è¦æ˜¯ä¸¤ç§ï¼Œä¸€ç§æ˜¯å…³èŠ‚åæ ‡ç³»ï¼Œä¸€ç›´æ˜¯ç¬›å¡å°”åæ ‡ç³»ã€‚å…³èŠ‚åæ ‡ç³»æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨æ¯”è¾ƒç›´è§‚çš„ç¬›å¡å°”åæ ‡ç³»ã€‚&lt;/p>
&lt;p>åŒæ ·ï¼Œæœºæ¢°è‡‚çš„æŠ“å–ä¹Ÿæœ‰3ç§ä¸åŒæ¨¡å¼ï¼šMOVJã€MOVLã€JUMPã€‚MOVJæ¨¡å¼ç›¸è¾ƒäºMOVLæ¨¡å¼ï¼Œé€Ÿåº¦å¿«ï¼›MOVJæ¨¡å¼ç›¸è¾ƒäºJUMPæ¨¡å¼ï¼Œç¨³å®šæ€§é«˜ï¼Œä¸æ˜“è¶Šç•Œã€‚&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ç»¼ä¸Šï¼Œæˆ‘ä»¬çš„æœºæ¢°è‡‚æ§åˆ¶éƒ½é‡‡ç”¨çš„æ˜¯ç¬›å¡å°”åæ ‡ç³»é‡Œçš„MOVEJæ¨¡å¼ï¼Œè¿™æ ·èƒ½ä¿è¯æœºæ¢°è‡‚æŠ“å–æ—¶ä¸ä¼šå‡ºç°è¶…å‡ºæŠ“å–èŒƒå›´çš„å¼‚å¸¸ã€‚&lt;/p>
&lt;p>æ§åˆ¶æœºæ¢°è‡‚åŸºæœ¬å°±åªè¦ç”¨åˆ°ä¸‹é¢è¿™å‡ ä¸ªè¯é¢˜ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>DobotServer/SetPTPCmd&lt;/code>ï¼šç§»åŠ¨æœºæ¢°è‡‚åˆ°æŒ‡å®šåæ ‡&lt;/li>
&lt;li>&lt;code>DobotServer/SetEndEffectorSuctionCup&lt;/code>ï¼šæœºæ¢°è‡‚æ°”æ³µæ§åˆ¶&lt;/li>
&lt;li>&lt;code>DobotServer/ClearAllAlarmsState&lt;/code>ï¼šæ¸…é™¤æœºæ¢°è‡‚è­¦æŠ¥&lt;/li>
&lt;/ul>
&lt;p>æŠ•é€’å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œæ ¹æ®æ–‡å­—è¯†åˆ«çš„ç»“æœè¿›è¡ŒæŠ•é€’ï¼Œåªè¦èƒ½æŠ“å–åˆ°ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‡ºç°æŠ•é€’é”™ä½çš„æƒ…å†µã€‚è¿™é‡Œä¼šå‡ºç°çš„é—®é¢˜ä¸»è¦è¿˜æ˜¯å¯¼èˆªä¸å‡†ï¼Œå®¹æ˜“åæˆ–è€…æ’ã€‚è§£å†³åŠæ³•åªèƒ½æ˜¯ä¸åœçš„æµ‹è¯•æ‰¾å‡†åæ ‡ä»¥åŠå°†å¯¼èˆªç›®çš„ä½ç½®è¿œç¦»æŠ•é€’ç‚¹ã€‚&lt;/p>
&lt;h2 id="ä¸€äº›åˆ›æ–°ç‚¹">&lt;a href="#%e4%b8%80%e4%ba%9b%e5%88%9b%e6%96%b0%e7%82%b9" class="header-anchor">&lt;/a>ä¸€äº›åˆ›æ–°ç‚¹
&lt;/h2>&lt;h3 id="é”®ç›˜æ“æ§ç¨‹åº">&lt;a href="#%e9%94%ae%e7%9b%98%e6%93%8d%e6%8e%a7%e7%a8%8b%e5%ba%8f" class="header-anchor">&lt;/a>é”®ç›˜æ“æ§ç¨‹åº
&lt;/h3>&lt;p>åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œä¸»è¦æ˜¯é€šè¿‡å¼€å¯ä¸¤ä¸ªçº¿ç¨‹æ¥å®ç°ç¨‹åºçš„æš‚åœå’Œæ¢å¤ï¼Œå¦‚æœä½¿ç”¨&lt;code>input&lt;/code>å‡½æ•°è¿›è¡Œé”®ç›˜è¾“å…¥çš„æ¥æ”¶ï¼Œåˆ™ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ—¶åœ¨è¾“å…¥å®Œæˆåè¿˜éœ€è¦æŒ‰ä¸‹å›è½¦ï¼Œä¸æ˜¯å¾ˆåˆé€‚ã€‚å®˜æ–¹æ˜¯æä¾›äº†ä¸€ä¸ªé”®ç›˜æ§åˆ¶ç¨‹åºçš„æ ·ä¾‹ï¼Œç„¶è€Œè¿™ä¸ªç¨‹åºæœ‰ä¸ªæˆ‘è®¤ä¸ºå¾ˆå¤§çš„BUGï¼Œä¼šå¯¼è‡´ç¨‹åºçš„è¾“å‡ºåç§»ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/2.png"
width="455"
height="377"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/2_hu_d49bd3eb1de8fa3c.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/2_hu_5fb85b9a253da4dc.png 1024w"
loading="lazy"
alt="åŸæ¥çš„ç¨‹åºï¼Œä¼šå¯¼è‡´è¾“å‡ºåç§»"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="289px"
>&lt;/p>
&lt;p>ä½œä¸ºä¸€ä¸ªå¯¹ä»£ç ç¾è§‚æœ‰æ´ç™–çš„äººï¼Œè¿™æ€ä¹ˆèƒ½å¿ï¼Œäºæ˜¯æˆ‘å¼€å§‹äº†ç™¾åº¦ï¼Œä¸‹é¢æ˜¯æˆ‘æ‰¾åˆ°çš„å¯ä»¥åœ¨Windowså’ŒLinuxä¸¤ç§ç¯å¢ƒä¸‹å®ç°ç±»ä¼¼Cè¯­è¨€&lt;code>getchar()&lt;/code>å‡½æ•°çš„ä»£ç ã€‚&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">getChar&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># figure out which function to use once, and store it in _func&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="s2">&amp;#34;_func&amp;#34;&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">getChar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__dict__&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># for Windows-based systems&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">import&lt;/span> &lt;span class="nn">msvcrt&lt;/span> &lt;span class="c1"># If successful, we are on Windows&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">getChar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_func&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">msvcrt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">ImportError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># for POSIX-based systems (with termios &amp;amp; tty support)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">import&lt;/span> &lt;span class="nn">tty&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nn">sys&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nn">termios&lt;/span> &lt;span class="c1"># raises ImportError if unsupported&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">_ttyRead&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fileno&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oldSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tcgetattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tty&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setcbreak&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">answer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tcsetattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">TCSADRAIN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">oldSettings&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">answer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">getChar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_func&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">_ttyRead&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">getChar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_func&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">answer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getChar&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œå’Œå®˜æ–¹æä¾›çš„ç¨‹åºä¸»è¦ä¸åŒå°±åœ¨æ˜¯&lt;code>tty.setcbreak(fd)&lt;/code>ï¼Œä½†æˆ‘ä¸çŸ¥é“åŸç†ï¼Œä¸è¿‡æ—¢ç„¶èƒ½ç”¨ï¼Œå°±ç®—äº†ğŸ˜‡ã€‚&lt;/p>
&lt;p>ä¸Šé¢çš„ä»£ç è¿˜åŒ…æ‹¬åœ¨Windowsç¯å¢ƒä¸‹çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸éœ€è¦å¦‚æ­¤å¤æ‚ï¼Œç¨ä½œä¿®æ”¹å°†å…¶æ•´åˆè¿›æˆ‘ä»¬çš„ç¨‹åºï¼Œå°±æ„æˆäº†ä¸€ä¸ªå¤šçº¿ç¨‹ç¨‹åºçš„æ¨¡æ¿ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># coding=utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">rospy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">threading&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">termios&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">tty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;ç¨‹åºä¸»è¦é€»è¾‘å…¥å£&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">getKey&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;è·å–è¾“å…¥çš„å­—ç¬¦&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fileno&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oldSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tcgetattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tty&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setcbreak&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tcsetattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">termios&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">TCSADRAIN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">oldSettings&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">initKeyListener&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;è¾“å…¥ç›‘å¬ç¨‹åº&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getKey&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;k&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;é€€å‡ºç¨‹åº&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æ¢å¤å¯¼èˆª&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;s&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å–æ¶ˆå¯¼èˆª&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">key&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;q&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¼€å§‹æ‰§è¡Œç¨‹åº&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç»™æœ¬ç¨‹åºåˆå§‹åŒ–ä¸€ä¸ªèŠ‚ç‚¹åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">init_node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;match_topic&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¼€ä¸€ä¸ªçº¿ç¨‹å¤„ç†é”®ç›˜ç›‘å¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key_thread&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">threading&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">initKeyListener&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key_thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¼€ä¸€ä¸ªçº¿ç¨‹å¤„ç†ä»»åŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main_thread&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">threading&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">main&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main_thread&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ‘„åƒå¤´åˆ†è¾¨ç‡æå‡åŠå»ç•¸å˜">&lt;a href="#%e6%91%84%e5%83%8f%e5%a4%b4%e5%88%86%e8%be%a8%e7%8e%87%e6%8f%90%e5%8d%87%e5%8f%8a%e5%8e%bb%e7%95%b8%e5%8f%98" class="header-anchor">&lt;/a>æ‘„åƒå¤´åˆ†è¾¨ç‡æå‡åŠå»ç•¸å˜
&lt;/h3>&lt;p>ç”±äºROSé»˜è®¤ä»æ‘„åƒå¤´ä¸­è·å–çš„å›¾åƒæ˜¯640*480ï¼Œä¸”å»ç•¸å˜ä¹Ÿæ˜¯æ ¹æ®è¿™ä¸ªåˆ†è¾¨ç‡è¿›è¡Œè®¾ç½®çš„ï¼Œè¿™ä¼šå¯¼è‡´æ–‡å­—è¯†åˆ«å¾ˆå®¹æ˜“è¯†åˆ«ä¸å‡ºæ–‡å­—ã€‚æˆ‘ä»¬å°†å°è½¦ä¸Šçš„æ‘„åƒå¤´æ¥å…¥ç”µè„‘ï¼Œå‘ç°æ˜¯720Pçš„ï¼Œæ—¢ç„¶ä½ èƒ½æ¸…æ™°ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç”¨å‘¢ï¼Ÿäºæ˜¯ï¼Œæˆ‘ä»¬ä¿®æ”¹äº†ç›¸å…³çš„lanuchæ–‡ä»¶ï¼Œå°†æ‘„åƒå¤´çš„åˆ†è¾¨ç‡æå‡åˆ°äº†720Pï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬è‡ªå·±æ‰“å°çš„æ ‡å®šæ¿è¿›è¡Œæ ‡å®šã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093226649.png"
width="558"
height="316"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093226649_hu_d379d2f996af66da.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093226649_hu_c67f435c99910963.png 1024w"
loading="lazy"
alt="å»ç•¸å˜å‰"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="423px"
> &lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093236019.png"
width="558"
height="316"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093236019_hu_5a6d5dfab1d35079.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220818093236019_hu_2923aadb2a8cd1d.png 1024w"
loading="lazy"
alt="å»ç•¸å˜å"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="423px"
>&lt;/p>
&lt;p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹ä¿®æ”¹çš„æ–¹æ³•&lt;/p>
&lt;p>åœ¨&lt;code>moveit_ws/src/moveit/probot_vision/launch&lt;/code>ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°&lt;code>usb_cam_in_hand.launch&lt;/code>æ–‡ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;launch&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;node&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;usb_cam&amp;#34;&lt;/span> &lt;span class="na">pkg=&lt;/span>&lt;span class="s">&amp;#34;usb_cam&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;usb_cam_node&amp;#34;&lt;/span> &lt;span class="na">output=&lt;/span>&lt;span class="s">&amp;#34;screen&amp;#34;&lt;/span> &lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;video_device&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;/dev/video0&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;image_width&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1280&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;image_height&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;720&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;pixel_format&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;yuyv&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;camera_frame_id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;cameral_base&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;io_method&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;mmap&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;camera_info_url&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;string&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;file://$(find probot_vision)/ost-720p.yaml&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--rosparam file=&amp;#34;$(find probot_vision)/ost_4_new.yaml&amp;#34; command=&amp;#34;load&amp;#34; /--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/node&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/launch&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹å…¶çš„&lt;code>image_width&lt;/code>å’Œ&lt;code>image_height&lt;/code>è¿›è¡Œä¿®æ”¹ï¼Œæ”¹ä¸º1280å’Œ720å³å¯å®ç°æ‘„åƒå¤´ç”»è´¨æå‡è‡³720Pã€‚&lt;/p>
&lt;p>å¯¹äºæ‰‹åŠ¨æ ‡å®šï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡æ ‡å®šæ¿ï¼Œå¯ä»¥è‡ªå·±æ‰“å°ä¹Ÿå¯ä»¥ä¸Šæ·˜å®è´­ä¹°ï¼Œå°±æ˜¯åƒä¸‹é¢è¿™æ ·çš„é»‘ç™½æ–¹æ ¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818094329331.png"
width="575"
height="401"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818094329331_hu_32634841ac899023.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220818094329331_hu_967179dfef1a6d31.png 1024w"
loading="lazy"
alt="æ ‡å®šæ¿"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;p>ç„¶ååœ¨å°è½¦ä¸Šå¯åŠ¨æ ‡å®šç¨‹åºï¼ˆä¸ºä»€ä¹ˆä¸åœ¨è‡ªå·±ç”µè„‘ä¸Šå¯åŠ¨å‘¢ï¼Œå› ä¸ºå°è½¦ä¸Šå·²ç»å¸®ä½ åšå¥½ç¡¬ä»¶ç«¯å£ç»‘å®šäº†ï¼Œåœ¨è‡ªå·±ç”µè„‘ä¸Šè¿˜è¦å†æ¥ä¸€æ¬¡ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨æ‘„åƒå¤´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">roslaunch usb_cam usb_cam-test.launch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨æ ‡å®šç¨‹åº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.024 image:&lt;span class="o">=&lt;/span>/usb_cam/image_raw camera:&lt;span class="o">=&lt;/span>/usb_cam
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œè¦æ³¨æ„ä¿®æ”¹&lt;code>size&lt;/code>å‚æ•°ï¼Œæ”¹æˆä½ æ ‡å®šæ¿çš„é»‘ç™½æ ¼ä¸­é—´äº¤ç‚¹çš„ä¸ªæ•°ã€‚
&lt;code>square&lt;/code>å‚æ•°è¿™é‡Œåˆ™æ˜¯ä½ æ ‡å®šæ¿ä¸Šæ–¹æ ¼çš„è¾¹é•¿ï¼Œå•ä½æ˜¯ç±³ã€‚&lt;/p>
&lt;p>å¯åŠ¨å®Œæˆä»¥åå°±å¯ä»¥çœ‹åˆ°æ ‡å®šç•Œé¢äº†ï¼Œé€šè¿‡è°ƒæ•´æ ‡å®šæ¿çš„ä¸Šä¸‹å·¦å³ä»¥åŠè§’åº¦ï¼Œè®©å³è¾¹çš„è¿›åº¦æ¡å…¨å˜ç»¿å°±ç®—æ ‡å®šå®Œæˆäº†ã€‚ç‚¹å‡»è®¡ç®—æŒ‰é’®å¾—åˆ°æ•°æ®ï¼Œå°†ä¿å­˜çš„ymlæ–‡ä»¶è·¯å¾„æ›¿æ¢ä¸Šé¢çš„&lt;code>camera_info_url&lt;/code>ã€‚&lt;/p>
&lt;p>ä»…ä»…æ˜¯è¿™æ ·è¿˜ä¸ç®—æ˜¯å®Œæˆï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹å»ç•¸å˜ç¨‹åºé‡Œçš„å‚æ•°ï¼Œå°†&lt;code>moveit_ws/src/moveit/probot_vision/src/image_correct.cpp&lt;/code>é‡Œçš„ç›¸å…³å‚æ•°æŒ‰ç…§ymlæ–‡ä»¶çš„å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚ï¼ˆè¿™é‡Œæœ‰ç–‘ä¼¼æ˜¯è‡ªåŠ¨è¯»å–çš„ä»£ç ï¼Œä½†è¢«æ³¨é‡Šäº†ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æµ‹è¯•èƒ½ä¸èƒ½ç”¨ï¼‰ä¿®æ”¹å¥½åå°±å¯ä»¥æ‰§è¡Œç¼–è¯‘äº†ï¼Œæˆ‘ä»¬åœ¨&lt;code>moveit_ws&lt;/code>ç›®å½•ä¸‹æ‰§è¡Œ&lt;code>catkin_make --pkg probot_vision&lt;/code>ï¼Œç­‰å¾…ç¼–è¯‘å®Œæˆåè¿™é¡¹å·¥ä½œå°±ç®—å®Œæˆäº†ã€‚&lt;/p>
&lt;h3 id="åé€€è·ç¦»åˆ¤æ–­">&lt;a href="#%e5%90%8e%e9%80%80%e8%b7%9d%e7%a6%bb%e5%88%a4%e6%96%ad" class="header-anchor">&lt;/a>åé€€è·ç¦»åˆ¤æ–­
&lt;/h3>&lt;p>ç”±äºå°è½¦çš„åé¢æ˜¯æ²¡æœ‰é›·è¾¾çš„ï¼Œä¸ºäº†é¿å…ç¢°æ’ï¼Œæˆ‘ä»¬ç¼–å†™äº†åŸºäºæ‘„åƒå¤´çš„åé€€è·ç¦»åˆ¤æ–­ã€‚å½“å°è½¦åˆ°è¾¾åˆ†æ‹£å°å‰æ—¶ï¼Œè°ƒç”¨æ‘„åƒå¤´è¿›è¡Œæ‹ç…§ï¼Œå¯¹å…¶è¿›è¡Œè“è‰²åŒºåŸŸçš„è¯†åˆ«ï¼Œå¾—åˆ°åˆ†æ‹£å°åœ¨å›¾åƒä¸­çš„åƒç´ ä½ç½®ï¼Œå†åˆ©ç”¨å…¬å¼è¿›è¡Œè½¬åŒ–ï¼Œå¾—åˆ°å°è½¦å½“å‰è·ç¦»åˆ†æ‹£å°çš„è·ç¦»ï¼Œæœ€åä½¿ç”¨&lt;code>check&lt;/code>è¯é¢˜æ§åˆ¶å°è½¦åé€€è‡³è·ç¦»åˆ†æ‹£å°5cmå·¦å³çš„ä½ç½®ï¼Œæ—¢é¿å…äº†ç¢°æ’ï¼Œåˆæœ€å¤§åŒ–äº†æŠ“å–èŒƒå›´ã€‚&lt;/p>
&lt;h3 id="ç”±æ¶ˆæ¯é©±åŠ¨ç¨‹åºé€»è¾‘">&lt;a href="#%e7%94%b1%e6%b6%88%e6%81%af%e9%a9%b1%e5%8a%a8%e7%a8%8b%e5%ba%8f%e9%80%bb%e8%be%91" class="header-anchor">&lt;/a>ç”±æ¶ˆæ¯é©±åŠ¨ç¨‹åºé€»è¾‘
&lt;/h3>&lt;p>åœ¨ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬çš„ç¨‹åºæ˜¯åœ¨å‡½æ•°é‡Œè°ƒç”¨å°è½¦å¯¼èˆªï¼Œå¹¶é˜»å¡ç›´åˆ°å¯¼èˆªæˆåŠŸå†ç»§ç»­æ‰§è¡Œã€‚è¿™æ ·çš„ç¨‹åºæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“å°è½¦å‡ºç°é”™è¯¯æ—¶ï¼Œæ— æ³•ç«‹å³åœä¸‹å°è½¦å¹¶ä¿å­˜å½“å‰ç¨‹åºæ‰§è¡Œçš„è¿›åº¦ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ä¾¿å°†ç¨‹åºä¿®æ”¹ä¸ºåŸºäºROSæ¶ˆæ¯æ¥é©±åŠ¨ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ç¨‹åºåªæœ‰æ”¶åˆ°æˆåŠŸæˆ–è€…å¤±è´¥çš„æ¶ˆæ¯åæ‰ä¼šæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ï¼Œä¾¿äºå¤±è´¥åçŠ¶æ€çš„æ¢å¤ã€‚&lt;/p>
&lt;p>æƒ³è¦å®ç°ç›¸å…³çš„åŠŸèƒ½ï¼Œé¦–å…ˆæ˜¯å¯¼èˆªä¸èƒ½é‡‡ç”¨åŸæ¥åŸºäºåŠ¨ä½œçš„æ¨¡å¼äº†ï¼Œè€Œæ˜¯æ”¹æˆåŸºäºæ¶ˆæ¯çš„æ¨¡å¼ã€‚æˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œçš„ä¸€å¼€å§‹æ³¨å†Œç›¸å…³çš„è¯é¢˜å‘å¸ƒè€…ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">initPublisher&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¾®è°ƒå‘å¸ƒå™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">global&lt;/span> &lt;span class="n">checkPub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æš‚åœå¯¼èˆªå‘å¸ƒå™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">global&lt;/span> &lt;span class="n">pauseNav&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç›®æ ‡ç‚¹å‘å¸ƒå™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">global&lt;/span> &lt;span class="n">goalPub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">goalPub&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Publisher&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;move_base/goal&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MoveBaseActionGoal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">queue_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç›®æ ‡ç‚¹é‡Œé¢çš„goal_idçš„idä¸ä¸Šä¸€æ¬¡çš„idä¸èƒ½ç›¸åŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">checkPub&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Publisher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;check&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">queue_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pauseNav&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Publisher&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;move_base/cancel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">GoalID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">queue_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨å†Œç›¸å…³è¯é¢˜çš„ç›‘å¬è€…ä»¥åŠå¯¹åº”çš„å›è°ƒå‡½æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">initListener&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è®¢é˜…å¯¼èˆªç»“æœè¯é¢˜æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Subscriber&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;move_base/result&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MoveBaseActionResult&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">navCallback&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è®¢é˜…ï¼ˆå¾®è°ƒï¼‰èµ°å›ºå®šè·ç¦»ç»“æœè¯é¢˜æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Subscriber&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;check_server/result&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">check_msgActionResult&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">checkCallback&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;åˆå§‹åŒ–è®¢é˜…è¯é¢˜æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">checkCallback&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;ä½ç½®å¾®ç§»å›è°ƒ&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">issuccess&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ä½ç½®å¾®è°ƒå®Œæˆ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">navCallback&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;å¯¼èˆªæ¶ˆæ¯å›è°ƒ&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">PROVINCES&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;å››å·&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;å®‰å¾½&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;æ¹–å—&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;å¹¿ä¸œ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;æµ™æ±Ÿ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;æ±Ÿè‹&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;ç¦å»º&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;æ²³å—&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;å¯¼èˆªåˆ°è¾¾æŒ‡å®šåœ°ç‚¹&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">goal_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goal_id&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">goal_name&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;åˆ†æ‹£å°&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åˆ°è¾¾åˆ†æ‹£å°å‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">goal_name&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">PROVINCES&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åˆ°è¾¾æŠ•é€’ç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logwarn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æœªçŸ¥çš„èŠ‚ç‚¹:&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goal_id&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logwarn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;å¯¼èˆªå¤±è´¥,å½“å‰idä¸º:&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">goal_id&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logwarn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;å¯¼èˆªè¢«å–æ¶ˆ:&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å¯¼èˆªæ¶ˆæ¯å›è°ƒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code>goal_id.id&lt;/code>æ¥è¿›è¡Œç›®æ ‡åœ°ç‚¹çš„ä¼ é€’ï¼Œå…¶æ„é€ æ¨¡å¼ä¸º&lt;code>targetName +'_' + str(time.time())[-9:-3]&lt;/code>ã€‚è¿™æ ·æ—¢æœ‰ç›®æ ‡åœ°ç‚¹ä¿¡æ¯ï¼Œä¹Ÿé¿å…äº†idé‡å¤ã€‚è¿™é‡Œä¸€ä¸ªæ±‰å­—å 3ä½ï¼Œæ‰€ä»¥çœ‹åˆ°ä¸Šé¢çš„&lt;code>[:6]&lt;/code>çš„å†™æ³•ä¹Ÿå°±ä»£è¡¨å‰2ä¸ªå­—ã€‚&lt;/p>
&lt;h3 id="åˆ†å¸ƒå¼éƒ¨ç½²å›¾åƒè¯†åˆ«">&lt;a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e9%83%a8%e7%bd%b2%e5%9b%be%e5%83%8f%e8%af%86%e5%88%ab" class="header-anchor">&lt;/a>åˆ†å¸ƒå¼éƒ¨ç½²å›¾åƒè¯†åˆ«
&lt;/h3>&lt;p>å¯¹äºå›¾åƒè¯†åˆ«ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹æ˜¯æ”¾åœ¨å°è½¦ä¸Šè¿›è¡Œçš„ï¼Œç»“æœå‘ç°åœ¨å°è½¦ä¸Šè¯†åˆ«é€Ÿåº¦å¹¶ä¸æ˜¯å¾ˆå¿«ï¼Œå¹³å‡æ¯å¼ å›¾ç‰‡éœ€è¦5~6ç§’çš„æ—¶é—´æ‰èƒ½å®Œæˆã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142138849.png"
width="1182"
height="280"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142138849_hu_a4ce1d0b8b6f2860.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142138849_hu_c4943938c51beaa2.png 1024w"
loading="lazy"
alt="å°è½¦ä¸Šçš„æ–‡å­—è¯†åˆ«"
class="gallery-image"
data-flex-grow="422"
data-flex-basis="1013px"
>&lt;/p>
&lt;p>æ£€æŸ¥å°è½¦çš„CPUå‘ç°ï¼Œè¿™æ€§èƒ½è¿˜æ˜¯ä¸è¦æŒ‡æœ›å…¶æ¥è·‘å›¾åƒè¯†åˆ«ç®—æ³•äº†ï¼Œè¿˜æ˜¯é‡‡ç”¨åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè·‘å›¾åƒè¯†åˆ«ï¼Œå°†ç»“æœè¿”å›ç»™å°è½¦å§ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142219779.png"
width="785"
height="395"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142219779_hu_9add53141196d069.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220818142219779_hu_76f915ef059f3b56.png 1024w"
loading="lazy"
alt="å°è½¦CPU"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
>&lt;/p>
&lt;p>æƒ³è¦å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œå°±éœ€è¦åœ¨ç”µè„‘é‡Œè£…å¥½ROSç¯å¢ƒï¼Œæˆ‘ä»¬æ˜¯ç›´æ¥ä½¿ç”¨è™šæ‹Ÿæœºï¼Œé‡Œé¢å·²ç»é…ç½®å¥½ç›¸å…³çš„ç¯å¢ƒäº†ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>~/.bashrc&lt;/code>é‡Œå¢åŠ &lt;code>export ROS_MASTER_URI=http://192.168.31.200:11311&lt;/code>ï¼Œè®©è™šæ‹Ÿæœºä½¿ç”¨å°è½¦ä½œä¸ºæœåŠ¡ç«¯ã€‚ä¹‹åå°±æ˜¯ç¼–å†™ç¨‹åºæ³¨å†ŒæœåŠ¡ï¼Œä¾›ä¸»ç¨‹åºè°ƒç”¨äº†ï¼Œä¸ºäº†æ–¹ä¾¿è°ƒç”¨ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™äº†ç›¸åº”çš„æ•°æ®ç»“æ„ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬æ³¨å†Œäº†&lt;code>Province.msg&lt;/code>ï¼Œå­˜æ”¾è¯†åˆ«åˆ°çš„å¿«é€’ç›’ä¸Šæ‰€éœ€çš„æ•°æ®ã€‚&lt;code>name&lt;/code>ä»£è¡¨çœä»½åç§°ï¼Œ&lt;code>x&lt;/code>å’Œ&lt;code>y&lt;/code>åˆ†åˆ«æ˜¯ç›¸å¯¹åç§»é‡ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">string name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">float32 x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">float32 y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åæ³¨å†Œäº†&lt;code>ProvinceList.srv&lt;/code>ï¼Œä½œä¸ºæˆ‘ä»¬æœåŠ¡çš„æ¶ˆæ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plain" data-lang="plain">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Province[] provinces
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºä½¿ç”¨äº†è‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹ï¼Œè¦æ³¨æ„ä¿®æ”¹&lt;code>CMakeLists.txt&lt;/code>ï¼Œå°†ç›¸åº”çš„æ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå¹¶æ³¨æ„å¼•å…¥&lt;code>message_generation&lt;/code>ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæˆä¾›Pythonè°ƒç”¨çš„æ¶ˆæ¯ç±»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmake" data-lang="cmake">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cmake_minimum_required&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">VERSION&lt;/span> &lt;span class="s">3.0.2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">project&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">imgocr&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Compile as C++11, supported in ROS Kinetic and newer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># add_compile_options(-std=c++11)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Find catkin macros and libraries
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">## if COMPONENTS list like find_package(catkin REQUIRED COMPONENTS xyz)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">## is used, also find other catkin packages
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">find_package&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">catkin&lt;/span> &lt;span class="s">REQUIRED&lt;/span> &lt;span class="s">COMPONENTS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">rospy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">std_msgs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">sensor_msgs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">message_generation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## System dependencies are found with CMake&amp;#39;s conventions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># find_package(Boost REQUIRED COMPONENTS system)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Uncomment this if the package has a setup.py. This macro ensures
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">## modules and global scripts declared therein get installed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">## See http://ros.org/doc/api/catkin/html/user_guide/setup_dot_py.html
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># catkin_python_setup()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Generate messages in the &amp;#39;msg&amp;#39; folder
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">add_message_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">FILES&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">Province.msg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Generate services in the &amp;#39;srv&amp;#39; folder
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">add_service_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">FILES&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">ProvinceList.srv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">## Generate added messages and services with any dependencies listed here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">generate_messages&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">DEPENDENCIES&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">std_msgs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">sensor_msgs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">catkin_package&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">CATKIN_DEPENDS&lt;/span> &lt;span class="s">rospy&lt;/span> &lt;span class="s">std_msgs&lt;/span> &lt;span class="s">message_runtime&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">include_directories&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># include
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">catkin_INCLUDE_DIRS&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ ·ï¼Œåœ¨&lt;code>package.xml&lt;/code>é‡Œä¹Ÿè¦æ·»åŠ &lt;code>message_generation&lt;/code>ç­‰ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;package&lt;/span> &lt;span class="na">format=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;name&amp;gt;&lt;/span>imgocr&lt;span class="nt">&amp;lt;/name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>0.0.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;description&amp;gt;&lt;/span>The imgocr package&lt;span class="nt">&amp;lt;/description&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;maintainer&lt;/span> &lt;span class="na">email=&lt;/span>&lt;span class="s">&amp;#34;eaibot@todo.todo&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>eaibot&lt;span class="nt">&amp;lt;/maintainer&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;license&amp;gt;&lt;/span>TODO&lt;span class="nt">&amp;lt;/license&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;buildtool_depend&amp;gt;&lt;/span>catkin&lt;span class="nt">&amp;lt;/buildtool_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;build_depend&amp;gt;&lt;/span>rospy&lt;span class="nt">&amp;lt;/build_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;build_depend&amp;gt;&lt;/span>std_msgs&lt;span class="nt">&amp;lt;/build_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;build_depend&amp;gt;&lt;/span>message_generation&lt;span class="nt">&amp;lt;/build_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;build_export_depend&amp;gt;&lt;/span>rospy&lt;span class="nt">&amp;lt;/build_export_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;build_export_depend&amp;gt;&lt;/span>std_msgs&lt;span class="nt">&amp;lt;/build_export_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;exec_depend&amp;gt;&lt;/span>rospy&lt;span class="nt">&amp;lt;/exec_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;exec_depend&amp;gt;&lt;/span>std_msgs&lt;span class="nt">&amp;lt;/exec_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;exec_depend&amp;gt;&lt;/span>message_runtime&lt;span class="nt">&amp;lt;/exec_depend&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;export&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/export&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/package&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·ï¼Œå°±å¯ä»¥å®Œæˆä¸€ä¸ªæ–‡å­—è¯†åˆ«èŠ‚ç‚¹äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># encoding: utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">imp&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">reload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">rospy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">cv2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">imgocr.srv&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">ProvinceList&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ProvinceListResponse&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">imgocr.msg&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Province&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">sensor_msgs.msg&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">CompressedImage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">cv_bridge&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">CvBridge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">CvBridgeError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ”¯æŒä¸­æ–‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">reload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setdefaultencoding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;utf8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">getImage&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;è·å–æ‘„åƒå¤´çš„å›¾ç‰‡&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_message&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;/usb_cam/image_correct/compressed&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">CompressedImage&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">15.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv_image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CvBridge&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compressed_imgmsg_to_cv2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;bgr8&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="n">CvBridgeError&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logerr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv_image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cv_image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ROTATE_180&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cv_image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cv2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cv_image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">cv_image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">doReq&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;å¼€å§‹æ‰§è¡Œæ–‡å­—è¯†åˆ«&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getImage&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;è¯†åˆ«ç”¨æ—¶ï¼š&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">start_time&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ProvinceListResponse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">pro&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Province&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pro&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;province&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pro&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pro&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;y&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">resp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">init_node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;imgocr&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Service&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;imgocr/getProvince&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ProvinceList&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">doReq&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;èŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">spin&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæˆ‘ä»¬ä¸€å¼€å§‹è·å–æ‘„åƒå¤´çš„å›¾ç‰‡æ˜¯é‡‡ç”¨&lt;code>/usb_cam/image_correct&lt;/code>è¿™ä¸ªè¯é¢˜ï¼Œä½†è¿™ä¸ªè¯é¢˜å¾—åˆ°çš„å›¾ç‰‡æ˜¯æœªå‹ç¼©çš„ï¼Œä½¿ç”¨&lt;code>rostopic bw /usb_cam/image_correct&lt;/code>å¯ä»¥çœ‹å‡ºå¤§å°å·®ä¸å¤šæ˜¯å¥½å‡ Mï¼Œè¿™å°±ä¼šå¯¼è‡´è·å–å›¾åƒçš„æ—¶é•¿è¿œè¶…æ–‡å­—è¯†åˆ«æ—¶é•¿ï¼Œç”šè‡³æ˜¯æ— æ³•è·å–åˆ°å›¾ç‰‡ã€‚æˆ‘ä»¬æ ¹æ®æ¢ç´¢ï¼Œå‘ç°&lt;code>/usb_cam/image_correct/compressed&lt;/code>è¯é¢˜æä¾›çš„æ˜¯å‹ç¼©åçš„å›¾ç‰‡ï¼Œä½¿ç”¨åè·å–å›¾åƒçš„æ—¶é•¿å¤§å¤§å‡å°ã€‚&lt;/p>
&lt;p>ä½¿ç”¨åˆ†å¸ƒå¼å›¾åƒè¯†åˆ«åï¼Œè¯†åˆ«æ—¶é•¿åŸºæœ¬æ§åˆ¶åœ¨2Så†…ã€‚&lt;/p>
&lt;p>ç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨è™šæ‹Ÿæœºï¼Œæ— æ³•è°ƒç”¨çœŸæœºçš„æ˜¾å¡ï¼Œå¦‚æœæœ‰æœºä¼šçš„è¯ï¼Œå¯ä»¥å°è¯•åœ¨çœŸæœºä¸Šè£…ç›¸åº”çš„ç¯å¢ƒï¼Œä½¿ç”¨GPUæ¥è¿›è¡Œå›¾åƒè¯†åˆ«ï¼Œé€Ÿåº¦åº”è¯¥ä¼šæ›´è¿›ä¸€æ­¥ã€‚&lt;/p>
&lt;h3 id="æœºæ¢°è‡‚å¼‚å¸¸è‡ªåŠ¨æ£€æµ‹å’Œæ¸…é™¤">&lt;a href="#%e6%9c%ba%e6%a2%b0%e8%87%82%e5%bc%82%e5%b8%b8%e8%87%aa%e5%8a%a8%e6%a3%80%e6%b5%8b%e5%92%8c%e6%b8%85%e9%99%a4" class="header-anchor">&lt;/a>æœºæ¢°è‡‚å¼‚å¸¸è‡ªåŠ¨æ£€æµ‹å’Œæ¸…é™¤
&lt;/h3>&lt;p>åœ¨ä¸Šé¢ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬è·å–åˆ°çœä»½çš„åæ ‡å°±å¯ä»¥é€è‡³æœºæ¢°è‡‚è¿›è¡ŒæŠ“å–äº†ã€‚ä½†æ˜¯ï¼Œæœºæ¢°è‡‚çš„æŠ“å–èŒƒå›´æ˜¯æœ‰é™çš„ï¼Œä¸€æ—¦è¶…å‡ºæŠ“å–èŒƒå›´æœºæ¢°è‡‚å°±ä¼šåœæ­¢æ‰§è¡Œç›´è‡³æ‰§è¡Œæ¸…é™¤è­¦æŠ¥ã€‚ä¸€ç§æ€è·¯æ˜¯æˆ‘ä»¬é¦–å…ˆæ˜¯åœ¨ä¸€ä¸ªå›ºå®šçš„å®šå»è¯†åˆ«é‚®ä»¶ï¼Œé¦–å…ˆè®°å½•è¿™ä¸ªç‚¹çš„é«˜åº¦ï¼Œç„¶åæˆ‘ä»¬éœ€è¦é™åˆ°æ¡Œé¢å»å¸å–é‚®ä»¶ï¼Œè¿™æ˜¯ç¬¬äºŒä¸ªé«˜åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦æµ‹å®šè¿™ä¸¤ä¸ªé«˜åº¦Zçš„å‰æä¸‹ï¼ŒYçš„ç§»åŠ¨èŒƒå›´å°±å¯ä»¥äº†ã€‚&lt;sup id="fnref1:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>è¿™ç§æ€è·¯ç¡®å®å¯è¡Œï¼Œä½†å¦‚æœåæœŸæ›´æ¢äº†æœºæ¢°è‡‚é«˜åº¦ï¼Œåˆè¦æ‰‹åŠ¨æµ‹é‡ï¼Œååˆ†éº»çƒ¦ã€‚äºæ˜¯ï¼Œæˆ‘æƒ³äº†å¦ä¸€ä¸ªæ€è·¯ï¼Œé€šè¿‡æŸ¥è¯¢APIæ–‡æ¡£ï¼Œæˆ‘æ‰¾åˆ°äº†è­¦æŠ¥æ£€æµ‹çš„APIï¼Œé‚£å°±å¥½è¯´äº†ã€‚åœ¨æ‰§è¡Œå¯èƒ½è¶Šç•Œçš„æŒ‡ä»¤åæ¥ä¸Šå¼‚å¸¸æ£€æµ‹ï¼Œå¦‚æœå¼‚å¸¸å°±è‡ªåŠ¨æ¸…é™¤ï¼Œè¿™æ ·å°±èƒ½è‡ªåŠ¨åŒ–çš„åˆ¤æ–­äº†ã€‚&lt;/p>
&lt;p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># coding=utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">rospy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">dobot.srv&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">GetAlarmsState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ClearAllAlarmsState&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">getAlarmsState&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> æŸ¥è¯¢æœºæ¢°è‡‚æŠ¥è­¦çŠ¶æ€ï¼Œå¹¶è‡ªåŠ¨è¿›è¡Œæ¸…é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> return æ˜¯å¦å­˜åœ¨æŠ¥è­¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> &amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_service&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;DobotServer/GetAlarmsState&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wait_for_service&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;DobotServer/ClearAllAlarmsState&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ServiceProxy&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;DobotServer/GetAlarmsState&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">GetAlarmsState&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ServiceProxy&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;DobotServer/ClearAllAlarmsState&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ClearAllAlarmsState&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">isError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">alarmsState&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loginfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æ£€æµ‹åˆ°è­¦æŠ¥ï¼Œè‡ªåŠ¨è¿›è¡Œæ¸…é™¤&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client2&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">isError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">isError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ServiceException&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rospy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logerr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æŸ¥è¯¢æœºæ¢°è‡‚æŠ¥è­¦çŠ¶æ€å¤±è´¥: &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="rosæ—¥å¿—è¾“å‡ºçº§åˆ«æ§åˆ¶">&lt;a href="#ros%e6%97%a5%e5%bf%97%e8%be%93%e5%87%ba%e7%ba%a7%e5%88%ab%e6%8e%a7%e5%88%b6" class="header-anchor">&lt;/a>ROSæ—¥å¿—è¾“å‡ºçº§åˆ«æ§åˆ¶
&lt;/h3>&lt;p>åœ¨ä¸Šé¢æˆ‘æåˆ°è¿‡ï¼Œæˆ‘å¯¹ä»£ç ç¾è§‚æœ‰æ´ç™–ï¼Œé‚£ç¨‹åºè¾“å‡ºä¹Ÿè‡ªç„¶ä¸èƒ½æ”¾è¿‡ã€‚è¿™ä¸ªé¡¹ç›®é‡Œæ‰€æœ‰çš„è¾“å‡ºæˆ‘éƒ½ä½¿ç”¨&lt;code>rospy.log&lt;/code>æ¥è¾“å‡ºï¼Œè¿™å°±å¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œæœ‰äº›è¾“å‡ºæˆ‘å°†å…¶è®¾ä¸º&lt;code>DEBUG&lt;/code>çº§åˆ«ï¼Œè€ŒROSé»˜è®¤çš„æ—¥å¿—çº§åˆ«ä¸º&lt;code>INFO&lt;/code>ï¼Œå¯¼è‡´è¿™äº›ä¿¡æ¯æ ¹æœ¬çœ‹ä¸åˆ°ã€‚æ¯æ¬¡æƒ³çœ‹æ—¶æ‰‹åŠ¨å°†ä»£ç æ¢ä¸º&lt;code>INFO&lt;/code>å†æ¢å›å»ï¼Œè™½ç„¶å¯è¡Œï¼Œä½†ä¸ä¼˜é›…ã€‚äºæ˜¯æˆ‘ç ”ç©¶äº†ä¸€ä¸‹ROSçš„æ—¥å¿—æ–¹é¢çš„æ–‡æ¡£ï¼Œå‘ç°æ˜¯æœ‰æ–¹æ³•æ¥å®ç°æ—¥å¿—è¾“å‡ºçº§åˆ«çš„æ§åˆ¶çš„ã€‚&lt;/p>
&lt;p>åœ¨ç»ˆç«¯è¿è¡Œ&lt;code>rqt_logger_level&lt;/code>ï¼Œä¹‹åé€‰æ‹©ä½ çš„ç¨‹åºèŠ‚ç‚¹ä¸­çš„&lt;code>rosout&lt;/code>ï¼Œåœ¨åé¢ä¿®æ”¹å°±å¯ä»¥ä¿®æ”¹ROSæ—¥å¿—è¾“å‡ºçš„çº§åˆ«äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/roslogistic/IMAGE/image-20220821191610870.png"
width="1384"
height="764"
srcset="https://lbqaq.top/p/roslogistic/IMAGE/image-20220821191610870_hu_68ec254e6cd32b57.png 480w, https://lbqaq.top/p/roslogistic/IMAGE/image-20220821191610870_hu_d24b2d98809e57c4.png 1024w"
loading="lazy"
alt="ä¿®æ”¹æ—¥å¿—è¾“å‡ºçº§åˆ«"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="434px"
>&lt;/p>
&lt;p>æ—¶é—´æœ‰é™ï¼Œæˆ‘å°±æ‰¾åˆ°äº†è¿™ä¸€ä¸ªå¯è¡Œçš„æ–¹æ³•ï¼Œå…¶ä½™æ–¹æ³•æˆ‘æµ‹è¯•åå¹¶æ²¡ç”Ÿæ•ˆï¼Œå¦‚æœæœ‰æ›´å¥½çš„æ–¹æ³•æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚&lt;/p>
&lt;h2 id="ä¸€äº›å°å·¥å…·">&lt;a href="#%e4%b8%80%e4%ba%9b%e5%b0%8f%e5%b7%a5%e5%85%b7" class="header-anchor">&lt;/a>ä¸€äº›å°å·¥å…·
&lt;/h2>&lt;p>åœ¨å†™ç¨‹åºæ—¶ï¼Œä¸ºäº†é¿å…é‡å¤å·¥ä½œï¼Œè¿˜æ˜¯åšäº†ä¸€äº›å°å·¥å…·ï¼Œæœ¬ç€â€œä¸è¦é‡å¤é€ è½®å­â€çš„ç²¾ç¥ï¼Œåœ¨æ­¤ä¸€å¹¶å¼€æºäº†ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°æœ‰éœ€è¦çš„åŒå­¦ã€‚&lt;/p>
&lt;h3 id="éšæœºå¿«é€’ç®±é¡ºåºç”Ÿæˆ">&lt;a href="#%e9%9a%8f%e6%9c%ba%e5%bf%ab%e9%80%92%e7%ae%b1%e9%a1%ba%e5%ba%8f%e7%94%9f%e6%88%90" class="header-anchor">&lt;/a>éšæœºå¿«é€’ç®±é¡ºåºç”Ÿæˆ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># coding=utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">random&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">provinces&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å››å·&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å®‰å¾½&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¹–å—&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¹¿ä¸œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æµ™æ±Ÿ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ±Ÿè‹&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¦å»º&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">provinces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ²³å—&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shuffle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">provinces&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">pro&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">provinces&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pro&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="eaièµ„æºç‚¹åæ ‡æ ¼å¼è½¬yamlæ ¼å¼">&lt;a href="#eai%e8%b5%84%e6%ba%90%e7%82%b9%e5%9d%90%e6%a0%87%e6%a0%bc%e5%bc%8f%e8%bd%acyaml%e6%a0%bc%e5%bc%8f" class="header-anchor">&lt;/a>EAIèµ„æºç‚¹åæ ‡æ ¼å¼è½¬yamlæ ¼å¼
&lt;/h3>&lt;p>å°†å®˜æ–¹&lt;code>QTEAIBotDemoPub(VER2)&lt;/code>è¿™ä¸ªç¨‹åºåˆ›å»ºçš„å¯¼èˆªç›®æ ‡ç‚¹è½¬æˆyamlæ ¼å¼ï¼Œæ–¹ä¾¿äººä¿®æ”¹åŠç¨‹åºè°ƒç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># coding=utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">loacate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;file loacate:&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loacate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;r&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">file_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">readlines&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">row&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">file_data&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tmp_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">row&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;,&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tmp_list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">positions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tmp_list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; x: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">positions&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; y: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">positions&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">orientations&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tmp_list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; z: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">orientations&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; w: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">orientations&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>è¿™ä¸ªé¡¹ç›®åˆ°æ­¤ä¹Ÿå°±å®Œå…¨ç»“æŸäº†ï¼Œå›å¤´çœ‹æ¥ï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿæ˜¯æ¶‰åŠäº†è®¸å¤šçŸ¥è¯†ï¼Œè¯¸å¦‚å›¾åƒè¯†åˆ«ã€è‡ªä¸»å®šä½ç­‰ç­‰ï¼Œä¸è¿‡æ—¶é—´æœ‰é™ï¼ŒåŸºæœ¬éƒ½æ²¡æ€ä¹ˆäº†è§£å…¶ä¸­åŸç†ï¼Œåªæ˜¯è°ƒç”¨äº†ç›¸å…³çš„æ¥å£ï¼Œå¦‚æœä»¥åæœ‰ç©ºï¼Œå¯ä»¥ç»§ç»­ç ”ç©¶ç ”ç©¶ğŸ˜‡ã€‚&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://guazhou.blog.csdn.net/article/details/119626113" target="_blank" rel="noopener"
>ç¬¬äº”å¤©ï¼šäº†è§£è¶Šç–†dobotæœºæ¢°è‡‚ï¼Œä½¿ç”¨pythonï¼Œç¼–å†™é€šè¿‡rosæœåŠ¡æ§åˆ¶æœºæ¢°è‡‚è¿åŠ¨ç¨‹åº_ç“œæ´²å¤§å¤§çš„åšå®¢-CSDNåšå®¢_dobotæœºæ¢°è‡‚&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&amp;#160;&lt;a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://www.codenong.com/510357/" target="_blank" rel="noopener"
>å…³äºè¾“å…¥ï¼šPythonä»ç”¨æˆ·è¯»å–å•ä¸ªå­—ç¬¦ | ç å†œå®¶å›­&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ä¸€æ­¥åˆ°ä½ï¼Œè‡ªåŠ¨ç”³è¯·SSLè¯ä¹¦</title><link>https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/</link><pubDate>Thu, 21 Jul 2022 19:05:52 +0800</pubDate><guid>https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/99528942.webp" alt="Featured image of post ä¸€æ­¥åˆ°ä½ï¼Œè‡ªåŠ¨ç”³è¯·SSLè¯ä¹¦" />&lt;h2 id="å‰è¨€">&lt;a href="#%e5%89%8d%e8%a8%80" class="header-anchor">&lt;/a>å‰è¨€
&lt;/h2>&lt;p>é˜¿é‡Œäº‘æœ€è¿‘å‘çŸ­ä¿¡ç»™æˆ‘ï¼Œæç¤ºæˆ‘ä¹‹å‰å…è´¹ç”³è¯·çš„SSLè¯ä¹¦è¦åˆ°æœŸäº†ã€‚å€Ÿæ­¤æœºä¼šï¼Œæ­£å¥½å°†acme.shé…ç½®åˆ°æœåŠ¡å™¨ä¸Šï¼Œä¸€åŠ³æ°¸é€¸çš„è§£å†³è¯ä¹¦é—®é¢˜ã€‚ç›¸è¾ƒäºåœ¨é˜¿é‡Œäº‘ä¸Šç”³è¯·è¯ä¹¦ï¼Œä½¿ç”¨acme.shçš„ä¼˜åŠ¿åœ¨äºå¯ä»¥ç”³è¯·æ³›åŸŸåè¯ä¹¦åŠå¯ä»¥è‡ªåŠ¨ç»­æœŸã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘å°±è®°å½•ä¸€ä¸‹æˆ‘ä½¿ç”¨çš„æ­¥éª¤å§ã€‚æˆ‘è¿™é‡Œé‡‡ç”¨çš„æ˜¯ä½¿ç”¨é˜¿é‡Œäº‘çš„APIè‡ªåŠ¨è¿›è¡ŒDNSæ–¹å¼çš„ç”³è¯·ï¼Œä¸åŒçš„æœåŠ¡å•†å‘½ä»¤æœ‰ç¨è®¸ä¸åŒï¼Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç”³è¯·api &lt;a class="link" href="https://ram.console.aliyun.com/users" target="_blank" rel="noopener"
>https://ram.console.aliyun.com/users&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨é˜¿é‡Œäº‘çš„è§’è‰²æ§åˆ¶é‡Œèµ‹äºˆåˆšåˆšç”³è¯·çš„ç”¨æˆ·æ§åˆ¶DNSçš„æƒé™&lt;code>AliyunDNSFullAccess&lt;/code> &lt;a class="link" href="https://ram.console.aliyun.com/permissions" target="_blank" rel="noopener"
>https://ram.console.aliyun.com/permissions&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…acme.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl https://get.acme.sh &lt;span class="p">|&lt;/span> sh -s &lt;span class="nv">email&lt;/span>&lt;span class="o">=&lt;/span>my@example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®APIç¯å¢ƒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">Ali_Key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;xxxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">Ali_Secret&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;xxxxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæ˜¯é…ç½®APIç¯å¢ƒï¼Œå¡«å…¥åˆšåˆšç”³è¯·çš„å¯†é’¥ã€‚è¿™æ­¥åªéœ€è¦åšä¸€æ¬¡ï¼Œacme.shä¼šå°†å…¶ä¿å­˜ä¸‹æ¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç”Ÿæˆè¯ä¹¦ï¼Œè¿™é‡Œå¡«å…¥åˆšåˆšç”³è¯·APIå¾—åˆ°çš„å¯†é’¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">acme.sh --issue --dns dns_ali -d lbqaq.top -d &lt;span class="s2">&amp;#34;*.lbqaq.top&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ä¸Šé¢å‘½ä»¤ï¼Œå¯ä»¥ç”³è¯·åˆ°åŒ…å«&lt;code>lbqaq.top&lt;/code>å’Œ&lt;code>*.lbqaq.top&lt;/code>è¿™ä¸¤ä¸ªDNSè®°å½•çš„è¯ä¹¦ã€‚è¿™é‡Œå¦‚æœæœ‰&lt;code>*&lt;/code>ï¼Œæ˜¯éœ€è¦åŠ åŒå¼•å·çš„ï¼Œæˆ‘ä¹‹å‰æ²¡åŠ å°±æŠ¥é”™äº†ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤åˆ¶è¯ä¹¦åˆ°nginxç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">acme.sh --install-cert -d lbqaq.top &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--key-file /usr/local/nginx/conf/cert/lbqaq.top.key &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--fullchain-file /usr/local/nginx/conf/cert/lbqaq.top.pem &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--reloadcmd &lt;span class="s2">&amp;#34;nginx -s reload&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œ&lt;code>key-file&lt;/code>å¯¹åº”çš„æ˜¯Nginxé…ç½®é‡Œçš„&lt;code>ssl_certificate_key&lt;/code>ï¼Œ&lt;code>fullchain-file&lt;/code>å¯¹åº”çš„æ˜¯&lt;code>ssl_certificate&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥ä¸‹æ¥ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶å³å¯&lt;/p>
&lt;p>é™„ä¸Šæˆ‘çš„æ¨¡æ¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å¦‚æœä¸æ˜¯httpså°±è·³è½¬è‡³https
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="s">(&lt;/span>&lt;span class="nv">$server_port&lt;/span> &lt;span class="s">!~&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="s">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">rewrite&lt;/span> &lt;span class="s">^(/.*)&lt;/span>$ &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_certificate&lt;/span> &lt;span class="s">./cert/lbqaq.top.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_certificate_key&lt;/span> &lt;span class="s">./cert/lbqaq.top.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„åŠ å¯†å¥—ä»¶çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è¡¨ç¤ºä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">add_header&lt;/span> &lt;span class="s">Strict-Transport-Security&lt;/span> &lt;span class="s">&amp;#34;max-age=31536000&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="å¸¸ç”¨å‘½ä»¤">&lt;a href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-anchor">&lt;/a>å¸¸ç”¨å‘½ä»¤
&lt;/h2>&lt;p>åœ¨é™„ä¸Šä¸€äº›æˆ‘ç”¨åˆ°çš„ä¸€äº›acme.shç›¸å…³çš„å‘½ä»¤ã€‚&lt;del>æ‰ä¸æ˜¯æ°´å­—æ•°å‘¢&lt;/del>&lt;/p>
&lt;ul>
&lt;li>&lt;code>acme.sh --list&lt;/code>æŸ¥çœ‹å·²ç”³è¯·çš„è¯ä¹¦&lt;/li>
&lt;li>&lt;code>acme.sh --remove -d example.com&lt;/code>åˆ é™¤æŒ‡å®šçš„è¯ä¹¦&lt;/li>
&lt;/ul></description></item><item><title>äº‘è®¡ç®—å­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Wed, 08 Jun 2022 09:33:43 +0800</pubDate><guid>https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/97475626.webp" alt="Featured image of post äº‘è®¡ç®—å­¦ä¹ ç¬”è®°" />&lt;h2 id="äº‘è®¡ç®—çš„ä¸‰ä¸ªç‰¹ç‚¹">&lt;a href="#%e4%ba%91%e8%ae%a1%e7%ae%97%e7%9a%84%e4%b8%89%e4%b8%aa%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>äº‘è®¡ç®—çš„ä¸‰ä¸ªç‰¹ç‚¹
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>èµ„æºæ± åŒ–&lt;/strong>&lt;/p>
&lt;p>å¤§éƒ¨åˆ†äº‘è®¡ç®—èµ„æºï¼Œéƒ½æ˜¯æ± åŒ–äº†çš„èµ„æºã€‚ä»€ä¹ˆå«æ± åŒ–ï¼Ÿæ± åŒ–å°±æ˜¯ç‰©ç†èµ„æºçš„åŸºç¡€ä¸Šï¼Œé€šè¿‡è½¯ä»¶å¹³å°ï¼Œå°è£…æˆè™šæ‹Ÿçš„è®¡ç®—èµ„æºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è™šæ‹ŸåŒ–ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å¼¹æ€§ä¼¸ç¼©&lt;/strong>&lt;/p>
&lt;p>äº‘è®¡ç®—çš„è®¡ç®—èµ„æºï¼Œå¯ä»¥æŒ‰éœ€ä»˜è´¹ã€‚ä½ æƒ³è¦ç”¨å¤šå°‘ï¼Œå°±ç§Ÿå¤šå°‘ï¼Œæƒ³ä»€ä¹ˆæ—¶å€™è¦å°±ä»€ä¹ˆæ—¶å€™è¦ï¼Œé…ç½®æ˜¯æ”¯æŒè‡ªå®šä¹‰çš„ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å®‰å…¨å¯é &lt;/strong>&lt;/p>
&lt;p>è€Œäº‘è®¡ç®—ï¼Œä»ç‰©ç†è§’åº¦æ¥è¯´ï¼Œæ‰€æœ‰çš„è®¡ç®—èµ„æºéƒ½æ±‡é›†åœ¨å¤§å‹äº’è”ç½‘æ•°æ®ä¸­å¿ƒï¼ˆIDCï¼‰ï¼Œé‚£é‡Œæœ‰ä¸¥æ ¼çš„å®‰ä¿ã€æŠ—éœ‡çš„å»ºç­‘ã€å®‰å…¨çš„ä¾›ç”µï¼Œæœ‰éå¸¸å…¨é¢çš„å®¹ç¾è®¾è®¡å’Œåº”æ€¥æ–¹æ¡ˆï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ä¿æŠ¤è®¡ç®—èµ„æºï¼Œä¸ä¼šè½»æ˜“åœ°ä¸­æ–­æœåŠ¡ã€‚&lt;/p>
&lt;p>ä»è½¯ä»¶ä¸Šæ¥è¯´ï¼Œäº‘è®¡ç®—æœåŠ¡æä¾›å•†æœ‰æ›´ä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿï¼Œæ›´æˆç†Ÿçš„æŠ€æœ¯å‚¨å¤‡ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ä¿æŠ¤è®¡ç®—èµ„æºä¸è¢«å…¥ä¾µæˆ–ç ´åã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="äº‘è®¡ç®—æœåŠ¡">&lt;a href="#%e4%ba%91%e8%ae%a1%e7%ae%97%e6%9c%8d%e5%8a%a1" class="header-anchor">&lt;/a>äº‘è®¡ç®—æœåŠ¡
&lt;/h2>&lt;p>åº”è¯¥ä¸è€ƒï¼Œä¸ºäº†å®Œå¤‡æ€§è¿˜æ˜¯æ”¾è¿›æ¥å§&lt;/p>
&lt;ul>
&lt;li>Infrastructure as a Service (IaaS)ï¼šåŸºç¡€è®¾æ–½å³æœåŠ¡&lt;/li>
&lt;li>Platform as a Service (PaaS) ï¼šå¹³å°å³æœåŠ¡&lt;/li>
&lt;li>Software as a Service (SaaS) ï¼šè½¯ä»¶å³æœåŠ¡&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="711"
height="413"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_2c7117b1b32ffbf1.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_65cd50c0ffca87f8.png 1024w"
loading="lazy"
alt="äº‘è®¡ç®—æœåŠ¡"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="413px"
>&lt;/p>
&lt;h2 id="äº‘è®¡ç®—ç±»å‹">&lt;a href="#%e4%ba%91%e8%ae%a1%e7%ae%97%e7%b1%bb%e5%9e%8b" class="header-anchor">&lt;/a>äº‘è®¡ç®—ç±»å‹
&lt;/h2>&lt;h3 id="å…¬æœ‰äº‘">&lt;a href="#%e5%85%ac%e6%9c%89%e4%ba%91" class="header-anchor">&lt;/a>å…¬æœ‰äº‘
&lt;/h3>&lt;p>å…¬æœ‰äº‘é€šå¸¸æŒ‡ç¬¬ä¸‰æ–¹æä¾›å•†ç”¨æˆ·èƒ½å¤Ÿä½¿ä½¿ç”¨çš„äº‘ï¼Œå…¬æœ‰äº‘ä¸€èˆ¬å¯é€šè¿‡ Internet ä½¿ç”¨ï¼Œå¯èƒ½æ˜¯å…è´¹æˆ–æˆæœ¬ä½å»‰çš„ã€‚å…¬æœ‰äº‘çš„æœ€å¤§æ„ä¹‰æ˜¯èƒ½å¤Ÿä»¥ä½å»‰çš„ä»·æ ¼ï¼Œæä¾›æœ‰å¸å¼•åŠ›çš„æœåŠ¡ç»™æœ€ç»ˆç”¨æˆ·ï¼Œåˆ›é€ æ–°çš„ä¸šåŠ¡ä»·å€¼ï¼Œå…¬æœ‰äº‘ä½œä¸ºä¸€ä¸ªæ”¯æ’‘å¹³å°ï¼Œè¿˜èƒ½å¤Ÿæ•´åˆä¸Šæ¸¸çš„æœåŠ¡ï¼ˆå¦‚å¢å€¼ä¸šåŠ¡ï¼Œå¹¿å‘Šï¼‰æä¾›è€…å’Œä¸‹æ¸¸æœ€ç»ˆç”¨æˆ·ï¼Œæ‰“é€ æ–°çš„ä»·å€¼é“¾å’Œç”Ÿæ€ç³»ç»Ÿã€‚å®ƒä½¿å®¢æˆ·èƒ½å¤Ÿè®¿é—®å’Œå…±äº«åŸºæœ¬çš„è®¡ç®—æœºåŸºç¡€è®¾æ–½ï¼Œå…¶ä¸­åŒ…æ‹¬ç¡¬ä»¶ã€å­˜å‚¨å’Œå¸¦å®½ç­‰èµ„æºã€‚&lt;/p>
&lt;p>å…¬æœ‰äº‘æ˜¯ä¸ºå¤§ä¼—å»ºçš„ï¼Œæ‰€æœ‰å…¥é©»ç”¨æˆ·éƒ½ç§°ç§Ÿæˆ·ï¼Œä¸ä»…åŒæ—¶æœ‰å¾ˆå¤šç§Ÿæˆ·ï¼Œè€Œä¸”ä¸€ä¸ªç§Ÿæˆ·ç¦»å¼€ï¼Œå…¶èµ„æºå¯ä»¥é©¬ä¸Šé‡Šæ”¾ç»™ä¸‹ä¸€ä¸ªç§Ÿæˆ·ã€‚&lt;/p>
&lt;p>&lt;strong>ä¼˜ç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æˆæœ¬ä½&lt;/li>
&lt;li>æ–¹ä¾¿&lt;/li>
&lt;li>æ˜“æ‰©å±•&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç¼ºç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å®‰å…¨é¡¾è™‘&lt;/li>
&lt;li>æ€§èƒ½è¶…å–é—®é¢˜&lt;/li>
&lt;li>ç®¡ç†è¦å¤æ‚&lt;/li>
&lt;/ul>
&lt;h3 id="ç§æœ‰äº‘">&lt;a href="#%e7%a7%81%e6%9c%89%e4%ba%91" class="header-anchor">&lt;/a>ç§æœ‰äº‘
&lt;/h3>&lt;p>æ˜¯ä¸ºä¸€ä¸ªå®¢æˆ·å•ç‹¬ä½¿ç”¨è€Œæ„å»ºçš„ï¼Œå› è€Œæä¾›å¯¹æ•°æ®ã€å®‰å…¨æ€§å’ŒæœåŠ¡è´¨é‡çš„æœ€æœ‰æ•ˆæ§åˆ¶ã€‚è¯¥å…¬å¸æ‹¥æœ‰åŸºç¡€è®¾æ–½ï¼Œå¹¶å¯ä»¥æ§åˆ¶åœ¨æ­¤åŸºç¡€è®¾æ–½ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚ç§æœ‰äº‘å¯éƒ¨ç½²åœ¨ä¼ä¸šæ•°æ®ä¸­å¿ƒçš„é˜²ç«å¢™å†…(&lt;strong>æœ¬åœ°ç§æœ‰äº‘&lt;/strong>)ï¼Œä¹Ÿå¯ä»¥å°†å®ƒä»¬éƒ¨ç½²åœ¨ä¸€ä¸ªå®‰å…¨çš„ä¸»æœºæ‰˜ç®¡åœºæ‰€ï¼ˆ&lt;strong>æ‰˜ç®¡ç§æœ‰äº‘&lt;/strong>ï¼‰ã€‚&lt;/p>
&lt;p>&lt;strong>ä¼˜ç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å®‰å…¨&lt;/li>
&lt;li>è‡ªä¸»å¯æ§&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç¼ºç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æˆæœ¬é«˜&lt;/li>
&lt;li>è¿œç¨‹è®¿é—®å›°éš¾&lt;/li>
&lt;/ul>
&lt;h3 id="ç¤¾åŒºäº‘">&lt;a href="#%e7%a4%be%e5%8c%ba%e4%ba%91" class="header-anchor">&lt;/a>ç¤¾åŒºäº‘
&lt;/h3>&lt;p>ç¤¾åŒºäº‘çš„æ ¸å¿ƒç‰¹å¾æ˜¯äº‘ç«¯èµ„æºåªç»™ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„ç‰¹å®šå•ä½ç»„ç»‡å†…çš„å‘˜å·¥ä½¿ç”¨ï¼Œé™¤æ­¤ä¹‹å¤–çš„äººå’Œæœºæ„éƒ½æ— æƒç§Ÿèµå’Œä½¿ç”¨äº‘ç«¯è®¡ç®—èµ„æºã€‚ä¸ç§æœ‰äº‘ç±»ä¼¼ï¼Œç¤¾åŒºäº‘çš„äº‘ç«¯ä¹Ÿæœ‰ä¸¤ç§éƒ¨ç½²æ–¹æ³•ï¼Œå³æœ¬åœ°éƒ¨ç½²å’Œæ‰˜ç®¡éƒ¨ç½²ã€‚&lt;/p>
&lt;h3 id="æ··åˆäº‘">&lt;a href="#%e6%b7%b7%e5%90%88%e4%ba%91" class="header-anchor">&lt;/a>æ··åˆäº‘
&lt;/h3>&lt;p>æ˜¯ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šä¸åŒç±»å‹çš„äº‘ï¼ˆç§æœ‰äº‘ã€ç¤¾åŒºäº‘ã€å…¬å…±äº‘ï¼‰æœåŠ¡çš„ç»“åˆï¼Œè¿™ç§ç»“åˆå¯ä»¥æ˜¯è®¡ç®—çš„ã€å­˜å‚¨çš„ï¼Œä¹Ÿå¯ä»¥ä¸¤è€…å…¼è€Œæœ‰ä¹‹ã€‚&lt;/p>
&lt;p>&lt;strong>ä¼˜ç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æ“ä½œçµæ´»&lt;/li>
&lt;li>å¼¹æ€§&lt;/li>
&lt;li>æˆæœ¬æ•ˆç›Šã€‚æ··åˆäº‘æ¨¡å¼å…·æœ‰æˆæœ¬æ•ˆç›Šï¼Œå› ä¸ºä¼ä¸šå¯ä»¥æ ¹æ®éœ€è¦å†³å®šä½¿ç”¨æˆæœ¬æ›´æ˜‚è´µçš„äº‘è®¡ç®—èµ„æºã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç¼ºç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å®‰å…¨æ€§ä¸å¼º&lt;/li>
&lt;li>è´¹ç”¨é«˜ã€‚ å…¬æœ‰äº‘+ç§æœ‰äº‘ç®¡ç†è´¹ç”¨é«˜æ˜‚&lt;/li>
&lt;li>å…¼å®¹æ€§é—®é¢˜&lt;/li>
&lt;/ul>
&lt;h2 id="rddçš„åˆ›å»º">&lt;a href="#rdd%e7%9a%84%e5%88%9b%e5%bb%ba" class="header-anchor">&lt;/a>RDDçš„åˆ›å»º
&lt;/h2>&lt;p>ä½¿ç”¨&lt;code>makeRDD&lt;/code>å³å¯ï¼Œä¾‹å¦‚&lt;code>val rdd = sc.makeRDD(List(1, 2, 3, 4))&lt;/code> ã€‚åœ¨ä½¿ç”¨&lt;code>makeRDD&lt;/code>æ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šåˆ†åŒºæ•°é‡ï¼Œå¦‚&lt;code>val rdd: RDD[Int] = sc.makeRDD(List(1, 2, 3, 4), 3)&lt;/code>ï¼Œè¿™é‡Œæˆ‘ä»¬å°±åˆ›å»ºäº†3ä¸ªåˆ†åŒºã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œé™¤äº†ä»ç¨‹åºä¸­åˆ›å»ºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œä½¿ç”¨&lt;code>sc.textFile(&amp;quot;input&amp;quot;)&lt;/code>å‡½æ•°æ¥æŒ‰è¡Œè¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®ã€‚å¦‚&lt;code>val lineRDD: RDD[String] = sc.textFile(&amp;quot;E:\\datas&amp;quot;)&lt;/code>&lt;/p>
&lt;h2 id="valueç±»å‹è½¬æ¢ç®—å­">&lt;a href="#value%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%e7%ae%97%e5%ad%90" class="header-anchor">&lt;/a>Valueç±»å‹è½¬æ¢ç®—å­
&lt;/h2>&lt;h3 id="map">&lt;a href="#map" class="header-anchor">&lt;/a>map
&lt;/h3>&lt;blockquote>
&lt;p>def map[U: ClassTag](f: &lt;strong>T =&amp;gt; U&lt;/strong> ): RDD[U]&lt;/p>&lt;/blockquote>
&lt;p>å°†å¤„ç†çš„æ•°æ®é€æ¡è¿›è¡Œæ˜ å°„è½¬æ¢ï¼Œè¿™é‡Œçš„è½¬æ¢å¯ä»¥æ˜¯ç±»å‹çš„è½¬æ¢ï¼Œä¹Ÿå¯ä»¥æ˜¯å€¼çš„è½¬æ¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="n">mapFunction&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="c1">//è½¬æ¢å‡½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD1&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">mapFunction&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">})&lt;/span> &lt;span class="c1">//åŒ¿åå‡½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD3&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//å‡½æ•°çš„ä»£ç é€»è¾‘åªæœ‰ä¸€è¡Œçš„æ—¶å€™ï¼Œ{}å¯çœç•¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD4&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//å‚æ•°ç±»å‹å¯ä»¥æ¨æ–­å‡ºæ¥ï¼Œå‚æ•°ç±»å‹å¯ä»¥çœç•¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD5&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œ()å¯ä»¥çœç•¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">mapRDD6&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="c1">//å‚æ•°åœ¨é€»è¾‘ä¸­åªå‡ºç°ä¸€æ¬¡ï¼Œä¸”é¡ºåºå‡ºç°ï¼Œå‚æ•°å¯ç”¨_ä»£æ›¿
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„è¦è®¤è¯†æœ€åçš„ç®€å†™å½¢å¼ã€‚&lt;/p>
&lt;h3 id="mappartiotions">&lt;a href="#mappartiotions" class="header-anchor">&lt;/a>mapPartiotions
&lt;/h3>&lt;blockquote>
&lt;p>def mapPartitions[U: ClassTag]( f: &lt;strong>Iterator[T] =&amp;gt; Iterator[U]&lt;/strong>,preservesPartitioning: Boolean = false): RDD[U]&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>ä»¥åˆ†åŒºä¸ºå•ä½&lt;/strong>è¿›è¡Œæ•°æ®è½¬æ¢æ“ä½œï¼Œä½†æ˜¯ä¼šå°†æ•´ä¸ªåˆ†åŒºçš„æ•°æ®åŠ è½½åˆ°å†…å­˜è¿›è¡Œå¼•ç”¨ï¼Œç”±äºå­˜åœ¨å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å¤„ç†å®Œçš„æ•°æ®ä¸ä¼šè¢«é‡Šæ”¾æ‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mapPartitions&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;+++++++++++++++&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">+++++++++++++++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+++++++++++++++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯å°†æ¯ä¸ªæ•°æ®ä¹˜ä»¥2ï¼Œå¹¶åœ¨æ¯æ¬¡è®¡ç®—æ—¶è¾“å‡º+++++ï¼Œä»è¾“å‡ºä¸¤æ¡+++++å¯çŸ¥ï¼ŒmapPartiotionsç®—å­ç¡®å®æ˜¯æŒ‰åˆ†åŒºè¿›è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;strong>map å’Œ mapPartitions çš„åŒºåˆ«ï¼Ÿ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Map ç®—å­æ˜¯åˆ†åŒºå†…ä¸€ä¸ªæ•°æ®ä¸€ä¸ªæ•°æ®çš„æ‰§è¡Œï¼Œç±»ä¼¼äºä¸²è¡Œæ“ä½œã€‚è€Œ mapPartitions ç®—å­æ˜¯ä»¥åˆ†åŒºä¸ºå•ä½è¿›è¡Œæ‰¹å¤„ç†æ“ä½œã€‚&lt;/li>
&lt;li>Map ç®—å­ä¸»è¦ç›®çš„å°†æ•°æ®æºä¸­çš„æ•°æ®è¿›è¡Œè½¬æ¢å’Œæ”¹å˜ã€‚ä½†æ˜¯ä¸ä¼šå‡å°‘æˆ–å¢å¤šæ•°æ®ã€‚MapPartitions ç®—å­éœ€è¦&lt;strong>ä¼ å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨&lt;/strong>ï¼Œæ²¡æœ‰è¦æ±‚çš„å…ƒç´ çš„ä¸ªæ•°ä¿æŒä¸å˜ï¼Œ æ‰€ä»¥å¯ä»¥å¢åŠ æˆ–å‡å°‘æ•°æ®ã€‚&lt;/li>
&lt;li>Map ç®—å­å› ä¸ºç±»ä¼¼äºä¸²è¡Œæ“ä½œï¼Œæ‰€ä»¥æ€§èƒ½æ¯”è¾ƒä½ï¼Œè€Œæ˜¯ mapPartitions ç®—å­ç±»ä¼¼äºæ‰¹å¤„ç†ï¼Œæ‰€ä»¥æ€§èƒ½è¾ƒé«˜ã€‚ä½†æ˜¯mapPartitions ç®—å­ä¼šé•¿æ—¶é—´å ç”¨å†…å­˜ï¼Œé‚£ä¹ˆè¿™æ ·ä¼šå¯¼è‡´å†…å­˜å¯èƒ½ä¸å¤Ÿç”¨ï¼Œå‡ºç°å†…å­˜æº¢å‡ºçš„é”™è¯¯ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="mappartitionwithindex">&lt;a href="#mappartitionwithindex" class="header-anchor">&lt;/a>mapPartitionWithIndex
&lt;/h3>&lt;blockquote>
&lt;p>def mapPartitionsWithIndex[U: ClassTag]( f: (&lt;strong>Int, Iterator[T]) =&amp;gt; Iterator[U]&lt;/strong> ,preservesPartitioning: Boolean = false): RDD[U]&lt;/p>&lt;/blockquote>
&lt;p>å°†å¾…å¤„ç†çš„æ•°æ®ä»¥åˆ†åŒºä¸ºå•ä½å‘é€åˆ°è®¡ç®—èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œçš„å¤„ç†æ˜¯æŒ‡å¯ä»¥è¿›è¡Œä»»æ„çš„å¤„ç†ï¼Œå“ªæ€•æ˜¯è¿‡æ»¤æ•°æ®ï¼Œåœ¨å¤„ç†æ—¶åŒæ—¶å¯ä»¥è·å–å½“å‰åˆ†åŒºç´¢å¼•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mapPartitionsWithIndex&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">iter&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">index&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Nil&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iterator&lt;/span> &lt;span class="c1">//Nilæ˜¯ç©ºList
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯¹ç¬¬0ä¸ªåˆ†åŒºè¿›è¡ŒæŠ›å¼ƒï¼Œå¯¹ç¬¬1ä¸ªåˆ†åŒºè¿›è¡Œä¿ç•™ã€‚å¦‚æ‰€ç¤ºï¼Œç¨‹åºä»…è¾“å‡ºäº†ç¬¬1åˆ†åŒºé‡Œçš„å†…å®¹ã€‚&lt;/p>
&lt;h3 id="flatmap">&lt;a href="#flatmap" class="header-anchor">&lt;/a>flatMap
&lt;/h3>&lt;blockquote>
&lt;p>def flatMap[U: ClassTag](f: &lt;strong>T =&amp;gt; TraversableOnce[U]&lt;/strong>): RDD[U]&lt;/p>&lt;/blockquote>
&lt;p>å°†å¤„ç†çš„æ•°æ®è¿›è¡Œæ‰å¹³åŒ–åå†è¿›è¡Œæ˜ å°„å¤„ç†ï¼Œæ‰€ä»¥ç®—å­ä¹Ÿç§°ä¹‹ä¸ºæ‰å¹³æ˜ å°„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">groupRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Iterable&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">])]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">groupBy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">groupRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">groupRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatMap&lt;/span>&lt;span class="o">(&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Iterable[Int]çš„flatMapï¼š&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">mkString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">data2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">List&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">groupRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toList&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">data2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;List[Int]çš„flatMapï¼š&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">mkString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd22&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Any&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatMap&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="n">list&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">List&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd22&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(0,CompactBuffer(2, 4))
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1,CompactBuffer(1, 3, 5))
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Iterable[Int]çš„flatMapï¼š2,4,1,3,5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">List[Int]çš„flatMapï¼š2,4,1,3,5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç¬¬ä¸€æ®µç¨‹åºä¸­ï¼Œæˆ‘ä»¬çœ‹å‡ºRDD[List]å’ŒRDD[iterable]éƒ½å¯ä»¥è¢«flaMapç®—å­è¿›è¡Œæ‰å¹³åŒ–ã€‚åœ¨ç¬¬äºŒæ®µç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†å°† List(List(1,2),3,List(4,5))è¿›è¡Œæ‰å¹³åŒ–æ“ä½œã€‚&lt;/p>
&lt;h2 id="é‡æ–°åˆ†åŒºä¸æ•°æ®ç­›é€‰">&lt;a href="#%e9%87%8d%e6%96%b0%e5%88%86%e5%8c%ba%e4%b8%8e%e6%95%b0%e6%8d%ae%e7%ad%9b%e9%80%89" class="header-anchor">&lt;/a>é‡æ–°åˆ†åŒºä¸æ•°æ®ç­›é€‰
&lt;/h2>&lt;h3 id="coalesce">&lt;a href="#coalesce" class="header-anchor">&lt;/a>coalesce
&lt;/h3>&lt;blockquote>
&lt;p>def coalesce(numPartitions: Int, shuffle: Boolean = false, partitionCoalescer: Option[PartitionCoalescer] = Option.empty) (implicit ord: Ordering[T] = null): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>æ ¹æ®æ•°æ®é‡ç¼©å‡åˆ†åŒºï¼Œç”¨äºå¤§æ•°æ®é›†è¿‡æ»¤åï¼Œæé«˜å°æ•°æ®é›†çš„æ‰§è¡Œæ•ˆç‡ã€‚&lt;/p>
&lt;p>å½“ spark ç¨‹åºä¸­ï¼Œå­˜åœ¨è¿‡å¤šçš„å°ä»»åŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ coalesce æ–¹æ³•ï¼Œæ”¶ç¼©åˆå¹¶åˆ†åŒºï¼Œå‡å°‘åˆ†åŒºçš„ä¸ªæ•°ï¼Œå‡å°ä»»åŠ¡è°ƒåº¦æˆæœ¬ã€‚&lt;/p>
&lt;p>coalesceæ–¹æ³•é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå°†åˆ†åŒºçš„æ•°æ®æ‰“ä¹±é‡æ–°ç»„åˆï¼Œåªæ˜¯å°†å¤šä¸ªåˆ†åŒºåˆå¹¶ä¸º1ä¸€ä¸ªåˆ†åŒºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">coalesce&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1:1 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//2:3 4 5 6
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢ä»£ç çš„å«ä¹‰æ˜¯å°†3ä¸ªåˆ†åŒºç¼©å‡æˆ2ä¸ªï¼Œå¯è§æˆåŠŸæ‰§è¡Œï¼Œä¸€ä¸ªåˆ†åŒºé‡Œæœ‰2ä¸ªæ•°ï¼Œè€Œå¦ä¸€ä¸ªåˆ†åŒºé‡Œæœ‰4ä¸ªæ•°ã€‚&lt;/p>
&lt;h3 id="repartition">&lt;a href="#repartition" class="header-anchor">&lt;/a>repartition
&lt;/h3>&lt;blockquote>
&lt;p>def repartition(numPartitions: Int)(implicit ord: Ordering[T] = null): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>è¯¥æ“ä½œå†…éƒ¨å…¶å®æ‰§è¡Œçš„æ˜¯ coalesce æ“ä½œï¼Œå‚æ•° shuffle çš„é»˜è®¤å€¼ä¸º trueã€‚æ— è®ºæ˜¯å°†åˆ†åŒºæ•°å¤šçš„RDD è½¬æ¢ä¸ºåˆ†åŒºæ•°å°‘çš„RDDï¼Œè¿˜æ˜¯å°†åˆ†åŒºæ•°å°‘çš„ RDD è½¬æ¢ä¸ºåˆ†åŒºæ•°å¤šçš„RDDï¼Œrepartition æ“ä½œéƒ½å¯ä»¥å®Œæˆï¼Œå› ä¸ºæ— è®ºå¦‚ä½•éƒ½ä¼šç» shuffle è¿‡ç¨‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">repartition&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1:1 4 5
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//2:2 3 6
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºå‚æ•° shuffle çš„å€¼ä¸º trueï¼Œå°†åˆ†åŒºçš„æ•°æ®æ‰“ä¹±é‡æ–°ç»„åˆä»¥ä¿è¯ä¸ä¼šå‡ºç°æ•°æ®å€¾æ–œ&lt;/p>
&lt;h3 id="distinct">&lt;a href="#distinct" class="header-anchor">&lt;/a>distinct
&lt;/h3>&lt;blockquote>
&lt;p>def distinct()(implicit ord: Ordering[T] = null): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>å°†æ•°æ®é›†ä¸­é‡å¤çš„æ•°æ®å»é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">disRDD&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">distinct&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">disRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//4 1 3 2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="filter">&lt;a href="#filter" class="header-anchor">&lt;/a>filter
&lt;/h3>&lt;blockquote>
&lt;p>def filter(f: T =&amp;gt; Boolean): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>å°†æ•°æ®æ ¹æ®æŒ‡å®šçš„è§„åˆ™è¿›è¡Œç­›é€‰è¿‡æ»¤ï¼Œç¬¦åˆè§„åˆ™çš„æ•°æ®ä¿ç•™ï¼Œä¸ç¬¦åˆè§„åˆ™çš„æ•°æ®ä¸¢å¼ƒã€‚å½“æ•°æ®è¿›è¡Œç­›é€‰è¿‡æ»¤åï¼Œåˆ†åŒºä¸å˜ï¼Œä½†æ˜¯åˆ†åŒºå†…çš„æ•°æ®å¯èƒ½ä¸å‡è¡¡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">filterRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">filterRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//2 4
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬è¿‡æ»¤æ‰æ‰€æœ‰çš„å¥‡æ•°ï¼Œä»…ä»…ä¿ç•™å¶æ•°&lt;/p>
&lt;h3 id="groupby">&lt;a href="#groupby" class="header-anchor">&lt;/a>groupBy
&lt;/h3>&lt;p>å°†æ•°æ®æ ¹æ®æŒ‡å®šçš„è§„åˆ™è¿›è¡Œåˆ†ç»„, åˆ†åŒºé»˜è®¤ä¸å˜ï¼Œä½†æ˜¯æ•°æ®ä¼šè¢«æ‰“ä¹±é‡æ–°ç»„åˆï¼Œæˆ‘ä»¬å°†è¿™æ ·çš„æ“ä½œç§°ä¹‹ä¸ºshuffleã€‚æé™æƒ…å†µä¸‹ï¼Œæ•°æ®å¯èƒ½è¢«åˆ†åœ¨åŒä¸€ä¸ªåˆ†åŒºä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="n">groupFunction&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//val groupRDD: RDD[(Int, Iterable[Int])] = lineRdd.groupBy(_ % 2)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">groupRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Iterable&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">])]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">groupBy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">groupFunction&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">groupRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(0,CompactBuffer(2, 4))
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1,CompactBuffer(1, 3))
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒæŒ‰å¥‡å¶æ•°è¿›è¡Œåˆ†ç»„&lt;/p>
&lt;h3 id="sortby">&lt;a href="#sortby" class="header-anchor">&lt;/a>sortBy
&lt;/h3>&lt;blockquote>
&lt;p>def sortBy[K] ( f: (T) =&amp;gt; K, ascending: Boolean = true, numPartitions: Int = this.partitions.length) (implicit ord: Ordering[K], ctag: ClassTag[K]): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>è¯¥æ“ä½œç”¨äºæ’åºæ•°æ®ã€‚åœ¨æ’åºä¹‹å‰ï¼Œå¯ä»¥å°†æ•°æ®é€šè¿‡ f å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œä¹‹åæŒ‰ç…§ f å‡½æ•°å¤„ç†çš„ç»“æœè¿›è¡Œæ’åºï¼Œé»˜è®¤ä¸ºå‡åºæ’åˆ—ã€‚æ’åºåæ–°äº§ç”Ÿçš„ RDD çš„åˆ†åŒºæ•°ä¸åŸRDD çš„åˆ†åŒºæ•°ä¸€è‡´ã€‚ä¸­é—´å­˜åœ¨ shuffle çš„è¿‡ç¨‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;11&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">sortRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sortRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(1,1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(11,2)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(2,3)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢æ˜¯å­—ç¬¦ä¸²æ’åºï¼ŒæŒ‰å­—å…¸åºã€‚ä¸‹é¢è½¬æ¢æˆæ•°å­—ï¼Œæ³¨æ„ä¸¤è€…åŒºåˆ«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;11&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">sortRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toInt&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sortRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(1,1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(2,3)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(11,2)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é›†åˆç±»å‹ç®—å­æ“ä½œ">&lt;a href="#%e9%9b%86%e5%90%88%e7%b1%bb%e5%9e%8b%e7%ae%97%e5%ad%90%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>é›†åˆç±»å‹ç®—å­æ“ä½œ
&lt;/h2>&lt;h3 id="intersection">&lt;a href="#intersection" class="header-anchor">&lt;/a>intersection
&lt;/h3>&lt;blockquote>
&lt;p>def intersection(other: RDD[T]): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>å¯¹æºRDD å’Œå‚æ•°RDD æ±‚äº¤é›†åè¿”å›ä¸€ä¸ªæ–°çš„RDD&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd3&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">intersection&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//3 1 2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="union">&lt;a href="#union" class="header-anchor">&lt;/a>union
&lt;/h3>&lt;blockquote>
&lt;p>def union(other: RDD[T]): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>å¯¹æºRDD å’Œå‚æ•°RDD æ±‚å¹¶é›†åè¿”å›ä¸€ä¸ªæ–°çš„RDD&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd3&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">union&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1 2 3 4 5 6
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="subtract">&lt;a href="#subtract" class="header-anchor">&lt;/a>subtract
&lt;/h3>&lt;blockquote>
&lt;p>def subtract(other: RDD[T]): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>ä»¥ä¸€ä¸ª RDD å…ƒç´ ä¸ºä¸»ï¼Œå»é™¤ä¸¤ä¸ª RDD ä¸­é‡å¤å…ƒç´ ï¼Œå°†å…¶ä»–å…ƒç´ ä¿ç•™ä¸‹æ¥ã€‚æ±‚å·®é›†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd3&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subtract&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1 2 3
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="zip">&lt;a href="#zip" class="header-anchor">&lt;/a>zip
&lt;/h3>&lt;blockquote>
&lt;p>def zip[U: ClassTag](other: RDD[U]): RDD[(T, U)]&lt;/p>&lt;/blockquote>
&lt;p>å°†ä¸¤ä¸ª RDD ä¸­çš„å…ƒç´ ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼è¿›è¡Œåˆå¹¶ã€‚å…¶ä¸­ï¼Œé”®å€¼å¯¹ä¸­çš„Key ä¸ºç¬¬ 1 ä¸ª RDDä¸­çš„å…ƒç´ ï¼ŒValue ä¸ºç¬¬ 2 ä¸ª RDD ä¸­çš„ç›¸åŒä½ç½®çš„å…ƒç´ ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">zipRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">zipRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">mkString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(1,3),(2,4),(3,5),(4,6)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å¦‚æœä¸¤ä¸ªRDD æ•°æ®ç±»å‹ä¸ä¸€è‡´ ï¼Œå¯¹äºäº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ï¼Œä¸¤ä¸ªRDDçš„æ•°æ®ç±»å‹å¿…é¡»ç›¸åŒã€‚å¯¹äºæ‹‰é“¾æ“ä½œï¼Œä¸¤ä¸ªRDDçš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒã€‚&lt;/li>
&lt;li>å¦‚æœä¸¤ä¸ªRDDçš„åˆ†åŒºä¸­æ•°æ®é‡ä¸ä¸€è‡´ï¼Œå¯¹äºäº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ï¼Œä¸¤ä¸ªRDDçš„åˆ†åŒºä¸­æ•°æ®é‡ä¸éœ€è¦ç›¸åŒï¼›å¯¹äºæ‹‰é“¾æ“ä½œåˆ†åŒºä¸­æ•°æ®é‡å¿…é¡»ç›¸åŒã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="key-valueç±»å‹ç®—å­">&lt;a href="#key-value%e7%b1%bb%e5%9e%8b%e7%ae%97%e5%ad%90" class="header-anchor">&lt;/a>Key-Valueç±»å‹ç®—å­
&lt;/h2>&lt;h3 id="reducebykey">&lt;a href="#reducebykey" class="header-anchor">&lt;/a>reduceByKey
&lt;/h3>&lt;blockquote>
&lt;p>def reduceByKey(func: (V, V) =&amp;gt; V): RDD[(K, V)]&lt;/p>&lt;/blockquote>
&lt;p>å¯ä»¥å°†æ•°æ®æŒ‰ç…§ç›¸åŒçš„Key å¯¹Value è¿›è¡Œèšåˆï¼Œèšåˆæ“ä½œæ˜¯ä¸¤ä¸¤è¿›è¡Œèšåˆçš„ã€‚reduceByKeyä¸­å¦‚æœkeyçš„æ•°æ®åªæœ‰ä¸€ä¸ªï¼Œæ˜¯ä¸ä¼šå‚ä¸è¿ç®—çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Hello Scala&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;Hello Spark&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;Hello Spark&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;Hello 123&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">wordRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">wordOneRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">wordRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">wordOneRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reduceByKey&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">(Hello,4)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(123,1)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(Scala,1)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(Spark,2)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®å‚æ•°_+_ï¼Œå³è¡¨ç¤ºå°†ä¸¤ä¸ªvalueè¿›è¡Œç›¸åŠ ã€‚&lt;/p>
&lt;h3 id="groupbykey">&lt;a href="#groupbykey" class="header-anchor">&lt;/a>groupByKey
&lt;/h3>&lt;blockquote>
&lt;p>def groupByKey(): &lt;strong>RDD[(K, Iterable[V])]&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>å°†æ•°æ®æºçš„æ•°æ®æ ¹æ® keyï¼Œ å¯¹ value è¿›è¡Œåˆ†ç»„ï¼Œå°†æ•°æ®æºä¸­ç›¸åŒkeyçš„æ•°æ®åˆ†åœ¨ä¸€ä¸ªç»„ä¸­ï¼Œè¡Œæˆä¸€ä¸ªå¯¹å¶å…ƒç¥–ï¼Œå…ƒç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯keyï¼Œå…ƒç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ å°±è¡Œç›¸åŒkeyçš„valueçš„é›†åˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">groupRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Iterable&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">])]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">groupByKey&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">groupRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,CompactBuffer(1, 1, 1, 1))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,CompactBuffer(1, 1, 1, 1))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2.png"
width="517"
height="247"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_a063f4075e59ebc7.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_57fb657af3851411.png 1024w"
loading="lazy"
alt="groupByKeyå…·ä½“æµç¨‹"
class="gallery-image"
data-flex-grow="209"
data-flex-basis="502px"
>&lt;/p>
&lt;h3 id="aggregatebykey">&lt;a href="#aggregatebykey" class="header-anchor">&lt;/a>aggregateByKey
&lt;/h3>&lt;blockquote>
&lt;p>def aggregateByKey[U: ClassTag](zeroValue: U)(seqOp: (U, V) =&amp;gt; U, combOp: (U, U) =&amp;gt; U): RDD[(K, U)]&lt;/p>&lt;/blockquote>
&lt;p>å°†æ•°æ®æ ¹æ®ä¸åŒçš„è§„åˆ™è¿›è¡Œåˆ†åŒºå†…è®¡ç®—å’Œåˆ†åŒºé—´è®¡ç®—ã€‚&lt;/p>
&lt;p>aggregateByKeyå­˜åœ¨å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°åˆ—è¡¨ã€‚&lt;/p>
&lt;p>ç¬¬ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåˆå§‹å€¼ã€‚ä¸»è¦ç”¨äºå½“ç¢°è§ç¬¬ä¸€ä¸ªkeyçš„æ—¶å€™ï¼Œå’Œvalueè¿›è¡Œåˆ†åŒºå†…è®¡ç®—ã€‚&lt;/p>
&lt;p>ç¬¬äºŒä¸ªå‚æ•°åˆ—è¡¨éœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°&lt;/p>
&lt;ul>
&lt;li>å‚æ•°2.1ï¼šåˆ†åŒºå†…çš„è®¡ç®—è§„åˆ™&lt;/li>
&lt;li>å‚æ•°2.2ï¼šåˆ†åŒºé—´çš„è®¡ç®—è§„åˆ™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åŒåˆ†åŒºè·å–æœ€å¤§å€¼ï¼Œä¸åŒåˆ†åŒºç›¸åŠ æ±‚å’Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">aggregateByKey&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">)(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">math&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,8)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,8)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3.png"
width="883"
height="170"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_6665aa28736a397a.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_83457e2823e2ffb5.png 1024w"
loading="lazy"
alt="aggregateByKeyå…·ä½“æµç¨‹"
class="gallery-image"
data-flex-grow="519"
data-flex-basis="1246px"
>&lt;/p>
&lt;h3 id="foldbykey">&lt;a href="#foldbykey" class="header-anchor">&lt;/a>foldByKey
&lt;/h3>&lt;blockquote>
&lt;p>def foldByKey(zeroValue: V)(func: (V, V) =&amp;gt; V): RDD[(K, V)]&lt;/p>&lt;/blockquote>
&lt;p>å½“åˆ†åŒºå†…è®¡ç®—è§„åˆ™å’Œåˆ†åŒºé—´è®¡ç®—è§„åˆ™ç›¸åŒæ—¶ï¼ŒaggregateByKey å°±å¯ä»¥ç®€åŒ–ä¸ºfoldByKey&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åŒåˆ†åŒºç›¸åŠ æ±‚å’Œï¼Œä¸åŒåˆ†åŒºç›¸åŠ æ±‚å’Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">foldByKey&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">)(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,12)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,9)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="combinebykey">&lt;a href="#combinebykey" class="header-anchor">&lt;/a>combineByKey
&lt;/h3>&lt;blockquote>
&lt;p>def combineByKey[C]( createCombiner: V =&amp;gt; C, mergeValue: (C, V) =&amp;gt; C, mergeCombiners: (C, C) =&amp;gt; C): RDD[(K, C)]&lt;/p>&lt;/blockquote>
&lt;p>å¯¹key-value å‹ rdd è¿›è¡Œèšé›†æ“ä½œçš„èšé›†å‡½æ•°ï¼ˆaggregation functionï¼‰ã€‚ç±»ä¼¼äºaggregate()ï¼ŒcombineByKey()å…è®¸ç”¨æˆ·è¿”å›å€¼çš„ç±»å‹ä¸è¾“å…¥ä¸ä¸€è‡´ã€‚&lt;/p>
&lt;p>combineByKeyæ–¹æ³•éœ€è¦ä¸‰ä¸ªå‚æ•°&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨ç¤ºå°†ç›¸åŒkeyçš„ç¬¬ä¸€ä¸ªæ•°æ®è¿›è¡Œç»“æ„çš„è½¬æ¢ï¼Œå®ç°æ“ä½œ&lt;/li>
&lt;li>ç¬¬äºŒä¸ªå‚æ•°ï¼šè¡¨ç¤ºåˆ†åŒºå†…çš„è®¡ç®—è§„åˆ™&lt;/li>
&lt;li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¡¨ç¤ºåˆ†åŒºé—´çš„è®¡ç®—è§„åˆ™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">combineByKey&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">Int&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">t1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd3&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">t1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,4)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,3)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé¦–å…ˆå°†ç›¸åŒkeyçš„æ ¼å¼è½¬ä¸º(t,1)ï¼Œåˆ†åŒºå†…è®¡ç®—å¯¹äºç¬¬ä¸€ä¸ªæ•°æ®è¿›è¡Œç›¸åŠ ï¼Œç¬¬äºŒä¸ªæ•°æ®+1ï¼Œåˆ†åŒºé—´å°†ç¬¬ä¸€å’Œç¬¬äºŒä¸ªæ•°æ®å¯¹åº”ç›¸åŠ ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4.png"
width="1464"
height="222"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_48965666af441898.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_d28dc79c090f0154.png 1024w"
loading="lazy"
alt="combineByKeyå…·ä½“æ“ä½œ"
class="gallery-image"
data-flex-grow="659"
data-flex-basis="1582px"
>&lt;/p>
&lt;h3 id="join">&lt;a href="#join" class="header-anchor">&lt;/a>join
&lt;/h3>&lt;blockquote>
&lt;p>def join[W](other: RDD[(K, W)]): RDD[(K, (V, W))]&lt;/p>&lt;/blockquote>
&lt;p>åœ¨ç±»å‹ä¸º(K,V)å’Œ(K,W)çš„RDD ä¸Šè°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒ key å¯¹åº”çš„æ‰€æœ‰å…ƒç´ è¿æ¥åœ¨ä¸€èµ·çš„(K,(V,W))çš„RDD&lt;/p>
&lt;p>ä¸¤ä¸ªRDDä¸­çš„å…ƒç´ å¯¹è¿›è¡Œç¬›å¡å°”ä¹˜ç§¯æ€§è´¨çš„åŒ¹é…ï¼Œä½†åªä¼šæ‰“å°å‡ºåŒ¹é…æˆåŠŸçš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="n">joinRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">joinRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,5))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,(1,4))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(c,(3,6))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼ŒæˆåŠŸå°†a,b,cåé¢çš„å€¼åˆåœ¨ä¸€èµ·äº†&lt;/p>
&lt;p>å¦‚æœä¸¤ä¸ªæ•°æ®æºä¸­æœ‰å¤šä¸ªç›¸åŒçš„keyï¼Œé‚£ä¹ˆæ•°æ®æºaä¸­çš„keyä¼šä¸æ•°æ®æºbä¸­ç›¸åŒçš„keyå¤šæ¬¡åŒ¹é…æˆåŠŸï¼Œå› æ­¤ä¼šæ•°æ®é‡ä¼šå‡ ä½•æ€§è´¨å¢é•¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;d&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="n">joinRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">joinRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,5))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,6))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="leftouterjoin">&lt;a href="#leftouterjoin" class="header-anchor">&lt;/a>leftOuterJoin
&lt;/h3>&lt;blockquote>
&lt;p>def leftOuterJoin[W](other: RDD[(K, W)]): &lt;strong>RDD[(K, (V, Option[W]))]&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>ç±»ä¼¼äº SQL è¯­å¥çš„å·¦å¤–è¿æ¥ï¼Œæ ¹æ®å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¸¤ä¸ªRDDè¿æ¥èµ·æ¥ï¼Œå’Œjoinç®—å­ç±»ä¼¼ï¼Œä½†è¿™ä¸ªå¯ä»¥æ”¯æŒkeyä¸åŒ¹é…çš„æƒ…å†µã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">leftJoinRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Option&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">leftOuterJoin&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">leftJoinRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,Some(4)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,(1,Some(5)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(c,(3,None))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">)),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">leftJoinRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Option&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">leftOuterJoin&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">leftJoinRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,Some(4)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,Some(5)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(2,Some(6)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,(1,Some(5)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(c,(3,None))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="rightouterjoin">&lt;a href="#rightouterjoin" class="header-anchor">&lt;/a>rightOuterJoin
&lt;/h3>&lt;p>ç±»ä¼¼äºå·¦å¤–è¿æ¥ï¼Œä¸¤è€…åŒºåˆ«åœ¨äºå·¦è¿æ¥æ˜¯ä»¥å·¦è¾¹çš„RDDä¸ºä¸»ï¼Œå³è¿æ¥ä»¥å³è¾¹çš„RDDä¸ºä¸»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">),(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rightJoinRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Option&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rightOuterJoin&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rightJoinRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(Some(2),4))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,(Some(1),5))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(c,(None,3))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¡ŒåŠ¨ç®—å­">&lt;a href="#%e8%a1%8c%e5%8a%a8%e7%ae%97%e5%ad%90" class="header-anchor">&lt;/a>è¡ŒåŠ¨ç®—å­
&lt;/h2>&lt;h3 id="reduce">&lt;a href="#reduce" class="header-anchor">&lt;/a>reduce
&lt;/h3>&lt;blockquote>
&lt;p>def reduce(f: (T, T) =&amp;gt; T): T&lt;/p>&lt;/blockquote>
&lt;p>èšé›†RDD ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå…ˆèšåˆåˆ†åŒºå†…æ•°æ®ï¼Œå†èšåˆåˆ†åŒºé—´æ•°æ®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// èšåˆæ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">reduceResult&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reduce&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">reduceResult&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//10
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ10=1+2+3+4&lt;/p>
&lt;h3 id="collect">&lt;a href="#collect" class="header-anchor">&lt;/a>collect
&lt;/h3>&lt;blockquote>
&lt;p>def collect(): Array[T]&lt;/p>&lt;/blockquote>
&lt;p>åœ¨é©±åŠ¨ç¨‹åºä¸­ï¼Œæ–¹æ³•ä¼šå°†ä¸åŒåˆ†åŒºçš„æ•°æ®æŒ‰ç…§åˆ†åŒºé¡ºåºé‡‡é›†åˆ°Driverç«¯å†…å­˜ä¸­ï¼Œå½¢æˆæ•°ç»„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ”¶é›†æ•°æ®åˆ°Driver
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1 2 3 4
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="first">&lt;a href="#first" class="header-anchor">&lt;/a>first
&lt;/h3>&lt;blockquote>
&lt;p>def first(): T&lt;/p>&lt;/blockquote>
&lt;p>è¿”å›RDD ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">firstResult&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">firstResult&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="take">&lt;a href="#take" class="header-anchor">&lt;/a>take
&lt;/h3>&lt;blockquote>
&lt;p>def take(num: Int): Array[T]&lt;/p>&lt;/blockquote>
&lt;p>è¿”å›ä¸€ä¸ªç”±RDD çš„å‰ n ä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">takeResult&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">take&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">takeResult&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mkString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1,2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="takeordered">&lt;a href="#takeordered" class="header-anchor">&lt;/a>takeOrdered
&lt;/h3>&lt;blockquote>
&lt;p>def takeOrdered(num: Int)(implicit ord: Ordering[T]): Array[T]&lt;/p>&lt;/blockquote>
&lt;p>è¿”å›è¯¥ RDD æ’åºåçš„å‰ n ä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">takeOrdered&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1 2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="aggregate">&lt;a href="#aggregate" class="header-anchor">&lt;/a>aggregate
&lt;/h3>&lt;blockquote>
&lt;p>def aggregate[U: ClassTag](zeroValue: U)(seqOp: (U, T) =&amp;gt; U, combOp: (U, U) =&amp;gt; U): U&lt;/p>&lt;/blockquote>
&lt;p>åˆ†åŒºçš„æ•°æ®é€šè¿‡åˆå§‹å€¼å’Œåˆ†åŒºå†…çš„æ•°æ®è¿›è¡Œèšåˆï¼Œç„¶åå†å’Œåˆå§‹å€¼è¿›è¡Œåˆ†åŒºé—´çš„æ•°æ®èšåˆï¼›å³ï¼Œåˆå§‹å€¼ä¸ä»…å‚ä¸åˆ†åŒºå†…è®¡ç®—ï¼ŒåŒæ—¶ä¹Ÿå‚ä¸åˆ†åŒºé—´è®¡ç®—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç»„å†…ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº1(1)ï¼Œç»„å†…ç»“æœ11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº2(2)ï¼Œç»„å†…ç»“æœ12
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº3(3)ï¼Œç»„å†…ç»“æœ13
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº4(4)ï¼Œç»„å†…ç»“æœ14
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº5(0)ï¼Œç»„å†…ç»“æœ10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº6(0)ï¼Œç»„å†…ç»“æœ10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº7(0)ï¼Œç»„å†…ç»“æœ10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº8(0)ï¼Œç»„å†…ç»“æœ10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç»„é—´ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆå€¼10,åˆ†åŒº(11,12,13,14,10,10,10,10)ï¼Œç»“æœ100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">aggregate&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">)(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//100
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="fold">&lt;a href="#fold" class="header-anchor">&lt;/a>fold
&lt;/h3>&lt;blockquote>
&lt;p>def fold(zeroValue: T)(op: (T, T) =&amp;gt; T): T&lt;/p>&lt;/blockquote>
&lt;p>æŠ˜å æ“ä½œï¼Œaggregateçš„ç®€åŒ–ç‰ˆæ“ä½œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">foldResult&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fold&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">)(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">foldResult&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//10
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="countbykey">&lt;a href="#countbykey" class="header-anchor">&lt;/a>countByKey
&lt;/h3>&lt;blockquote>
&lt;p>def countByKey(): Map[K, Long]&lt;/p>&lt;/blockquote>
&lt;p>ç»Ÿè®¡æ¯ç§ key çš„ä¸ªæ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">String&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç»Ÿè®¡æ¯ç§ key çš„ä¸ªæ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">collection.Map&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Long&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">countByKey&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Map(1 -&amp;gt; 3, 2 -&amp;gt; 1, 3 -&amp;gt; 2)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="rdd-ä¾èµ–å…³ç³»">&lt;a href="#rdd-%e4%be%9d%e8%b5%96%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>RDD ä¾èµ–å…³ç³»
&lt;/h2>&lt;h3 id="çª„ä¾èµ–">&lt;a href="#%e7%aa%84%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>çª„ä¾èµ–
&lt;/h3>&lt;p>çª„ä¾èµ–è¡¨ç¤ºæ¯ä¸€ä¸ªçˆ¶(ä¸Šæ¸¸)RDD çš„ Partition æœ€å¤šè¢«å­ï¼ˆä¸‹æ¸¸ï¼‰RDD çš„ä¸€ä¸ª Partition ä½¿ç”¨ï¼Œ çª„ä¾èµ–æˆ‘ä»¬å½¢è±¡çš„æ¯”å–»ä¸ºç‹¬ç”Ÿå­å¥³ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5.png"
width="597"
height="362"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_fc30415153645387.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_8652f9bd222b1e2a.png 1024w"
loading="lazy"
alt="çª„ä¾èµ–"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="395px"
>&lt;/p>
&lt;h3 id="å®½ä¾èµ–">&lt;a href="#%e5%ae%bd%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>å®½ä¾èµ–
&lt;/h3>&lt;p>å®½ä¾èµ–è¡¨ç¤ºåŒä¸€ä¸ªçˆ¶ï¼ˆä¸Šæ¸¸ï¼‰RDD çš„ Partition è¢«å¤šä¸ªå­ï¼ˆä¸‹æ¸¸ï¼‰RDD çš„ Partition ä¾èµ–ï¼Œä¼šå¼•èµ· Shuffleï¼Œæ€»ç»“ï¼šå®½ä¾èµ–æˆ‘ä»¬å½¢è±¡çš„æ¯”å–»ä¸ºå¤šç”Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6.png"
width="518"
height="293"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_ed678b5fdfc8d0e6.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_c21652afbab113a7.png 1024w"
loading="lazy"
alt="å®½ä¾èµ–"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;h2 id="wordcount">&lt;a href="#wordcount" class="header-anchor">&lt;/a>WordCount
&lt;/h2>&lt;p>å…¸ä¸­å…¸ç¨‹åºï¼Œå¿…è€ƒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">org.apache.spark.rdd.RDD&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">org.apache.spark.&lt;/span>&lt;span class="o">{&lt;/span>&lt;span class="nc">SparkConf&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nc">SparkContext&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">WordCount&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">])&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Unit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">sparkConf&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nc">SparkConf&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">setMaster&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;local&amp;#34;&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="n">setAppName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;WordCount&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">sc&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nc">SparkContext&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">sparkConf&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">textFile&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;spark-core/src/main/resources/words&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">wordRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flatMap&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">wordOneRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">wordRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="k">_&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">wordOneRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reduceByKey&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">_&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å…³é—­è¿æ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stop&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æœ‰å‘æ— ç¯å›¾">&lt;a href="#%e6%9c%89%e5%90%91%e6%97%a0%e7%8e%af%e5%9b%be" class="header-anchor">&lt;/a>æœ‰å‘æ— ç¯å›¾
&lt;/h3>&lt;p>DAG(Directed Acyclic Graph)å«åšæœ‰å‘æ— ç¯å›¾ï¼ŒåŸå§‹çš„RDDé€šè¿‡ä¸€ç³»åˆ—çš„è½¬æ¢å°±å½¢æˆäº†DAGã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7.png"
width="615"
height="776"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7_hu_9effc8dcf86cae73.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7_hu_9357c41b0ad53b8b.png 1024w"
loading="lazy"
alt="DAG"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="190px"
>&lt;/p>
&lt;h3 id="stageçš„åˆ’åˆ†">&lt;a href="#stage%e7%9a%84%e5%88%92%e5%88%86" class="header-anchor">&lt;/a>stageçš„åˆ’åˆ†
&lt;/h3>&lt;p>ä¸€ä¸ªJobä¼šè¢«æ‹†åˆ†ä¸ºå¤šç»„Taskï¼Œæ¯ç»„ä»»åŠ¡è¢«ç§°ä¸ºä¸€ä¸ªstageã€‚stageè¡¨ç¤ºä¸åŒçš„è°ƒåº¦é˜¶æ®µï¼Œä¸€ä¸ªspark jobä¼šå¯¹åº”äº§ç”Ÿå¾ˆå¤šä¸ªstageã€‚&lt;/p>
&lt;p>æ ¹æ®RDDä¹‹é—´ä¾èµ–å…³ç³»çš„ä¸åŒå°†DAGåˆ’åˆ†æˆä¸åŒçš„Stage(è°ƒåº¦é˜¶æ®µ)&lt;/p>
&lt;ul>
&lt;li>å¯¹äºçª„ä¾èµ–ï¼Œpartitionçš„è½¬æ¢å¤„ç†åœ¨ä¸€ä¸ªStageä¸­å®Œæˆè®¡ç®—&lt;/li>
&lt;li>å¯¹äºå®½ä¾èµ–ï¼Œç”±äºæœ‰Shuffleçš„å­˜åœ¨ï¼Œåªèƒ½åœ¨parent RDDå¤„ç†å®Œæˆåï¼Œæ‰èƒ½å¼€å§‹æ¥ä¸‹æ¥çš„è®¡ç®—&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>åˆ’åˆ†stageçš„ä¾æ®å°±æ˜¯å®½ä¾èµ–&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>é¦–å…ˆæ ¹æ®rddçš„ç®—å­æ“ä½œé¡ºåºç”ŸæˆDAGæœ‰å‘æ— ç¯å›¾ï¼Œæ¥ä¸‹é‡Œä»æœ€åä¸€ä¸ªrddå¾€å‰æ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„stageï¼ŒæŠŠè¯¥rddåŠ å…¥åˆ°è¯¥stageä¸­ï¼Œå®ƒæ˜¯æœ€åä¸€ä¸ªstageã€‚&lt;/li>
&lt;li>åœ¨å¾€å‰æ¨çš„è¿‡ç¨‹ä¸­è¿è¡Œé‡åˆ°äº†çª„ä¾èµ–å°±æŠŠè¯¥rddåŠ å…¥åˆ°æœ¬stageä¸­ï¼Œå¦‚æœé‡åˆ°äº†å®½ä¾èµ–ï¼Œå°±ä»å®½ä¾èµ–åˆ‡å¼€ï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ªstageä¹Ÿå°±ç»“æŸäº†ã€‚&lt;/li>
&lt;li>é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„stageï¼ŒæŒ‰ç…§ç¬¬äºŒä¸ªæ­¥éª¤ç»§ç»­å¾€å‰æ¨ï¼Œä¸€ç›´åˆ°æœ€å¼€å§‹çš„rddï¼Œæ•´ä¸ªåˆ’åˆ†stageä¹Ÿå°±ç»“æŸäº†&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8.png"
width="1362"
height="1097"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8_hu_f254df874c4cbd1a.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8_hu_ee417677d2918fd6.png 1024w"
loading="lazy"
alt="åˆ’åˆ†stage"
class="gallery-image"
data-flex-grow="124"
data-flex-basis="297px"
>&lt;/p>
&lt;p>åˆ’åˆ†å®Œstageä¹‹åï¼Œæ¯ä¸€ä¸ªstageä¸­æœ‰å¾ˆå¤šå¯ä»¥å¹¶è¡Œè¿è¡Œçš„taskï¼ŒåæœŸæŠŠæ¯ä¸€ä¸ªstageä¸­çš„taskå°è£…åœ¨ä¸€ä¸ªtaskSeté›†åˆä¸­ï¼Œæœ€åæŠŠä¸€ä¸ªä¸€ä¸ªçš„taskSeté›†åˆæäº¤åˆ°workerèŠ‚ç‚¹ä¸Šçš„executorè¿›ç¨‹ä¸­è¿è¡Œã€‚&lt;/p>
&lt;p>rddä¸rddä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œstageä¸stageä¹‹å‰ä¹Ÿå­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå‰é¢stageä¸­çš„taskå…ˆè¿è¡Œï¼Œè¿è¡Œå®Œæˆäº†å†è¿è¡Œåé¢stageä¸­çš„taskï¼Œä¹Ÿå°±æ˜¯è¯´åé¢stageä¸­çš„taskè¾“å…¥æ•°æ®æ˜¯å‰é¢stageä¸­taskçš„è¾“å‡ºç»“æœæ•°æ®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9.png"
width="1873"
height="383"
srcset="https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9_hu_8e65985cb7426c8c.png 480w, https://lbqaq.top/p/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9_hu_354531c69dfd7aa7.png 1024w"
loading="lazy"
alt="stageä¸stageä¹‹é—´çš„å…³ç³»"
class="gallery-image"
data-flex-grow="489"
data-flex-basis="1173px"
>&lt;/p>
&lt;h2 id="ç¼“å­˜å’Œæ£€æŸ¥ç‚¹åŒºåˆ«">&lt;a href="#%e7%bc%93%e5%ad%98%e5%92%8c%e6%a3%80%e6%9f%a5%e7%82%b9%e5%8c%ba%e5%88%ab" class="header-anchor">&lt;/a>ç¼“å­˜å’Œæ£€æŸ¥ç‚¹åŒºåˆ«
&lt;/h2>&lt;p>å¿…è€ƒï¼Œä¹Ÿæ˜¯éå¸¸é‡è¦&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Cache&lt;/strong> ç¼“å­˜åªæ˜¯å°†æ•°æ®&lt;strong>ä¸´æ—¶&lt;/strong>ä¿å­˜èµ·æ¥ã€‚Cache ç¼“å­˜çš„æ•°æ®é€šå¸¸å­˜å‚¨åœ¨å†…å­˜ï¼Œå¯é æ€§ä½ã€‚&lt;strong>ä¸åˆ‡æ–­è¡€ç¼˜ä¾èµ–&lt;/strong>ï¼Œåªä¼šåœ¨è¡€ç¼˜å…³ç³»ä¸­æ·»åŠ æ–°çš„ä¾èµ–ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œå¯ä»¥é‡å¤´è¯»å–æ•°æ®ã€‚&lt;/li>
&lt;li>&lt;strong>persisit&lt;/strong>ï¼šå°†æ•°æ®&lt;strong>ä¸´æ—¶&lt;/strong>å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶ä¸­è¿›è¡Œæ•°æ®é‡ç”¨ï¼Œæ¶‰åŠåˆ°ç£ç›˜IOï¼Œæ€§èƒ½è¾ƒä½ï¼Œä½†æ˜¯æ•°æ®å®‰å…¨ã€‚å¦‚æœä½œä¸šæ‰§è¡Œå®Œæ¯•ï¼Œä¸´æ—¶ä¿å­˜çš„æ•°æ®æ–‡ä»¶å°±ä¼šä¸¢å¤±ã€‚&lt;/li>
&lt;li>&lt;strong>CheckPoint&lt;/strong>ï¼šå°†æ•°æ®é•¿ä¹…åœ°ä¿å­˜åœ¨ç£ç›˜æ–‡ä»¶ä¸­è¿›è¡Œæ•°æ®é‡ç”¨ï¼Œæ¶‰åŠåˆ°ç£ç›˜IOï¼Œæ€§èƒ½è¾ƒä½ï¼Œä½†æ˜¯æ•°æ®å®‰å…¨ã€‚ä¸ºäº†åŒ…è£…æ•°æ®å®‰å…¨ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šç‹¬ç«‹æ‰§è¡Œä½œä¸šï¼Œå°±æ˜¯æŠŠå½“å‰éœ€è¦æŒä¹…åŒ–çš„RDDé‡æ–°åˆ›å»ºå¹¶ä¿å­˜ã€‚ä¸ºäº†èƒ½å¤Ÿæé«˜æ•ˆç‡ï¼Œé€šå¸¸å’Œcacheè”åˆä½¿ç”¨ã€‚&lt;/li>
&lt;li>Checkpoint æ£€æŸ¥ç‚¹ä¼š&lt;strong>åˆ‡æ–­è¡€ç¼˜ä¾èµ–&lt;/strong>ï¼Œé‡æ–°å»ºç«‹æ–°çš„è¡€ç¼˜å…³ç³»ã€‚&lt;/li>
&lt;li>cache æœºåˆ¶æ˜¯æ¯è®¡ç®—å‡ºä¸€ä¸ªè¦ cache çš„ partition å°±ç›´æ¥å°†å…¶ cache åˆ°å†…å­˜äº†ã€‚ä½† checkpoint æ²¡æœ‰ä½¿ç”¨è¿™ç§ç¬¬ä¸€æ¬¡è®¡ç®—å¾—åˆ°å°±å­˜å‚¨çš„æ–¹æ³•ï¼Œè€Œæ˜¯ç­‰åˆ° job ç»“æŸåå¦å¤–å¯åŠ¨ä¸“é—¨çš„ job å»å®Œæˆ checkpoint ã€‚ ä¹Ÿå°±æ˜¯è¯´éœ€è¦ checkpoint çš„ RDD ä¼šè¢«è®¡ç®—ä¸¤æ¬¡ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨checkpoint() çš„æ—¶å€™ï¼Œå»ºè®®åŠ ä¸Š rdd.cache()ï¼Œ è¿™æ ·ç¬¬äºŒæ¬¡è¿è¡Œçš„ job å°±ä¸ç”¨å†å»è®¡ç®—è¯¥ rdd äº†ï¼Œç›´æ¥è¯»å– cache å†™ç£ç›˜ã€‚å»ºè®®å¯¹checkpoint()çš„RDD ä½¿ç”¨Cache ç¼“å­˜ï¼Œè¿™æ · checkpoint çš„ job åªéœ€ä» Cache ç¼“å­˜ä¸­è¯»å–æ•°æ®å³å¯ï¼Œå¦åˆ™éœ€è¦å†ä»å¤´è®¡ç®—ä¸€æ¬¡RDDã€‚Checkpoint æ£€æŸ¥ç‚¹åˆ‡æ–­è¡€ç¼˜ä¾èµ–ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="combinebykeyå’Œaggregatebykeyçš„å¼‚åŒ">&lt;a href="#combinebykey%e5%92%8caggregatebykey%e7%9a%84%e5%bc%82%e5%90%8c" class="header-anchor">&lt;/a>combineByKeyå’ŒaggregateByKeyçš„å¼‚åŒ
&lt;/h2>&lt;h3 id="ç›¸åŒç‚¹">&lt;a href="#%e7%9b%b8%e5%90%8c%e7%82%b9" class="header-anchor">&lt;/a>ç›¸åŒç‚¹
&lt;/h3>&lt;ul>
&lt;li>éƒ½æœ‰ä¸‰ä¸ªå‚æ•°&lt;/li>
&lt;li>ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯åˆ†åŒºå†…æ“ä½œå’Œåˆ†åŒºé—´æ“ä½œ&lt;/li>
&lt;li>éƒ½å±äºèšåˆæ“ä½œï¼Œä½¿æ•°æ®é‡å‡å°‘&lt;/li>
&lt;li>éƒ½æ˜¯è½¬æ¢ç®—å­ï¼Œä¸è§¦å‘ç¨‹åºæ‰§è¡Œ&lt;/li>
&lt;/ul>
&lt;h3 id="ä¸åŒç‚¹">&lt;a href="#%e4%b8%8d%e5%90%8c%e7%82%b9" class="header-anchor">&lt;/a>ä¸åŒç‚¹
&lt;/h3>&lt;ul>
&lt;li>å¯¹äºç¬¬ä¸€ä¸ªå‚æ•°ï¼ŒaggregateByKeyæ˜¯è®¾ç½®åˆå§‹å€¼ï¼ŒcombineByKeyæ˜¯è¿›è¡Œè½¬æ¢&lt;/li>
&lt;li>combineByKeyç»„å†…è®¡ç®—å’Œç»„é—´è®¡ç®—æ•°æ®æ ¼å¼ä¸ä¸€æ ·ï¼›
aggregateByKeyç»„å†…è®¡ç®—å’Œç»„é—´è®¡ç®—æ•°æ®æ ¼å¼ä¸€æ ·&lt;/li>
&lt;/ul>
&lt;h2 id="aggregateå’Œaggregatebykeyçš„å¼‚åŒ">&lt;a href="#aggregate%e5%92%8caggregatebykey%e7%9a%84%e5%bc%82%e5%90%8c" class="header-anchor">&lt;/a>aggregateå’ŒaggregateByKeyçš„å¼‚åŒ
&lt;/h2>&lt;h3 id="ç›¸åŒç‚¹-1">&lt;a href="#%e7%9b%b8%e5%90%8c%e7%82%b9-1" class="header-anchor">&lt;/a>ç›¸åŒç‚¹
&lt;/h3>&lt;ul>
&lt;li>éƒ½æ˜¯å…·æœ‰åˆ†åŒºå†…æ“ä½œå’Œåˆ†åŒºé—´æ“ä½œ&lt;/li>
&lt;li>éƒ½æ˜¯èšåˆç±»å‹çš„ç®—å­&lt;/li>
&lt;/ul>
&lt;h3 id="ä¸åŒç‚¹-1">&lt;a href="#%e4%b8%8d%e5%90%8c%e7%82%b9-1" class="header-anchor">&lt;/a>ä¸åŒç‚¹
&lt;/h3>&lt;ul>
&lt;li>aggregateByKeyçš„åˆå§‹å€¼ä¸ä¼šå‚ä¸åˆ†åŒºé—´è®¡ç®—ï¼›å¯¹keyè¿›è¡Œæ“ä½œï¼Œéœ€è¦é”®å€¼å¯¹&lt;/li>
&lt;li>aggregateçš„åˆå§‹å€¼ä¼šå‚ä¸åˆ†åŒºé—´è®¡ç®—ï¼Œä¼šè§¦å‘ç¨‹åºè¿è¡Œï¼Œè¿›è¡Œè¯»æ•°æ®&lt;/li>
&lt;/ul>
&lt;h2 id="æ±‚å¹³å‡å€¼">&lt;a href="#%e6%b1%82%e5%b9%b3%e5%9d%87%e5%80%bc" class="header-anchor">&lt;/a>æ±‚å¹³å‡å€¼
&lt;/h2>&lt;p>å…¸ä¸­å…¸ç¨‹åºï¼Œè¿™ä¹Ÿæ˜¯å¿…è€ƒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">org.apache.spark.rdd.RDD&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">org.apache.spark.&lt;/span>&lt;span class="o">{&lt;/span>&lt;span class="nc">SparkConf&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nc">SparkContext&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">exam&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">])&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Unit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">sparkConf&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nc">SparkConf&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">setMaster&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;local&amp;#34;&lt;/span>&lt;span class="o">).&lt;/span>&lt;span class="n">setAppName&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;exam&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">sc&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nc">SparkContext&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">sparkConf&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;Spark&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Hadoop&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Scala&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Spark&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Hadoop&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Int&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reduceByKey&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">((&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">rdd3&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="kt">Int&lt;/span>&lt;span class="o">)]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rdd3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stop&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç®—å­è¡¥å……">&lt;a href="#%e7%ae%97%e5%ad%90%e8%a1%a5%e5%85%85" class="header-anchor">&lt;/a>ç®—å­è¡¥å……
&lt;/h2>&lt;h3 id="glom">&lt;a href="#glom" class="header-anchor">&lt;/a>glom
&lt;/h3>&lt;blockquote>
&lt;p>def glom(): RDD[Array[T]]&lt;/p>&lt;/blockquote>
&lt;p>å°†&lt;strong>åŒä¸€ä¸ªåˆ†åŒºçš„æ•°æ®&lt;/strong>ç›´æ¥è½¬æ¢ä¸ºä¸€ä¸ª&lt;strong>ç›¸åŒç±»å‹çš„å†…å­˜æ•°ç»„&lt;/strong>è¿›è¡Œå¤„ç†ï¼Œåˆ†åŒºä¸å˜&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">lineRdd&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">glomRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">lineRdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">glom&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">glomRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mkString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1,2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//3,4
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="sample">&lt;a href="#sample" class="header-anchor">&lt;/a>sample
&lt;/h3>&lt;blockquote>
&lt;p>def sample( withReplacement: Boolean, fraction: Double, seed: Long = Utils.random.nextLong): RDD[T]&lt;/p>&lt;/blockquote>
&lt;p>æ ¹æ®æŒ‡å®šçš„è§„åˆ™ä»æ•°æ®é›†ä¸­æŠ½å–æ•°æ®&lt;/p>
&lt;ul>
&lt;li>ç¬¬1ä¸ªå‚æ•°withReplacementè¡¨ç¤ºï¼šæŠ½å–åæ˜¯å¦å°†æ•°æ®è¿”å›ï¼Œtrueï¼ˆæ”¾å›ï¼‰ï¼Œfalseï¼ˆä¸¢å¼ƒï¼‰&lt;/li>
&lt;li>ç¬¬2ä¸ªå‚æ•°fractionè¡¨ç¤ºï¼š å½“ç¬¬ä¸€å‚æ•°ä¸ºtrueï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºï¼šæŠ½å–ä¸æ”¾å›çš„æ¦‚ç‡ï¼›åŸºå‡†å€¼çš„æ¦‚å¿µï¼ˆæ¯ä¸ªæ•°æœ‰ä¸€ä¸ª0~1éšæœºå€¼ï¼Œç”¨éšå³å€¼ä¸åŸºå‡†å€¼è¿›è¡Œæ¯”è¾ƒï¼‰ï¼› å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºfalseï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºï¼Œå¯èƒ½æŠ½å–çš„æ¬¡æ•°ã€‚&lt;/li>
&lt;li>ç¬¬3ä¸ªå‚æ•°seedè¡¨ç¤ºï¼šæŠ½å–æ•°æ®æ—¶ï¼Œéšæœºç®—æ³•çš„ç§å­ï¼›å¦‚æœä¸ä¼ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨çš„å½“å‰ç³»ç»Ÿæ—¶é—´&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">dataRDD&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sparkContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">(&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">),&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æŠ½å–æ•°æ®ä¸æ”¾å›ï¼ˆä¼¯åŠªåˆ©ç®—æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¼¯åŠªåˆ©ç®—æ³•ï¼šåˆå« 0ã€1 åˆ†å¸ƒã€‚ä¾‹å¦‚æ‰”ç¡¬å¸ï¼Œè¦ä¹ˆæ­£é¢ï¼Œè¦ä¹ˆåé¢ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å…·ä½“å®ç°ï¼šæ ¹æ®ç§å­å’Œéšæœºç®—æ³•ç®—å‡ºä¸€ä¸ªæ•°å’Œç¬¬äºŒä¸ªå‚æ•°è®¾ç½®å‡ ç‡æ¯”è¾ƒï¼Œå°äºç¬¬äºŒä¸ªå‚æ•°è¦ï¼Œå¤§äºä¸è¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŠ½å–çš„æ•°æ®æ˜¯å¦æ”¾å›ï¼Œfalseï¼šä¸æ”¾å›
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬äºŒä¸ªå‚æ•°ï¼šæŠ½å–çš„å‡ ç‡ï¼ŒèŒƒå›´åœ¨[0,1]ä¹‹é—´,0ï¼šå…¨ä¸å–ï¼›1ï¼šå…¨å–ï¼›
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šéšæœºæ•°ç§å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">dataRDD1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">dataRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sample&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æŠ½å–æ•°æ®æ”¾å›ï¼ˆæ³Šæ¾ç®—æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŠ½å–çš„æ•°æ®æ˜¯å¦æ”¾å›ï¼Œtrueï¼šæ”¾å›ï¼›falseï¼šä¸æ”¾å›
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬äºŒä¸ªå‚æ•°ï¼šé‡å¤æ•°æ®çš„å‡ ç‡ï¼ŒèŒƒå›´å¤§äºç­‰äº 0.è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è¢«æœŸæœ›æŠ½å–åˆ°çš„æ¬¡æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šéšæœºæ•°ç§å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="n">dataRDD2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">dataRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sample&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="partitionby">&lt;a href="#partitionby" class="header-anchor">&lt;/a>partitionBy
&lt;/h3>&lt;blockquote>
&lt;p>def partitionBy(partitioner: Partitioner): RDD[(K, V)]&lt;/p>&lt;/blockquote>
&lt;p>å°†æ•°æ®æŒ‰ç…§æŒ‡å®šçš„Partitionerè§„åˆ™ é‡æ–°è¿›è¡Œé‡æ–°åˆ†åŒºã€‚Spark é»˜è®¤çš„åˆ†åŒºå™¨æ˜¯HashPartitioner&lt;/p>
&lt;p>å¤ªå†·é—¨äº†ï¼Œåº”è¯¥ä¸è€ƒï¼Œå°±ä¸æ”¾ä»£ç äº†&lt;/p>
&lt;h3 id="cogroup">&lt;a href="#cogroup" class="header-anchor">&lt;/a>cogroup
&lt;/h3>&lt;blockquote>
&lt;p>def cogroup[W](other: RDD[(K, W)]): RDD[(K, (Iterable[V], Iterable[W]))]&lt;/p>&lt;/blockquote>
&lt;p>åœ¨ç±»å‹ä¸º(K,V)å’Œ(K,W)çš„RDD ä¸Šè°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ª(K,(Iterable&amp;lt;V&amp;gt;,Iterable&amp;lt;W&amp;gt;))ç±»å‹çš„ RDD&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd1&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">44&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">rdd2&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">sc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makeRDD&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">List&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">),(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">99&lt;/span>&lt;span class="o">)),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="n">cgRDD&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">RDD&lt;/span>&lt;span class="o">[(&lt;/span>&lt;span class="kt">String&lt;/span>, &lt;span class="o">(&lt;/span>&lt;span class="kt">Iterable&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]&lt;/span>, &lt;span class="kt">Iterable&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">Int&lt;/span>&lt;span class="o">]))]&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">rdd1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cogroup&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">rdd2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cgRDD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="n">foreach&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(x,(CompactBuffer(44),CompactBuffer()))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(b,(CompactBuffer(2),CompactBuffer(4)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(a,(CompactBuffer(1),CompactBuffer(5)))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//(c,(CompactBuffer(),CompactBuffer(3, 99)))
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹é¢éƒ½æ˜¯è¡ŒåŠ¨ç®—å­&lt;/p>
&lt;h3 id="count">&lt;a href="#count" class="header-anchor">&lt;/a>count
&lt;/h3>&lt;blockquote>
&lt;p>def count(): Long&lt;/p>&lt;/blockquote>
&lt;p>è¿”å›RDD ä¸­å…ƒç´ çš„ä¸ªæ•°&lt;/p>
&lt;h3 id="saveastextfile">&lt;a href="#saveastextfile" class="header-anchor">&lt;/a>saveAsTextFile
&lt;/h3>&lt;blockquote>
&lt;p>def saveAsTextFile(path: String): Unit&lt;/p>&lt;/blockquote>
&lt;p>ä¿å­˜æˆ Text æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="n">rdd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">saveAsTextFile&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;output&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ç‰¹å¾å·¥ç¨‹å­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Fri, 20 May 2022 13:18:58 +0800</pubDate><guid>https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/98259515.webp" alt="Featured image of post ç‰¹å¾å·¥ç¨‹å­¦ä¹ ç¬”è®°" />&lt;h2 id="å·ç§¯ç¥ç»ç½‘ç»œcnn">&lt;a href="#%e5%8d%b7%e7%a7%af%e7%a5%9e%e7%bb%8f%e7%bd%91%e7%bb%9ccnn" class="header-anchor">&lt;/a>å·ç§¯ç¥ç»ç½‘ç»œ(CNN)
&lt;/h2>&lt;h3 id="cnnçš„åŸºæœ¬æ¶æ„">&lt;a href="#cnn%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%9e%b6%e6%9e%84" class="header-anchor">&lt;/a>CNNçš„åŸºæœ¬æ¶æ„
&lt;/h3>&lt;p>ä¸€ä¸ªå…¸å‹çš„å·ç§¯ç½‘ç»œæ˜¯ç”±å·ç§¯å±‚ã€ æ±‡èšå±‚ã€ å…¨è¿æ¥å±‚äº¤å‰å †å è€Œæˆã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="1236"
height="284"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_cbd4703895dbf0a1.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_5e591e229d971e2b.png 1024w"
loading="lazy"
alt="å¸¸ç”¨çš„å·ç§¯ç½‘ç»œæ•´ä½“ç»“æ„"
class="gallery-image"
data-flex-grow="435"
data-flex-basis="1044px"
>&lt;/p>
&lt;p>ä¸€ä¸ªå·ç§¯å—ä¸ºè¿ç»­ ğ‘€ ä¸ªå·ç§¯å±‚å’Œ ğ‘ ä¸ªæ±‡èšå±‚ï¼ˆ ğ‘€ é€šå¸¸è®¾ç½®ä¸º2 âˆ¼ 5ï¼Œğ‘ä¸º0æˆ–1ï¼‰ã€‚ ä¸€ä¸ªå·ç§¯ç½‘ç»œä¸­å¯ä»¥å †å ğ‘ ä¸ªè¿ç»­çš„å·ç§¯å—ï¼Œ ç„¶ååœ¨åé¢æ¥ç€ ğ¾ ä¸ªå…¨è¿æ¥å±‚ï¼ˆ ğ‘ çš„å–å€¼åŒºé—´æ¯”è¾ƒå¤§ï¼Œ æ¯”å¦‚ 1 âˆ¼ 100 æˆ–è€…æ›´å¤§ï¼›ğ¾ ä¸€èˆ¬ä¸º0 âˆ¼ 2ï¼‰ã€‚&lt;/p>
&lt;p>ä¸Šé¢è¿™å¼ å›¾é‡Œçš„æ±‡èšå±‚ä¹Ÿå°±æ˜¯ä¸‹é¢å›¾ä¸­çš„æ± åŒ–å±‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2.png"
width="748"
height="178"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_87b03c617aae7e39.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_919870736619d2ae.png 1024w"
loading="lazy"
alt="å›¾å½¢è¯†åˆ«çš„CNNæ¨¡å‹"
class="gallery-image"
data-flex-grow="420"
data-flex-basis="1008px"
>&lt;/p>
&lt;ul>
&lt;li>è¾“å…¥å±‚ã€‚åœ¨ä¸Šå›¾ä¸­å°±æ˜¯æœ€å·¦è¾¹çš„èˆ¹çš„å›¾åƒï¼Œè®¡ç®—æœºç†è§£ä¸ºè¾“å…¥è‹¥å¹²ä¸ªçŸ©é˜µã€‚&lt;/li>
&lt;li>å·ç§¯å±‚(Convolution Layer)ã€‚å·ç§¯å±‚çš„æ¿€æ´»å‡½æ•°ä½¿ç”¨çš„æ˜¯ReLUï¼Œ$ReLU(x) = max(0,x)$ã€‚&lt;/li>
&lt;li>æ± åŒ–å±‚(Pooling layer)ã€‚æ± åŒ–å±‚æ²¡æœ‰æ¿€æ´»å‡½æ•°ã€‚&lt;/li>
&lt;/ul>
&lt;p>å·ç§¯å±‚+æ± åŒ–å±‚çš„ç»„åˆå¯ä»¥åœ¨éšè—å±‚å‡ºç°å¾ˆå¤šæ¬¡ï¼Œä¸Šå›¾ä¸­å‡ºç°ä¸¤æ¬¡ã€‚è¿™é‡Œå·ç§¯å±‚+æ± åŒ–å±‚å¯éšæ„ç»„åˆï¼Œå¦‚å·ç§¯å±‚+å·ç§¯å±‚ï¼Œæˆ–è€…å·ç§¯å±‚+å·ç§¯å±‚+æ± åŒ–å±‚ã€‚ä¸è¿‡æˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯è‹¥å¹²å·ç§¯å±‚+æ± åŒ–å±‚çš„ç»„åˆã€‚&lt;/p>
&lt;ul>
&lt;li>å…¨è¿æ¥å±‚(Fully Connected Layer, ç®€ç§°FC)ï¼Œè¾“å‡ºå±‚ä½¿ç”¨äº†Softmaxæ¿€æ´»å‡½æ•°æ¥åšå›¾åƒè¯†åˆ«çš„åˆ†&lt;/li>
&lt;/ul>
&lt;p>ä¸ºäº†ç»Ÿä¸€èµ·è§ï¼Œæˆ‘ä»¬ä¸‹é¢å¯¹äºPooling layerçš„ä¸­æ–‡ç¿»è¯‘éƒ½ä¸º&lt;strong>æ±‡èšå±‚&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="å·ç§¯">&lt;a href="#%e5%8d%b7%e7%a7%af" class="header-anchor">&lt;/a>å·ç§¯
&lt;/h3>&lt;p>å¯¹äºä¸€ç»´å·ç§¯ï¼Œæˆ‘ä»¬å‡è®¾æ»¤æ³¢å™¨é•¿åº¦ä¸º$K$ï¼Œ å®ƒå’Œä¸€ä¸ªä¿¡å·åºåˆ—$x_1,x_2,&amp;hellip;$çš„å·ç§¯ä¸ºï¼š&lt;/p>
$$
y_t=\sum_{k=1}^{K}w_kx_{t-k+1}
$$&lt;p>ä¸ºäº†ç®€å•èµ·è§ï¼Œ è¿™é‡Œå‡è®¾å·ç§¯çš„è¾“å‡º$y_t$ çš„ä¸‹æ ‡$t$ä»$k$å¼€å§‹&lt;/p>
&lt;p>ä¿¡å·åºåˆ—$x$å’Œæ»¤æ³¢å™¨$w$ï¼ˆä¹Ÿå«å·ç§¯æ ¸ï¼‰çš„å·ç§¯å®šä¹‰ä¸ºï¼š&lt;/p>
$$
y=w*x
$$&lt;p>å…¶ä¸­$*$è¡¨ç¤ºå·ç§¯è¿ç®—ã€‚&lt;/p>
&lt;p>å¯¹äºäºŒç»´çŸ©é˜µï¼Œç»™å®šå›¾åƒ$X(M\times N)$ï¼Œæ»¤æ³¢å™¨$W(U \times V)$æˆ‘ä»¬å®šä¹‰ï¼š&lt;/p>
$$
y_{ij}=\sum_{u=1}^{U}\sum_{v=1}^{V} w_{uv}x_{i-u+1,j-v+1}
$$&lt;p>å…‰çœ‹å…¬å¼è¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ï¼Œè¿˜æ˜¯è¦ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p>
&lt;p>å›¾ä¸­çš„è¾“å…¥æ˜¯ä¸€ä¸ªäºŒç»´çš„3x4çš„çŸ©é˜µï¼Œè€Œå·ç§¯æ ¸æ˜¯ä¸€ä¸ª2x2çš„çŸ©é˜µã€‚è¿™é‡Œæˆ‘ä»¬å‡è®¾å·ç§¯æ˜¯ä¸€æ¬¡ç§»åŠ¨ä¸€ä¸ªåƒç´ æ¥å·ç§¯çš„ï¼Œé‚£ä¹ˆé¦–å…ˆæˆ‘ä»¬å¯¹è¾“å…¥çš„å·¦ä¸Šè§’2x2å±€éƒ¨å’Œå·ç§¯æ ¸å·ç§¯ï¼Œå³å„ä¸ªä½ç½®çš„å…ƒç´ ç›¸ä¹˜å†ç›¸åŠ ï¼Œå¾—åˆ°çš„è¾“å‡ºçŸ©é˜µSçš„$S_{00}$çš„å…ƒç´ ï¼Œå€¼ä¸º$aw+bx+ey+fz$ã€‚æ¥ç€æˆ‘ä»¬å°†è¾“å…¥çš„å±€éƒ¨å‘å³å¹³ç§»ä¸€ä¸ªåƒç´ ï¼Œç°åœ¨æ˜¯(b,c,f,g)å››ä¸ªå…ƒç´ æ„æˆçš„çŸ©é˜µå’Œå·ç§¯æ ¸æ¥å·ç§¯ï¼Œè¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†è¾“å‡ºçŸ©é˜µSçš„$S_{01}$çš„å…ƒç´ ï¼ŒåŒæ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¾“å‡ºçŸ©é˜µSçš„$S_{02}ï¼ŒS_{10}ï¼ŒS_{11}ï¼Œ S_{12}$çš„å…ƒç´ ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3.png"
width="551"
height="498"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_bb2ac6d798606422.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_7671340644fc48ad.png 1024w"
loading="lazy"
alt="äºŒç»´å·ç§¯çš„è¿ç®—"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
>&lt;/p>
&lt;p>æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°å·ç§¯è¾“å‡ºçš„çŸ©é˜µä¸ºä¸€ä¸ª2x3çš„çŸ©é˜µSã€‚&lt;/p>
&lt;p>å¦‚æœè¿™ä¸ªä¾‹å­è¿˜æ˜¯ä¸ç›´è§‚ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªåŠ¨å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4.png"
width="127"
height="115"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_2c354beefb31c285.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_f43209402feb2829.png 1024w"
loading="lazy"
alt="è¾“å…¥"
class="gallery-image"
data-flex-grow="110"
data-flex-basis="265px"
> &lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5.png"
width="74"
height="63"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_5fbc62f3c8bd602a.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_2e842f30aa4169e0.png 1024w"
loading="lazy"
alt="æ»¤æ³¢å™¨"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="281px"
> &lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/conv.gif"
width="268"
height="196"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/conv_hu_e31d19f53038eb76.gif 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/conv_hu_4718a8da3cb33d87.gif 1024w"
loading="lazy"
alt="è®¡ç®—è¿‡ç¨‹(ç‚¹å¼€æ‰èƒ½åŠ¨)"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="328px"
>&lt;/p>
&lt;p>å¯æ˜¯ï¼Œè€ƒè¯•æ—¶å¯ä¸ä»…ä»…ä¼šè€ƒäºŒç»´çš„çŸ©é˜µï¼Œè¿˜ä¼šè€ƒä¸‰ç»´çŸ©é˜µã€‚&lt;/p>
&lt;p>åœ¨ä»‹ç»ä¸‰ç»´çŸ©é˜µä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¼•å…¥ä¸¤ä¸ªæ¦‚å¿µï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æ­¥é•¿&lt;/strong>(Stride)ï¼šæŒ‡å·ç§¯æ ¸åœ¨æ»‘åŠ¨æ—¶çš„æ—¶é—´é—´éš”ã€‚è¯´äººè¯å°±æ˜¯çŸ©é˜µæ¯æ¬¡å³ç§»çš„é•¿åº¦ï¼Œæ¯”å¦‚ä¸‹é¢è¦è¯´çš„ä¾‹å­ä¸­æ­¥é•¿ä¸º2å°±å³ç§»2ä¸ªåƒç´ ã€‚&lt;/li>
&lt;li>&lt;strong>é›¶å¡«å……&lt;/strong>(Zero Padding)ï¼šæ˜¯åœ¨è¾“å…¥å‘é‡ä¸¤ç«¯è¿›è¡Œè¡¥é›¶ã€‚æ¯”å¦‚ä¸‹é¢è¦è¯´çš„ä¾‹å­pad=1ï¼Œå°±åœ¨çŸ©é˜µå‘¨å›´å¡«ä¸€åœˆ0&lt;/li>
&lt;/ul>
&lt;p>åœ¨æ–¯å¦ç¦å¤§å­¦çš„cs231nçš„è¯¾ç¨‹ä¸Šï¼Œæœ‰ä¸€ä¸ªåŠ¨æ€çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°±çœ‹è¿™ä¸ªä¾‹å­ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://cs231n.github.io/assets/conv-demo/index.html" target="_blank" rel="noopener"
>Convolution demo&lt;/a>&lt;/p>
&lt;p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¯¹äºä¸‰ç»´çš„çŸ©é˜µï¼Œæˆ‘ä»¬æ˜¯å°†å…¶æ‹†æˆ3ä¸ªäºŒç»´çš„çŸ©é˜µï¼Œç„¶åå¯¹åº”çš„å°†è¾“å…¥$X$å’Œå·ç§¯æ ¸$W$è¿›è¡Œå·ç§¯è¿ç®—ã€‚&lt;/p>
&lt;h3 id="æ±‡èšå±‚">&lt;a href="#%e6%b1%87%e8%81%9a%e5%b1%82" class="header-anchor">&lt;/a>æ±‡èšå±‚
&lt;/h3>&lt;p>å…¶ä½œç”¨æ˜¯è¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œé™ä½ç‰¹å¾æ•°é‡ï¼Œ ä»è€Œå‡å°‘å‚æ•°æ•°é‡ã€‚è¯´äººè¯å°±æ˜¯è¾“å…¥å¼ é‡çš„å„ä¸ªå­çŸ©é˜µè¿›è¡Œå‹ç¼©ã€‚å‡å¦‚æ˜¯2x2çš„æ±‡èšï¼Œé‚£ä¹ˆå°±å°†å­çŸ©é˜µçš„æ¯2x2ä¸ªå…ƒç´ å˜æˆä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ˜¯3x3çš„æ±‡èšï¼Œé‚£ä¹ˆå°±å°†å­çŸ©é˜µçš„æ¯3x3ä¸ªå…ƒç´ å˜æˆä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·è¾“å…¥çŸ©é˜µçš„ç»´åº¦å°±å˜å°äº†ã€‚&lt;/p>
&lt;p>è¦æƒ³å°†è¾“å…¥å­çŸ©é˜µçš„æ¯nxnä¸ªå…ƒç´ å˜æˆä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆéœ€è¦ä¸€ä¸ªæ±‡èšæ ‡å‡†ã€‚å¸¸è§çš„æ±‡èšæ ‡å‡†æœ‰2ä¸ªï¼ŒMAXæˆ–è€…æ˜¯MEANã€‚å³å–å¯¹åº”åŒºåŸŸçš„æœ€å¤§å€¼æˆ–è€…å¹³å‡å€¼ä½œä¸ºæ±‡èšåçš„å…ƒç´ å€¼ã€‚&lt;/p>
&lt;p>ä¸‹é¢è¿™ä¸ªä¾‹å­é‡‡ç”¨å–æœ€å¤§å€¼çš„æ±‡èšæ–¹æ³•ã€‚åŒæ—¶é‡‡ç”¨çš„æ˜¯2x2çš„æ±‡èšã€‚æ­¥å¹…ä¸º2ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6.png"
width="494"
height="421"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_e16619aadd589e05.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_b02e3e60caef98c5.png 1024w"
loading="lazy"
alt="æœ€å¤§åŒ–æ±‡èšå®ä¾‹"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="281px"
>&lt;/p>
&lt;p>é¦–å…ˆå¯¹çº¢è‰²2x2åŒºåŸŸè¿›è¡Œæ±‡èšï¼Œç”±äºæ­¤2x2åŒºåŸŸçš„æœ€å¤§å€¼ä¸º6ã€‚é‚£ä¹ˆå¯¹åº”çš„æ±‡èšè¾“å‡ºä½ç½®çš„å€¼ä¸º6ï¼Œç”±äºæ­¥å¹…ä¸º2ï¼Œæ­¤æ—¶ç§»åŠ¨åˆ°ç»¿è‰²çš„ä½ç½®å»è¿›è¡Œæ±‡èšï¼Œè¾“å‡ºçš„æœ€å¤§å€¼ä¸º8ã€‚åŒæ ·çš„æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°é»„è‰²åŒºåŸŸå’Œè“è‰²åŒºåŸŸçš„è¾“å‡ºå€¼ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬çš„è¾“å…¥4x4çš„çŸ©é˜µåœ¨æ±‡èšåå˜æˆäº†2x2çš„çŸ©é˜µï¼Œè¿›è¡Œäº†å‹ç¼©ã€‚&lt;/p>
&lt;h3 id="ä¾‹é¢˜">&lt;a href="#%e4%be%8b%e9%a2%98" class="header-anchor">&lt;/a>ä¾‹é¢˜
&lt;/h3>&lt;p>æœ‰äº†ä¸Šé¢è¿™äº›å†…å®¹çš„é“ºå«ï¼Œæˆ‘ä»¬å°±ä¼šæƒŠå–œçš„å‘ç°ï¼Œä¸‹é¢è¿™é“é¢˜å¯ä»¥è½»æ¾çš„å®Œæˆäº†&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7.png"
width="1037"
height="710"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7_hu_f793e69e2520273b.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/7_hu_85a9c2500a85eac0.png 1024w"
loading="lazy"
alt="å»å¹´çš„ä¾‹é¢˜"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
>&lt;/p>
&lt;h2 id="å¾ªç¯ç¥ç»ç½‘ç»œrnn">&lt;a href="#%e5%be%aa%e7%8e%af%e7%a5%9e%e7%bb%8f%e7%bd%91%e7%bb%9crnn" class="header-anchor">&lt;/a>å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)
&lt;/h2>&lt;p>åœ¨å‰é¢è®²åˆ°çš„DNNå’ŒCNNä¸­ï¼Œè®­ç»ƒæ ·æœ¬çš„è¾“å…¥å’Œè¾“å‡ºæ˜¯æ¯”è¾ƒçš„ç¡®å®šçš„ã€‚ä½†æ˜¯æœ‰ä¸€ç±»é—®é¢˜DNNå’ŒCNNä¸å¥½è§£å†³ï¼Œå°±æ˜¯è®­ç»ƒæ ·æœ¬è¾“å…¥æ˜¯è¿ç»­çš„åºåˆ—,ä¸”åºåˆ—çš„é•¿çŸ­ä¸ä¸€ï¼Œæ¯”å¦‚åŸºäºæ—¶é—´çš„åºåˆ—ï¼šä¸€æ®µæ®µè¿ç»­çš„è¯­éŸ³ï¼Œä¸€æ®µæ®µè¿ç»­çš„æ‰‹å†™æ–‡å­—ã€‚è¿™äº›åºåˆ—æ¯”è¾ƒé•¿ï¼Œä¸”é•¿åº¦ä¸ä¸€ï¼Œæ¯”è¾ƒéš¾ç›´æ¥çš„æ‹†åˆ†æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„æ ·æœ¬æ¥é€šè¿‡DNN/CNNè¿›è¡Œè®­ç»ƒã€‚&lt;/p>
&lt;p>è¿™æ—¶å°±éœ€è¦RNNäº†ã€‚RNNæ˜¯ä¸€ç±»å…·æœ‰çŸ­æœŸè®°å¿†èƒ½åŠ›çš„ç¥ç»ç½‘ç»œï¼ŒRNNçš„æ¨¡å‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8.png"
width="405"
height="238"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8_hu_35371899d4f78f90.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/8_hu_7a3c455f846da484.png 1024w"
loading="lazy"
alt="å¾ªç¯ç¥ç»ç½‘ç»œ"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="408px"
>&lt;/p>
&lt;h3 id="å•ä¸€ç¥ç»å…ƒçš„rnn">&lt;a href="#%e5%8d%95%e4%b8%80%e7%a5%9e%e7%bb%8f%e5%85%83%e7%9a%84rnn" class="header-anchor">&lt;/a>å•ä¸€ç¥ç»å…ƒçš„RNN
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9.png"
width="665"
height="473"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9_hu_e29d4fa182b60751.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/9_hu_6c2c10c10f04953d.png 1024w"
loading="lazy"
alt="ç»“æ„å›¾"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">SingleLayerRNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Module&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">inputSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SingleLayerRNN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># inputSize x hiddenSize : 4 x 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Wx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># hiddenSize x hiddenSize : 1 x 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Wy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 1 xhiddenSize : 1 x 4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># batchSize x hiddenSize : 1 x 4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tanh&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Wx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># batchSize x hiddenSize : 1 X 4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tanh&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Wx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Wy&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">INPUT_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">HIDDEN_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># t=0 =&amp;gt; batchSize x inputSize : 4 x 4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X0_batch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]],&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">float&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># t=1 =&amp;gt; batchSize x inputSize : 4 x 4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X1_batch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]],&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">float&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SingleLayerRNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INPUT_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">HIDDEN_SIZE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Y0_batch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Y1_batch&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X0_batch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X1_batch&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Y0_batch&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Y1_batch&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨rnnè¿›è¡Œmnistè®­ç»ƒ">&lt;a href="#%e4%bd%bf%e7%94%a8rnn%e8%bf%9b%e8%a1%8cmnist%e8%ae%ad%e7%bb%83" class="header-anchor">&lt;/a>ä½¿ç”¨RNNè¿›è¡ŒMNISTè®­ç»ƒ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">nn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torchvision&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torchvision.transforms&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">transforms&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.optim&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">optim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">environ&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;KMP_DUPLICATE_LIB_OK&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;TRUE&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">BATCH_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DOWNLOAD_DATASET&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># list all transformations&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">transform&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Compose&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Resize&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">28&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">transforms&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ToTensor&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># download and load training dataset&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">trainDataset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torchvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datasets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MNIST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;./MNIST/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">download&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">DOWNLOAD_DATASET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">transform&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">trainLoader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainDataset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">BATCH_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># download and load testing dataset&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testDataset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torchvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datasets&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">MNIST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;./MNIST/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">download&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">DOWNLOAD_DATASET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">transform&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testLoader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testDataset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">BATCH_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># functions to show an image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">imshow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># img = img / 2 + 0.5 # unnormalize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">npimg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">numpy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imshow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">transpose&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">npimg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># get some random training images&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">dataIter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">iter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainLoader&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dataIter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># show images&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">imshow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torchvision&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make_grid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># parameters&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">INPUT_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">28&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">HIDDEN_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">150&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">OUTPUT_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TIME_STEP&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">28&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">MAX_EPOCH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">ImageRNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Module&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batchSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">timeStep&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">inputSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">outputSize&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ImageRNN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hiddenSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hiddenSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">batchSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">batchSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">timeStep&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">timeStep&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">inputSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">inputSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">outputSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">outputSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">inputSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">outputSize&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">initializeHidden&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># (num_layers, batch_size, hidden_size)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">batchSize&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hiddenSize&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># transforms X to dimensions: timeStep x batchSize x inputSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">X&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">permute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">batchSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">initializeHidden&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># rnnOutput =&amp;gt; timeStep, batchSize, hiddenSize (hidden states for each time step)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># self.hidden =&amp;gt; 1, batchSize, hiddenSize (final state from each rnnOutput)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rnnOutput&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">out&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">outputSize&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># batchSize x outputSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">dataIter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">iter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainLoader&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dataIter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ImageRNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BATCH_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TIME_STEP&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INPUT_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">HIDDEN_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OUTPUT_SIZE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ypred&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypred&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Device&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">device&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;cuda:0&amp;#34;&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="s2">&amp;#34;cpu&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Model instance&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ImageRNN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BATCH_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TIME_STEP&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INPUT_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">HIDDEN_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OUTPUT_SIZE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">criterion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CrossEntropyLoss&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Adam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.001&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">computeAccuracy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39; Obtain accuracy for training round &amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">corrects&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">accuracy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">100.0&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">corrects&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">numel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">accuracy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">epoch&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MAX_EPOCH&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># loop over the dataset multiple times&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trainLoss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trainAccuracy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">train&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># TRAINING ROUND&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainLoader&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># reset hidden states&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">initializeHidden&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># get the inputs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">inputs&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># forward&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ypred&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypred&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># backward + optimize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trainLoss&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">detach&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trainAccuracy&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">computeAccuracy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypred&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">eval&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Epoch: &lt;/span>&lt;span class="si">{:2d}&lt;/span>&lt;span class="s1"> | Loss: &lt;/span>&lt;span class="si">{:8.4f}&lt;/span>&lt;span class="s1"> | Train Accuracy: &lt;/span>&lt;span class="si">{:5.2f}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epoch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trainLoss&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trainAccuracy&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">eval&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testAccuracy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testLoader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">images&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">images&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">images&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">28&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">testAccuracy&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">computeAccuracy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">outputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Test Accuracy: &lt;/span>&lt;span class="si">{:6.2f}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testAccuracy&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testLoader&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/10.png"
width="832"
height="345"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/10_hu_fb3875121e5cb7a9.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/10_hu_fbac4949a5d161c.png 1024w"
loading="lazy"
alt="æ¨¡å‹æ„å»º"
class="gallery-image"
data-flex-grow="241"
data-flex-basis="578px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/11.png"
width="514"
height="227"
srcset="https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/11_hu_efcb8313531e8d9f.png 480w, https://lbqaq.top/p/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/11_hu_1dd7fddca58ac906.png 1024w"
loading="lazy"
alt="æµ‹è¯•ä»£ç "
class="gallery-image"
data-flex-grow="226"
data-flex-basis="543px"
>&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/6483207.html" target="_blank" rel="noopener"
>å·ç§¯ç¥ç»ç½‘ç»œ(CNN)æ¨¡å‹ç»“æ„ - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nndl.github.io/" target="_blank" rel="noopener"
>ç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ &lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>å›å½’åˆ†æå­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Fri, 20 May 2022 12:50:16 +0800</pubDate><guid>https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/95446530.webp" alt="Featured image of post å›å½’åˆ†æå­¦ä¹ ç¬”è®°" />&lt;h2 id="çº¿æ€§å›å½’">&lt;a href="#%e7%ba%bf%e6%80%a7%e5%9b%9e%e5%bd%92" class="header-anchor">&lt;/a>çº¿æ€§å›å½’
&lt;/h2>&lt;p>çº¿æ€§å›å½’é‡åˆ°çš„é—®é¢˜ä¸€èˆ¬æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬æœ‰mä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬å¯¹åº”äºnç»´ç‰¹å¾å’Œä¸€ä¸ªç»“æœè¾“å‡ºï¼Œå¦‚ä¸‹ï¼š&lt;/p>
$$
(x_1^{(0)}, x_2^{(0)}, ...x_n^{(0)}, y_0), (x_1^{(1)}, x_2^{(1)}, ...x_n^{(1)},y_1), ... (x_1^{(m)}, x_2^{(m)}, ...x_n^{(m)}, y_m)
$$&lt;p>æˆ‘ä»¬çš„é—®é¢˜æ˜¯ï¼Œå¯¹äºä¸€ä¸ªæ–°çš„$(x_1^{(x)}, x_2^{(x)}, &amp;hellip;x_n^{(x)})$, ä»–æ‰€å¯¹åº”çš„$y_x$æ˜¯å¤šå°‘å‘¢ï¼Ÿ å¦‚æœè¿™ä¸ªé—®é¢˜é‡Œé¢çš„yæ˜¯è¿ç»­çš„ï¼Œåˆ™æ˜¯ä¸€ä¸ªå›å½’é—®é¢˜ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªåˆ†ç±»é—®é¢˜ã€‚&lt;/p>
&lt;p>å¯¹äºnç»´ç‰¹å¾çš„æ ·æœ¬æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬å†³å®šä½¿ç”¨çº¿æ€§å›å½’ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ¨¡å‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;p>$h_\theta(x_1, x_2, &amp;hellip;x_n) = \theta_0 + \theta_{1}x_1 + &amp;hellip; + \theta_{n}x_{n}$, å…¶ä¸­$\theta_i$ (i = 0,1,2&amp;hellip; n)ä¸ºæ¨¡å‹å‚æ•°ï¼Œ$x_i$ (i = 0,1,2&amp;hellip; n)ä¸ºæ¯ä¸ªæ ·æœ¬çš„nä¸ªç‰¹å¾å€¼ã€‚è¿™ä¸ªè¡¨ç¤ºå¯ä»¥ç®€åŒ–ï¼Œæˆ‘ä»¬å¢åŠ ä¸€ä¸ªç‰¹å¾$x_0 = 1$ï¼Œè¿™æ ·$h_\theta(x_0, x_1, &amp;hellip;x_n) = \sum\limits_{i=0}^{n}\theta_{i}x_{i}$ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ğŸ’¡ &lt;strong>å‡æ–¹è¯¯å·®(MSE)&lt;/strong>&lt;/p>
$$
> MSE=\frac{1}{n}\sum_{i=1}^{m}w_i(y_i-\widehat{y_i})^2
> $$&lt;/blockquote>
&lt;p>å…¶ä¸­$y_i$æ˜¯çœŸå®æ•°æ®ï¼Œ$\widehat{y_i}$æ˜¯æ‹Ÿåˆçš„æ•°æ®ï¼Œ$w_i&amp;gt;0$&lt;/p>
&lt;p>å¾—åˆ°äº†æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºéœ€è¦çš„æŸå¤±å‡½æ•°ï¼Œä¸€èˆ¬çº¿æ€§å›å½’æˆ‘ä»¬ç”¨ &lt;strong>å‡æ–¹è¯¯å·®(MSE)&lt;/strong> ä½œä¸ºæŸå¤±å‡½æ•°ã€‚æŸå¤±å‡½æ•°çš„ä»£æ•°æ³•è¡¨ç¤ºå¦‚ä¸‹ï¼š&lt;/p>
$$
J(\theta_0, \theta_1..., \theta_n) = \sum\limits_{i=1}^{m}(h_\theta(x_0^{(i)}, x_1^{(i)}, ...x_n^{(i)}) - y_i)^2
$$&lt;p>ç”±äºçŸ©é˜µå½¢å¼ä¸å¥½ç†è§£ï¼Œè¿™é‡Œå°±ä¸åˆ—å‡ºäº†ã€‚&lt;/p>
&lt;p>å¦‚ä½•æ±‚æŸå¤±å‡½æ•°æœ€å°åŒ–æ—¶å€™çš„$\mathbf{\theta}$å‚æ•°ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•äº†ã€‚&lt;/p>
&lt;h2 id="æ¢¯åº¦ä¸‹é™æ³•">&lt;a href="#%e6%a2%af%e5%ba%a6%e4%b8%8b%e9%99%8d%e6%b3%95" class="header-anchor">&lt;/a>æ¢¯åº¦ä¸‹é™æ³•
&lt;/h2>&lt;h3 id="æ¢¯åº¦">&lt;a href="#%e6%a2%af%e5%ba%a6" class="header-anchor">&lt;/a>æ¢¯åº¦
&lt;/h3>&lt;p>åœ¨å¾®ç§¯åˆ†é‡Œé¢ï¼Œå¯¹å¤šå…ƒå‡½æ•°çš„å‚æ•°æ±‚âˆ‚åå¯¼æ•°ï¼ŒæŠŠæ±‚å¾—çš„å„ä¸ªå‚æ•°çš„åå¯¼æ•°ä»¥å‘é‡çš„å½¢å¼å†™å‡ºæ¥ï¼Œå°±æ˜¯æ¢¯åº¦ã€‚é‚£ä¹ˆè¿™ä¸ªæ¢¯åº¦å‘é‡æ±‚å‡ºæ¥æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿä»–çš„æ„ä¹‰ä»å‡ ä½•æ„ä¹‰ä¸Šè®²ï¼Œå°±æ˜¯å‡½æ•°å˜åŒ–å¢åŠ æœ€å¿«çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h3 id="æ¢¯åº¦ä¸‹é™çš„ç›´è§‚è§£é‡Š">&lt;a href="#%e6%a2%af%e5%ba%a6%e4%b8%8b%e9%99%8d%e7%9a%84%e7%9b%b4%e8%a7%82%e8%a7%a3%e9%87%8a" class="header-anchor">&lt;/a>æ¢¯åº¦ä¸‹é™çš„ç›´è§‚è§£é‡Š
&lt;/h3>&lt;p>é¦–å…ˆæ¥çœ‹çœ‹æ¢¯åº¦ä¸‹é™çš„ä¸€ä¸ªç›´è§‚çš„è§£é‡Šã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€åº§å¤§å±±ä¸Šçš„æŸå¤„ä½ç½®ï¼Œç”±äºæˆ‘ä»¬ä¸çŸ¥é“æ€ä¹ˆä¸‹å±±ï¼Œäºæ˜¯å†³å®šèµ°ä¸€æ­¥ç®—ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯åœ¨æ¯èµ°åˆ°ä¸€ä¸ªä½ç½®çš„æ—¶å€™ï¼Œæ±‚è§£å½“å‰ä½ç½®çš„æ¢¯åº¦ï¼Œæ²¿ç€æ¢¯åº¦çš„è´Ÿæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯å½“å‰æœ€é™¡å³­çš„ä½ç½®å‘ä¸‹èµ°ä¸€æ­¥ï¼Œç„¶åç»§ç»­æ±‚è§£å½“å‰ä½ç½®æ¢¯åº¦ï¼Œå‘è¿™ä¸€æ­¥æ‰€åœ¨ä½ç½®æ²¿ç€æœ€é™¡å³­æœ€æ˜“ä¸‹å±±çš„ä½ç½®èµ°ä¸€æ­¥ã€‚è¿™æ ·ä¸€æ­¥æ­¥çš„èµ°ä¸‹å»ï¼Œä¸€ç›´èµ°åˆ°è§‰å¾—æˆ‘ä»¬å·²ç»åˆ°äº†å±±è„šã€‚å½“ç„¶è¿™æ ·èµ°ä¸‹å»ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬ä¸èƒ½èµ°åˆ°å±±è„šï¼Œè€Œæ˜¯åˆ°äº†æŸä¸€ä¸ªå±€éƒ¨çš„å±±å³°ä½å¤„ã€‚&lt;/p>
&lt;p>ä»ä¸Šé¢çš„è§£é‡Šå¯ä»¥çœ‹å‡ºï¼Œæ¢¯åº¦ä¸‹é™ä¸ä¸€å®šèƒ½å¤Ÿæ‰¾åˆ°å…¨å±€çš„æœ€ä¼˜è§£ï¼Œæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚å½“ç„¶ï¼Œå¦‚æœæŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™æ³•å¾—åˆ°çš„è§£å°±ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="692"
height="343"
srcset="https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_4108877c33900225.png 480w, https://lbqaq.top/p/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_5fe56739d4515be4.png 1024w"
loading="lazy"
alt="æ¢¯åº¦ä¸‹é™"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="484px"
>&lt;/p>
&lt;h3 id="æ¢¯åº¦ä¸‹é™æ³•çš„ä»£æ•°æ–¹å¼æè¿°">&lt;a href="#%e6%a2%af%e5%ba%a6%e4%b8%8b%e9%99%8d%e6%b3%95%e7%9a%84%e4%bb%a3%e6%95%b0%e6%96%b9%e5%bc%8f%e6%8f%8f%e8%bf%b0" class="header-anchor">&lt;/a>æ¢¯åº¦ä¸‹é™æ³•çš„ä»£æ•°æ–¹å¼æè¿°
&lt;/h3>&lt;p>åœ¨ä¸Šé¢çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†çº¿æ€§å›å½’çš„å‡½æ•°ä¸ºï¼š&lt;/p>
$$
h_\theta(x_0, x_1, ...x_n) = \sum\limits_{i=0}^{n}\theta_{i}x_{i}
$$&lt;p>æŸå¤±å‡½æ•°ä¸ºï¼š&lt;/p>
$$
J(\theta_0, \theta_1..., \theta_n) = \sum\limits_{i=1}^{m}(h_\theta(x_0^{(i)}, x_1^{(i)}, ...x_n^{(i)}) - y_i)^2
$$&lt;p>ç®—æ³•ç›¸å…³å‚æ•°åˆå§‹åŒ–ï¼šä¸»è¦æ˜¯åˆå§‹åŒ–$\theta_0, \theta_1&amp;hellip;, \theta_n$ ,ç®—æ³•ç»ˆæ­¢è·ç¦»$\varepsilon$ ä»¥åŠæ­¥é•¿$\alpha$ ã€‚åœ¨æ²¡æœ‰ä»»ä½•å…ˆéªŒçŸ¥è¯†çš„æ—¶å€™ï¼Œæˆ‘å–œæ¬¢å°†æ‰€æœ‰çš„$\theta$ åˆå§‹åŒ–ä¸º0ï¼Œ å°†æ­¥é•¿åˆå§‹åŒ–ä¸º1ï¼Œåœ¨è°ƒä¼˜çš„æ—¶å€™å†ä¼˜åŒ–ã€‚&lt;/p>
&lt;p>ç®—æ³•è¿‡ç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç¡®å®šå½“å‰ä½ç½®çš„æŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼Œå¯¹äº$\theta_i$ ,å…¶æ¢¯åº¦è¡¨è¾¾å¼å¦‚ä¸‹ï¼š&lt;/p>
$$
\frac{\partial}{\partial\theta_i}J(\theta_0, \theta_1..., \theta_n)= \frac{1}{m}\sum\limits_{j=0}^{m}(h_\theta(x_0^{(j)}, x_1^{(j)}, ...x_n^{(j)}) - y_j)x_i^{(j)}
$$&lt;/li>
&lt;li>
&lt;p>ç”¨æ­¥é•¿ä¹˜ä»¥æŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼Œå¾—åˆ°å½“å‰ä½ç½®ä¸‹é™çš„è·ç¦»ï¼Œå³ $\alpha\frac{\partial}{\partial\theta_i}J(\theta_0, \theta_1&amp;hellip;, \theta_n)$ å¯¹åº”äºå‰é¢ç™»å±±ä¾‹å­ä¸­çš„æŸä¸€æ­¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¡®å®šæ˜¯å¦æ‰€æœ‰çš„ $\theta_i$ ,æ¢¯åº¦ä¸‹é™çš„è·ç¦»éƒ½å°äº $\varepsilon$ ï¼Œå¦‚æœå°äº $\varepsilon$ åˆ™ç®—æ³•ç»ˆæ­¢ï¼Œå½“å‰æ‰€æœ‰çš„ $\theta_i$ (i=0,1,&amp;hellip;n)å³ä¸ºæœ€ç»ˆç»“æœã€‚å¦åˆ™è¿›å…¥æ­¥éª¤4.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ›´æ–°æ‰€æœ‰çš„$\theta$ ï¼Œå¯¹äº $\theta_i$ ï¼Œå…¶æ›´æ–°è¡¨è¾¾å¼å¦‚ä¸‹ã€‚æ›´æ–°å®Œæ¯•åç»§ç»­è½¬å…¥æ­¥éª¤1.&lt;/p>
$$
\theta_i = \theta_i - \alpha\frac{\partial}{\partial\theta_i}J(\theta_0, \theta_1..., \theta_n) = \theta_i - \alpha (h_\theta(x_0^{(j)}, x_1^{(j)}, ...x_n^{(j)}) - y_j)x_i^{(j)}
$$&lt;/li>
&lt;/ol>
&lt;p>ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºå½“å‰ç‚¹çš„æ¢¯åº¦æ–¹å‘æ˜¯ç”±æ‰€æœ‰çš„æ ·æœ¬å†³å®šçš„ï¼ŒåŠ  $\frac{1}{m}$ æ˜¯ä¸ºäº†å¥½ç†è§£ã€‚ç”±äºæ­¥é•¿ä¹Ÿä¸ºå¸¸æ•°ï¼Œä»–ä»¬çš„ä¹˜æœºä¹Ÿä¸ºå¸¸æ•°ï¼Œæ‰€ä»¥è¿™é‡Œ $\alpha\frac{1}{m}$ å¯ä»¥ç”¨ä¸€ä¸ªå¸¸æ•°è¡¨ç¤ºã€‚&lt;/p>
&lt;p>åœ¨ä¸‹é¢ç¬¬4èŠ‚ä¼šè¯¦ç»†è®²åˆ°çš„æ¢¯åº¦ä¸‹é™æ³•çš„å˜ç§ï¼Œä»–ä»¬ä¸»è¦çš„åŒºåˆ«å°±æ˜¯å¯¹æ ·æœ¬çš„é‡‡ç”¨æ–¹æ³•ä¸åŒã€‚è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ç”¨æ‰€æœ‰æ ·æœ¬ã€‚&lt;/p>
&lt;h3 id="éšæœºæ¢¯åº¦ä¸‹é™æ³•sgd">&lt;a href="#%e9%9a%8f%e6%9c%ba%e6%a2%af%e5%ba%a6%e4%b8%8b%e9%99%8d%e6%b3%95sgd" class="header-anchor">&lt;/a>éšæœºæ¢¯åº¦ä¸‹é™æ³•(SGD)
&lt;/h3>&lt;p>éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œå…¶å®å’Œæ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•åŸç†ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨ä¸æ±‚æ¢¯åº¦æ—¶æ²¡æœ‰ç”¨æ‰€æœ‰çš„mä¸ªæ ·æœ¬çš„æ•°æ®ï¼Œè€Œæ˜¯ä»…ä»…é€‰å–ä¸€ä¸ªæ ·æœ¬jæ¥æ±‚æ¢¯åº¦ã€‚å¯¹åº”çš„æ›´æ–°å…¬å¼æ˜¯&lt;/p>
$$
\theta_i = \theta_i - \alpha (h_\theta(x_0^{(j)}, x_1^{(j)}, ...x_n^{(j)}) - y_j)x_i^{(j)}
$$&lt;p>éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œå’Œæ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•æ˜¯ä¸¤ä¸ªæç«¯ï¼Œä¸€ä¸ªé‡‡ç”¨æ‰€æœ‰æ•°æ®æ¥æ¢¯åº¦ä¸‹é™ï¼Œä¸€ä¸ªç”¨ä¸€ä¸ªæ ·æœ¬æ¥æ¢¯åº¦ä¸‹é™ã€‚è‡ªç„¶å„è‡ªçš„ä¼˜ç¼ºç‚¹éƒ½éå¸¸çªå‡ºã€‚å¯¹äºè®­ç»ƒé€Ÿåº¦æ¥è¯´ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ³•ç”±äºæ¯æ¬¡ä»…ä»…é‡‡ç”¨ä¸€ä¸ªæ ·æœ¬æ¥è¿­ä»£ï¼Œè®­ç»ƒé€Ÿåº¦å¾ˆå¿«ï¼Œè€Œæ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•åœ¨æ ·æœ¬é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œè®­ç»ƒé€Ÿåº¦ä¸èƒ½è®©äººæ»¡æ„ã€‚å¯¹äºå‡†ç¡®åº¦æ¥è¯´ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ³•ç”¨äºä»…ä»…ç”¨ä¸€ä¸ªæ ·æœ¬å†³å®šæ¢¯åº¦æ–¹å‘ï¼Œå¯¼è‡´è§£å¾ˆæœ‰å¯èƒ½ä¸æ˜¯æœ€ä¼˜ã€‚å¯¹äºæ”¶æ•›é€Ÿåº¦æ¥è¯´ï¼Œç”±äºéšæœºæ¢¯åº¦ä¸‹é™æ³•ä¸€æ¬¡è¿­ä»£ä¸€ä¸ªæ ·æœ¬ï¼Œå¯¼è‡´è¿­ä»£æ–¹å‘å˜åŒ–å¾ˆå¤§ï¼Œä¸èƒ½å¾ˆå¿«çš„æ”¶æ•›åˆ°å±€éƒ¨æœ€ä¼˜è§£ã€‚&lt;/p>
&lt;h3 id="ç¼–ç¨‹å®ç°">&lt;a href="#%e7%bc%96%e7%a8%8b%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>ç¼–ç¨‹å®ç°
&lt;/h3>&lt;p>ç½‘ä¸Šæ‰¾çš„ä»£ç ï¼Œæ²¡éªŒè¯ï¼Œçœ‹ä¸ªæ€è·¯å°±è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="w"> &lt;/span>[ theta,J_history ] &lt;span class="p">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">StochasticGD&lt;/span>&lt;span class="p">(&lt;/span> X, y, theta, alpha, num_iter &lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">length&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">J_history&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">zeros&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">temp&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">num_iter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">temp&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">index&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">randi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">theta&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">theta&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">alpha&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">:)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">theta&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">:)&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">temp&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">J_history&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">ComputeCost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">theta&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•mini-batch-sgd">&lt;a href="#%e5%b0%8f%e6%89%b9%e9%87%8f%e6%a2%af%e5%ba%a6%e4%b8%8b%e9%99%8d%e6%b3%95mini-batch-sgd" class="header-anchor">&lt;/a>å°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•(Mini-Batch SGD)
&lt;/h3>&lt;p>ä¹Ÿå°±æ˜¯å¯¹äºmä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬é‡‡ç”¨xä¸ªæ ·å­æ¥è¿­ä»£ï¼Œ1&amp;lt;x&amp;lt;mã€‚ä¸€èˆ¬å¯ä»¥å–x=10ï¼Œå½“ç„¶æ ¹æ®æ ·æœ¬çš„æ•°æ®ï¼Œå¯ä»¥è°ƒæ•´è¿™ä¸ªxçš„å€¼ã€‚&lt;/p>
&lt;h2 id="å²­å›å½’">&lt;a href="#%e5%b2%ad%e5%9b%9e%e5%bd%92" class="header-anchor">&lt;/a>å²­å›å½’
&lt;/h2>&lt;p>&lt;del>åŠ©æ•™å¦¹è¯´å°±æ˜¯ä¸è€ƒ&lt;/del> åè½¬äº†ï¼Œå±…ç„¶è¦è€ƒ&lt;/p>
&lt;p>åœ¨åŸå…ˆçš„çº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°ä¸ŠåŠ å…¥äº†ä¸€ä¸ªL2æ­£åˆ™é¡¹ï¼Œå°±æ˜¯å²­å›å½’&lt;/p>
$$
J(\theta_0, \theta_1..., \theta_n) = \sum\limits_{i=1}^{m}(h_\theta(x_0^{(i)}, x_1^{(i)}, ...x_n^{(i)}) - y_i)^2+\lambda \sum_{i=1}^m\theta_i^2
$$&lt;h2 id="éçº¿æ€§å½¢å¼">&lt;a href="#%e9%9d%9e%e7%ba%bf%e6%80%a7%e5%bd%a2%e5%bc%8f" class="header-anchor">&lt;/a>éçº¿æ€§å½¢å¼
&lt;/h2>&lt;p>åŠ©æ•™å¦¹è¯´å°±æ˜¯ä¸è€ƒ&lt;/p>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/5970503.html" target="_blank" rel="noopener"
>æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰å°ç»“ - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/6004041.html" target="_blank" rel="noopener"
>çº¿æ€§å›å½’åŸç†å°ç»“ - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>å‹é“¾</title><link>https://lbqaq.top/links/</link><pubDate>Thu, 19 May 2022 17:36:00 +0800</pubDate><guid>https://lbqaq.top/links/</guid><description>&lt;p>å¦‚æœä½ çš„åšå®¢ç¬¦åˆ&lt;a class="link" href="https://baike.baidu.com/item/%E7%A4%BE%E4%BC%9A%E4%B8%BB%E4%B9%89%E6%A0%B8%E5%BF%83%E4%BB%B7%E5%80%BC%E8%A7%82/3271832" target="_blank" rel="noopener"
>ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚&lt;/a>ï¼Œæ¬¢è¿æŒ‰ä¸‹é¢çš„æ ¼å¼åœ¨è¯„è®ºåŒºæˆ–è€…å‘é‚®ä»¶æäº¤ä½ çš„åšå®¢ï¼Œæˆ‘ä¼šåœ¨å®¡æ ¸åæ·»åŠ è‡³æ­¤é¡µé¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#åœ¨æœ¬é¡µå±•ç¤ºçš„åç§°ï¼Œä¸€èˆ¬ä¸ºä½ çš„æ˜µç§°æˆ–åšå®¢åç§°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ä¸€å¥è¯æè¿°ä½ æˆ–ä½ çš„åšå®¢&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ä½ ç«™ç‚¹çš„ URL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ä½ å¤´åƒçš„ URL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ä½ ç”³è¯·å‹é“¾æ— éœ€å°†æˆ‘çš„åšå®¢æ·»åŠ è‡³ä½ åšå®¢å‹é“¾ã€‚&lt;/strong>&lt;/p>
&lt;p>å¦‚æœä½ æƒ³æ·»åŠ æˆ‘çš„åšå®¢è‡³ä½ åšå®¢å‹é“¾ï¼Œå¯ä»¥å‚ç…§ä¸‹é¢çš„ä¿¡æ¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">luoboQAQçš„åšå®¢&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">å¿«ä¹å­¦ä¹ æ¯ä¸€å¤©&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://lbqaq.top/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://cdn.jsdelivr.net/gh/luoboQAQ/luoboQAQ.github.io/android-chrome-192x192.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>æ•°æ®å¯è§†åŒ–ç¬”è®°</title><link>https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 17 May 2022 22:45:18 +0800</pubDate><guid>https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/94861285.webp" alt="Featured image of post æ•°æ®å¯è§†åŒ–ç¬”è®°" />&lt;h2 id="ä¸»æˆåˆ†åˆ†æpca">&lt;a href="#%e4%b8%bb%e6%88%90%e5%88%86%e5%88%86%e6%9e%90pca" class="header-anchor">&lt;/a>ä¸»æˆåˆ†åˆ†æ(PCA)
&lt;/h2>&lt;h3 id="åŸºæœ¬æ€æƒ³">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%80%9d%e6%83%b3" class="header-anchor">&lt;/a>åŸºæœ¬æ€æƒ³
&lt;/h3>&lt;p>PCAé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ‰¾å‡ºæ•°æ®é‡Œæœ€ä¸»è¦çš„æ–¹é¢ï¼Œç”¨æ•°æ®é‡Œæœ€ä¸»è¦çš„æ–¹é¢æ¥ä»£æ›¿åŸå§‹æ•°æ®ã€‚å…·ä½“çš„ï¼Œå‡å¦‚æˆ‘ä»¬çš„æ•°æ®é›†æ˜¯nç»´çš„ï¼Œå…±æœ‰mä¸ªæ•°æ®$(x^{(1)},x^{(2)},&amp;hellip;,x^{(m)})$ã€‚æˆ‘ä»¬å¸Œæœ›å°†è¿™mä¸ªæ•°æ®çš„ç»´åº¦ä»nç»´é™åˆ°n&amp;rsquo;ç»´ï¼Œå¸Œæœ›è¿™mä¸ªn&amp;rsquo;ç»´çš„æ•°æ®é›†å°½å¯èƒ½çš„ä»£è¡¨åŸå§‹æ•°æ®é›†ã€‚&lt;/p>
&lt;p>é€šè¿‡è®¡ç®—æ•°æ®çŸ©é˜µçš„åæ–¹å·®çŸ©é˜µï¼Œç„¶åå¾—åˆ°åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼ç‰¹å¾å‘é‡ï¼Œé€‰æ‹©ç‰¹å¾å€¼æœ€å¤§(å³æ–¹å·®æœ€å¤§)çš„kä¸ªç‰¹å¾æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡ç»„æˆçš„çŸ©é˜µã€‚è¿™æ ·å°±å¯ä»¥å°†æ•°æ®çŸ©é˜µè½¬æ¢åˆ°æ–°çš„ç©ºé—´å½“ä¸­ï¼Œå®ç°æ•°æ®ç‰¹å¾çš„é™ç»´ã€‚&lt;/p>
&lt;p>ç”±äºå¾—åˆ°åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼ç‰¹å¾å‘é‡æœ‰ä¸¤ç§æ–¹æ³•ï¼šç‰¹å¾å€¼åˆ†è§£åæ–¹å·®çŸ©é˜µã€å¥‡å¼‚å€¼åˆ†è§£åæ–¹å·®çŸ©é˜µï¼Œæ‰€ä»¥PCAç®—æ³•æœ‰ä¸¤ç§å®ç°æ–¹æ³•ï¼šåŸºäºç‰¹å¾å€¼åˆ†è§£åæ–¹å·®çŸ©é˜µå®ç°PCAç®—æ³•ã€åŸºäºSVDåˆ†è§£åæ–¹å·®çŸ©é˜µå®ç°PCAç®—æ³•ã€‚&lt;/p>
&lt;h3 id="ç‰¹å¾å€¼åˆ†è§£evd">&lt;a href="#%e7%89%b9%e5%be%81%e5%80%bc%e5%88%86%e8%a7%a3evd" class="header-anchor">&lt;/a>ç‰¹å¾å€¼åˆ†è§£(EVD)
&lt;/h3>&lt;p>ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p>
$$
Ax=\lambda x
$$&lt;p>å…¶ä¸­Aæ˜¯ä¸€ä¸ª$n \times n$çš„å®å¯¹ç§°çŸ©é˜µï¼Œ$x$æ˜¯ä¸€ä¸ª$n$ç»´å‘é‡ï¼Œåˆ™æˆ‘ä»¬è¯´$\lambda$æ˜¯çŸ©é˜µAçš„ä¸€ä¸ªç‰¹å¾å€¼ï¼Œè€Œ$x$æ˜¯çŸ©é˜µAçš„ç‰¹å¾å€¼$\lambda$æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚&lt;/p>
&lt;p>æ±‚å‡ºç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ å°±æ˜¯æˆ‘ä»¬å¯ä»¥å°†çŸ©é˜µAç‰¹å¾åˆ†è§£ã€‚å¦‚æœæˆ‘ä»¬æ±‚å‡ºäº†çŸ©é˜µAçš„$n$ä¸ªç‰¹å¾å€¼$\lambda_1 \leq \lambda_2 \leq &amp;hellip; \leq \lambda_n$,ä»¥åŠè¿™$n$ä¸ªç‰¹å¾å€¼æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡${q_1,q_2,&amp;hellip;q_n}$ï¼Œå¦‚æœè¿™$n$ä¸ªç‰¹å¾å‘é‡çº¿æ€§æ— å…³ï¼Œé‚£ä¹ˆçŸ©é˜µAå°±å¯ä»¥ç”¨ä¸‹å¼çš„ç‰¹å¾åˆ†è§£è¡¨ç¤ºï¼š$A=Q\Sigma Q^{-1}$ ã€‚&lt;/p>
&lt;p>å…¶ä¸­ï¼ŒQæ˜¯è¿™ä¸ªçŸ©é˜µAçš„ç‰¹å¾å‘é‡ç»„æˆçš„çŸ©é˜µï¼ŒÎ£æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œæ¯ä¸€ä¸ªå¯¹è§’çº¿å…ƒç´ å°±æ˜¯ä¸€ä¸ªç‰¹å¾å€¼ï¼Œé‡Œé¢çš„ç‰¹å¾å€¼æ˜¯ç”±å¤§åˆ°å°æ’åˆ—çš„ï¼Œè¿™äº›ç‰¹å¾å€¼æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡å°±æ˜¯æè¿°è¿™ä¸ªçŸ©é˜µå˜åŒ–æ–¹å‘ï¼ˆä»ä¸»è¦çš„å˜åŒ–åˆ°æ¬¡è¦çš„å˜åŒ–æ’åˆ—ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´çŸ©é˜µAçš„ä¿¡æ¯å¯ä»¥ç”±å…¶ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡è¡¨ç¤ºã€‚&lt;/p>
&lt;p>æ³¨æ„åˆ°è¦è¿›è¡Œç‰¹å¾åˆ†è§£ï¼ŒçŸ©é˜µAå¿…é¡»ä¸ºæ–¹é˜µã€‚é‚£ä¹ˆå¦‚æœAä¸æ˜¯æ–¹é˜µï¼Œå³è¡Œå’Œåˆ—ä¸ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œåˆ†è§£å—ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„SVDç™»åœºäº†ã€‚&lt;/p>
&lt;h3 id="å¥‡å¼‚å€¼åˆ†è§£svd">&lt;a href="#%e5%a5%87%e5%bc%82%e5%80%bc%e5%88%86%e8%a7%a3svd" class="header-anchor">&lt;/a>å¥‡å¼‚å€¼åˆ†è§£(SVD)
&lt;/h3>&lt;p>SVDä¹Ÿæ˜¯å¯¹çŸ©é˜µè¿›è¡Œåˆ†è§£ï¼Œä½†æ˜¯å’Œç‰¹å¾åˆ†è§£ä¸åŒï¼ŒSVDå¹¶ä¸è¦æ±‚è¦åˆ†è§£çš„çŸ©é˜µä¸ºæ–¹é˜µã€‚å‡è®¾æˆ‘ä»¬çš„çŸ©é˜µAæ˜¯ä¸€ä¸ª$m \times n$çš„çŸ©é˜µï¼Œé‚£ä¹ˆæˆ‘ä»¬å®šä¹‰çŸ©é˜µAçš„SVDä¸ºï¼š&lt;/p>
$$
A = U\Sigma V^T
$$&lt;p>å…¶ä¸­Uæ˜¯ä¸€ä¸ª$m \times m$çš„çŸ©é˜µï¼Œ$\Sigma$æ˜¯ä¸€ä¸ª$m \times n$çš„çŸ©é˜µï¼Œé™¤äº†ä¸»å¯¹è§’çº¿ä¸Šçš„å…ƒç´ ä»¥å¤–å…¨ä¸º0ï¼Œä¸»å¯¹è§’çº¿ä¸Šçš„æ¯ä¸ªå…ƒç´ éƒ½ç§°ä¸ºå¥‡å¼‚å€¼ï¼ŒVæ˜¯ä¸€ä¸ª$n \times n$çš„çŸ©é˜µã€‚&lt;/p>
&lt;p>è®¡ç®—æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>æˆ‘ä»¬å°†Açš„è½¬ç½®å’ŒAåšçŸ©é˜µä¹˜æ³•ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°$n \times n$çš„ä¸€ä¸ªæ–¹é˜µ$A^TA$ã€‚å¯¹å…¶è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°nä¸ªç‰¹å¾å€¼å’Œå¯¹åº”çš„nä¸ªç‰¹å¾å‘é‡$v$äº†ã€‚å°†$A^TA$çš„æ‰€æœ‰ç‰¹å¾å‘é‡å¼ æˆä¸€ä¸ª$n \times n$çš„çŸ©é˜µVï¼Œå°±æ˜¯æˆ‘ä»¬SVDå…¬å¼é‡Œé¢çš„VçŸ©é˜µäº†ã€‚&lt;/li>
&lt;li>å¯¹$AA^T$è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°mä¸ªç‰¹å¾å€¼å’Œå¯¹åº”çš„mä¸ªç‰¹å¾å‘é‡$u$äº†ã€‚å°†$AA^T$çš„æ‰€æœ‰ç‰¹å¾å‘é‡å¼ æˆä¸€ä¸ª$m \times m$çš„çŸ©é˜µUï¼Œå°±æ˜¯æˆ‘ä»¬SVDå…¬å¼é‡Œé¢çš„UçŸ©é˜µäº†ã€‚ä¸€èˆ¬æˆ‘ä»¬å°†Uä¸­çš„æ¯ä¸ªç‰¹å¾å‘é‡å«åšAçš„å·¦å¥‡å¼‚å‘é‡ã€‚&lt;/li>
&lt;li>ç”±äºå¥‡å¼‚å€¼çŸ©é˜µ$\Sigma$é™¤äº†å¯¹è§’çº¿ä¸Šæ˜¯å¥‡å¼‚å€¼å…¶ä»–ä½ç½®éƒ½æ˜¯0ï¼Œé‚£æˆ‘ä»¬åªéœ€è¦æ±‚å‡ºæ¯ä¸ªå¥‡å¼‚å€¼$\sigma$å°±å¯ä»¥äº†ã€‚æ±‚è§£å¥‡å¼‚å€¼å¯ä»¥ç”¨$\sigma_i = Av_i / u_i$æˆ–$\sigma_i = \sqrt{\lambda_i}$&lt;/li>
&lt;/ul>
&lt;h3 id="ç®—æ³•è¿‡ç¨‹">&lt;a href="#%e7%ae%97%e6%b3%95%e8%bf%87%e7%a8%8b" class="header-anchor">&lt;/a>ç®—æ³•è¿‡ç¨‹
&lt;/h3>&lt;p>è¾“å…¥ï¼šnç»´æ ·æœ¬é›†$D=(x^{(1)}, x^{(2)},&amp;hellip;,x^{(m)})$ï¼Œè¦é™ç»´åˆ°çš„ç»´æ•°n'.&lt;/p>
&lt;p>è¾“å‡ºï¼šé™ç»´åçš„æ ·æœ¬é›†$D'$&lt;/p>
&lt;ol>
&lt;li>å¯¹æ‰€æœ‰çš„æ ·æœ¬è¿›è¡Œä¸­å¿ƒåŒ–ï¼š $x^{(i)} = x^{(i)} - \frac{1}{m}\sum\limits_{j=1}^{m} x^{(j)}$&lt;/li>
&lt;li>è®¡ç®—æ ·æœ¬çš„åæ–¹å·®çŸ©é˜µ$XX^T$&lt;/li>
&lt;li>å¯¹çŸ©é˜µ$XX^T$è¿›è¡Œç‰¹å¾å€¼åˆ†è§£&lt;/li>
&lt;li>å–å‡ºæœ€å¤§çš„n&amp;rsquo;ä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡$(w_1,w_2,&amp;hellip;,w_{n&amp;rsquo;})$, å°†æ‰€æœ‰çš„ç‰¹å¾å‘é‡æ ‡å‡†åŒ–åï¼Œç»„æˆç‰¹å¾å‘é‡çŸ©é˜µWã€‚&lt;/li>
&lt;li>å¯¹æ ·æœ¬é›†ä¸­çš„æ¯ä¸€ä¸ªæ ·æœ¬$x^{(i)}$,è½¬åŒ–ä¸ºæ–°çš„æ ·æœ¬$z^{(i)}=W^Tx^{(i)}$&lt;/li>
&lt;li>å¾—åˆ°è¾“å‡ºæ ·æœ¬é›†$D&amp;rsquo; =(z^{(1)}, z^{(2)},&amp;hellip;,z^{(m)})$&lt;/li>
&lt;/ol>
&lt;p>ä¸Šé¢æ˜¯é‡‡ç”¨EVDï¼Œå¦‚æœé‡‡ç”¨SVDï¼Œåœ¨ç¬¬äºŒç¬¬ä¸‰æ­¥æ—¶å°±ç”¨SVDè¿›è¡Œè§£å†³ã€‚&lt;/p>
&lt;h3 id="ç¼–ç¨‹å®ç°">&lt;a href="#%e7%bc%96%e7%a8%8b%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>ç¼–ç¨‹å®ç°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">load&lt;/span> &lt;span class="n">fisheriris&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">meas&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ä¸­å¿ƒåŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">meanX&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">mean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">centredX&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">X&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">meanX&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% ç›´æ¥è°ƒç”¨covç›´æ¥è®¡ç®—åæ–¹å·®çŸ©é˜µå³å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">C&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">cov&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">centredX&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç‰¹å¾å€¼åˆ†è§£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">W&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Lambda&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">eig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æå–ç‰¹å¾å€¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">diag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Lambda&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% eigè®¡ç®—å‡ºçš„ç‰¹å¾å€¼æ˜¯å‡åºçš„ï¼Œè¿™é‡Œæ‰‹åŠ¨å€’åºï¼ˆWåŒç†ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">ev&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="k">end&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">W&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">W&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="k">end&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æå–å‰ä¸¤ä¸ªä¸»æˆåˆ†çš„ç‰¹å¾å‘é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Wr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">W&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æ–°åæ ‡ç©ºé—´çš„æ•°æ®ç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Tr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">centredX&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Wr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ä½œå›¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">scatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Tr&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Tr&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">130&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">categorical&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">species&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s">&amp;#39;.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">colormap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">winter&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;Principal Component 1&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;Principal Component 2&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% SVDåˆ†è§£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% å¯ä»¥æ£€éªŒï¼ŒWå’ŒVå®Œå…¨ç›¸åŒï¼ˆå‘é‡çš„æ­£è´Ÿå·ä¸å½±å“ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">U&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Sigma&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">svd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æå–å‰ä¸¤ä¸ªä¸»æˆåˆ†çš„ç‰¹å¾å‘é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æ–°åæ ‡ç©ºé—´çš„æ•°æ®ç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Tr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">X&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Vr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ä½œå›¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">scatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Tr&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Tr&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">130&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">categorical&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">species&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s">&amp;#39;.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">colormap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">winter&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;Principal Component 1&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;Principal Component 2&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="700"
height="520"
srcset="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/1_hu_a1a58ea06265ff3f.png 480w, https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/1_hu_954cdfabde3de4ff.png 1024w"
loading="lazy"
alt="EVD"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/2.png"
width="700"
height="522"
srcset="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/2_hu_3001bb6c1b98cd86.png 480w, https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/2_hu_3f72ca4bbb4946c4.png 1024w"
loading="lazy"
alt="SVD"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="321px"
>&lt;/p>
&lt;h2 id="matlabä¸‰ç»´æ•°æ®ç»˜å›¾">&lt;a href="#matlab%e4%b8%89%e7%bb%b4%e6%95%b0%e6%8d%ae%e7%bb%98%e5%9b%be" class="header-anchor">&lt;/a>MATLABä¸‰ç»´æ•°æ®ç»˜å›¾
&lt;/h2>&lt;h3 id="ä¸‰ç»´çº¿">&lt;a href="#%e4%b8%89%e7%bb%b4%e7%ba%bf" class="header-anchor">&lt;/a>ä¸‰ç»´çº¿
&lt;/h3>&lt;p>ä½¿ç”¨&lt;code>plot3()&lt;/code>å‡½æ•°å³å¯ç»˜åˆ¶ä¸‰ç»´çº¿,è¾“å…¥åº”ä¸ºä¸‰ä¸ªå‘é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">turns&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">pi&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">t&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">./&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">./&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">z&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">./&lt;/span>&lt;span class="n">turns&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">grid&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">axis&lt;/span> &lt;span class="n">square&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/3.png"
width="554"
height="413"
srcset="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/3_hu_9ac90ee5cbd27c82.png 480w, https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/3_hu_99d52054e396951d.png 1024w"
loading="lazy"
alt="èºæ—‹çº¿"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="321px"
>&lt;/p>
&lt;h3 id="ä¸‰ç»´å›¾å½¢ç»˜åˆ¶åŠç­‰é«˜çº¿">&lt;a href="#%e4%b8%89%e7%bb%b4%e5%9b%be%e5%bd%a2%e7%bb%98%e5%88%b6%e5%8f%8a%e7%ad%89%e9%ab%98%e7%ba%bf" class="header-anchor">&lt;/a>ä¸‰ç»´å›¾å½¢ç»˜åˆ¶åŠç­‰é«˜çº¿
&lt;/h3>&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨&lt;code>mesh()&lt;/code>å‘½ä»¤ç»˜åˆ¶ä¸‰ç»´é¢ï¼Œä½¿ç”¨&lt;code>contour()&lt;/code>å‘½ä»¤å¯ä»¥ç»˜åˆ¶ä¸‰ç»´å›¾å½¢çš„ç­‰é«˜çº¿ã€‚
ä¸ä¹‹å‰çš„å‘½ä»¤ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‘å…¶ä¼ é€’ä¸åŒçš„å‚æ•°æ¥æ”¹å˜å›¾å½¢çš„ç»†èŠ‚ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">3.5&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">0.2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">3.5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">3.5&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">0.2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">3.5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">meshgrid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Z&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mf">10.&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="nb">exp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">.^&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="o">.^&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">grid&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">axis&lt;/span> &lt;span class="n">square&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mesh&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Z&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">contour&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Z&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;ShowText&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;on&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;LevelStep&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/4.png"
width="554"
height="335"
srcset="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/4_hu_bff03da187e6f27c.png 480w, https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AC%94%E8%AE%B0/IMAGE/4_hu_69d6101b538eef74.png 1024w"
loading="lazy"
alt="ä¸‰ç»´å›¾å½¢ç»˜åˆ¶åŠç­‰é«˜çº¿"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="396px"
>&lt;/p>
&lt;p>ä¸‰ç»´å›¾å½¢ç»˜åˆ¶åŠç­‰é«˜çº¿&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/37777074" target="_blank" rel="noopener"
>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰åŸç†è¯¦è§£ - çŸ¥ä¹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/6251584.html" target="_blank" rel="noopener"
>å¥‡å¼‚å€¼åˆ†è§£(SVD)åŸç†ä¸åœ¨é™ç»´ä¸­çš„åº”ç”¨ - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>åˆ†ç±»ç®—æ³•å­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 10 May 2022 14:00:16 +0800</pubDate><guid>https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/86368113.webp" alt="Featured image of post åˆ†ç±»ç®—æ³•å­¦ä¹ ç¬”è®°" />&lt;h2 id="åˆ†ç±»ç®—æ³•çš„ä½œç”¨">&lt;a href="#%e5%88%86%e7%b1%bb%e7%ae%97%e6%b3%95%e7%9a%84%e4%bd%9c%e7%94%a8" class="header-anchor">&lt;/a>åˆ†ç±»ç®—æ³•çš„ä½œç”¨
&lt;/h2>&lt;p>åˆ†ç±»æ˜¯åœ¨ä¸€ç¾¤å·²ç»çŸ¥é“ç±»åˆ«æ ‡å·çš„æ ·æœ¬ä¸­ï¼Œè®­ç»ƒä¸€ç§&lt;strong>åˆ†ç±»å™¨&lt;/strong>ï¼Œè®©å…¶èƒ½å¤Ÿå¯¹æŸç§æœªçŸ¥çš„æ ·æœ¬è¿›è¡Œåˆ†ç±»ã€‚åˆ†ç±»ç®—æ³•å±äºä¸€ç§æœ‰ç›‘ç£çš„å­¦ä¹ ã€‚åˆ†ç±»ç®—æ³•çš„åˆ†ç±»è¿‡ç¨‹å°±æ˜¯å»ºç«‹ä¸€ç§åˆ†ç±»æ¨¡å‹æ¥æè¿°é¢„å®šçš„æ•°æ®é›†æˆ–æ¦‚å¿µé›†ï¼Œé€šè¿‡åˆ†æç”±å±æ€§æè¿°çš„æ•°æ®åº“å…ƒç»„æ¥æ„é€ æ¨¡å‹ã€‚åˆ†ç±»çš„ç›®çš„å°±æ˜¯ä½¿ç”¨åˆ†ç±»å¯¹æ–°çš„æ•°æ®é›†è¿›è¡Œåˆ’åˆ†ï¼Œå…¶ä¸»è¦æ¶‰åŠåˆ†ç±»è§„åˆ™çš„å‡†ç¡®æ€§ã€è¿‡æ‹Ÿåˆã€çŸ›ç›¾åˆ’åˆ†çš„å–èˆç­‰ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æœ‰ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ çš„åŒºåˆ«&lt;/strong>
&lt;ul>
&lt;li>æœ‰ç›‘ç£å­¦ä¹ æ˜¯æŒ‡æ•°æ®é›†çš„æ­£ç¡®è¾“å‡ºå·²çŸ¥æƒ…å†µä¸‹çš„ä¸€ç±»å­¦ä¹ ç®—æ³•ã€‚å› ä¸ºè¾“å…¥å’Œè¾“å‡ºå·²çŸ¥ï¼Œæ„å‘³ç€è¾“å…¥å’Œè¾“å‡ºä¹‹é—´æœ‰ä¸€ä¸ªå…³ç³»ï¼Œç›‘ç£å­¦ä¹ ç®—æ³•å°±æ˜¯è¦å‘ç°å’Œæ€»ç»“è¿™ç§â€œå…³ç³»â€ã€‚&lt;/li>
&lt;li>æ— ç›‘ç£å­¦ä¹ æ˜¯æŒ‡å¯¹æ— æ ‡ç­¾æ•°æ®çš„ä¸€ç±»å­¦ä¹ ç®—æ³•ã€‚å› ä¸ºæ²¡æœ‰æ ‡ç­¾ä¿¡æ¯ï¼Œæ„å‘³ç€éœ€è¦ä»æ•°æ®é›†ä¸­å‘ç°å’Œæ€»ç»“æ¨¡å¼æˆ–è€…ç»“æ„ã€‚&lt;/li>
&lt;li>&lt;strong>ç®€å•æ¥è¯´ï¼Œæ˜¯å¦æœ‰ç›‘ç£ï¼ˆsupervisedï¼‰ï¼Œå°±çœ‹è¾“å…¥æ•°æ®æ˜¯å¦æœ‰æ ‡ç­¾ï¼ˆlabelï¼‰&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="äº¤å‰éªŒè¯">&lt;a href="#%e4%ba%a4%e5%8f%89%e9%aa%8c%e8%af%81" class="header-anchor">&lt;/a>äº¤å‰éªŒè¯
&lt;/h2>&lt;h3 id="åŸºæœ¬æ€æƒ³">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%80%9d%e6%83%b3" class="header-anchor">&lt;/a>åŸºæœ¬æ€æƒ³
&lt;/h3>&lt;p>äº¤å‰éªŒè¯çš„åŸºæœ¬æ€æƒ³æ˜¯æŠŠåœ¨æŸç§æ„ä¹‰ä¸‹å°†åŸå§‹æ•°æ®(dataset)è¿›è¡Œåˆ†ç»„ï¼Œä¸€éƒ¨åˆ†åšä¸ºè®­ç»ƒé›†(train set)ï¼Œå¦ä¸€éƒ¨åˆ†åšä¸ºéªŒè¯é›†(validation set or test set)ï¼Œé¦–å…ˆç”¨è®­ç»ƒé›†å¯¹åˆ†ç±»å™¨è¿›è¡Œè®­ç»ƒï¼Œå†åˆ©ç”¨éªŒè¯é›†æ¥æµ‹è¯•è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹(model)ï¼Œä»¥æ­¤æ¥åšä¸ºè¯„ä»·åˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚&lt;strong>ç”¨äº¤å‰éªŒè¯çš„ç›®çš„æ˜¯ä¸ºäº†å¾—åˆ°å¯é ç¨³å®šçš„æ¨¡å‹&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="kæŠ˜äº¤å‰éªŒè¯k-fold-cross-validation">&lt;a href="#k%e6%8a%98%e4%ba%a4%e5%8f%89%e9%aa%8c%e8%af%81k-fold-cross-validation" class="header-anchor">&lt;/a>KæŠ˜äº¤å‰éªŒè¯(K-fold cross-validation)
&lt;/h3>&lt;p>KæŠ˜äº¤å‰éªŒè¯å°±æ˜¯è¿›è¡Œå¤šæ¬¡train_test_splitåˆ’åˆ†ï¼›æ¯æ¬¡åˆ’åˆ†æ—¶ï¼Œåœ¨ä¸åŒçš„æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€æµ‹è¯•è¯„ä¼°ï¼Œä»è€Œå¾—å‡ºä¸€ä¸ªè¯„ä»·ç»“æœï¼›å¦‚æœæ˜¯10æŠ˜äº¤å‰éªŒè¯ï¼Œæ„æ€å°±æ˜¯åœ¨åŸå§‹æ•°æ®é›†ä¸Šï¼Œè¿›è¡Œ10æ¬¡åˆ’åˆ†ï¼Œæ¯æ¬¡åˆ’åˆ†è¿›è¡Œä¸€æ¬¡è®­ç»ƒã€è¯„ä¼°ï¼Œæœ€åå¾—åˆ°10æ¬¡åˆ’åˆ†åçš„è¯„ä¼°ç»“æœï¼Œä¸€èˆ¬åœ¨è¿™å‡ æ¬¡è¯„ä¼°ç»“æœä¸Šå–å¹³å‡å¾—åˆ°æœ€åçš„è¯„åˆ†ã€‚&lt;strong>å…¶ä¸­ï¼Œkä¸€èˆ¬å–5æˆ–10ã€‚&lt;/strong>&lt;/p>
&lt;p>&lt;strong>KæŠ˜äº¤å‰éªŒè¯çš„æ­¥éª¤ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>å°†åŸå§‹æ•°æ®é›†åˆ’åˆ†ä¸ºç›¸ç­‰çš„Kéƒ¨åˆ†ï¼ˆâ€œæŠ˜â€ï¼‰&lt;/li>
&lt;li>å°†ç¬¬1éƒ¨åˆ†ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†&lt;/li>
&lt;li>è®­ç»ƒæ¨¡å‹ï¼Œè®¡ç®—æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡&lt;/li>
&lt;li>æ¯æ¬¡ç”¨ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºæµ‹è¯•é›†ï¼Œé‡å¤æ­¥éª¤2å’Œ3 Kæ¬¡&lt;/li>
&lt;li>å°†å¹³å‡å‡†ç¡®ç‡ä½œä¸ºæœ€ç»ˆçš„æ¨¡å‹å‡†ç¡®ç‡&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="1102"
height="639"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_4681689a69ccb62e.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_b1b12769f774e315.png 1024w"
loading="lazy"
alt="10æŠ˜äº¤å‰éªŒè¯"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="413px"
>&lt;/p>
&lt;blockquote>
&lt;p>ğŸ’¡ è¦ä¼šç»™å®šæ•°æ®é›†è¿›è¡ŒKæŠ˜äº¤å‰éªŒè¯
è¦ä¼šè®¡ç®—æ¨¡å‹å‡†ç¡®ç‡ï¼ˆæ¯æ¬¡çš„å‡†ç¡®ç‡ã€æœ€ç»ˆçš„å‡†ç¡®ç‡ï¼‰&lt;/p>&lt;/blockquote>
&lt;h2 id="æ”¯æŒå‘é‡æœºsvm">&lt;a href="#%e6%94%af%e6%8c%81%e5%90%91%e9%87%8f%e6%9c%basvm" class="header-anchor">&lt;/a>æ”¯æŒå‘é‡æœº(SVM)
&lt;/h2>&lt;h3 id="åŸºæœ¬æ€æƒ³-1">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%80%9d%e6%83%b3-1" class="header-anchor">&lt;/a>åŸºæœ¬æ€æƒ³
&lt;/h3>&lt;p>SVMå­¦ä¹ çš„åŸºæœ¬æ€æƒ³æ˜¯æ±‚è§£èƒ½å¤Ÿæ­£ç¡®åˆ’åˆ†è®­ç»ƒæ•°æ®é›†å¹¶ä¸”å‡ ä½•é—´éš”æœ€å¤§çš„åˆ†ç¦»è¶…å¹³é¢ã€‚å¯¹äºçº¿æ€§å¯åˆ†çš„æ•°æ®é›†æ¥è¯´ï¼Œè¿™æ ·çš„è¶…å¹³é¢æœ‰æ— ç©·å¤šä¸ªï¼ˆå³æ„ŸçŸ¥æœºï¼‰ï¼Œä½†æ˜¯å‡ ä½•é—´éš”æœ€å¤§çš„åˆ†ç¦»è¶…å¹³é¢å´æ˜¯å”¯ä¸€çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2.png"
width="922"
height="812"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_3687cbff79f1d427.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_85686e0bccfa57fc.png 1024w"
loading="lazy"
alt="SVMåŸºæœ¬æ€æƒ³"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="272px"
>&lt;/p>
&lt;p>ç”¨æˆ‘è‡ªå·±çš„ç†è§£ï¼Œå°±æ˜¯æ‰¾ä¸€æ¡çº¿å°†ä¸¤ä¸ªæ•°æ®é›†åˆ†å¼€ï¼Œè¦ä¿è¯è¿™æ¡çº¿åˆ°ä¸¤è¾¹çš„æ•°æ®é›†è·ç¦»æœ€å¤§ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½ä¿è¯è·ç¦»æœ€å¤§å‘¢ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦è®¨è®ºçš„éš¾ç‚¹äº†ã€‚&lt;/p>
&lt;h3 id="æ”¯æŒå‘é‡">&lt;a href="#%e6%94%af%e6%8c%81%e5%90%91%e9%87%8f" class="header-anchor">&lt;/a>æ”¯æŒå‘é‡
&lt;/h3>&lt;blockquote>
&lt;p>åœ¨æ”¯æŒå‘é‡æœºä¸­ï¼Œè·ç¦»è¶…å¹³é¢æœ€è¿‘çš„ä¸”æ»¡è¶³ä¸€å®šæ¡ä»¶çš„å‡ ä¸ªè®­ç»ƒæ ·æœ¬ç‚¹è¢«ç§°ä¸ºæ”¯æŒå‘é‡ã€‚&lt;/p>&lt;/blockquote>
&lt;p>åœ¨ä¸Šå›¾ä¸­ï¼Œå¤„äºè™šçº¿ä¸Šçš„ç‚¹ï¼ˆå³çº¢è‰²çš„ç‚¹ï¼‰æˆ‘ä»¬å°±å°†å…¶å®šä¹‰ä¸ºæ”¯æŒå‘é‡ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•å¾—åˆ°æ”¯æŒå‘é‡åˆ°è¶…å¹³é¢çš„è·ç¦»å‘¢ï¼Ÿæˆ‘ä»¬å¼•å…¥&lt;strong>å‡ ä½•é—´éš”&lt;/strong>çš„æ¦‚å¿µï¼š&lt;/p>
$$
\gamma = \frac{y(w^Tx + b)}{||w||_2} = \frac{\gamma^{'}}{||w||_2}
$$&lt;p>ä¸€èˆ¬æˆ‘ä»¬éƒ½å–å‡½æ•°é—´éš”$\gamma^{&amp;rsquo;}$ä¸º1ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ”¯æŒå‘é‡åˆ°è¶…å¹³é¢çš„è·ç¦»ä¸º$\frac{1}{||w||_2}$ï¼Œä¸¤ä¸ªæ”¯æŒå‘é‡ä¹‹é—´çš„è·ç¦»ä¸º$\frac{2}{||w||_2}$&lt;/p>
&lt;h3 id="svmæ¨¡å‹ç›®æ ‡å‡½æ•°">&lt;a href="#svm%e6%a8%a1%e5%9e%8b%e7%9b%ae%e6%a0%87%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>SVMæ¨¡å‹ç›®æ ‡å‡½æ•°
&lt;/h3>&lt;p>SVMçš„æ¨¡å‹æ˜¯è®©æ‰€æœ‰ç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»å¤§äºä¸€å®šçš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„åˆ†ç±»ç‚¹è¦åœ¨å„è‡ªç±»åˆ«çš„æ”¯æŒå‘é‡ä¸¤è¾¹ã€‚ç”¨æ•°å­¦å¼å­è¡¨ç¤ºä¸ºï¼š&lt;/p>
$$
max \\;\\; \frac{1}{||w||_2} \\;\\; s.t \\;\\; y_i(w^Tx_i + b) \geq 1 (i =1,2,...m)
$$&lt;p>å…¶ä¸­ï¼Œ$||w||_2$ä¸ºå‘é‡$w$çš„L2èŒƒæ•°ï¼Œå³ï¼š&lt;/p>
$$
||w||_2=\sqrt{w_1^2+w_2^2}
$$&lt;p>ä¸ºäº†å»é™¤æ ¹å·æ–¹ä¾¿è®¡ç®—ï¼Œæˆ‘ä»¬å°†åŸå¼è½¬åŒ–ä¸ºï¼š&lt;/p>
$$
min \\;\\; \frac{1}{2}||w||_2^2 \\;\\; s.t \\;\\; y_i(w^Tx_i + b) \geq 1 (i =1,2,...m)
$$&lt;p>ç”±äºç›®æ ‡å‡½æ•°$\frac{1}{2}||w||_2^2$æ˜¯å‡¸å‡½æ•°ï¼ŒåŒæ—¶çº¦æŸæ¡ä»¶ä¸ç­‰å¼æ˜¯ä»¿å°„çš„ï¼Œæ ¹æ®å‡¸ä¼˜åŒ–ç†è®ºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‹‰æ ¼æœ—æ—¥å‡½æ•°å°†æˆ‘ä»¬çš„ä¼˜åŒ–ç›®æ ‡è½¬åŒ–ä¸ºæ— çº¦æŸçš„ä¼˜åŒ–å‡½æ•°ã€‚äºæ˜¯æ ¹æ®æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š&lt;/p>
$$
L(w,b,\alpha) = \frac{1}{2}||w||_2^2 - \sum \limits _{i=1}^{m} \alpha_i [y_i(w^Tx_i + b) - 1] \\; æ»¡è¶³\alpha_i \geq 0
$$&lt;p>å…¶ä¸­$\alpha_i$ä¸ºæ‹‰æ ¼æœ—æ—¥ä¹˜å­ã€‚&lt;/p>
&lt;h3 id="kktæ¡ä»¶">&lt;a href="#kkt%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>KKTæ¡ä»¶
&lt;/h3>&lt;p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„å¼å­æ±‚åå¯¼ï¼Œå¯ä»¥å¾—åˆ°&lt;/p>
$$
\frac{\partial L }{\partial w}=0,\frac{\partial L }{\partial b}=0
$$&lt;p>è§£å¾—&lt;/p>
$$
\boldsymbol{w}=\sum_{i=1}^N{\alpha_iy_i\boldsymbol{x}_{\boldsymbol{i}}}
$$$$
\sum_{i=1}^N{\alpha_iy_i}=0
$$&lt;p>è§£æ–¹ç¨‹å¯å¾—&lt;/p>
$$
\begin{cases}
\alpha_i\geq 0 \\\\
y_i(\overrightarrow{w_i}\cdot \overrightarrow{x_i}+b)-1\geq 0 \\\\
\alpha_i(y_i(\overrightarrow{w_i}\cdot\overrightarrow{x_i}+b)-1)=0
\end{cases}
$$&lt;p>ä¸Šé¢çš„å¼å­å³ä¸ºKKTæ¡ä»¶&lt;/p>
&lt;h3 id="svmå¯¹å¶æ€§">&lt;a href="#svm%e5%af%b9%e5%81%b6%e6%80%a7" class="header-anchor">&lt;/a>SVMå¯¹å¶æ€§
&lt;/h3>&lt;p>ç°åœ¨æˆ‘ä»¬ä»¤&lt;/p>
$$
\theta \left( \boldsymbol{w} \right) =\underset{\alpha _{_i}\ge 0}{\max}\ L\left( \boldsymbol{w,}b,\boldsymbol{\alpha } \right)
$$&lt;p>å½“æ ·æœ¬ç‚¹ä¸æ»¡è¶³çº¦æŸæ¡ä»¶æ—¶ï¼Œå³åœ¨å¯è¡Œè§£åŒºåŸŸå¤–$y_i\left(\boldsymbol{w}\cdot \boldsymbol{x}_{\boldsymbol{i}}+b\right)&amp;lt;1$ã€‚æ­¤æ—¶ï¼Œå°†$\alpha_i$è®¾ç½®ä¸ºæ— ç©·å¤§ï¼Œåˆ™$\theta \left( \boldsymbol{w} \right)$ä¹Ÿä¸ºæ— ç©·å¤§ã€‚&lt;/p>
&lt;p>å½“æ ·æœ¬ç‚¹ä¸æ»¡è¶³çº¦æŸæ¡ä»¶æ—¶ï¼Œå³åœ¨å¯è¡Œè§£åŒºåŸŸå†…$y_i\left(\boldsymbol{w}\cdot \boldsymbol{x}_{\boldsymbol{i}}+b\right)\ge1$ã€‚æ­¤æ—¶ï¼Œ$\theta \left( \boldsymbol{w} \right)$ä¸ºåŸå‡½æ•°æœ¬èº«ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œå°†ä¸¤ç§æƒ…å†µåˆå¹¶èµ·æ¥å°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æ–°çš„ç›®æ ‡å‡½æ•°ï¼š&lt;/p>
$$
\theta \left( \boldsymbol{w} \right) =\begin{cases} \frac{1}{2}\lVert \boldsymbol{w} \rVert ^2\ ,\boldsymbol{x}\in \text{å¯è¡ŒåŒºåŸŸ}\\\\ +\infty \ \ \ \ \ ,\boldsymbol{x}\in \text{ä¸å¯è¡ŒåŒºåŸŸ}\\\\ \end{cases}
$$&lt;p>äºæ˜¯åŸçº¦æŸé—®é¢˜å°±ç­‰ä»·äºï¼š&lt;/p>
$$
\underset{\boldsymbol{w,}b}{\min}\ \theta \left( \boldsymbol{w} \right) =\underset{\boldsymbol{w,}b}{\min}\underset{\alpha _i\ge 0}{\max}\ L\left( \boldsymbol{w,}b,\boldsymbol{\alpha } \right)
$$&lt;p>ç”±ä¸Šå°èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¯¥å‡½æ•°æ»¡è¶³æ‹‰æ ¼æœ—æ—¥å‡½æ•°&lt;strong>å¯¹å¶æ€§&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¼˜åŒ–é—®é¢˜æ˜¯å‡¸ä¼˜åŒ–é—®é¢˜&lt;/li>
&lt;li>æ»¡è¶³KKTæ¡ä»¶&lt;/li>
&lt;/ul>
&lt;p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æœ€å°å’Œæœ€å¤§çš„ä½ç½®äº¤æ¢ä¸€ä¸‹ï¼Œè¿™æ ·å°±å˜æˆäº†ï¼š&lt;/p>
$$
\underset{\alpha _i\ge 0}{\max}\underset{\boldsymbol{w,}b}{\min}\ L\left( \boldsymbol{w,}b,\boldsymbol{\alpha } \right)
$$&lt;p>ä»ä¸Šå¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ±‚ä¼˜åŒ–å‡½æ•°å¯¹äº$w$å’Œ$b$çš„æå°å€¼ã€‚æ¥ç€å†æ±‚æ‹‰æ ¼æœ—æ—¥ä¹˜å­$\alpha$çš„æå¤§å€¼ã€‚&lt;/p>
&lt;p>é€šè¿‡åœ¨ä¸ŠèŠ‚ä¸­ç”±åå¯¼æ¨å‡ºçš„ä¸¤ä¸ªå¼å­ï¼Œæˆ‘ä»¬å¾—åˆ°äº†$w$å’Œ$\alpha$çš„å…³ç³»ï¼Œå°±å¯ä»¥å¸¦å…¥ä¼˜åŒ–å‡½æ•°$L(w,b,\alpha)$æ¶ˆå»$w$äº†&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code1.png"
width="583"
height="76"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code1_hu_cb82dee7ae24659e.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code1_hu_c187ca30af0efd45.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="767"
data-flex-basis="1841px"
>&lt;/p>
&lt;p>æ­¤æ—¶åŸå¼ä¸º&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code2.png"
width="457"
height="76"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code2_hu_d251def9ea181a2.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code2_hu_7a23d688c46e7d21.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="601"
data-flex-basis="1443px"
>&lt;/p>
&lt;p>æˆ‘ä»¬å¯¹ç›®æ ‡å¼å­åŠ ä¸€ä¸ªè´Ÿå·ï¼Œå°†æ±‚è§£æå¤§è½¬æ¢ä¸ºæ±‚è§£æå°&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code3.png"
width="422"
height="76"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code3_hu_588c87eed60ed567.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/Code3_hu_6db0bce3cc74ddaa.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="555"
data-flex-basis="1332px"
>&lt;/p>
&lt;h2 id="svmæ ¸kernelæ–¹æ³•">&lt;a href="#svm%e6%a0%b8kernel%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>SVMæ ¸ï¼ˆKernelï¼‰æ–¹æ³•
&lt;/h2>&lt;h3 id="åŸºæœ¬æ¦‚å¿µ">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>åŸºæœ¬æ¦‚å¿µ
&lt;/h3>&lt;p>åœ¨ä¸ŠèŠ‚æˆ‘ä»¬æ¨å¯¼å‡ºçš„å¼å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šå¼ä½ç»´ç‰¹å¾ä»…ä»…ä»¥å†…ç§¯$x_i \bullet x_j$ çš„å½¢å¼å‡ºç°ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä½ç»´ç‰¹å¾ç©ºé—´åˆ°é«˜ç»´ç‰¹å¾ç©ºé—´çš„æ˜ å°„$T$ï¼Œå°†æ‰€æœ‰ç‰¹å¾æ˜ å°„åˆ°ä¸€ä¸ªæ›´é«˜çš„ç»´åº¦ï¼Œè®©æ•°æ®çº¿æ€§å¯åˆ†ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ±‚å‡ºåˆ†ç¦»è¶…å¹³é¢å’Œåˆ†ç±»å†³ç­–å‡½æ•°äº†ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œå°†æ•°æ®ä»ä½ç»´æ˜ å°„åˆ°é«˜ç»´ï¼Œå°†ä¼šå¤§å¤§å¢åŠ è®¡ç®—çš„å¤æ‚åº¦ï¼Œå¦‚æœé‡åˆ°æ— ç©·ç»´çš„æƒ…å†µï¼Œå°±æ ¹æœ¬æ— ä»è®¡ç®—äº†ã€‚è¿™æ—¶ï¼Œå°±éœ€è¦å¼•å…¥&lt;strong>æ ¸å‡½æ•°&lt;/strong>äº†ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å®šä¹‰æœå­˜åœ¨å‡½æ•°$K(x,z)$ï¼Œå¯¹äºä»»æ„$x, z$ ï¼Œéƒ½æœ‰ï¼š&lt;/p>
$$
K(x, z) = T(x) \bullet T(z)
$$&lt;p>é‚£ä¹ˆæˆ‘ä»¬å°±ç§°$K(x, z)$ä¸ºæ ¸å‡½æ•°ã€‚&lt;/p>
&lt;p>é€šè¿‡æ ¸å‡½æ•°ï¼Œå°±é¿å…äº†åœ¨åˆšæ‰æˆ‘ä»¬æåˆ°äº†åœ¨é«˜ç»´ç»´åº¦ç©ºé—´è®¡ç®—å†…ç§¯çš„ææ€–è®¡ç®—é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å¥½å¥½äº«å—åœ¨é«˜ç»´ç‰¹å¾ç©ºé—´çº¿æ€§å¯åˆ†çš„çº¢åˆ©ï¼Œå´é¿å…äº†é«˜ç»´ç‰¹å¾ç©ºé—´ææ€–çš„å†…ç§¯è®¡ç®—é‡ã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å¸¸è§çš„æ ¸å‡½æ•°, é€‰æ‹©è¿™å‡ ä¸ªæ ¸å‡½æ•°ä»‹ç»æ˜¯å› ä¸ºscikit-learnä¸­é»˜è®¤å¯é€‰çš„å°±æ˜¯ä¸‹é¢å‡ ä¸ªæ ¸å‡½æ•°ã€‚&lt;/p>
&lt;h3 id="çº¿æ€§æ ¸å‡½æ•°linear-kernel">&lt;a href="#%e7%ba%bf%e6%80%a7%e6%a0%b8%e5%87%bd%e6%95%b0linear-kernel" class="header-anchor">&lt;/a>çº¿æ€§æ ¸å‡½æ•°ï¼ˆLinear Kernelï¼‰
&lt;/h3>&lt;p>å…¶å®å°±æ˜¯çº¿æ€§å¯åˆ†SVMï¼Œè¡¨è¾¾å¼ä¸ºï¼š&lt;/p>
$$
K(x, z) = x \bullet z
$$&lt;p>ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿æ€§å¯åˆ†SVMæˆ‘ä»¬å¯ä»¥å’Œçº¿æ€§ä¸å¯åˆ†SVMå½’ä¸ºä¸€ç±»ï¼ŒåŒºåˆ«ä»…ä»…åœ¨äºçº¿æ€§å¯åˆ†SVMç”¨çš„æ˜¯çº¿æ€§æ ¸å‡½æ•°ã€‚&lt;/p>
&lt;h3 id="å¤šé¡¹å¼æ ¸å‡½æ•°polynomial-kernel">&lt;a href="#%e5%a4%9a%e9%a1%b9%e5%bc%8f%e6%a0%b8%e5%87%bd%e6%95%b0polynomial-kernel" class="header-anchor">&lt;/a>å¤šé¡¹å¼æ ¸å‡½æ•°ï¼ˆPolynomial Kernelï¼‰
&lt;/h3>&lt;p>å¤šé¡¹å¼æ ¸å‡½æ•°æ˜¯çº¿æ€§ä¸å¯åˆ†SVMå¸¸ç”¨çš„æ ¸å‡½æ•°ä¹‹ä¸€ï¼Œè¡¨è¾¾å¼ä¸ºï¼š&lt;/p>
$$
K(x, z) = ï¼ˆ\gamma x \bullet z + r)^d
$$&lt;p>å…¶ä¸­ï¼Œ$\gamma, r,d$éƒ½éœ€è¦è‡ªå·±è°ƒå‚å®šä¹‰ã€‚&lt;/p>
&lt;h3 id="é«˜æ–¯æ ¸å‡½æ•°gaussian-kernel">&lt;a href="#%e9%ab%98%e6%96%af%e6%a0%b8%e5%87%bd%e6%95%b0gaussian-kernel" class="header-anchor">&lt;/a>é«˜æ–¯æ ¸å‡½æ•°ï¼ˆGaussian Kernelï¼‰
&lt;/h3>&lt;p>åœ¨SVMä¸­ä¹Ÿç§°ä¸ºå¾„å‘åŸºæ ¸å‡½æ•°ï¼ˆRadial Basis Function,RBFï¼‰ï¼Œå®ƒæ˜¯éçº¿æ€§åˆ†ç±»SVMæœ€ä¸»æµçš„æ ¸å‡½æ•°ã€‚libsvmé»˜è®¤çš„æ ¸å‡½æ•°å°±æ˜¯å®ƒã€‚è¡¨è¾¾å¼ä¸ºï¼š&lt;/p>
$$
K(x, z) = exp(-\gamma||x-z||^2)
$$&lt;p>å…¶ä¸­ï¼Œ$\gamma$å¤§äº0ï¼Œéœ€è¦è‡ªå·±è°ƒå‚å®šä¹‰ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ğŸ’¡ é«˜æ–¯æ ¸å‡½æ•°å¾ˆé‡è¦ï¼Œä¸€å®šè¦è®°ä½&lt;/p>&lt;/blockquote>
&lt;h3 id="sigmoidæ ¸å‡½æ•°">&lt;a href="#sigmoid%e6%a0%b8%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>Sigmoidæ ¸å‡½æ•°
&lt;/h3>&lt;p>ä¹Ÿæ˜¯çº¿æ€§ä¸å¯åˆ†SVMå¸¸ç”¨çš„æ ¸å‡½æ•°ä¹‹ä¸€ï¼Œè¡¨è¾¾å¼ä¸ºï¼š&lt;/p>
$$
K(x, z) = tanhï¼ˆ\gamma x \bullet z + r)
$$&lt;p>å…¶ä¸­ï¼Œ$\gamma, r$éƒ½éœ€è¦è‡ªå·±è°ƒå‚å®šä¹‰ã€‚&lt;/p>
&lt;h2 id="svmè½¯é—´éš”">&lt;a href="#svm%e8%bd%af%e9%97%b4%e9%9a%94" class="header-anchor">&lt;/a>SVMè½¯é—´éš”
&lt;/h2>&lt;p>æœ‰æ—¶å€™æœ¬æ¥æ•°æ®çš„ç¡®æ˜¯å¯åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨ çº¿æ€§åˆ†ç±»SVMçš„å­¦ä¹ æ–¹æ³•æ¥æ±‚è§£ï¼Œä½†æ˜¯å´å› ä¸ºæ··å…¥äº†å¼‚å¸¸ç‚¹ï¼Œå¯¼è‡´ä¸èƒ½çº¿æ€§å¯åˆ†ï¼Œæ¯”å¦‚ä¸‹å›¾&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3.png"
width="300"
height="245"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_e4d495a9e40656e.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_247b535caae0e6fd.png 1024w"
loading="lazy"
alt="æœ‰å¼‚å¸¸ç‚¹çš„æ•°æ®"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="293px"
>&lt;/p>
&lt;p>è¿™ç§æƒ…å†µä¸‹ï¼ŒSVMå¼•å…¥äº†è½¯é—´éš”æœ€å¤§åŒ–çš„æ–¹æ³•æ¥è§£å†³ã€‚&lt;/p>
&lt;p>SVMå¯¹è®­ç»ƒé›†é‡Œé¢çš„æ¯ä¸ªæ ·æœ¬$(x_i,y_i)$å¼•å…¥äº†ä¸€ä¸ªæ¾å¼›å˜é‡$\xi_i \geq 0$,ä½¿å‡½æ•°é—´éš”åŠ ä¸Šæ¾å¼›å˜é‡å¤§äºç­‰äº1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š&lt;/p>
$$
y_i(w\bullet x_i +b) \geq 1- \xi_i
$$&lt;p>å¯¹æ¯”ç¡¬é—´éš”æœ€å¤§åŒ–ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯¹æ ·æœ¬åˆ°è¶…å¹³é¢çš„å‡½æ•°è·ç¦»çš„è¦æ±‚æ”¾æ¾äº†ï¼Œä¹‹å‰æ˜¯ä¸€å®šè¦å¤§äºç­‰äº1ï¼Œç°åœ¨åªéœ€è¦åŠ ä¸Šä¸€ä¸ªå¤§äºç­‰äº0çš„æ¾å¼›å˜é‡èƒ½å¤§äºç­‰äº1å°±å¯ä»¥äº†ã€‚å½“ç„¶ï¼Œæ¾å¼›å˜é‡ä¸èƒ½ç™½åŠ ï¼Œè¿™æ˜¯æœ‰æˆæœ¬çš„ï¼Œæ¯ä¸€ä¸ªæ¾å¼›å˜é‡$\xi_i$, å¯¹åº”äº†ä¸€ä¸ªä»£ä»·$\xi_i$ï¼Œè¿™ä¸ªå°±å¾—åˆ°äº†æˆ‘ä»¬çš„è½¯é—´éš”æœ€å¤§åŒ–çš„SVMå­¦ä¹ æ¡ä»¶å¦‚ä¸‹ï¼š&lt;/p>
$$
min\\;\\; \frac{1}{2}||w||_2^2 +C\sum\limits{i=1}^{m}\xi_i
$$$$
s.t. \\;\\; y_i(w^Tx_i + b) \geq 1 - \xi_i \\;\\;(i =1,2,...m)
$$$$
\xi_i \geq 0 \\;\\;(i =1,2,...m)
$$&lt;p>è¿™é‡Œï¼Œ$C&amp;gt;0$ä¸ºæƒ©ç½šå‚æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬ä¸€èˆ¬å›å½’å’Œåˆ†ç±»é—®é¢˜æ­£åˆ™åŒ–æ—¶å€™çš„å‚æ•°ã€‚$C$è¶Šå¤§ï¼Œå¯¹è¯¯åˆ†ç±»çš„æƒ©ç½šè¶Šå¤§ï¼Œ$C$è¶Šå°ï¼Œå¯¹è¯¯åˆ†ç±»çš„æƒ©ç½šè¶Šå°ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›$\frac{1}{2}||w||_2^2$å°½é‡å°ï¼Œè¯¯åˆ†ç±»çš„ç‚¹å°½å¯èƒ½çš„å°‘ã€‚Cæ˜¯åè°ƒä¸¤è€…å…³ç³»çš„æ­£åˆ™åŒ–æƒ©ç½šç³»æ•°ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦è°ƒå‚æ¥é€‰æ‹©ã€‚&lt;/p>
&lt;h2 id="svmç¼–ç¨‹å®ç°">&lt;a href="#svm%e7%bc%96%e7%a8%8b%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>SVMç¼–ç¨‹å®ç°
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç”Ÿæˆæµ‹è¯•æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">classCount&lt;/span>&lt;span class="p">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p&lt;/span>&lt;span class="p">=&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bound&lt;/span> &lt;span class="p">=[&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span> &lt;span class="p">=[&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="p">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Y&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ˜¾ç¤ºç”Ÿæˆçš„æµ‹è¯•æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">clf&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;X+&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">legend&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s">&amp;#39;åˆ†ç±»-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;åˆ†ç±»+1&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;åŸå§‹æ•°æ®æ•£ç‚¹å›¾&amp;#34;&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ‹†åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">trainIndex&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">mod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">testIndex&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">~&lt;/span>&lt;span class="n">trainIndex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Xtrain&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainIndex&lt;/span>&lt;span class="p">,:);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ytrain&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trainIndex&lt;/span>&lt;span class="p">,:);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Xtest&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testIndex&lt;/span>&lt;span class="p">,:);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ytest&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">testIndex&lt;/span>&lt;span class="p">,:);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å°†æ‹†åˆ†çš„ç»“æœå±•ç¤º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">clf&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Xtrain&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">Xtrain&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">Ytrain&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;X+&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">scatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Xtest&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">Xtest&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="s">&amp;#39;k.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">legend&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s">&amp;#39;åˆ†ç±»-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;åˆ†ç±»+1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;æµ‹è¯•æ•°æ®&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;åˆ’åˆ†æµ‹è¯•æ•°æ®åçš„æ•£ç‚¹å›¾&amp;#34;&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ä½¿ç”¨SVMè¿›è¡Œè®­ç»ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">svm&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">fitcsvm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Xtrain&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Ytrain&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å±•ç¤ºSVMè®­ç»ƒçš„ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">clf&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Xtrain&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Xtrain&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Ytrain&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;X+&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectorLabels&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;oo&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">13&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xg&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">bound&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">yg&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Bias&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">bound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Bias&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;Linewidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">delta&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Bias&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Beta&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;--g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;LineWidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;--g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;LineWidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">legend&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s">&amp;#39;åˆ†ç±»-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;åˆ†ç±»+1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;æ”¯æŒå‘é‡-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;æ”¯æŒå‘é‡+1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢+1&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;&lt;span class="n">SVMè®­ç»ƒåçš„æ•£ç‚¹å›¾&lt;/span>&amp;#34;&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ypred&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">predict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Xtest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç»˜åˆ¶é¢„æµ‹åçš„ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">clf&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Xtest&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Xtest&lt;/span>&lt;span class="p">(:,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Ypred&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;X+&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">g&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectors&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">svm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SupportVectorLabels&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;oo&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">13&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;Linewidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;--g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;Linewidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yg&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">delta&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;--g&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;Linewidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hold&lt;/span> &lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">xlim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ylim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">legend&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="s">&amp;#39;åˆ†ç±»-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;åˆ†ç±»+1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;æ”¯æŒå‘é‡-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;æ”¯æŒå‘é‡+1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;è¶…å¹³é¢+1&amp;#39;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;&lt;span class="n">SVMé¢„æµ‹åçš„æ•£ç‚¹å›¾&lt;/span>&amp;#34;&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% è®¡ç®—è¯¯å·®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;æ­£ç¡®ç‡ä¸ºï¼š%.2f%%\n&amp;#39;&lt;/span>&lt;span class="p">,(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Ypred&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="n">Ytest&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">numel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Ytest&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4.png"
width="700"
height="521"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_ad6b3e3724079201.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_661d237d39149284.png 1024w"
loading="lazy"
alt="åŸå§‹æ•°æ®æ•£ç‚¹å›¾"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5.png"
width="700"
height="520"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_9e77e1b3d168e3a9.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_db2f9cbfca0dd610.png 1024w"
loading="lazy"
alt="SVMè®­ç»ƒåçš„æ•£ç‚¹å›¾"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
> &lt;img src="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6.png"
width="700"
height="527"
srcset="https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_8447ac52b2d0c98d.png 480w, https://lbqaq.top/p/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/6_hu_4c45fd3b17ecc87e.png 1024w"
loading="lazy"
alt="SVMé¢„æµ‹åçš„æ•£ç‚¹å›¾"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;h2 id="svmå®ç°å¤šåˆ†ç±»">&lt;a href="#svm%e5%ae%9e%e7%8e%b0%e5%a4%9a%e5%88%86%e7%b1%bb" class="header-anchor">&lt;/a>SVMå®ç°å¤šåˆ†ç±»
&lt;/h2>&lt;p>SVMç®—æ³•æœ€åˆæ˜¯ä¸ºäºŒå€¼åˆ†ç±»é—®é¢˜è®¾è®¡çš„ï¼Œå½“å¤„ç†å¤šç±»é—®é¢˜æ—¶ï¼Œå°±éœ€è¦æ„é€ åˆé€‚çš„å¤šç±»åˆ†ç±»å™¨ã€‚&lt;/p>
&lt;p>ç›®å‰ï¼Œæ„é€ SVMå¤šç±»åˆ†ç±»å™¨çš„æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç±»ï¼š&lt;/p>
&lt;p>ï¼ˆ1ï¼‰ç›´æ¥æ³•ï¼Œç›´æ¥åœ¨ç›®æ ‡å‡½æ•°ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå°†å¤šä¸ªåˆ†ç±»é¢çš„å‚æ•°æ±‚è§£åˆå¹¶åˆ°ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ä¸­ï¼Œé€šè¿‡æ±‚è§£è¯¥æœ€ä¼˜åŒ–é—®é¢˜â€œä¸€æ¬¡æ€§â€å®ç°å¤šç±»åˆ†ç±»ã€‚è¿™ç§æ–¹æ³•çœ‹ä¼¼ç®€å•ï¼Œä½†å…¶è®¡ç®—å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒå›°éš¾ï¼Œåªé€‚åˆç”¨äºå°å‹é—®é¢˜ä¸­ï¼›&lt;/p>
&lt;p>ï¼ˆ2ï¼‰é—´æ¥æ³•ï¼Œä¸»è¦æ˜¯é€šè¿‡ç»„åˆå¤šä¸ªäºŒåˆ†ç±»å™¨æ¥å®ç°å¤šåˆ†ç±»å™¨çš„æ„é€ ï¼Œå¸¸è§çš„æ–¹æ³•æœ‰one-against-oneå’Œone-against-allä¸¤ç§ã€‚&lt;/p>
&lt;h3 id="ä¸€å¯¹å¤šæ³•ovr">&lt;a href="#%e4%b8%80%e5%af%b9%e5%a4%9a%e6%b3%95ovr" class="header-anchor">&lt;/a>ä¸€å¯¹å¤šæ³•ï¼ˆOVRï¼‰
&lt;/h3>&lt;p>è®­ç»ƒæ—¶ä¾æ¬¡æŠŠæŸä¸ªç±»åˆ«çš„æ ·æœ¬å½’ä¸ºä¸€ç±»,å…¶ä»–å‰©ä½™çš„æ ·æœ¬å½’ä¸ºå¦ä¸€ç±»ï¼Œè¿™æ ·kä¸ªç±»åˆ«çš„æ ·æœ¬å°±æ„é€ å‡ºäº†kä¸ªSVMã€‚åˆ†ç±»æ—¶å°†æœªçŸ¥æ ·æœ¬åˆ†ç±»ä¸ºå…·æœ‰æœ€å¤§åˆ†ç±»å‡½æ•°å€¼çš„é‚£ç±»ã€‚&lt;/p>
&lt;p>å‡å¦‚æˆ‘æœ‰å››ç±»è¦åˆ’åˆ†ï¼ˆä¹Ÿå°±æ˜¯4ä¸ªLabelï¼‰ï¼Œä»–ä»¬æ˜¯Aã€Bã€Cã€Dã€‚&lt;/p>
&lt;p>äºæ˜¯æˆ‘åœ¨æŠ½å–è®­ç»ƒé›†çš„æ—¶å€™ï¼Œåˆ†åˆ«æŠ½å–&lt;/p>
&lt;ol>
&lt;li>Aæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºæ­£é›†ï¼ŒBï¼ŒCï¼ŒDæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºè´Ÿé›†ï¼›&lt;/li>
&lt;li>Bæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒCï¼ŒDæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºè´Ÿé›†ï¼›&lt;/li>
&lt;li>Cæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒBï¼ŒDæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºè´Ÿé›†ï¼›&lt;/li>
&lt;li>Dæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºæ­£é›†ï¼ŒAï¼ŒBï¼ŒCæ‰€å¯¹åº”çš„å‘é‡ä½œä¸ºè´Ÿé›†ï¼›&lt;/li>
&lt;/ol>
&lt;p>ä½¿ç”¨è¿™å››ä¸ªè®­ç»ƒé›†åˆ†åˆ«è¿›è¡Œè®­ç»ƒï¼Œç„¶åçš„å¾—åˆ°å››ä¸ªè®­ç»ƒç»“æœæ–‡ä»¶ã€‚åœ¨æµ‹è¯•çš„æ—¶å€™ï¼ŒæŠŠå¯¹åº”çš„æµ‹è¯•å‘é‡åˆ†åˆ«åˆ©ç”¨è¿™å››ä¸ªè®­ç»ƒç»“æœæ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚æœ€åæ¯ä¸ªæµ‹è¯•éƒ½æœ‰ä¸€ä¸ªç»“æœf1(x),f2(x),f3(x),f4(x)ã€‚&lt;/p>
&lt;p>äºæ˜¯æœ€ç»ˆçš„ç»“æœä¾¿æ˜¯è¿™å››ä¸ªå€¼ä¸­æœ€å¤§çš„ä¸€ä¸ªä½œä¸ºåˆ†ç±»ç»“æœã€‚&lt;/p>
&lt;h3 id="ä¸€å¯¹ä¸€æ³•ovo">&lt;a href="#%e4%b8%80%e5%af%b9%e4%b8%80%e6%b3%95ovo" class="header-anchor">&lt;/a>ä¸€å¯¹ä¸€æ³•ï¼ˆOVOï¼‰
&lt;/h3>&lt;p>ä¸€èˆ¬éƒ½æ˜¯ç”¨ä¸€å¯¹å¤šæ³•ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼ŒçŸ¥é“æœ‰è¿™ä¸ªä¸œè¥¿å°±è¡Œã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/31886934" target="_blank" rel="noopener"
>æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰â€”â€”åŸç†ç¯‡ - çŸ¥ä¹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/6097604.html" target="_blank" rel="noopener"
>æ”¯æŒå‘é‡æœºåŸç†(ä¸€) çº¿æ€§æ”¯æŒå‘é‡æœº - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a> ç­‰åŒç³»åˆ—æ–‡ç« &lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV13r4y1z7AG/" target="_blank" rel="noopener"
>ã€æ•°ä¹‹é“25ã€‘æœºå™¨å­¦ä¹ å¿…ç»ä¹‹è·¯-SVMæ”¯æŒå‘é‡æœºçš„æ•°å­¦ç²¾å_å“”å“©å“”å“©_bilibili&lt;/a> ç­‰åŒç³»åˆ—è§†é¢‘&lt;/li>
&lt;/ul></description></item><item><title>èšç±»ç®—æ³•å­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 10 May 2022 08:23:41 +0800</pubDate><guid>https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/97701948.webp" alt="Featured image of post èšç±»ç®—æ³•å­¦ä¹ ç¬”è®°" />&lt;h2 id="kmeans">&lt;a href="#kmeans" class="header-anchor">&lt;/a>Kmeans
&lt;/h2>&lt;h3 id="ç®—æ³•æ­¥éª¤">&lt;a href="#%e7%ae%97%e6%b3%95%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>ç®—æ³•æ­¥éª¤
&lt;/h3>&lt;ol>
&lt;li>ä»æ ·æœ¬ä¸­é€‰æ‹© K ä¸ªç‚¹ä½œä¸ºåˆå§‹è´¨å¿ƒï¼ˆå®Œå…¨éšæœºï¼‰&lt;/li>
&lt;li>è®¡ç®—æ¯ä¸ªæ ·æœ¬åˆ°å„ä¸ªè´¨å¿ƒçš„è·ç¦»ï¼Œå°†æ ·æœ¬åˆ’åˆ†åˆ°è·ç¦»æœ€è¿‘çš„è´¨å¿ƒæ‰€å¯¹åº”çš„ç°‡ä¸­&lt;/li>
&lt;li>è®¡ç®—æ¯ä¸ªç°‡å†…æ‰€æœ‰æ ·æœ¬çš„å‡å€¼ï¼Œå¹¶ä½¿ç”¨è¯¥å‡å€¼æ›´æ–°ç°‡çš„è´¨å¿ƒ&lt;/li>
&lt;li>é‡å¤æ­¥éª¤ 2 ä¸ 3 ï¼Œç›´åˆ°è¾¾åˆ°ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š
&lt;ul>
&lt;li>è´¨å¿ƒçš„ä½ç½®å˜åŒ–å°äºæŒ‡å®šçš„é˜ˆå€¼ï¼ˆé»˜è®¤ä¸º 0.0001ï¼‰&lt;/li>
&lt;li>è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="æ¬§æ°è·ç¦»">&lt;a href="#%e6%ac%a7%e6%b0%8f%e8%b7%9d%e7%a6%bb" class="header-anchor">&lt;/a>æ¬§æ°è·ç¦»
&lt;/h3>&lt;blockquote>
&lt;p>è¡¡é‡çš„æ˜¯å¤šç»´ç©ºé—´ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´çš„ç»å¯¹è·ç¦»&lt;/p>&lt;/blockquote>
&lt;p>åœ¨äºŒç»´å’Œä¸‰ç»´ç©ºé—´ä¸­çš„æ¬§æ°è·ç¦»å°±æ˜¯ä¸¤ç‚¹ä¹‹é—´çš„å®é™…è·ç¦»&lt;/p>
&lt;p>è®¡ç®—æ–¹æ³•ï¼šå¯¹åº”åæ ‡å€¼ç›¸å‡çš„å¹³æ–¹å’Œå†å¼€æ–¹&lt;/p>
$$
dist(X,Y)=\sqrt{\sum_{i=1}^{n}(x_i-y_i)^2}
$$&lt;p>å¯¹äºäºŒç»´æ¥è¯´ï¼Œå°±æ˜¯&lt;/p>
$$
dist(X,Y)=\sqrt{(x_1-y_1)^2+(x_2-y_2)^2}
$$&lt;p>æ³¨æ„ç†è§£è¾“å…¥ï¼Ÿè¾“å‡ºï¼Ÿç±»åˆ«ä¸­å¿ƒï¼Ÿè¿­ä»£è¿‡ç¨‹ä¸­åšä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;h3 id="ç¼–ç¨‹å®ç°">&lt;a href="#%e7%bc%96%e7%a8%8b%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>ç¼–ç¨‹å®ç°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç”Ÿæˆæµ‹è¯•æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">clear&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c">% æ¯ç°‡çš„æ ·æœ¬æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sigma&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c">% åæ–¹å·®çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">R&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">chol&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% ç”Ÿæˆæµ‹è¯•æ•°æ®é›†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span>&lt;span class="p">=[&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç»˜åˆ¶æ ·æœ¬æ•£ç‚¹å›¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">scatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="s">&amp;#39;r.&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;æ— æ ·å¼æ ·æœ¬æ•£ç‚¹å›¾&amp;#34;&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">g&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% K-meanså®ç°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">k&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c">% æŒ‡å®šåˆ†æˆçš„ç°‡æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%ä»nä¸ªæ•°æ®æ ·æœ¬ä¸­ä¸é‡å¤åœ°éšæœºé€‰æ‹©kä¸ªæ ·æœ¬ä½œä¸ºè´¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">centerIndex&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">randperm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">C&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">centerIndex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">:);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">struct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;y&amp;#39;&lt;/span>&lt;span class="p">,[],&lt;/span>&lt;span class="s">&amp;#39;C&amp;#39;&lt;/span>&lt;span class="p">,[],&lt;/span>&lt;span class="s">&amp;#39;objectives&amp;#39;&lt;/span>&lt;span class="p">,[]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">iter&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxIter&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c">% æŒ‡å®šæœ€å¤§è¿­ä»£çš„æ¬¡æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maxIter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% æ±‚å‡ºæ¯ä¸ªæ ·æœ¬åˆ°ä¸­å¿ƒç‚¹çš„è·ç¦»ï¼ŒæŒ‰ç…§è·ç¦»è‡ªèº«æœ€è¿‘çš„ä¸­å¿ƒç‚¹è¿›è¡Œèšç±»&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">D&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">pdist2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ypred&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">D&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% ä¿å­˜ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">ypred&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">C&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">objectives&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% å½“è·ç¦»æ²¡å˜æ—¶ç»“æŸè¿­ä»£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">objectives&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">objectives&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% ä¾æ®ä¸Šæ¬¡èšç±»ç»“æœï¼Œæ±‚å‡ºæ–°çš„ä¸­å¿ƒç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">cid&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">C&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">:)&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">mean&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypred&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">cid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">:));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç»˜åˆ¶ç»“æœæ•£ç‚¹å›¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">numel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">clf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% ç»˜åˆ¶èšç±»ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rgbm&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hold&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Ct&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">% ç»˜åˆ¶èšç±»ä¸­å¿ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">h&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Ct&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Ct&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Ct&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="s">&amp;#39;kkkk&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#39;x+od&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&amp;#34;ç¬¬&amp;#34;&lt;span class="o">+&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">+&lt;/span>&amp;#34;æ¬¡è¿­ä»£åæ•£ç‚¹å›¾&amp;#34;&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;LineWidth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">waitforbuttonpress&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">%pause(1);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% è®¡ç®—è¯¯å·®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">% è¾“å‡ºæ··æ·†çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">confusionmat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">ypred&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="384"
height="288"
srcset="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_1b855fbc80b9df32.png 480w, https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_be835682b8c3eba7.png 1024w"
loading="lazy"
alt="ç¬¬ä¸€æ¬¡è¿­ä»£åç»“æœ"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2.png"
width="380"
height="286"
srcset="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_be504fd05cb4cce4.png 480w, https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/2_hu_aa95f029148d6243.png 1024w"
loading="lazy"
alt="è¿­ä»£å®Œæˆç»“æœ"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;h3 id="ç¼ºç‚¹">&lt;a href="#%e7%bc%ba%e7%82%b9" class="header-anchor">&lt;/a>ç¼ºç‚¹
&lt;/h3>&lt;p>å®¹æ˜“å—åˆå§‹è´¨å¿ƒçš„å½±å“ï¼›ç®—æ³•èšç±»æ—¶ï¼Œå®¹æ˜“äº§ç”Ÿç©ºç°‡ï¼›ç®—æ³•å¯èƒ½æ”¶æ•›åˆ°å±€éƒ¨æœ€å°å€¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3.png"
width="438"
height="343"
srcset="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_b68baa3aac36805.png 480w, https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/3_hu_4783fe85ab3424ea.png 1024w"
loading="lazy"
alt="ç¬¬ä¸€æ¬¡è¿­ä»£ç»“æœ"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4.png"
width="402"
height="315"
srcset="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_24562f60aeb16c3f.png 480w, https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/4_hu_8ecaf2b4fbe4d3e6.png 1024w"
loading="lazy"
alt="è¿­ä»£å®Œæˆç»“æœ"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="306px"
>&lt;/p>
&lt;p>è§£å†³åŠæ³•ï¼šé‡æ–°æ‰§è¡ŒK-meansç®—æ³•ï¼Œé‡æ–°åˆ†é…è´¨å¿ƒ&lt;/p>
&lt;h2 id="è°±èšç±»spectral-clustering">&lt;a href="#%e8%b0%b1%e8%81%9a%e7%b1%bbspectral-clustering" class="header-anchor">&lt;/a>è°±èšç±»(Spectral Clustering)
&lt;/h2>&lt;h3 id="ç®—æ³•æ€æƒ³">&lt;a href="#%e7%ae%97%e6%b3%95%e6%80%9d%e6%83%b3" class="header-anchor">&lt;/a>ç®—æ³•æ€æƒ³
&lt;/h3>&lt;p>æŠŠæ‰€æœ‰çš„æ•°æ®çœ‹åšç©ºé—´ä¸­çš„ç‚¹ï¼Œè¿™äº›ç‚¹ä¹‹é—´å¯ä»¥ç”¨è¾¹è¿æ¥èµ·æ¥ã€‚è·ç¦»è¾ƒè¿œçš„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹æƒé‡å€¼è¾ƒä½ï¼Œè€Œè·ç¦»è¾ƒè¿‘çš„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹æƒé‡å€¼è¾ƒé«˜ï¼Œé€šè¿‡å¯¹æ‰€æœ‰æ•°æ®ç‚¹ç»„æˆçš„å›¾è¿›è¡Œåˆ‡å›¾ï¼Œè®©åˆ‡å›¾åä¸åŒçš„å­å›¾é—´è¾¹æƒé‡å’Œå°½å¯èƒ½çš„ä½ï¼Œè€Œå­å›¾å†…çš„è¾¹æƒé‡å’Œå°½å¯èƒ½çš„é«˜ï¼Œä»è€Œè¾¾åˆ°èšç±»çš„ç›®çš„ã€‚&lt;/p>
&lt;h3 id="åº¦çŸ©é˜µd">&lt;a href="#%e5%ba%a6%e7%9f%a9%e9%98%b5d" class="header-anchor">&lt;/a>åº¦çŸ©é˜µD
&lt;/h3>&lt;p>å¯¹äºä¸€ä¸ªå›¾$G$ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ç‚¹çš„é›†åˆ$V$å’Œè¾¹çš„é›†åˆ$E$æ¥æè¿°ã€‚å³ä¸º$G(V,E)$ã€‚å…¶ä¸­$V$å³ä¸ºæˆ‘ä»¬æ•°æ®é›†é‡Œé¢æ‰€æœ‰çš„ç‚¹$(v_1, v_2,&amp;hellip;v_n)$ã€‚å¯¹äº$V$ä¸­çš„ä»»æ„ä¸¤ä¸ªç‚¹ï¼Œå¯ä»¥æœ‰è¾¹è¿æ¥ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰è¾¹è¿æ¥ã€‚æˆ‘ä»¬å®šä¹‰æƒé‡$w_{ij}$ä¸ºç‚¹$v_i$å’Œç‚¹$v_j$ä¹‹é—´çš„æƒé‡ã€‚ç”±äºæˆ‘ä»¬æ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥$w_{ij} = w_{ji}$ã€‚&lt;/p>
&lt;p>å¯¹äºæœ‰è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹$v_i$å’Œ$v_j$ï¼Œ$w_{ij} &amp;gt; 0$,å¯¹äºæ²¡æœ‰è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹$v_i$å’Œ$v_j$ï¼Œ$w_{ij} = 0$ã€‚å¯¹äºå›¾ä¸­çš„ä»»æ„ä¸€ä¸ªç‚¹$v_i$ï¼Œå®ƒçš„åº¦$d_i$å®šä¹‰ä¸ºå’Œå®ƒç›¸è¿çš„æ‰€æœ‰è¾¹çš„æƒé‡ä¹‹å’Œï¼Œå³&lt;/p>
$$
d_i = \sum\limits_{j=1}^{n}w_{ij}
$$&lt;p>åˆ©ç”¨æ¯ä¸ªç‚¹åº¦çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªnxnçš„åº¦çŸ©é˜µ$D$,å®ƒæ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œåªæœ‰ä¸»å¯¹è§’çº¿æœ‰å€¼ï¼Œå¯¹åº”ç¬¬iè¡Œçš„ç¬¬iä¸ªç‚¹çš„åº¦æ•°ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p>
$$
\mathbf{D} =
\left( \begin{array}{ccc}
d_1 &amp; \ldots &amp; \ldots \\\\
\ldots &amp; d_2 &amp; \ldots \\\\
\vdots &amp; \vdots &amp; \ddots \\\\
\ldots &amp; \ldots &amp; d_n \end{array} \right)
$$&lt;p>åˆ©ç”¨æ‰€æœ‰ç‚¹ä¹‹é—´çš„æƒé‡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å›¾çš„é‚»æ¥çŸ©é˜µ$W$ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªnxnçš„çŸ©é˜µï¼Œç¬¬iè¡Œçš„ç¬¬jä¸ªå€¼å¯¹åº”æˆ‘ä»¬çš„æƒé‡$w_{ij}$ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºç‚¹é›†$V$çš„çš„ä¸€ä¸ªå­é›†$A \subset V$ï¼Œæˆ‘ä»¬å®šä¹‰ï¼š&lt;/p>
$$
|A|: = å­é›†Aä¸­ç‚¹çš„ä¸ªæ•°
$$$$
vol(A): = \sum\limits_{i \in A}d_i
$$&lt;h3 id="ç›¸ä¼¼çŸ©é˜µ">&lt;a href="#%e7%9b%b8%e4%bc%bc%e7%9f%a9%e9%98%b5" class="header-anchor">&lt;/a>ç›¸ä¼¼çŸ©é˜µ
&lt;/h3>&lt;p>æ„å»ºé‚»æ¥çŸ©é˜µ$W$çš„æ–¹æ³•æœ‰ä¸‰ç±»ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>$\epsilon$-é‚»è¿‘æ³•&lt;/p>
&lt;p>å®ƒè®¾ç½®äº†ä¸€ä¸ªè·ç¦»é˜ˆå€¼$\epsilon$ï¼Œç„¶åç”¨æ¬§å¼è·ç¦»$s_{ij}$åº¦é‡ä»»æ„ä¸¤ç‚¹$x_i$å’Œ$x_j$çš„è·ç¦»ã€‚ ç„¶åæ ¹æ®$s_{ij}$å’Œ$\epsilon$çš„å¤§å°å…³ç³»ï¼Œæ¥å®šä¹‰é‚»æ¥çŸ©é˜µ$W$ã€‚è·ç¦»å°äº$\epsilon$ä¸º$\epsilon$ï¼Œè·ç¦»å¤§äº$\epsilon$ä¸º0&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ké‚»è¿‘æ³•&lt;/p>
&lt;p>åˆ©ç”¨KNNç®—æ³•éå†æ‰€æœ‰çš„æ ·æœ¬ç‚¹ï¼Œå–æ¯ä¸ªæ ·æœ¬æœ€è¿‘çš„kä¸ªç‚¹ä½œä¸ºè¿‘é‚»ï¼Œåªæœ‰å’Œæ ·æœ¬è·ç¦»æœ€è¿‘çš„kä¸ªç‚¹ä¹‹é—´çš„$w_{ij} &amp;gt; 0$ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šé€ æˆé‡æ„ä¹‹åçš„é‚»æ¥çŸ©é˜µWéå¯¹ç§°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…¨è¿æ¥æ³•ï¼ˆæœ€å¸¸ç”¨ï¼‰&lt;/p>
&lt;p>ç›¸æ¯”å‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸‰ç§æ–¹æ³•æ‰€æœ‰çš„ç‚¹ä¹‹é—´çš„æƒé‡å€¼éƒ½å¤§äº0ï¼Œå› æ­¤ç§°ä¹‹ä¸ºå…¨è¿æ¥æ³•ã€‚å¯ä»¥é€‰æ‹©ä¸åŒçš„æ ¸å‡½æ•°æ¥å®šä¹‰è¾¹æƒé‡ï¼Œå¸¸ç”¨çš„æœ‰å¤šé¡¹å¼æ ¸å‡½æ•°ï¼Œé«˜æ–¯æ ¸å‡½æ•°å’ŒSigmoidæ ¸å‡½æ•°ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é«˜æ–¯æ ¸å‡½æ•°RBFã€‚&lt;/p>
&lt;/li>
&lt;/ul>
$$
w_{ij}=s_{ij}=exp(-\frac{||x_i-x_j||_2^2}{2\sigma^2})
$$&lt;blockquote>
&lt;p>ğŸ’¡ exp(x)è¡¨ç¤º$e^x$&lt;/p>&lt;/blockquote>
&lt;h3 id="æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ">&lt;a href="#%e6%8b%89%e6%99%ae%e6%8b%89%e6%96%af%e7%9f%a9%e9%98%b5" class="header-anchor">&lt;/a>æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ
&lt;/h3>&lt;p>æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ$L= D-W$&lt;/p>
&lt;p>$D$å³ä¸ºåº¦çŸ©é˜µï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µã€‚$W$ä¸ºé‚»æ¥çŸ©é˜µã€‚&lt;/p>
&lt;h3 id="æ— å‘å›¾åˆ‡å›¾">&lt;a href="#%e6%97%a0%e5%90%91%e5%9b%be%e5%88%87%e5%9b%be" class="header-anchor">&lt;/a>æ— å‘å›¾åˆ‡å›¾
&lt;/h3>&lt;p>å¯¹äºæ— å‘å›¾$G$çš„åˆ‡å›¾ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†å›¾$G(V,E)$åˆ‡æˆç›¸äº’æ²¡æœ‰è¿æ¥çš„kä¸ªå­å›¾ï¼Œæ¯ä¸ªå­å›¾ç‚¹çš„é›†åˆä¸ºï¼š$A_1,A_2,..A_k$ï¼Œå®ƒä»¬æ»¡è¶³$A_i \cap A_j = \emptyset$,ä¸”$A_1 \cup A_2 \cup &amp;hellip; \cup A_k = V$.&lt;/p>
&lt;p>å¯¹äºä»»æ„ä¸¤ä¸ªå­å›¾ç‚¹çš„é›†åˆ$A, B \subset V$, $A \cap B = \emptyset$, æˆ‘ä»¬å®šä¹‰Aå’ŒBä¹‹é—´çš„åˆ‡å›¾æƒé‡ä¸ºï¼š&lt;/p>
$$
W(A, B) = \sum\limits_{i \in A, j \in B}w_{ij}
$$&lt;ul>
&lt;li>
&lt;p>æœ€å°åŒ–åˆ‡å›¾&lt;/p>
$$
\min cut(A,B)=\sum\limits_{i \in A, j \in B}w_{ij}
$$&lt;/li>
&lt;li>
&lt;p>RatioCutåˆ‡å›¾&lt;/p>
$$
RatioCut(A,B)=cut(A,B)(\frac{1}{|A|}+\frac{1}{|B|})
$$&lt;/li>
&lt;li>
&lt;p>Ncutåˆ‡å›¾&lt;/p>
$$
Ncut(A,B)=cut(A,B)(\frac{1}{vol(A)}+\frac{1}{vol(B)})
$$&lt;/li>
&lt;/ul>
&lt;h3 id="ç®—æ³•æµç¨‹">&lt;a href="#%e7%ae%97%e6%b3%95%e6%b5%81%e7%a8%8b" class="header-anchor">&lt;/a>ç®—æ³•æµç¨‹
&lt;/h3>&lt;p>æœ€å¸¸ç”¨çš„ç›¸ä¼¼çŸ©é˜µçš„ç”Ÿæˆæ–¹å¼æ˜¯åŸºäºé«˜æ–¯æ ¸è·ç¦»çš„å…¨è¿æ¥æ–¹å¼ï¼Œæœ€å¸¸ç”¨çš„åˆ‡å›¾æ–¹å¼æ˜¯Ncutã€‚è€Œåˆ°æœ€åå¸¸ç”¨çš„èšç±»æ–¹æ³•ä¸ºK-Meansã€‚&lt;/p>
&lt;p>è¾“å…¥ï¼šæ ·æœ¬é›†D=$(x_1,x_2,&amp;hellip;,x_n)$ï¼Œç›¸ä¼¼çŸ©é˜µçš„ç”Ÿæˆæ–¹å¼, é™ç»´åçš„ç»´åº¦$k_1$, èšç±»æ–¹æ³•ï¼Œèšç±»åçš„ç»´åº¦$k_2$&lt;/p>
&lt;p>è¾“å‡ºï¼š ç°‡åˆ’åˆ†$C(c_1,c_2,&amp;hellip;c_{k_2})$.&lt;/p>
&lt;ol>
&lt;li>æ ¹æ®è¾“å…¥çš„ç›¸ä¼¼çŸ©é˜µçš„ç”Ÿæˆæ–¹å¼æ„å»ºæ ·æœ¬çš„ç›¸ä¼¼çŸ©é˜µS&lt;/li>
&lt;li>æ ¹æ®ç›¸ä¼¼çŸ©é˜µSæ„å»ºé‚»æ¥çŸ©é˜µWï¼Œæ„å»ºåº¦çŸ©é˜µD&lt;/li>
&lt;li>è®¡ç®—å‡ºæ‹‰æ™®æ‹‰æ–¯çŸ©é˜µL&lt;/li>
&lt;li>æ„å»ºæ ‡å‡†åŒ–åçš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ$D^{-1/2}LD^{-1/2}$&lt;/li>
&lt;li>è®¡ç®—$D^{-1/2}LD^{-1/2}$æœ€å°çš„$k_1$ä¸ªç‰¹å¾å€¼æ‰€å„è‡ªå¯¹åº”çš„ç‰¹å¾å‘é‡$f$&lt;/li>
&lt;li>å°†å„è‡ªå¯¹åº”çš„ç‰¹å¾å‘é‡$f$ç»„æˆçš„çŸ©é˜µæŒ‰è¡Œæ ‡å‡†åŒ–ï¼Œæœ€ç»ˆç»„æˆ$n \times k_1$ç»´çš„ç‰¹å¾çŸ©é˜µF&lt;/li>
&lt;li>å¯¹Fä¸­çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ª$k_1$ç»´çš„æ ·æœ¬ï¼Œå…±nä¸ªæ ·æœ¬ï¼Œç”¨è¾“å…¥çš„èšç±»æ–¹æ³•è¿›è¡Œèšç±»ï¼Œèšç±»ç»´æ•°ä¸º$k_2$&lt;/li>
&lt;li>å¾—åˆ°ç°‡åˆ’åˆ†$C(c_1,c_2,&amp;hellip;c_{k_2})$&lt;/li>
&lt;/ol>
&lt;h3 id="ç¼–ç¨‹å®ç°-1">&lt;a href="#%e7%bc%96%e7%a8%8b%e5%ae%9e%e7%8e%b0-1" class="header-anchor">&lt;/a>ç¼–ç¨‹å®ç°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="n">rng&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#39;default&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% ç”Ÿæˆæµ‹è¯•æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p&lt;/span>&lt;span class="p">=&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">theta&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">pi&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span> &lt;span class="p">=[&lt;/span>&lt;span class="c">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">theta&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nb">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">theta&lt;/span>&lt;span class="p">)]&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nb">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">theta&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nb">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">theta&lt;/span>&lt;span class="p">)]&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="nb">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rg&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% è·ç¦»çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Q&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">pdist2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">imagesc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Q&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">colorbar&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ„é€ å›¾çš„ç›¸ä¼¼åº¦çŸ©é˜µA&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sigma&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">A&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">exp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Q&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="n">Q&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">imagesc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">colorbar&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ„é€ å›¾çš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">diag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">L&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">D&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">imagesc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">colorbar&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å¯¹æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µè¿›è¡Œç‰¹å¾å€¼åˆ†è§£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">S&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">eig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">s&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">diag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">S&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å–æœ€å°çš„kä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">k&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vr&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">end&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">end&lt;/span>&lt;span class="p">],:)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å¯¹æ˜ å°„åçš„ç‰¹å¾çŸ©é˜µVrè¿›è¡Œkmeansèšç±»&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">idx&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">kmeans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vr&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">idx&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rg&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s">&amp;#39;è°±èšç±» \sigma = &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">num2str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5.png"
width="700"
height="523"
srcset="https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_1fc157b9d7612468.png 480w, https://lbqaq.top/p/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/5_hu_3f33ac33939a069e.png 1024w"
loading="lazy"
alt="è°±èšç±»ç»“æœ"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
>&lt;/p>
&lt;h3 id="ç®€åŒ–è€ƒè¯•ä¸“ç”¨ä»£ç ">&lt;a href="#%e7%ae%80%e5%8c%96%e8%80%83%e8%af%95%e4%b8%93%e7%94%a8%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>ç®€åŒ–è€ƒè¯•ä¸“ç”¨ä»£ç 
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-matlab" data-lang="matlab">&lt;span class="line">&lt;span class="cl">&lt;span class="c">% æ•°æ®ä¸ºX,y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% è·ç¦»çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Q&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">pdist2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ„é€ å›¾çš„ç›¸ä¼¼åº¦çŸ©é˜µA&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sigma&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">A&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">exp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Q&lt;/span>&lt;span class="o">.*&lt;/span>&lt;span class="n">Q&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% æ„é€ å›¾çš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">diag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">L&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">D&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å¯¹æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µè¿›è¡Œç‰¹å¾å€¼åˆ†è§£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">V&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">S&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">eig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å–æœ€å°çš„kä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">k&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">V&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">%% å¯¹æ˜ å°„åçš„ç‰¹å¾çŸ©é˜µVrè¿›è¡Œkmeansèšç±»&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">idx&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">kmeans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vr&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gscatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">(:,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">idx&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#39;rg&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">title&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s">&amp;#39;è°±èšç±» \sigma = &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">num2str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sigma&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‚è€ƒæ–‡æ¡£">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e6%a1%a3" class="header-anchor">&lt;/a>å‚è€ƒæ–‡æ¡£
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/136842949" target="_blank" rel="noopener"
>K-Means(Kå‡å€¼èšç±»ç®—æ³•) - çŸ¥ä¹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/pinard/p/6221564.html" target="_blank" rel="noopener"
>è°±èšç±»ï¼ˆspectral clusteringï¼‰åŸç†æ€»ç»“ - åˆ˜å»ºå¹³Pinard - åšå®¢å›­&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸ªå•¥å•Š</title><link>https://lbqaq.top/p/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%98%AF%E4%B8%AA%E5%95%A5%E5%95%8A/</link><pubDate>Mon, 04 Apr 2022 22:54:54 +0800</pubDate><guid>https://lbqaq.top/p/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%98%AF%E4%B8%AA%E5%95%A5%E5%95%8A/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%98%AF%E4%B8%AA%E5%95%A5%E5%95%8A/89247070.webp" alt="Featured image of post äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸ªå•¥å•Š" />&lt;p>æ‰“äº†ä¸¤æ¬¡åŠ›æ‰£çš„å‘¨èµ›ï¼Œéƒ½è´¥åœ¨äº†ç¬¬ä¸‰é¢˜ä¸Šï¼Œè€Œä¸”éƒ½æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„é¢˜ç›®ã€‚è¿™ä¸‹ä¸èƒ½å¿äº†ï¼Œå¿…é¡»æ¥æ€»ç»“ä¸€æ³¢ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾">&lt;a href="#%e7%ac%ac%e4%b8%80%e6%ac%a1%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>ç¬¬ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾
&lt;/h2>&lt;p>äºŒåˆ†æŸ¥æ‰¾æ˜¯ç”¨æ¥åœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€å…ƒç´ çš„ç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>å®ƒæ¯æ¬¡è€ƒå¯Ÿæ•°ç»„å½“å‰éƒ¨åˆ†çš„ä¸­é—´å…ƒç´ ï¼Œå¦‚æœä¸­é—´å…ƒç´ åˆšå¥½æ˜¯è¦æ‰¾çš„ï¼Œå°±ç»“æŸæœç´¢è¿‡ç¨‹ï¼›å¦‚æœä¸­é—´å…ƒç´ å°äºæ‰€æŸ¥æ‰¾çš„å€¼ï¼Œé‚£ä¹ˆå·¦ä¾§çš„åªä¼šæ›´å°ï¼Œä¸ä¼šæœ‰æ‰€æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåªéœ€åˆ°å³ä¾§æŸ¥æ‰¾ï¼›å¦‚æœä¸­é—´å…ƒç´ å¤§äºæ‰€æŸ¥æ‰¾çš„å€¼åŒç†ï¼Œåªéœ€åˆ°å·¦ä¾§æŸ¥æ‰¾ã€‚&lt;/p>&lt;/blockquote>
&lt;p>ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å°±èƒ½å°†åŸå…ˆ$\Omicron(n)$æ—¶é—´å¤æ‚åº¦çš„çº¿æ€§æŸ¥æ‰¾é™ä½ä¸º$\Omicron(\log(n))$ã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä¸€å®šè¦åœ¨&lt;strong>æœ‰åº&lt;/strong>çš„æ•°ç»„ä¸Šè¿›è¡Œã€‚&lt;/p>
&lt;p>ä¸‹é¢æ”¾ä¸Šæ¨¡æ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">binary_search&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">ret&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æœªæœç´¢åˆ°æ•°æ®è¿”å›-1ä¸‹æ ‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">right&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ç›´æ¥å¹³å‡å¯èƒ½ä¼šæº¢å‡ºï¼Œæ‰€ä»¥ç”¨è¿™ä¸ªç®—æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// æœ€åæ£€æµ‹ç›¸ç­‰æ˜¯å› ä¸ºå¤šæ•°æœç´¢æƒ…å†µä¸æ˜¯å¤§äºå°±æ˜¯å°äº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">ret&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">ret&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å•ä¸€å‡ºå£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡æœç´¢çš„æ˜¯[left,right]è¿™ä¸ªé—­åŒºé—´ï¼Œæ‰€ä»¥åœ¨whileä¸­è¦ä½¿ç”¨&lt;code>&amp;lt;=&lt;/code>ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œè¿™æ ·çš„ç®—æ³•è¿˜æ˜¯å­˜åœ¨ä¸€äº›ç¼ºé™·ã€‚æ¯”å¦‚å¯¹äºæ¡ä»¶&lt;code>nums = [1,2,2,2,3],target=2&lt;/code>ï¼Œä½¿ç”¨ä¸Šé¢çš„ç®—æ³•è¿”å›çš„ä¸‹æ ‡æ˜¯&lt;code>2&lt;/code>ã€‚è™½ç„¶ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬æƒ³è¦å¾—åˆ°&lt;code>target&lt;/code>çš„å·¦ä¾§è¾¹ç•Œæˆ–å³ä¾§è¾¹ç•Œå°±ä¸èƒ½ä½¿ç”¨ä¸Šé¢çš„ç®—æ³•äº†ã€‚è™½ç„¶å¯ä»¥å…ˆæŸ¥å‡ºç»“æœå†å‘å·¦æˆ–å³çº¿æ€§æœç´¢ï¼Œä½†è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±è¢«æé«˜äº†ã€‚&lt;/p>
&lt;h3 id="å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾">&lt;a href="#%e5%af%bb%e6%89%be%e5%b7%a6%e4%be%a7%e8%be%b9%e7%95%8c%e7%9a%84%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">left_bound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// æ³¨æ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// æ³¨æ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ³¨æ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// target æ¯”æ‰€æœ‰æ•°éƒ½å¤§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æœªæŸ¥åˆ°ç›®æ ‡å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">target&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nl">left&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨è¿™é‡Œæˆ‘ä»¬æœç´¢çš„åŒºé—´å˜æˆäº†å·¦é—­å³å¼€[left,right)ï¼Œæ‰€ä»¥åœ¨whileä¸­ä½¿ç”¨&lt;code>&amp;lt;&lt;/code>ã€‚&lt;/p>
&lt;p>ç”±äºæœç´¢åŒºé—´å˜ä¸º[left,right)ï¼Œæ‰€ä»¥å½“ &lt;code>nums[mid]&lt;/code>è¢«æ£€æµ‹ä¹‹åï¼Œä¸‹ä¸€æ­¥çš„æœç´¢åŒºé—´åº”è¯¥å»æ‰ &lt;code>mid&lt;/code>åˆ†å‰²æˆä¸¤ä¸ªåŒºé—´ï¼Œå³ &lt;code>[left, mid)&lt;/code>æˆ– &lt;code>[mid + 1, right)&lt;/code>ã€‚åœ¨ä»£ç ä¸­ä½“ç°ä¸º&lt;code>left = mid + 1;&lt;/code>å’Œ&lt;code>right = mid;&lt;/code>&lt;/p>
&lt;p>é‚£ä¹ˆï¼Œè¿™ä¸ªæ¨¡æ¿ä¸ºä»€ä¹ˆèƒ½æ‰¾åˆ°å·¦è¾¹ç•Œå‘¢ï¼Ÿå…³é”®åœ¨äº&lt;code>nums[mid] == target&lt;/code>è¿™ç§æƒ…å†µçš„å¤„ç†ï¼š&lt;/p>
&lt;p>&lt;code>right = mid;&lt;/code>&lt;/p>
&lt;p>æˆ‘ä»¬æ‰¾åˆ° target æ—¶æ²¡æœ‰ç«‹å³è¿”å›ï¼Œè€Œæ˜¯ç¼©å°ã€Œæœç´¢åŒºé—´ã€çš„ä¸Šç•Œ &lt;code>right&lt;/code>ï¼Œåœ¨åŒºé—´ &lt;code>[left, mid)&lt;/code>ä¸­ç»§ç»­æœç´¢ï¼Œå³ä¸æ–­å‘å·¦æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå·¦ä¾§è¾¹ç•Œçš„ç›®çš„ã€‚&lt;/p>
&lt;h3 id="å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾">&lt;a href="#%e5%af%bb%e6%89%be%e5%8f%b3%e4%be%a7%e8%be%b9%e7%95%8c%e7%9a%84%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">right_bound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ³¨æ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">target&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ³¨æ„è¦-1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºæˆ‘ä»¬å¯¹ &lt;code>left&lt;/code>çš„æ›´æ–°å¿…é¡»æ˜¯ &lt;code>left = mid + 1&lt;/code>ï¼Œè¿™å°±å¯¼è‡´äº† while å¾ªç¯ç»“æŸæ—¶ï¼Œ&lt;code>nums[left]&lt;/code>ä¸€å®šä¸ç­‰äº &lt;code>target&lt;/code>äº†ï¼Œè€Œ &lt;code>nums[left-1]&lt;/code>å¯èƒ½æ˜¯ &lt;code>targe&lt;/code>ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨è¿”å›ç»“æœæ—¶è¦è¿›è¡Œ&lt;code>-1&lt;/code>æ“ä½œã€‚&lt;/p>
&lt;h2 id="ç¬¬äºŒæ¬¡äºŒåˆ†æŸ¥æ‰¾">&lt;a href="#%e7%ac%ac%e4%ba%8c%e6%ac%a1%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>ç¬¬äºŒæ¬¡äºŒåˆ†æŸ¥æ‰¾
&lt;/h2>&lt;p>è™½è¯´ä¸Šé¢çš„æ¨¡æ¿å·²ç»å¤Ÿå¥½äº†ï¼Œä½†æ˜¯æœ‰äº›é¢˜ç›®å¹¶ä¸æ˜¯åªè€ƒä¸€ä¸ªäºŒåˆ†ï¼Œå¦‚æœç…§ç€æ•²ä¸€éæ¨¡æ¿è¿˜æ˜¯æ¯”è¾ƒè´¹æ—¶çš„ã€‚è¿™æ˜¯å°±ä¸å¾—ä¸ç¥­å‡º&lt;code>&amp;lt;algorithm&amp;gt;&lt;/code>é‡Œçš„ä¸¤ä¸ªå†…ç½®å‡½æ•°äº†ï¼š&lt;/p>
&lt;h3 id="lower_bound">&lt;a href="#lower_bound" class="header-anchor">&lt;/a>lower_bound
&lt;/h3>&lt;p>è¿”å›æŒ‡å‘èŒƒå›´ &lt;code>[first, last)&lt;/code> ä¸­é¦–ä¸ª&lt;strong>ä¸å°äº&lt;/strong>ï¼ˆå³å¤§äºæˆ–ç­‰äºï¼‰ &lt;code>value&lt;/code> çš„å…ƒç´ çš„&lt;strong>è¿­ä»£å™¨&lt;/strong>ï¼Œæˆ–è‹¥æ‰¾ä¸åˆ°è¿™ç§å…ƒç´ åˆ™è¿”å› &lt;code>last&lt;/code> ã€‚&lt;/p>
&lt;p>ä»”ç»†è€ƒè™‘ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°è¿™å°±æ˜¯ä¸Šé¢æåˆ°çš„å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ï¼Œä¸€ä¸‹å°±æŠŠåŸæ¥é‚£ä¹ˆé•¿çš„ä»£ç å˜æˆäº†ä¸€è¡Œï¼Œå¤ªé¦™äº†ã€‚ï¼ˆä½†æ˜¯ä¸Šé¢çš„æ¨¡æ¿è¿˜æ˜¯è¦æŒæ¡ï¼Œæœ‰äº›é¢˜ç›®æ˜¯æ— æ³•è°ƒåº“ï¼‰&lt;/p>
&lt;p>ä½¿ç”¨ä¸¾ä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="n">lower&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lower_bound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">lower&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€ä¸ªå°ç»†èŠ‚ï¼Œ&lt;code>lower_bound&lt;/code>è¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼Œæ‰€ä»¥lowerçš„çœŸå®ç±»å‹æ˜¯&lt;code>vector&amp;lt;int&amp;gt;::iterator&lt;/code>ï¼Œå¤ªé•¿äº†æ‰€ä»¥æˆ‘ä»¬ç”¨çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨&lt;code>auto&lt;/code>è®©ç¼–è¯‘å™¨æ¥è¡¥å…¨QuQã€‚&lt;/p>
&lt;h3 id="upper_bound">&lt;a href="#upper_bound" class="header-anchor">&lt;/a>upper_bound
&lt;/h3>&lt;p>è¿”å›æŒ‡å‘èŒƒå›´ &lt;code>[first, last)&lt;/code> ä¸­é¦–ä¸ª&lt;strong>å¤§äº&lt;/strong> &lt;code>value&lt;/code> çš„å…ƒç´ çš„&lt;strong>è¿­ä»£å™¨&lt;/strong>ï¼Œæˆ–è‹¥æ‰¾ä¸åˆ°è¿™ç§å…ƒç´ åˆ™è¿”å› &lt;code>last&lt;/code> ã€‚&lt;/p>
&lt;p>å…¶å®å°±æ˜¯ä¸Šé¢å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ï¼Œåªä¸è¿‡æˆ‘ä»¬è¿›è¡Œäº†&lt;code>-1&lt;/code>æ“ä½œè€Œè¯¥å‡½æ•°æ²¡æœ‰è€Œå·²ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ä¸¾ä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="n">upper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">upper_bound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">upper&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//7
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç»ˆæäºŒåˆ†æŸ¥æ‰¾">&lt;a href="#%e7%bb%88%e6%9e%81%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>ç»ˆæäºŒåˆ†æŸ¥æ‰¾
&lt;/h2>&lt;p>ä¸Šé¢çš„éƒ½æ˜¯å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠæ€è·¯æ”¾å¼€ä¸€ç‚¹ï¼Œå¯¹&lt;strong>ç­”æ¡ˆ&lt;/strong>è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚æˆ‘ä»¬éƒ½çŸ¥é“æš´åŠ›æ³•å°±æ˜¯æšä¸¾ç­”æ¡ˆç„¶åæ£€éªŒæšä¸¾çš„å€¼æ˜¯å¦æ­£ç¡®ï¼Œå½“ç­”æ¡ˆæ»¡è¶³å•è°ƒæ€§æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æšä¸¾æ¢ä¸ºäºŒåˆ†ï¼Œè¿™æ ·èƒ½å¤§å¤§é™ä½æ—¶é—´å¤æ‚åº¦ã€‚&lt;/p>
&lt;p>æ”¾ä¸¤é“ä¾‹é¢˜ï¼Œå°±æ˜¯å¼•è¨€é‡Œæˆ‘è¯´çš„å‘¨èµ›é¢˜&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/problems/minimum-time-to-complete-trips/" target="_blank" rel="noopener"
>2187. å®Œæˆæ—…é€”çš„æœ€å°‘æ—¶é—´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/problems/maximum-candies-allocated-to-k-children/" target="_blank" rel="noopener"
>5219. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://oi-wiki.org/basic/binary" target="_blank" rel="noopener"
>äºŒåˆ† - OI Wiki&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-xiang-jie-by-labuladong/" target="_blank" rel="noopener"
>äºŒåˆ†æŸ¥æ‰¾ç»†èŠ‚è¯¦è§£ï¼Œé¡ºä¾¿èµ‹è¯—ä¸€é¦– - äºŒåˆ†æŸ¥æ‰¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è¿›åˆ¶è½¬æ¢å’Œä½è¿ç®—</title><link>https://lbqaq.top/p/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97/</link><pubDate>Sun, 03 Apr 2022 09:45:04 +0800</pubDate><guid>https://lbqaq.top/p/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97/</guid><description>&lt;img src="https://lbqaq.top/p/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97/95490521.webp" alt="Featured image of post è¿›åˆ¶è½¬æ¢å’Œä½è¿ç®—" />&lt;h2 id="è¿›åˆ¶è½¬æ¢">&lt;a href="#%e8%bf%9b%e5%88%b6%e8%bd%ac%e6%8d%a2" class="header-anchor">&lt;/a>è¿›åˆ¶è½¬æ¢
&lt;/h2>&lt;p>åœ¨æ•°å­¦ä¸­ï¼Œä¸æ­¢åªæœ‰æˆ‘ä»¬å¸¸è§çš„10è¿›åˆ¶ï¼Œæœ€è¿‘åˆ·äº†å‡ é“å…³äºè¿›åˆ¶è½¬æ¢çš„é¢˜ç›®ï¼Œåœ¨è¿™é‡Œåšä¸ªæ€»ç»“å’Œè®°å½•å§ã€‚&lt;/p>
&lt;h3 id="åŸºæœ¬æ¦‚å¿µ">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>åŸºæœ¬æ¦‚å¿µ
&lt;/h3>&lt;p>é¦–å…ˆæˆ‘ä»¬è¦å…ˆäº†è§£è¿›åˆ¶çš„åŸºæœ¬æ¦‚å¿µï¼Œè¿™é‡Œæˆ‘ç›´æ¥ä»LeetCodeå®˜æ–¹è¿™é‡Œå¼•ç”¨äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä»»ä½•ä¸€ç§è¿›ä½è®¡æ•°åˆ¶éƒ½æœ‰ä¸€ä¸ªåŸºæ•°ï¼ŒåŸºæ•°ä¸º X çš„è¿›ä½è®¡æ•°åˆ¶ç§°ä¸º X è¿›åˆ¶ï¼Œè¡¨ç¤ºæ¯ä¸€ä¸ªæ•°ä½ä¸Šçš„æ•°è¿ç®—æ—¶éƒ½æ˜¯é€¢ X è¿›ä¸€ã€‚&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>å¯¹äºä¸€ä¸ª X è¿›åˆ¶çš„æ•°ï¼Œå…¶å…·ä½“æ•°å€¼ç”±å…¶ä¸­çš„æ¯ä¸ªæ•°ç å’Œæ•°ç æ‰€åœ¨çš„æ•°ä½å†³å®šã€‚æ•´æ•°éƒ¨åˆ†ä»å³å¾€å·¦çš„ç¬¬ m ä¸ªæ•°ä½è¡¨ç¤ºçš„æƒé‡æ˜¯ $X^m$ï¼Œå…¶ä¸­ m æœ€å°ä¸º 0ï¼›å°æ•°éƒ¨åˆ†ä»å·¦å¾€å³çš„ç¬¬ n ä¸ªæ•°ä½è¡¨ç¤ºçš„æƒé‡æ˜¯$X^{-n}$ï¼Œå…¶ä¸­ n æœ€å°ä¸º 1ã€‚&lt;/p>&lt;/blockquote>
&lt;p>å…«è¿›åˆ¶çš„ $720.5$ å¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š&lt;/p>
&lt;p>$720.5_{(8)} = 7 \times 8^2 + 2 \times 8^1 + 0 \times 8^0 + 5 \times 8^{-1}$&lt;/p>
&lt;p>ç”¨æˆ‘è‡ªå·±çš„è¯æ¥è¯´ï¼Œå°±æ˜¯&lt;code>æ•°å€¼*æƒé‡&lt;/code>&lt;/p>
&lt;h3 id="è¿›åˆ¶è½¬æ¢çš„ä¸€èˆ¬æ€è·¯">&lt;a href="#%e8%bf%9b%e5%88%b6%e8%bd%ac%e6%8d%a2%e7%9a%84%e4%b8%80%e8%88%ac%e6%80%9d%e8%b7%af" class="header-anchor">&lt;/a>è¿›åˆ¶è½¬æ¢çš„ä¸€èˆ¬æ€è·¯
&lt;/h3>&lt;p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†è¿›åˆ¶è½¬æ¢æˆåè¿›åˆ¶ï¼Œè¿™æ ·ä¾¿äºç†è§£å’Œæ‰‹ç®—ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸é€šè¿‡åè¿›åˆ¶ä½œä¸ºä¸­é—´æ€è¿‡åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†Ÿæ‚‰çš„äºŒè¿›åˆ¶å’Œåå…­è¿›åˆ¶çš„è½¬æ¢ã€‚&lt;/p>
&lt;h4 id="éåè¿›åˆ¶è½¬åè¿›åˆ¶">&lt;a href="#%e9%9d%9e%e5%8d%81%e8%bf%9b%e5%88%b6%e8%bd%ac%e5%8d%81%e8%bf%9b%e5%88%b6" class="header-anchor">&lt;/a>éåè¿›åˆ¶è½¬åè¿›åˆ¶
&lt;/h4>&lt;p>å°†éåè¿›åˆ¶æ•°è½¬æˆåè¿›åˆ¶æ•°ï¼Œåªè¦å°†æ¯ä¸ªæ•°ä½çš„åŠ æƒå’Œå³å¯ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå°†å…«è¿›åˆ¶æ•° $720.5_{(8)}$ è½¬æˆåè¿›åˆ¶ï¼š&lt;/p>
&lt;p>$720.5_{(8)} = 7 \times 8^2 + 2 \times 8^1 + 0 \times 8^0 + 5 \times 8^{-1} = 464.625$&lt;/p>
&lt;p>ä¸‹é¢æ˜¯ç¨‹åºçš„å®ç°(åªè€ƒè™‘æ•´æ•°)ï¼Œæˆ‘ä»¬å¯ä»¥ä»é«˜ä½åˆ°ä½ä½è¿›è¡Œè¯»å–ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ–¹å¼è¯»å…¥,å…¶ä¸­&lt;code>n&lt;/code>è¡¨ç¤ºæ˜¯å‡ è¿›åˆ¶æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">read&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getchar&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">isint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getchar&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">isint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">isint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getchar&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åè¿›åˆ¶è½¬éåè¿›åˆ¶">&lt;a href="#%e5%8d%81%e8%bf%9b%e5%88%b6%e8%bd%ac%e9%9d%9e%e5%8d%81%e8%bf%9b%e5%88%b6" class="header-anchor">&lt;/a>åè¿›åˆ¶è½¬éåè¿›åˆ¶
&lt;/h4>&lt;p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹æ‰‹ç®—ï¼Œå°†åè¿›åˆ¶æ•°è½¬æˆ X è¿›åˆ¶æ•°ï¼Œéœ€è¦å¯¹æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†åˆ†åˆ«è½¬æ¢ã€‚&lt;/p>
&lt;p>å¯¹äºæ•´æ•°éƒ¨åˆ†ï¼Œè½¬æ¢æ–¹å¼æ˜¯å°†åè¿›åˆ¶æ•°çš„æ•´æ•°éƒ¨åˆ†æ¯æ¬¡é™¤ä»¥ X ç›´åˆ°å˜æˆ 0ï¼Œå¹¶è®°å½•æ¯æ¬¡çš„ä½™æ•°ï¼Œ&lt;strong>åå‘&lt;/strong>éå†æ¯æ¬¡çš„ä½™æ•°å³å¯å¾—åˆ° X è¿›åˆ¶è¡¨ç¤ºã€‚&lt;/p>
&lt;p>å¯¹äºå°æ•°éƒ¨åˆ†ï¼Œè½¬æ¢æ–¹å¼æ˜¯å°†åè¿›åˆ¶æ•°çš„å°æ•°éƒ¨åˆ†æ¯æ¬¡ä¹˜ä»¥ X ç›´åˆ°å˜æˆ 0ï¼Œå¹¶è®°å½•æ¯æ¬¡çš„æ•´æ•°éƒ¨åˆ†ï¼Œæ­£åºéå†æ¯æ¬¡çš„æ•´æ•°éƒ¨åˆ†å³å¯å¾—åˆ° X è¿›åˆ¶è¡¨ç¤ºã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯æ•´æ•°è½¬æ¢çš„è¿‡ç¨‹ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯è½¬æ¢æ—¶æ˜¯ä»ä½ä½åˆ°é«˜ä½ï¼Œå¦‚æœè¦è¾“å‡ºçš„è¯è¦è¿›è¡Œå€’åºï¼Œä½“ç°åœ¨ç¨‹åºä¸­å°±æ˜¯å…ˆé€’å½’å†è¾“å‡ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">itc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è´Ÿè¿›åˆ¶">&lt;a href="#%e8%b4%9f%e8%bf%9b%e5%88%b6" class="header-anchor">&lt;/a>è´Ÿè¿›åˆ¶
&lt;/h3>&lt;p>&lt;a class="link" href="https://www.luogu.com.cn/problem/P1017" target="_blank" rel="noopener"
>[NOIP2000 æé«˜ç»„] è¿›åˆ¶è½¬æ¢&lt;/a>&lt;/p>
&lt;p>åœ¨æ´›è°·çš„è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šè´Ÿè¿›åˆ¶&lt;/p>
&lt;p>åœ¨è´Ÿè¿›åˆ¶æ•°ä¸­æ˜¯ç”¨ $-R$ ä½œä¸ºåŸºæ•°ï¼Œä¾‹å¦‚ $âˆ’15$ï¼ˆåè¿›åˆ¶ï¼‰ç›¸å½“äº $110001$ ï¼ˆ$-2$è¿›åˆ¶ï¼‰ï¼Œå¹¶ä¸”å®ƒå¯ä»¥è¢«è¡¨ç¤ºä¸º $2$ çš„å¹‚çº§æ•°çš„å’Œæ•°ï¼š&lt;/p>
&lt;p>$110001=1\times (-2)^5+1\times (-2)^4+0\times (-2)^3+0\times (-2)^2+0\times (-2)^1 +1\times (-2)^0$&lt;/p>
&lt;p>å¦‚æœæŒ‰ç…§ä¸Šé¢æ‰€å†™çš„è½¬æ¢è¿‡ç¨‹ï¼Œå°±ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚åœ¨C++é‡Œå¯¹$-15$è¿›è¡Œå–æ¨¡å’Œç›¸é™¤çš„ç»“æœæ˜¯ï¼š&lt;/p>
&lt;p>$-15%-2=-1$ ï¼› $-15\div-2=7$ ï¼› $7\times-2+(-1)=-15$&lt;/p>
&lt;p>è™½ç„¶å¼å­æ˜¯æˆç«‹çš„ï¼Œä½†æˆ‘ä»¬å¾—åˆ°çš„ä½™æ•°æ˜¯è´Ÿæ•°ï¼Œè¿™è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æƒ³åŠæ³•è¿›è¡Œè½¬æ¢ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†ä½™æ•°å‡å»ä¸€ä¸ªé™¤æ•°ï¼ŒåŒæ—¶å°†å•†+1ã€‚ç”±äºé™¤æ•°ï¼ˆç»å¯¹å€¼ï¼‰è‚¯å®šæ˜¯å¤§äºä½™æ•°çš„ï¼Œæ­¤æ—¶ä½™æ•°å°±ä¼šè½¬æ¢æˆæ­£æ•°ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯å…·ä½“å®ç°çš„ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">slove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// mä¸ºä½™æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å¦‚æœä½™æ•°å°äº0ï¼Œè½¬åŒ–ä¸ºæ­£æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//å•†+1 =&amp;gt; è¢«é™¤æ•°+é™¤æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;A&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">m&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">slove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä½è¿ç®—">&lt;a href="#%e4%bd%8d%e8%bf%90%e7%ae%97" class="header-anchor">&lt;/a>ä½è¿ç®—
&lt;/h2>&lt;p>ä½è¿ç®—çš„åŸºæœ¬æ¦‚å¿µåœ¨ç»„æˆåŸç†è¿™äº›è¯¾ä¸Šå·²ç»è®²è¿‡ä¸çŸ¥é“å¤šå°‘éäº†ï¼Œè¿™é‡Œå°±åªæä¸€ä¸‹æˆ‘è§‰å¾—é‡è¦çš„ç‚¹ã€‚&lt;/p>
&lt;p>ä½è¿ç®—å…±æœ‰6ç§ï¼Œåˆ†åˆ«æ˜¯ï¼šä¸(&lt;code>&amp;amp;&lt;/code>)ã€æˆ–(&lt;code>|&lt;/code>)ã€å¼‚æˆ–(&lt;code>^&lt;/code>)ã€å–å(&lt;code>~&lt;/code>)ã€å·¦ç§»(&lt;code>&amp;lt;&amp;lt;&lt;/code>)å’Œå³ç§»(&lt;code>&amp;gt;&amp;gt;&lt;/code>)ã€‚&lt;/p>
&lt;p>è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹å³ç§»è¿ç®—ï¼Œå®ƒåˆ†ä¸ºé€»è¾‘å³ç§»å’Œç®—æœ¯å³ç§»ï¼š&lt;/p>
&lt;ul>
&lt;li>ç®—æœ¯å³ç§»æ—¶ï¼Œé«˜ä½è¡¥æœ€é«˜ä½&lt;/li>
&lt;li>é€»è¾‘å³ç§»æ—¶ï¼Œé«˜ä½è¡¥0&lt;/li>
&lt;/ul>
&lt;p>åœ¨C++ä¸­ï¼Œæ•°æ®ç±»å‹åŒ…å«æœ‰ç¬¦å·ç±»å‹å’Œæ— ç¬¦å·ç±»å‹ï¼Œå…¶ä¸­æœ‰ç¬¦å·ç±»å‹ä½¿ç”¨å…³é”®å­— &lt;code>signed&lt;/code> å£°æ˜ï¼Œæ— ç¬¦å·ç±»å‹ä½¿ç”¨å…³é”®å­— &lt;code>unsigned&lt;/code> å£°æ˜ï¼Œä¸¤ä¸ªå…³é”®å­—éƒ½ä¸ä½¿ç”¨æ—¶ï¼Œé»˜è®¤æ˜¯æœ‰ç¬¦å·ç±»å‹ã€‚å¯¹äºæœ‰ç¬¦å·ç±»å‹ï¼Œå³ç§»è¿ç®—ä¸ºç®—æœ¯å³ç§»ï¼›å¯¹äºæ— ç¬¦å·ç±»å‹ï¼Œå³ç§»è¿ç®—ä¸ºé€»è¾‘å³ç§»ã€‚&lt;/p>
&lt;p>åœ¨å­¦ä¹ å’Œåˆ·é¢˜æ—¶ï¼Œæˆ‘ä»¬å®¹æ˜“å‘ç°ï¼Œå·¦ç§»è¿ç®—å¯¹åº”ä¹˜æ³•è¿ç®—ã€‚å°†ä¸€ä¸ªæ•°å·¦ç§» $k$ ä½ï¼Œç­‰ä»·äºå°†è¿™ä¸ªæ•°ä¹˜ä»¥ $2^k$ã€‚ä¾‹å¦‚ï¼Œ$29$ å·¦ç§» $2$ ä½çš„ç»“æœæ˜¯ $116$ï¼Œç­‰ä»·äº $29 \times 4$ã€‚&lt;/p>
&lt;p>ç®—æœ¯å³ç§»è¿ç®—å¯¹åº”é™¤æ³•è¿ç®—ã€‚å°†ä¸€ä¸ªæ•°å³ç§» $k$ ä½ï¼Œç›¸å½“äºå°†è¿™ä¸ªæ•°é™¤ä»¥ $2^k$ã€‚ä¾‹å¦‚ï¼Œ$50$ å³ç§» $2$ ä½çš„ç»“æœæ˜¯ $12$ï¼Œç­‰ä»·äº $50 / 4$ï¼Œç»“æœå‘ä¸‹å–æ•´ã€‚&lt;/p>
&lt;p>è¿™é‡Œè¦æ³¨æ„ï¼Œå¯¹äºè´Ÿæ•°ï¼Œæ•´æ•°é™¤æ³•æ˜¯å‘ $0$ å–æ•´ï¼Œå³ç§»è¿ç®—æ˜¯å‘ä¸‹å–æ•´ï¼Œä¸¤è€…å°±ä¸ç›¸åŒäº†ã€‚ä¾‹å¦‚ï¼Œ$(-50)&amp;raquo;2$çš„ç»“æœæ˜¯ $âˆ’13$ï¼Œè€Œ $(-50) / 4$ çš„ç»“æœæ˜¯$-12$ï¼Œä¸¤è€…æ˜¯ä¸ç›¸ç­‰çš„ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/leetbook/read/bit-manipulation-and-math/" target="_blank" rel="noopener"
>ä½è¿ç®—å’Œæ•°å­¦ - LeetBook&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>åˆæ¢åŒºé—´æ±‚å’Œé—®é¢˜</title><link>https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 14 Mar 2022 20:46:19 +0800</pubDate><guid>https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/</guid><description>&lt;img src="https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/95680357.webp" alt="Featured image of post åˆæ¢åŒºé—´æ±‚å’Œé—®é¢˜" />&lt;p>æœ€è¿‘çœ‹äº†å¾ˆå¤šç¯‡å…³äºå¦‚ä½•åˆ·é¢˜çš„æ–‡ç« ï¼Œå…¶ä¸­éƒ½ä¸çº¦è€ŒåŒçš„æåˆ°äº†&amp;quot;æ€»ç»“&amp;quot;è¿™ä¸ªå…³é”®è¯ã€‚ä»”ç»†æƒ³æƒ³è‡ªå·±ç¡®å®æ˜¯ä»æ¥æ²¡æœ‰åšè¿‡ä¸€ç¯‡æ€»ç»“ï¼Œåˆ·è¿‡çš„é¢˜ç›®å°±è¿‡å»äº†ï¼Œå¯¼è‡´åŒæ ·çš„é¢˜ç›®å†åšä¸€æ¬¡åˆä¸ä¼šäº†ã€‚&lt;/p>
&lt;p>æˆ‘çš„ç¬¬ä¸€ç¯‡æ€»ç»“å°±ä»¥æœ€è¿‘åˆ·åˆ°çš„ã€ŒåŒºé—´æ±‚å’Œã€é—®é¢˜å±•å¼€å§ã€‚é¦–å…ˆï¼Œå…ˆä¸Šä¸€èˆ¬é—®é¢˜çš„æ¨¡æ¿ï¼ˆå…¶ä¸­åŠ ç²—çš„ä¸ºæœ€ä½³æ–¹æ¡ˆï¼‰ï¼š&lt;/p>
&lt;ul>
&lt;li>æ•°ç»„ä¸å˜ï¼ŒåŒºé—´æŸ¥è¯¢ï¼š&lt;strong>å‰ç¼€å’Œ&lt;/strong>ã€æ ‘çŠ¶æ•°ç»„ã€çº¿æ®µæ ‘ï¼›&lt;/li>
&lt;li>æ•°ç»„å•ç‚¹ä¿®æ”¹ï¼ŒåŒºé—´æŸ¥è¯¢ï¼š&lt;strong>æ ‘çŠ¶æ•°ç»„&lt;/strong>ã€çº¿æ®µæ ‘ï¼›&lt;/li>
&lt;li>æ•°ç»„åŒºé—´ä¿®æ”¹ï¼Œå•ç‚¹æŸ¥è¯¢ï¼š&lt;strong>å·®åˆ†&lt;/strong>ã€çº¿æ®µæ ‘ï¼›&lt;/li>
&lt;li>æ•°ç»„åŒºé—´ä¿®æ”¹ï¼ŒåŒºé—´æŸ¥è¯¢ï¼š&lt;strong>çº¿æ®µæ ‘&lt;/strong>ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å‰ç¼€å’Œ">&lt;a href="#%e5%89%8d%e7%bc%80%e5%92%8c" class="header-anchor">&lt;/a>å‰ç¼€å’Œ
&lt;/h2>&lt;p>å‰ç¼€å’Œçš„ä½œç”¨å°±æ˜¯ä¸ºäº†å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ±‚æŸä¸€æ®µçš„å’Œï¼Œæ˜¯ã€Œå·®åˆ†ã€çš„é€†è¿ç®—ã€‚&lt;/p>
&lt;p>&lt;strong>å‰ç¼€å’Œæ•°ç»„çš„æ¯ä¸€ä½è®°å½•çš„æ˜¯å½“å‰ä½ç½®è·ç¦»èµ·ç‚¹ä½ç½®ï¼Œè¿™è¿ç»­ä¸€æ®µçš„å’ŒåŒºé—´å’Œã€‚&lt;/strong>&lt;/p>
&lt;h3 id="ä¸€ç»´å‰ç¼€å’Œ">&lt;a href="#%e4%b8%80%e7%bb%b4%e5%89%8d%e7%bc%80%e5%92%8c" class="header-anchor">&lt;/a>ä¸€ç»´å‰ç¼€å’Œ
&lt;/h3>&lt;p>å‡è®¾æœ‰ä¸€ä¸ªä¸€ç»´æ•°ç»„$x$å’Œè¯¥æ•°ç»„çš„ä¸€ç»´å‰ç¼€å’Œæ•°ç»„$y$ï¼Œåˆ™$x$å’Œ$y$æ»¡è¶³ä»¥ä¸‹å…³ç³»ï¼š&lt;/p>
$$y_0=x_0ã€y_1=x_0+x_1ã€y_2=x_0+x_1+x_2ã€......ã€y_n=x_0+x_1+...+x_n$$&lt;p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ $y_n=y_{n-1}+x_n$ è¿™ä¸ªå…¬å¼è®¡ç®—å‡ºå‰ç¼€å’Œï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°å·¦è¾¹ç•Œæº¢å‡ºçš„æƒ…å†µï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å°†å‰ç¼€å’Œæ•°ç»„æ•´ä½“å‘åç§»åŠ¨ä¸€ä½ï¼Œä¸‹é¢ç»™å‡ºå‰ç¼€ç»™è®¡ç®—ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å½“æˆ‘ä»¬æƒ³æ±‚åŒºé—´$[a,b]$ä¹‹å’Œæ—¶åªéœ€è¦è®¡ç®—$y[b+1]-y[a]$å³å¯ã€‚&lt;/p>
&lt;h3 id="äºŒç»´å‰ç¼€å’Œ">&lt;a href="#%e4%ba%8c%e7%bb%b4%e5%89%8d%e7%bc%80%e5%92%8c" class="header-anchor">&lt;/a>äºŒç»´å‰ç¼€å’Œ
&lt;/h3>&lt;p>æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„$a$å’Œè¯¥æ•°ç»„çš„äºŒç»´å‰ç¼€å’Œæ•°ç»„$b$ï¼ˆå…¶åŒæ ·æ˜¯ä¸ªäºŒç»´æ•°ç»„)&lt;/p>
&lt;p>å³ä¾§æ ‡æ³¨æ©™è‰²çš„äºŒç»´å‰ç¼€å’Œå…ƒç´ ï¼Œå…¶å€¼æ˜¯å·¦ä¾§çš„åŸäºŒç»´æ•°ç»„ä¸­æ ‡æ³¨æ©™è‰²çš„æ‰€æœ‰å…ƒç´ çš„å’Œã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/IMAGE/1.jpg"
width="899"
height="457"
srcset="https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/IMAGE/1_hu_574bdaff6d014dba.jpg 480w, https://lbqaq.top/p/%E5%88%9D%E6%8E%A2%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/IMAGE/1_hu_43235969b02099c0.jpg 1024w"
loading="lazy"
alt="äºŒç»´å‰ç¼€å’Œ"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
>&lt;/p>
&lt;p>äºŒç»´å‰ç¼€å’Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªçŸ©é˜µå†…å€¼çš„å’Œï¼Œè€ŒçŸ©é˜µåˆå¯ä»¥ç”±ä¸¤ä¸ªè¡Œæ•°æˆ–åˆ—æ•°å°‘ä¸€çš„å­çŸ©é˜µç»„åˆåï¼Œåˆ å»é‡åˆéƒ¨åˆ†å†åŠ ä¸Šå³ä¸‹è§’çš„å€¼æ¥æ„æˆï¼Œä¹Ÿå°±æ˜¯ä»¥ä¸‹å¼å­ï¼š&lt;/p>
$$b_{x,y}=b_{x-1,y}+b_{x,y-1}-b_{x-1,y-1}+a_{x,y}$$&lt;p>è¯¦ç»†çš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// nè¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// måˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//å·¦ä¸Šè§’çš„å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="nf">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//ç¬¬ä¸€åˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="nf">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//ç¬¬ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡äºŒç»´å‰ç¼€å’Œï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¡ç®—å‡ºç»™å®šçŸ©é˜µçš„å’Œï¼Œå³ä¸Šé¢æ±‚å‰ç¼€å’Œçš„é€†è¿ç®—ã€‚å‡è®¾æ‰€æ±‚çŸ©é˜µçš„å·¦ä¸Šè§’ç‚¹ä¸º$(x1,y1)$ï¼Œå³ä¸‹è§’ç‚¹ä¸º$(x2,y2)$ï¼Œåˆ™æœ‰å…¬å¼ï¼š&lt;/p>
&lt;p>$sum=B[y2][x2]+B[y1-1][x1-1]-B[y1-1][x2]-B[y2][x1-1]$&lt;/p>
&lt;p>è¿™é‡Œç»“åˆå›¾å½¢ä¼šæ›´å¥½ç†è§£ä¸€ç‚¹ã€‚&lt;/p>
&lt;h3 id="ä¾‹é¢˜">&lt;a href="#%e4%be%8b%e9%a2%98" class="header-anchor">&lt;/a>ä¾‹é¢˜
&lt;/h3>&lt;p>åŠ›æ‰£&lt;a class="link" href="https://leetcode-cn.com/problems/range-sum-query-immutable/" target="_blank" rel="noopener"
>303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜&lt;/a>&lt;/p>
&lt;p>å°±æ˜¯ä¸€ç»´å‰ç¼€å’Œçš„æ¨¡æ¿é¢˜ï¼Œç›´æ¥ä¸Šæ¨¡æ¿å³å¯åšå‡ºã€‚&lt;/p>
&lt;h2 id="å·®åˆ†">&lt;a href="#%e5%b7%ae%e5%88%86" class="header-anchor">&lt;/a>å·®åˆ†
&lt;/h2>&lt;p>å·®åˆ†æ˜¯ä¸€ç§å¤„ç†æ•°æ®çš„å·§å¦™è€Œç®€å•çš„æ–¹æ³•ï¼Œå®ƒåº”ç”¨äºåŒºé—´çš„ä¿®æ”¹å’Œè¯¢é—®é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬è¦ç»å¸¸å¯¹æ•°ç»„AæŸä¸ªåŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ åšç›¸åŒçš„åŠ å‡æ“ä½œï¼Œå¦‚æœä¸€ä¸ªä¸€ä¸ªä¿®æ”¹æ•ˆç‡å¾ˆå·®ï¼Œä½†æ˜¯ä½¿ç”¨å·®åˆ†æ•°ç»„åï¼Œè¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦å°±èƒ½é™åˆ°$\Omicron(1)$,å½“æ‰€æœ‰çš„ä¿®æ”¹æ“ä½œç»“æŸåï¼Œå†åˆ©ç”¨å·®åˆ†æ•°ç»„ï¼Œè®¡ç®—å‡ºæ–°çš„Aã€‚&lt;/p>
&lt;h3 id="ä¸€ç»´å·®åˆ†">&lt;a href="#%e4%b8%80%e7%bb%b4%e5%b7%ae%e5%88%86" class="header-anchor">&lt;/a>ä¸€ç»´å·®åˆ†
&lt;/h3>&lt;p>æˆ‘ä»¬å®šä¹‰åŸæ•°ç»„ä¸º$a[]$ã€å·®åˆ†æ•°ç»„ä¸º$D[]$ï¼Œåˆ™æœ‰è®¡ç®—å…¬å¼ï¼š$D[k]=a[k]-a[k-1]$,å³åŸæ•°ç»„$a[]$çš„ç›¸é‚»å…ƒç´ çš„å·®ã€‚ä»å®šä¹‰æˆ‘ä»¬å¯ä»¥æ¨å‡º$a[k]=D[0]+D[1]+&amp;hellip;+D[k]$ã€‚ä¹Ÿå°±æ˜¯è¯´$a[]$æ˜¯$D[]$çš„å‰ç¼€å’Œï¼Œæ‰€ä»¥ã€Œå·®åˆ†ã€å’Œã€Œå‰ç¼€å’Œã€å°±æ˜¯ä¸€ç»„é€†è¿ç®—ã€‚&lt;/p>
&lt;p>å½“æˆ‘ä»¬æƒ³è¦å¯¹åŒºé—´$[L,R]$æ¯ä¸ªå…ƒç´ åŠ ä¸Š$d$ï¼Œåˆ™åªè¦è¿›è¡Œä¸‹é¢çš„ä¸¤æ­¥æ“ä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å½“æ‰€æœ‰ä¿®æ”¹éƒ½å®Œæˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¤æ‚åº¦ä¸º$\Omicron(n)$çš„æ“ä½œè®¡ç®—å‡ºæ–°çš„$a[]$&lt;/p>
&lt;p>å½“ç„¶ï¼Œå·®åˆ†ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒåªèƒ½è§£å†³ &lt;strong>åŒºé—´ä¿®æ”¹+å•ç‚¹æŸ¥è¯¢&lt;/strong> è¿™ç±»é—®é¢˜ã€‚å½“é‡åˆ°éœ€è¦å¤šæ¬¡æŸ¥è¯¢çš„é—®é¢˜ï¼Œæ¯”å¦‚æœ‰$m$æ¬¡ä¿®æ”¹ï¼Œ$k$æ¬¡æŸ¥è¯¢ï¼Œæ­¤æ—¶ä¿®æ”¹çš„å¤æ‚åº¦ä¸º$\Omicron(m)$,æŸ¥è¯¢çš„å¤æ‚åº¦ä¸º$\Omicron(kn)$ï¼Œæ€»å¤æ‚åº¦ä¸º$\Omicron(m+kn)$ï¼Œå’Œæš´åŠ›æ³•$\Omicron(mn+k)$çš„å¤æ‚åº¦ä¸€è‡´äº†ã€‚&lt;/p>
&lt;h3 id="äºŒç»´å·®åˆ†">&lt;a href="#%e4%ba%8c%e7%bb%b4%e5%b7%ae%e5%88%86" class="header-anchor">&lt;/a>äºŒç»´å·®åˆ†
&lt;/h3>&lt;p>ä»ä¸€ç»´å·®åˆ†å¯ä»¥å¾ˆå®¹æ˜“çš„æ¨å¹¿åˆ°äºŒç»´å·®åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å…¬å¼è®¡ç®—$D[][]$ï¼š&lt;/p>
$$D[i][j]=a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]$$&lt;p>æˆ‘ä»¬æƒ³ä¿®æ”¹åæ ‡ç‚¹$(x1,y1)$~$(x2,y2)$å®šä¹‰çš„åŒºé—´ï¼Œåˆ™éœ€è¦ä¿®æ”¹çŸ©é˜µçš„å››ä¸ªç‚¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//äºŒç»´åŒºé—´çš„èµ·ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æŠŠyçœ‹æˆå¸¸æ•°ï¼Œxä»x1åˆ°x2+1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æŠŠxçœ‹æˆå¸¸æ•°ï¼Œyä»y1åˆ°y2+1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">D&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">y2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//ç”±äºå‰ä¸¤å¼æŠŠdå‡äº†2æ¬¡ï¼Œå¤šå‡äº†1æ¬¡ï¼Œè¿™é‡ŒåŠ 1æ¬¡å›æ¥
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‰ç¼€å’Œ$a[][]$çš„è®¡ç®—å¯ä»¥ç”¨ä¸‹é¢çš„å…¬å¼ï¼š&lt;/p>
$$a[i][j]=D[i][j]+a[i-1][j]+a[i][j-1]-a[i-1][j-1]$$&lt;p>åœ¨è®¡ç®—$a[][]$æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–°å¼€ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä»¥ç”¨è¿‡çš„$D[][]$ä½œä¸º$a[][]$ï¼Œä»¥æ­¤æ¥èŠ‚çº¦ç©ºé—´ã€‚ä½¿ç”¨çš„è¯åªéœ€è¦å°†ä¸Šé¢å¼å­ä¸­çš„$a$å…¨éƒ¨æ¢ä¸º$D$&lt;/p>
&lt;h2 id="æ ‘çŠ¶æ•°ç»„">&lt;a href="#%e6%a0%91%e7%8a%b6%e6%95%b0%e7%bb%84" class="header-anchor">&lt;/a>æ ‘çŠ¶æ•°ç»„
&lt;/h2>&lt;p>æ ‘çŠ¶æ•°ç»„çš„ä¼˜ç‚¹åœ¨äºæŸ¥è¯¢å’Œä¿®æ”¹çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º$\Omicron(logn)$ï¼Œä¸”æ¯”çº¿æ®µæ ‘å¥½å†™ã€‚&lt;/p>
&lt;h3 id="å•ç‚¹ä¿®æ”¹åŒºé—´æŸ¥è¯¢">&lt;a href="#%e5%8d%95%e7%82%b9%e4%bf%ae%e6%94%b9%e5%8c%ba%e9%97%b4%e6%9f%a5%e8%af%a2" class="header-anchor">&lt;/a>å•ç‚¹ä¿®æ”¹ã€åŒºé—´æŸ¥è¯¢
&lt;/h3>&lt;p>æ ‘çŠ¶æ•°ç»„çš„åŸç†ç”±äºæ—¶é—´æœ‰é™ï¼Œè¿™é‡Œå°±ä¸å±•å¼€è¯´äº†ï¼ˆä¹‹åæœ‰ç©ºå†è¡¥ä¸ŠğŸ˜‡ï¼‰ï¼Œå…ˆä¸Šæ¨¡æ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//æ ‘çŠ¶æ•°ç»„(ä¸‹æ ‡ä»1å¼€å§‹)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æ•°ç»„çš„é•¿åº¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">inline&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">lowbit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åœ¨ä½ç½®iåŠ ä¸Šk
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">lowbit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ±‚A[1]~A[i]çš„å’Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">getsum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">lowbit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œæ ‘çŠ¶æ•°ç»„å’ŒåŸæ•°ç»„ä¸‹æ ‡éƒ½æ˜¯ä»1å¼€å§‹çš„ã€‚&lt;/p>
&lt;p>ç”±æ­¤å°±è§£å†³äº†&lt;strong>å•ç‚¹ä¿®æ”¹ã€åŒºé—´æŸ¥è¯¢&lt;/strong>çš„é—®é¢˜ï¼Œæˆ‘ä»¬æƒ³è¦å¾—åˆ°åŒºé—´$(a,b)$çš„å’Œï¼Œåªéœ€ä½¿ç”¨&lt;code>getsum(b) - getsum(a - 1)&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹é¢˜ï¼š&lt;a class="link" href="https://www.luogu.com.cn/problem/P3374" target="_blank" rel="noopener"
>P3374ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 1&lt;/a>&lt;/p>
&lt;h3 id="åŒºé—´ä¿®æ”¹å•ç‚¹æŸ¥è¯¢">&lt;a href="#%e5%8c%ba%e9%97%b4%e4%bf%ae%e6%94%b9%e5%8d%95%e7%82%b9%e6%9f%a5%e8%af%a2" class="header-anchor">&lt;/a>åŒºé—´ä¿®æ”¹ã€å•ç‚¹æŸ¥è¯¢
&lt;/h3>&lt;p>åœ¨ä¸Šé¢çš„å·®åˆ†ä¸­æˆ‘ä»¬åˆ†æäº†ï¼Œå¦‚æœæœ‰å¤šæ¬¡æŸ¥è¯¢ï¼Œä»…ä»…ä½¿ç”¨å·®åˆ†çš„æ—¶é—´å¤æ‚åº¦å°±å’Œæš´åŠ›å·®ä¸å¤šäº†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ ‘çŠ¶æ•°ç»„+å·®åˆ†çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å°†ä¸Šé¢æ¨¡æ¿ä¸­çš„åŸå§‹æ•°ç»„æ”¹ä¸ºå·®åˆ†æ•°ç»„ã€‚ç”±å·®åˆ†çš„æ€§è´¨å¯çŸ¥ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸ªåŒºé—´æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹åŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹å³å¯ï¼Œæ­¤æ—¶åŒºé—´ä¿®æ”¹çš„é—®é¢˜ä¾¿è¢«è½¬åŒ–æˆäº†å•ç‚¹ä¿®æ”¹çš„é—®é¢˜ã€‚åŒæ—¶ï¼Œæ ‘çŠ¶æ•°ç»„å‰né¡¹å’Œä¹Ÿå°±å˜æˆäº†åŸæ•°ç»„ç¬¬né¡¹çš„å€¼ã€‚&lt;/p>
&lt;p>ä¾‹é¢˜ï¼š&lt;a class="link" href="https://www.luogu.com.cn/problem/P3368" target="_blank" rel="noopener"
>P3368ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 2&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å‰é¢è¿˜æ˜¯æ ‘çŠ¶æ•°ç»„çš„æ¨¡æ¿ï¼Œè¿™é‡Œå°±ä¸æ”¾äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//è¿™é‡Œæ¯æ¬¡æ±‚å·®åˆ†æ¥ç”Ÿæˆæ ‘çŠ¶æ•°ç»„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">now&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">pre&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ›´æ–°å³ä¸ºå¯¹D[X]ã€D[y+1]è¿›è¡Œä¿®æ”¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ±‚D[1]~D[i]çš„å’Œ,å³A[i]çš„å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">getsum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pause&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‚è€ƒèµ„æ–™">&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">&lt;/a>å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/117569086" target="_blank" rel="noopener"
>ã€æœå¤•çš„ACMç¬”è®°ã€‘ç®—æ³•åŸºç¡€-å‰ç¼€å’Œ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/weixin_43914593/article/details/113782108" target="_blank" rel="noopener"
>å·®åˆ† &amp;ndash;ç®—æ³•ç«èµ›ä¸“é¢˜è§£æï¼ˆ32ï¼‰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/problems/range-sum-query-mutable/solution/guan-yu-ge-lei-qu-jian-he-wen-ti-ru-he-x-41hv/" target="_blank" rel="noopener"
>å…³äºå„ç±»ã€ŒåŒºé—´å’Œã€é—®é¢˜å¦‚ä½•é€‰æ‹©è§£å†³æ–¹æ¡ˆï¼ˆå«æ¨¡æ¿ï¼‰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/xenny/p/9739600.html" target="_blank" rel="noopener"
>æ ‘çŠ¶æ•°ç»„è¯¦è§£&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>JavaWebæœŸæœ«å¤ä¹ </title><link>https://lbqaq.top/p/javawebexam/</link><pubDate>Mon, 03 Jan 2022 19:52:31 +0800</pubDate><guid>https://lbqaq.top/p/javawebexam/</guid><description>&lt;img src="https://lbqaq.top/p/javawebexam/92462192.webp" alt="Featured image of post JavaWebæœŸæœ«å¤ä¹ " />&lt;h2 id="é¢˜ç›®ç±»å‹">&lt;a href="#%e9%a2%98%e7%9b%ae%e7%b1%bb%e5%9e%8b" class="header-anchor">&lt;/a>é¢˜ç›®ç±»å‹
&lt;/h2>&lt;ul>
&lt;li>é€‰æ‹©ï¼ˆ10åˆ†ï¼‰ 10é¢˜&lt;/li>
&lt;li>å¡«ç©ºï¼ˆ10åˆ†ï¼‰ 10é¢˜&lt;/li>
&lt;li>é—®ç­”ï¼ˆ30åˆ†ï¼‰ 4é¢˜&lt;/li>
&lt;li>ç¼–ç¨‹é¢˜ï¼ˆ30åˆ†ï¼‰ 3-4é¢˜&lt;/li>
&lt;li>ç»¼åˆé¢˜ï¼ˆ20åˆ†ï¼‰&lt;/li>
&lt;/ul>
&lt;h2 id="ä¸Šæœºé¢˜æ•´ç†">&lt;a href="#%e4%b8%8a%e6%9c%ba%e9%a2%98%e6%95%b4%e7%90%86" class="header-anchor">&lt;/a>ä¸Šæœºé¢˜æ•´ç†
&lt;/h2>&lt;p>è¿™é‡Œåªå­˜æ”¾æ ¸å¿ƒçš„ä»£ç ï¼Œå®Œæ•´çš„ç¨‹åºè§&lt;a class="link" href="https://gitee.com/luoboQAQ/web-practice" target="_blank" rel="noopener"
>Giteeä»“åº“&lt;/a>&lt;/p>
&lt;h3 id="ä½¿ç”¨maven">&lt;a href="#%e4%bd%bf%e7%94%a8maven" class="header-anchor">&lt;/a>ä½¿ç”¨Maven
&lt;/h3>&lt;p>é€šè¿‡ä½¿ç”¨Mavenå¯ä»¥è®©ç¨‹åºè‡ªåŠ¨é…ç½®å’Œå¯¼å…¥åŒ…ï¼Œä¸å¿…è‡ªå·±æ‰‹åŠ¨é…ç½®å’Œå¯¼å…¥ï¼Œéå¸¸æ–¹ä¾¿ï¼Œæ¨èå¤§å®¶ä½¿ç”¨ã€‚&lt;/p>
&lt;p>æˆ‘çš„é…ç½®æ–‡ä»¶å·²ç»æŠŠè€ƒè¯•ä¼šç”¨çš„åŒ…éƒ½å¯¼å…¥äº†ï¼ŒåŒ…æ‹¬Servletã€JSPã€JSTLã€MySQlé©±åŠ¨ï¼Œç‰ˆæœ¬éƒ½å·²ç»è°ƒæ•´ä¸ºæœ€ä½³ï¼Œä¿è¯å¼€ç®±å³ç”¨ã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©Mavenï¼Œç›´æ¥ä¸‹ä¸€æ­¥&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121731576.png"
width="1002"
height="836"
srcset="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121731576_hu_ff78a8c160ff126.png 480w, https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121731576_hu_427340e9dda42738.png 1024w"
loading="lazy"
alt="step1"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¡«å†™é¡¹ç›®åç§°å’Œç›®å½•ä½ç½®ï¼Œå…¶ä»–çš„å¯å¡«å¯ä¸å¡«&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121912185.png"
width="1002"
height="836"
srcset="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121912185_hu_d3b2e071283a7fad.png 480w, https://lbqaq.top/p/javawebexam/IMAGE/image-20220106121912185_hu_2fc10da2169e41e9.png 1024w"
loading="lazy"
alt="step2"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>pom.xml&lt;/code>æ–‡ä»¶å¢åŠ è¿™æ ·ä¸€å¥&lt;code>&amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;&lt;/code>&lt;/p>
&lt;p>æ¥ç€ç²˜è´´ä¸‹é¢çš„ä»£ç ï¼Œå¹¶ç‚¹å‡»å³ä¸Šè§’çš„å›¾æ ‡åº”ç”¨ï¼ˆæˆ–è€…ä½¿ç”¨å¿«æ·é”®&lt;code>Ctrl+Shift+O&lt;/code>ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- servlet ä¾èµ– --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>javax.servlet-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.1.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- jsp ä¾èµ– --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet.jsp&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>javax.servlet.jsp-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>2.3.3&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- jstl --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet.jsp.jstl&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>jstl-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.2&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- standardæ ‡ç­¾åº“ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>taglibs&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>standard&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.1.2&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mysqlé©±åŠ¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>mysql&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mysql-connector-java&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>8.0.25&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106123343774.png"
width="1892"
height="898"
srcset="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106123343774_hu_12ceb4fe5a274539.png 480w, https://lbqaq.top/p/javawebexam/IMAGE/image-20220106123343774_hu_95315ee6fac3c0aa.png 1024w"
loading="lazy"
alt="step3"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="505px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨å·¦è¾¹&lt;code>src&lt;/code>çš„&lt;code>main&lt;/code>è¿™ä¸ªç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªåå«&lt;code>webapp&lt;/code>çš„ç›®å½•ï¼Œå†è¿™ä¸‹é¢å»ºç«‹ä¸€ä¸ªåå«&lt;code>WEB-INF&lt;/code>çš„ç›®å½•ï¼Œå†åœ¨å…¶ä¸­å»ºç«‹&lt;code>web.xml&lt;/code>è¿™ä¸ªæ–‡ä»¶&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106122733199.png"
width="349"
height="338"
srcset="https://lbqaq.top/p/javawebexam/IMAGE/image-20220106122733199_hu_eecfd90c0b92f0b5.png 480w, https://lbqaq.top/p/javawebexam/IMAGE/image-20220106122733199_hu_9aa5eb46fd75e5dd.png 1024w"
loading="lazy"
alt="step4"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="247px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨é‡Œé¢å¡«å…¥ä¸‹é¢çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;web-app&lt;/span> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://xmlns.jcp.org/xml/ns/javaee&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">version=&lt;/span>&lt;span class="s">&amp;#34;4.0&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é»˜è®¤å¯ç”¨ELè¡¨è¾¾å¼--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;jsp-config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;jsp-property-group&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url-pattern&amp;gt;&lt;/span>*.jsp&lt;span class="nt">&amp;lt;/url-pattern&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;el-ignored&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/el-ignored&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/jsp-property-group&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/jsp-config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/web-app&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>è¿™æ ·å°±é…ç½®å¥½äº†ï¼Œå¦‚æœä½ è¿˜æ˜¯è§‰å¾—éº»çƒ¦ï¼Œå¯ä»¥ä¸‹è½½æˆ‘è¿™ä¸ªé…ç½®å¥½çš„&lt;a class="link" href="https://gitee.com/luoboQAQ/web-practice/raw/master/exam.zip" target="_blank" rel="noopener"
>æ‡’äººåŒ…&lt;/a>ï¼Œè§£å‹å³å¯ä½¿ç”¨ï¼Œæ³¨æ„åœ¨IDEAæ‰“å¼€æ—¶è¦é€‰æ‹©â€œ&lt;strong>ä¿¡ä»»MAVENé¡¹ç›®&lt;/strong>â€ï¼Œå¦åˆ™æ— æ³•ç”Ÿæ•ˆã€‚&lt;/p>
&lt;h3 id="servletç”Ÿæˆä¸‰è§’å½¢">&lt;a href="#servlet%e7%94%9f%e6%88%90%e4%b8%89%e8%a7%92%e5%bd%a2" class="header-anchor">&lt;/a>Servletç”Ÿæˆä¸‰è§’å½¢
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>æ­£ä¸‰è§’&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;amp;nbsp;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;/br&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å€’ä¸‰è§’&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;amp;nbsp;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;/br&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="jspç”Ÿæˆä¹˜æ³•è¡¨">&lt;a href="#jsp%e7%94%9f%e6%88%90%e4%b9%98%e6%b3%95%e8%a1%a8" class="header-anchor">&lt;/a>JSPç”Ÿæˆä¹˜æ³•è¡¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">table&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">tbody&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;%&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getParameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;num&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;tr&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;td&amp;gt;&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;=&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;/td&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;td&amp;gt;&amp;lt;/td&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;/tr&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">%&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">tbody&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">table&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™»å½•ç•Œé¢ä¸‰æ¬¡ç¦ç”¨">&lt;a href="#%e7%99%bb%e5%bd%95%e7%95%8c%e9%9d%a2%e4%b8%89%e6%ac%a1%e7%a6%81%e7%94%a8" class="header-anchor">&lt;/a>ç™»å½•ç•Œé¢ï¼Œä¸‰æ¬¡ç¦ç”¨
&lt;/h3>&lt;p>æ•°æ®ç”¨æ•°ç»„å­˜å‚¨applicationï¼Œä½†æˆ‘æ²¡ä½¿ç”¨ï¼Œå¦‚æœè¦ä½¿ç”¨å¯ä»¥è°ƒç”¨&lt;code>request.getServletContext()&lt;/code>&lt;/p>
&lt;p>ç”¨æˆ·ä¿¡æ¯å­˜åœ¨session&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@WebServlet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Servlet3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;/Servlet3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Servlet3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServlet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">USER_NAME&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;3&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getParameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getParameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©ºï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/3.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;errTime&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;errTime&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dbDate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;dbDate&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nowDate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dbDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">after&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nowDate&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ‚¨è¢«ç¦æ­¢ç™»å½•ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/3.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">USER_NAME&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">USER_NAME&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç™»é™†æˆåŠŸï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="n">USER_NAME&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å•ä½ä¸ºæ¯«ç§’&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">nowDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nowDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">60&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;errTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">errTime&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mySession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;dbDate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">nowDate&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/3.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doPost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç”¨æˆ·è®¤è¯">&lt;a href="#%e7%94%a8%e6%88%b7%e8%ae%a4%e8%af%81" class="header-anchor">&lt;/a>ç”¨æˆ·è®¤è¯
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ä¸ä½¿ç”¨Filter&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;%&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">session&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;æ‚¨æ²¡æœ‰ç™»é™†&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/4-1.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">%&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨Filter&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//filterNameï¼šè¿‡æ»¤å™¨åç§° urlPatternsï¼šè¿‡æ»¤çš„èŒƒå›´ è¿‡æ»¤å…¨éƒ¨ä¸º&amp;#34;/*&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@WebFilter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filterName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Filter4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">urlPatterns&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;/4-3.jsp&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Filter4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Filter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FilterConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">destroy&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doFilter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FilterChain&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">chain&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSession&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ‚¨æ²¡æœ‰ç™»é™†&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/4-1.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">chain&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">doFilter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="å½•å…¥ç”¨æˆ·ä¿¡æ¯å¹¶å›æ˜¾">&lt;a href="#%e5%bd%95%e5%85%a5%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af%e5%b9%b6%e5%9b%9e%e6%98%be" class="header-anchor">&lt;/a>å½•å…¥ç”¨æˆ·ä¿¡æ¯å¹¶å›æ˜¾
&lt;/h3>&lt;p>å¦‚å§“åçˆ±å¥½ï¼ˆcheckboxæ•°ç»„ï¼‰æäº¤åï¼Œåœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºæäº¤çš„ä¿¡æ¯&lt;/p>
&lt;p>ä¿®æ”¹æ•°æ®æ—¶ï¼Œå¦‚ä½•å°†åŸæ•°æ®æ˜¾ç¤ºåœ¨è¡¨å•ä¸­ä¹Ÿåœ¨æ­¤æ®µä¸­ã€‚ç‰¹åˆ«æ˜¯select radio&lt;/p>
&lt;p>ä½¿ç”¨ELè¡¨è¾¾å¼å³å¯&lt;/p>
&lt;p>æ³¨æ„ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>checkboxä¼ é€’çš„å€¼ä¸ºæ•°ç»„ï¼Œéœ€ä½¿ç”¨&lt;code>request.getParameterValues(&amp;quot;b&amp;quot;);&lt;/code>è·å–&lt;/li>
&lt;li>å¯ä»¥å°†æ•°ç»„è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œæ–¹ä¾¿ä½¿ç”¨ç›¸å…³æ–¹æ³•
&lt;ul>
&lt;li>&lt;code>List&amp;lt;String&amp;gt; list = Arrays.asList(strArray);&lt;/code> åªèƒ½æŸ¥çœ‹ï¼Œä¸æ”¯æŒä¿®æ”¹å’Œåˆ é™¤&lt;/li>
&lt;li>&lt;code>ArrayList&amp;lt;String&amp;gt; list = new ArrayList&amp;lt;String&amp;gt;(Arrays.asList(strArray));&lt;/code> å¯ä»¥ä¿®æ”¹å’Œåˆ é™¤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>checkbox&lt;/code>å’Œ&lt;code>radio&lt;/code>é€‰ä¸­ä¸º&lt;code>checked&lt;/code>ï¼›&lt;code>select&lt;/code>ä¸­çš„&lt;code>option&lt;/code>ä¸º&lt;code>selected&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post&amp;#34;&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;${pageContext.request.contextPath}/Servlet5&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ–‡æœ¬æ¡†&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;${A}&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¤šé€‰æ¡†&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="err">${&lt;/span>&lt;span class="na">BL&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="err">(&amp;#34;&lt;/span>&lt;span class="na">1&lt;/span>&lt;span class="err">&amp;#34;)?&amp;#34;&lt;/span>&lt;span class="na">checked&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span> &lt;span class="err">${&lt;/span>&lt;span class="na">BL&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="err">(&amp;#34;&lt;/span>&lt;span class="na">2&lt;/span>&lt;span class="err">&amp;#34;)?&amp;#34;&lt;/span>&lt;span class="na">checked&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;3&amp;#34;&lt;/span> &lt;span class="err">${&lt;/span>&lt;span class="na">BL&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="err">(&amp;#34;&lt;/span>&lt;span class="na">3&lt;/span>&lt;span class="err">&amp;#34;)?&amp;#34;&lt;/span>&lt;span class="na">checked&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å•é€‰æ¡† 4&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c1&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;4&amp;#34;&lt;/span> &lt;span class="err">${&amp;#34;&lt;/span>&lt;span class="na">4&lt;/span>&lt;span class="err">&amp;#34;.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="err">(&lt;/span>&lt;span class="na">C&lt;/span>&lt;span class="err">)?&amp;#34;&lt;/span>&lt;span class="na">checked&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å•é€‰æ¡† 5&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c2&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;c&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;5&amp;#34;&lt;/span> &lt;span class="err">${&amp;#34;&lt;/span>&lt;span class="na">5&lt;/span>&lt;span class="err">&amp;#34;.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="err">(&lt;/span>&lt;span class="na">C&lt;/span>&lt;span class="err">)?&amp;#34;&lt;/span>&lt;span class="na">checked&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;d&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ä¸‹æ‹‰æ¡†&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">select&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;d&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;d&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;6&amp;#34;&lt;/span> &lt;span class="err">${&amp;#34;&lt;/span>&lt;span class="na">6&lt;/span>&lt;span class="err">&amp;#34;.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="err">(&lt;/span>&lt;span class="na">D&lt;/span>&lt;span class="err">)?&amp;#34;&lt;/span>&lt;span class="na">selected&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>6&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;7&amp;#34;&lt;/span> &lt;span class="err">${&amp;#34;&lt;/span>&lt;span class="na">7&lt;/span>&lt;span class="err">&amp;#34;.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="err">(&lt;/span>&lt;span class="na">D&lt;/span>&lt;span class="err">)?&amp;#34;&lt;/span>&lt;span class="na">selected&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>7&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;8&amp;#34;&lt;/span> &lt;span class="err">${&amp;#34;&lt;/span>&lt;span class="na">8&lt;/span>&lt;span class="err">&amp;#34;.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="err">(&lt;/span>&lt;span class="na">D&lt;/span>&lt;span class="err">)?&amp;#34;&lt;/span>&lt;span class="na">selected&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">:&lt;/span>&lt;span class="err">&amp;#34;&amp;#34;}&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>8&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">select&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;æäº¤&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¯·æ±‚è½¬å‘é‡å®šå‘å®ç°ä¼ å€¼">&lt;a href="#%e8%af%b7%e6%b1%82%e8%bd%ac%e5%8f%91%e9%87%8d%e5%ae%9a%e5%90%91%e5%ae%9e%e7%8e%b0%e4%bc%a0%e5%80%bc" class="header-anchor">&lt;/a>è¯·æ±‚è½¬å‘ã€é‡å®šå‘ï¼Œå®ç°ä¼ å€¼
&lt;/h3>&lt;p>è¯·æ±‚è½¬å‘ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>request.setAttribute(&amp;quot;D&amp;quot;, d);&lt;/code>&lt;/li>
&lt;li>æˆ–è€…å­˜æ”¾åˆ°Sessioné‡Œ&lt;code>request.getSession().setAttribute(&amp;quot;D&amp;quot;, d);&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>é‡å®šå‘ï¼š&lt;/p>
&lt;ul>
&lt;li>åªèƒ½æ”¾åœ¨Sessioné‡Œ&lt;/li>
&lt;li>æˆ–è€…é€šè¿‡æ„é€ URLå‚æ•°ä¼ é€’ï¼Œå¦‚&lt;code>response.sendRedirect(&amp;quot;/1.jsp?a=&amp;quot;+a+&amp;quot;&amp;amp;b=&amp;quot;+b);&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="åœ¨servletå¦‚ä½•ä½¿ç”¨jspusebean-jspæ¥æ¥æ”¶formå†…çš„å€¼">&lt;a href="#%e5%9c%a8servlet%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8jspusebean-jsp%e6%9d%a5%e6%8e%a5%e6%94%b6form%e5%86%85%e7%9a%84%e5%80%bc" class="header-anchor">&lt;/a>åœ¨servletå¦‚ä½•ä½¿ç”¨jsp:usebean jspæ¥æ¥æ”¶formå†…çš„å€¼
&lt;/h3>&lt;p>jspä¸­ä½¿ç”¨ä¸‹é¢çš„ä»£ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">jsp:useBean&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;yzu.calc&amp;#34;&lt;/span> &lt;span class="na">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;request&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">jsp:setProperty&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span> &lt;span class="na">property&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>servletä¸­ä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;getForm.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">include&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">calc&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mybean&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">calc&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä»webè¡¨å•æ¥æ”¶æ•°æ®">&lt;a href="#%e4%bb%8eweb%e8%a1%a8%e5%8d%95%e6%8e%a5%e6%94%b6%e6%95%b0%e6%8d%ae" class="header-anchor">&lt;/a>ä»webè¡¨å•æ¥æ”¶æ•°æ®
&lt;/h3>&lt;ul>
&lt;li>&lt;code>request.getParameter&lt;/code>&lt;/li>
&lt;li>&lt;code>request.getParameterValues&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="æ•°æ®åº“å®ç°">&lt;a href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>æ•°æ®åº“å®ç°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DRIVER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">URL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/web?serverTimezone=Asia/Shanghai&amp;amp;characterEncoding=utf-8&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">USERNAME&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//åŠ è½½é©±åŠ¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DRIVER&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">URL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">USERNAME&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from user where name=?&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ResultSet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åŠ è½½SQLè¯­å¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">connection&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¡«å…¥å˜é‡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰§è¡ŒSQLï¼ˆæŸ¥è¯¢ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰§è¡ŒSQLï¼ˆå¢åˆ æ”¹ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">updateRows&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¯»å–æ•°æ®ï¼ˆå¤šè¡Œä½¿ç”¨whileï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dbPassword&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dbDate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;time&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dbErrorTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error_count&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//é‡Šæ”¾èµ„æº&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pstm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">connection&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ³¨å†Œç”¨æˆ·-å¤šä¸ªä¿¡æ¯">&lt;a href="#%e6%b3%a8%e5%86%8c%e7%94%a8%e6%88%b7-%e5%a4%9a%e4%b8%aa%e4%bf%a1%e6%81%af" class="header-anchor">&lt;/a>æ³¨å†Œç”¨æˆ· å¤šä¸ªä¿¡æ¯
&lt;/h3>&lt;p>ä¸æ‡‚ä»€ä¹ˆæ„æ€ï¼Œæœ‰æ‡‚å“¥å¯ä»¥è¯„è®ºåŒºç•™è¨€&lt;/p>
&lt;h3 id="db-crudæŸ¥è¯¢ç»„åˆæŸ¥è¯¢ä¸éœ€è¦åˆ†é¡µ">&lt;a href="#db-crud%e6%9f%a5%e8%af%a2%e7%bb%84%e5%90%88%e6%9f%a5%e8%af%a2%e4%b8%8d%e9%9c%80%e8%a6%81%e5%88%86%e9%a1%b5" class="header-anchor">&lt;/a>DB CRUDæŸ¥è¯¢ç»„åˆæŸ¥è¯¢ä¸éœ€è¦åˆ†é¡µ
&lt;/h3>&lt;p>è§ä¸Šé¢&lt;/p>
&lt;h3 id="ç”¨ä¼šè¯å¯¹è±¡å®ç°è´­ç‰©è½¦çš„crudå•†å“åç§°å•ä»·æ•°é‡è´­ç‰©è½¦åˆ—è¡¨æ€»ä»·">&lt;a href="#%e7%94%a8%e4%bc%9a%e8%af%9d%e5%af%b9%e8%b1%a1%e5%ae%9e%e7%8e%b0%e8%b4%ad%e7%89%a9%e8%bd%a6%e7%9a%84crud%e5%95%86%e5%93%81%e5%90%8d%e7%a7%b0%e5%8d%95%e4%bb%b7%e6%95%b0%e9%87%8f%e8%b4%ad%e7%89%a9%e8%bd%a6%e5%88%97%e8%a1%a8%e6%80%bb%e4%bb%b7" class="header-anchor">&lt;/a>ç”¨ä¼šè¯å¯¹è±¡å®ç°è´­ç‰©è½¦çš„CRUDå•†å“åç§°ï¼Œå•ä»·ï¼Œæ•°é‡è´­ç‰©è½¦åˆ—è¡¨ï¼Œæ€»ä»·
&lt;/h3>&lt;p>å…·ä½“ä»£ç è§ä»“åº“&lt;a class="link" href="https://gitee.com/luoboQAQ/web-practice/blob/master/exam/src/main/java/top/lbqaq/servlet/Servlet6.java" target="_blank" rel="noopener"
>Servlet6&lt;/a>&lt;/p>
&lt;h2 id="é—®ç­”é¢˜">&lt;a href="#%e9%97%ae%e7%ad%94%e9%a2%98" class="header-anchor">&lt;/a>é—®ç­”é¢˜
&lt;/h2>&lt;h3 id="cs-bsä¼˜ç¼ºç‚¹">&lt;a href="#cs-bs%e4%bc%98%e7%bc%ba%e7%82%b9" class="header-anchor">&lt;/a>C/S B/Sä¼˜ç¼ºç‚¹
&lt;/h3>&lt;p>C/Sæ¶æ„&lt;/p>
&lt;p>å…¨ç§°æ˜¯Client/Serverï¼Œå³å®¢æˆ·ç«¯æœåŠ¡å™¨ç«¯æ¶æ„&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>C/Sæ¶æ„çš„ç•Œé¢å’Œæ“ä½œå¯ä»¥å¾ˆä¸°å¯Œã€‚&lt;/li>
&lt;li>å®‰å…¨æ€§èƒ½å¯ä»¥å¾ˆå®¹æ˜“ä¿è¯ï¼Œå®ç°å¤šå±‚è®¤è¯ä¹Ÿä¸éš¾ã€‚&lt;/li>
&lt;li>ç”±äºåªæœ‰ä¸€å±‚äº¤äº’ï¼Œå› æ­¤å“åº”é€Ÿåº¦è¾ƒå¿«ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>é€‚ç”¨é¢çª„ï¼Œé€šå¸¸ç”¨äºå±€åŸŸç½‘ä¸­ã€‚&lt;/li>
&lt;li>ç”¨æˆ·ç¾¤å›ºå®šã€‚ç”±äºç¨‹åºéœ€è¦å®‰è£…æ‰å¯ä½¿ç”¨ï¼Œå› æ­¤ä¸é€‚åˆé¢å‘ä¸€äº›ä¸å¯çŸ¥çš„ç”¨æˆ·ã€‚&lt;/li>
&lt;li>ç»´æŠ¤æˆæœ¬é«˜ï¼Œå‘ç”Ÿä¸€æ¬¡å‡çº§ï¼Œåˆ™æ‰€æœ‰å®¢æˆ·ç«¯çš„ç¨‹åºéƒ½éœ€è¦æ”¹å˜ã€‚&lt;/li>
&lt;/ul>
&lt;p>B/Sæ¶æ„&lt;/p>
&lt;p>å…¨ç§°ä¸ºBrowser/Serverï¼Œå³æµè§ˆå™¨/æœåŠ¡å™¨ç»“æ„ã€‚&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å®¢æˆ·ç«¯æ— éœ€å®‰è£…ï¼Œæœ‰Webæµè§ˆå™¨å³å¯ã€‚&lt;/li>
&lt;li>BSæ¶æ„å¯ä»¥ç›´æ¥æ”¾åœ¨å¹¿åŸŸç½‘ä¸Šï¼Œé€šè¿‡ä¸€å®šçš„æƒé™æ§åˆ¶å®ç°å¤šå®¢æˆ·è®¿é—®çš„ç›®çš„ï¼Œäº¤äº’æ€§è¾ƒå¼ºã€‚&lt;/li>
&lt;li>BSæ¶æ„æ— éœ€å‡çº§å¤šä¸ªå®¢æˆ·ç«¯ï¼Œå‡çº§æœåŠ¡å™¨å³å¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨è·¨æµè§ˆå™¨ä¸Šï¼ŒBSæ¶æ„ä¸å°½å¦‚äººæ„ã€‚&lt;/li>
&lt;li>è¡¨ç°è¦è¾¾åˆ°CSç¨‹åºçš„ç¨‹åº¦éœ€è¦èŠ±è´¹ä¸å°‘ç²¾åŠ›ã€‚&lt;/li>
&lt;li>åœ¨é€Ÿåº¦å’Œå®‰å…¨æ€§ä¸Šéœ€è¦èŠ±è´¹å·¨å¤§çš„è®¾è®¡æˆæœ¬ï¼Œè¿™æ˜¯BSæ¶æ„çš„æœ€å¤§é—®é¢˜ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="jstl-el-jdbc-vo-dao-mvc-jspä¸­è‹±æ–‡å…¨ç§°">&lt;a href="#jstl-el-jdbc-vo-dao-mvc-jsp%e4%b8%ad%e8%8b%b1%e6%96%87%e5%85%a8%e7%a7%b0" class="header-anchor">&lt;/a>JSTL EL JDBC VO DAO MVC JSPä¸­è‹±æ–‡å…¨ç§°
&lt;/h3>&lt;ul>
&lt;li>JSTL:Java server pages standarded tag libraryï¼ŒJSPæ ‡å‡†æ ‡ç­¾åº“&lt;/li>
&lt;li>EL:Expression Language,ELè¡¨è¾¾å¼&lt;/li>
&lt;li>JDBC:Java Database Connectivity,Javaæ•°æ®åº“è¿æ¥&lt;/li>
&lt;li>VO:Value Object,å€¼å¯¹è±¡&lt;/li>
&lt;li>DAO:Data Access Object,æ•°æ®åº“è®¿é—®å¯¹è±¡&lt;/li>
&lt;li>MVC:Model View Controller,æ¨¡å‹ è§†å›¾ æ§åˆ¶å™¨&lt;/li>
&lt;li>JSP:Java Server Pages,JAVAæœåŠ¡å™¨é¡µé¢&lt;/li>
&lt;/ul>
&lt;h3 id="å¤šå±‚æ¶æ„çš„ä¼˜ç‚¹">&lt;a href="#%e5%a4%9a%e5%b1%82%e6%9e%b6%e6%9e%84%e7%9a%84%e4%bc%98%e7%82%b9" class="header-anchor">&lt;/a>å¤šå±‚æ¶æ„çš„ä¼˜ç‚¹
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>é«˜å†…èšä½è€¦åˆï¼Œä¾¿äºå›¢é˜Ÿå¼€å‘&lt;/p>
&lt;p>å†…èšï¼šä¸€ä¸ªæ¨¡å—å†…å„ä¸ªå…ƒç´ å½¼æ­¤ç»“åˆçš„ç´§å¯†ç¨‹åº¦ï¼›&lt;/p>
&lt;p>è€¦åˆï¼šä¸€ä¸ªè½¯ä»¶ç»“æ„å†…ä¸åŒæ¨¡å—ä¹‹é—´å…³è”ç¨‹åº¦çš„åº¦é‡ã€‚&lt;/p>
&lt;p>åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œåˆ†å±‚å¯ä»¥è®©è½¯ä»¶å¼€å‘äººå‘˜ä¸“æ³¨äºè‡ªå·±è´Ÿè´£çš„å±‚ï¼Œè€Œä¸å¿…å…³å¿ƒå…¶ä»–å±‚çš„è®¾è®¡ï¼Œä¹Ÿä¸å¿…æ‹…å¿ƒè‡ªå·±çš„è®¾è®¡ä¼šå½±å“å…¶å®ƒå±‚ã€‚å¦‚æœä¸åˆ†å±‚ï¼Œæ ¹æœ¬ä¸å¯èƒ½è¿›è¡Œå›¢é˜Ÿå¼€å‘ï¼Œåªä¼šä¸€å›¢ç³Ÿã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿è½¯ä»¶å‡çº§å’Œç»´æŠ¤æ›´ä¸ºå®¹æ˜“&lt;/p>
&lt;p>åˆ†å±‚è®¾è®¡ä½¿å¾—ç¨‹åºç»“æ„æ¸…æ™°ï¼Œå‡çº§å’Œç»´æŠ¤éƒ½å˜å¾—ååˆ†å®¹æ˜“ï¼Œæ›´æ”¹å±‚çš„å…·ä½“å®ç°ä»£ç ï¼Œåªè¦å±‚æ¥å£ä¿æŒç¨³å®šï¼Œå…¶ä»–å±‚å¯ä»¥ä¸å¿…ä¿®æ”¹ã€‚å³ä½¿å±‚çš„æ¥å£å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿåªå½±å“ä¸Šå±‚å’Œä¸‹å±‚ï¼Œä¿®æ”¹å·¥ä½œé‡å°è€Œä¸”é”™è¯¯å¯ä»¥æ§åˆ¶ï¼Œä¸ä¼šå¸¦æ¥æ„å¤–çš„é£é™©ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="mvcçš„ç‰¹ç‚¹å’Œä¼˜ç‚¹">&lt;a href="#mvc%e7%9a%84%e7%89%b9%e7%82%b9%e5%92%8c%e4%bc%98%e7%82%b9" class="header-anchor">&lt;/a>MVCçš„ç‰¹ç‚¹å’Œä¼˜ç‚¹
&lt;/h3>&lt;p>MVCä¸»è¦åˆ†æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ä¸‰å±‚ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ¨¡å‹(model)&lt;/p>
&lt;p>å®ƒæ˜¯åº”ç”¨ç¨‹åºçš„ä¸»ä½“éƒ¨åˆ†ï¼Œä¸»è¦åŒ…æ‹¬ä¸šåŠ¡é€»è¾‘æ¨¡å—å’Œæ•°æ®æ¨¡å—ã€‚æ¨¡å‹ä¸æ•°æ®æ ¼å¼æ— å…³ï¼Œè¿™æ ·ä¸€ä¸ªæ¨¡å‹èƒ½ä¸ºå¤šä¸ªè§†å›¾æä¾›æ•°æ®ã€‚ç”±äºåº”ç”¨äºæ¨¡å‹çš„ä»£ç åªéœ€å†™ä¸€æ¬¡å°±å¯ä»¥è¢«å¤šä¸ªè§†å›¾é‡ç”¨ï¼Œæ‰€ä»¥å‡å°‘äº†ä»£ç çš„é‡å¤æ€§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è§†å›¾(view)&lt;/p>
&lt;p>ç”¨æˆ·ä¸ä¹‹äº¤äº’çš„ç•Œé¢ã€åœ¨ web ä¸­è§†å›¾ä¸€èˆ¬ç”± jsp,html ç»„æˆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ§åˆ¶å™¨(controller)&lt;/p>
&lt;p>æ¥æ”¶æ¥è‡ªç•Œé¢çš„è¯·æ±‚ å¹¶äº¤ç»™æ¨¡å‹è¿›è¡Œå¤„ç† åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ§åˆ¶å™¨ä¸åšä»»ä½•å¤„ç†åªæ˜¯èµ·åˆ°äº†ä¸€ä¸ªè¿æ¥çš„ä½œç”¨&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>é™ä½ä»£ç è€¦åˆæ€§ã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œä¸‰ä¸ªå±‚å„æ–½å…¶èŒï¼Œæ‰€ä»¥å¦‚æœä¸€æ—¦å“ªä¸€å±‚çš„éœ€æ±‚å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±åªéœ€è¦æ›´æ”¹ç›¸åº”çš„å±‚ä¸­çš„ä»£ç è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–å±‚ä¸­çš„ä»£ç ã€‚&lt;/li>
&lt;li>æœ‰åˆ©äºåˆ†å·¥åˆä½œã€‚åœ¨ MVC æ¨¡å¼ä¸­ï¼Œç”±äºæŒ‰å±‚æŠŠç³»ç»Ÿåˆ†å¼€ï¼Œé‚£ä¹ˆå°±èƒ½æ›´å¥½çš„å®ç°å¼€å‘ä¸­çš„åˆ†å·¥ã€‚ç½‘é¡µè®¾è®¡äººå‘˜å¯è¿›è¡Œå¼€å‘è§†å›¾å±‚ä¸­çš„ JSPï¼Œè€Œå¯¹ä¸šåŠ¡ç†Ÿæ‚‰çš„äººå‘˜å¯å¼€å‘ä¸šåŠ¡å±‚ï¼Œè€Œå…¶ä»–å¼€å‘äººå‘˜å¯å¼€å‘æ§åˆ¶å±‚ã€‚&lt;/li>
&lt;li>æœ‰åˆ©äºç»„ä»¶çš„é‡ç”¨ã€‚å¦‚æ§åˆ¶å±‚å¯ç‹¬ç«‹æˆä¸€ä¸ªèƒ½ç”¨çš„ç»„ä»¶ï¼Œè¡¨ç¤ºå±‚ä¹Ÿå¯åšæˆé€šç”¨çš„æ“ä½œç•Œé¢ã€‚å¯ä»¥ä¸ºä¸€ä¸ªæ¨¡å‹åœ¨è¿è¡Œæ—¶åŒæ—¶å»ºç«‹å’Œä½¿ç”¨å¤šä¸ªè§†å›¾ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="getpostç‰¹ç‚¹å’Œä¼˜ç¼ºç‚¹">&lt;a href="#getpost%e7%89%b9%e7%82%b9%e5%92%8c%e4%bc%98%e7%bc%ba%e7%82%b9" class="header-anchor">&lt;/a>GETã€POSTç‰¹ç‚¹å’Œä¼˜ç¼ºç‚¹
&lt;/h3>&lt;p>GET&lt;/p>
&lt;p>æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåç§°/å€¼å¯¹ï¼‰æ˜¯åœ¨GETè¯·æ±‚çš„URLä¸­å‘é€çš„&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>GETè¯·æ±‚å¯è¢«ç¼“å­˜&lt;/li>
&lt;li>GETè¯·æ±‚é€Ÿåº¦å¿«&lt;/li>
&lt;li>GETè¯·æ±‚å¯è¢«æ”¶è—ä¸ºä¹¦ç­¾&lt;/li>
&lt;li>GETè¯·æ±‚ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•ä¸­&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>GETè¯·æ±‚ä¸å®‰å…¨&lt;/li>
&lt;li>GETè¯·æ±‚æœ‰urlé•¿åº¦é™åˆ¶&lt;/li>
&lt;/ul>
&lt;p>POST&lt;/p>
&lt;p>æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåç§°/å€¼å¯¹ï¼‰æ˜¯åœ¨POSTè¯·æ±‚çš„HTTPæ¶ˆæ¯ä¸»ä½“ä¸­å‘é€çš„&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>POSTè¯·æ±‚å¯¹æ•°æ®é•¿åº¦æ²¡æœ‰è¦æ±‚&lt;/li>
&lt;li>POSTè¯·æ±‚ç›¸å¯¹GETè¯·æ±‚æ›´å®‰å…¨&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>POSTè¯·æ±‚ä¸ä¼šè¢«ç¼“å­˜&lt;/li>
&lt;li>POSTè¯·æ±‚é€Ÿåº¦æ…¢&lt;/li>
&lt;/ul>
&lt;h3 id="é‡å®šå‘ä¸è¯·æ±‚è½¬å‘çš„ä¼˜ç¼ºç‚¹-å®ç°çš„æ ¸å¿ƒä»£ç ">&lt;a href="#%e9%87%8d%e5%ae%9a%e5%90%91%e4%b8%8e%e8%af%b7%e6%b1%82%e8%bd%ac%e5%8f%91%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9-%e5%ae%9e%e7%8e%b0%e7%9a%84%e6%a0%b8%e5%bf%83%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>é‡å®šå‘ä¸è¯·æ±‚è½¬å‘çš„ä¼˜ç¼ºç‚¹ å®ç°çš„æ ¸å¿ƒä»£ç 
&lt;/h3>&lt;p>é‡å®šå‘&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸é™åˆ¶åº”ç”¨èŒƒå›´ï¼Œå¯ä»¥é‡å®šå‘åˆ°æœåŠ¡å™¨å†…éƒ¨å…¶ä»–èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯å¤–éƒ¨çš„åº”ç”¨&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>é‡å®šå‘è§£å†³æ–¹æ¡ˆéœ€è¦åœ¨æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œå¤šæ¬¡å¾€è¿”ï¼Œå¤§é‡æ—¶é—´æ¶ˆè€—åœ¨å¾€è¿”æ¬¡æ•°ä¸Šï¼Œå¢åŠ ç”¨æˆ·ç­‰å¾…æœåŠ¡æ—¶é—´&lt;/li>
&lt;/ul>
&lt;p>æ ¸å¿ƒä»£ç ï¼š&lt;code>response.sendRedirect(&amp;quot;è¯·æ±‚åœ°å€&amp;quot;)&lt;/code>&lt;/p>
&lt;p>è¯·æ±‚è½¬å‘&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰å…¨æ€§é«˜ï¼Œåœ¨å†…éƒ¨å‘ç”Ÿè·³è½¬ï¼Œæµè§ˆå™¨åœ°å€ä¸å˜&lt;/li>
&lt;li>è½¬å‘åªéœ€è¦ä¸€æ¬¡è¯·æ±‚ï¼Œå°±å¯ä»¥è®¿é—®è‡³å°‘ä¸¤ä¸ªservletæˆ–jspé¡µé¢ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>åªèƒ½åœ¨åŒä¸€webåº”ç”¨å†…ä½¿ç”¨ï¼Œä¸èƒ½è½¬å‘åˆ°å¤–éƒ¨çš„urlåœ°å€ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ ¸å¿ƒä»£ç ï¼š&lt;code>request.getRequestDispatcher(&amp;quot;URLåœ°å€&amp;quot;).forward(request, response)&lt;/code>&lt;/p>
&lt;h3 id="jsp-servlet-åŒºåˆ«ä¸è”ç³»">&lt;a href="#jsp-servlet-%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%81%94%e7%b3%bb" class="header-anchor">&lt;/a>JSP Servlet åŒºåˆ«ä¸è”ç³»
&lt;/h3>&lt;p>åŒºåˆ«ï¼š&lt;/p>
&lt;ul>
&lt;li>jspæ›´æ“…é•¿è¡¨ç°äºé¡µé¢æ˜¾ç¤º,servletæ›´æ“…é•¿äºé€»è¾‘æ§åˆ¶ã€‚&lt;/li>
&lt;li>Servletä¸­æ²¡æœ‰å†…ç½®å¯¹è±¡ï¼ŒJspä¸­æœ‰å†…ç½®å¯¹è±¡ã€‚&lt;/li>
&lt;li>Servletåœ¨Javaä»£ç ä¸­é€šè¿‡HttpServletResponseå¯¹è±¡åŠ¨æ€è¾“å‡ºHTMLå†…å®¹ï¼›JSPåœ¨é™æ€HTMLå†…å®¹ä¸­åµŒå…¥Javaä»£ç ï¼ŒJavaä»£ç è¢«åŠ¨æ€æ‰§è¡Œåç”ŸæˆHTMLå†…å®¹&lt;/li>
&lt;/ul>
&lt;p>è”ç³»ï¼š&lt;/p>
&lt;ul>
&lt;li>jspæ˜¯å¯¹servletçš„ä¸€ç§é«˜çº§å°è£…ã€‚æœ¬è´¨è¿˜æ˜¯servletã€‚&lt;/li>
&lt;li>jspä¼šç”±TomCatè‡ªåŠ¨ç¼–è¯‘æˆâ€œç±»servletâ€ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="jspå†…ç½®å¯¹è±¡">&lt;a href="#jsp%e5%86%85%e7%bd%ae%e5%af%b9%e8%b1%a1" class="header-anchor">&lt;/a>JSPå†…ç½®å¯¹è±¡
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">å¯¹è±¡&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">request&lt;/td>
&lt;td>&lt;strong>HttpServletRequest&lt;/strong> æ¥å£çš„å®ä¾‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">response&lt;/td>
&lt;td>&lt;strong>HttpServletResponse&lt;/strong> æ¥å£çš„å®ä¾‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">out&lt;/td>
&lt;td>&lt;strong>JspWriter&lt;/strong>ç±»çš„å®ä¾‹ï¼Œç”¨äºæŠŠç»“æœè¾“å‡ºè‡³ç½‘é¡µä¸Š&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">session&lt;/td>
&lt;td>&lt;strong>HttpSession&lt;/strong>ç±»çš„å®ä¾‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">application&lt;/td>
&lt;td>&lt;strong>ServletContext&lt;/strong>ç±»çš„å®ä¾‹ï¼Œä¸åº”ç”¨ä¸Šä¸‹æ–‡æœ‰å…³&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">config&lt;/td>
&lt;td>&lt;strong>ServletConfig&lt;/strong>ç±»çš„å®ä¾‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">pageContext&lt;/td>
&lt;td>&lt;strong>PageContext&lt;/strong>ç±»çš„å®ä¾‹ï¼Œæä¾›å¯¹JSPé¡µé¢æ‰€æœ‰å¯¹è±¡ä»¥åŠå‘½åç©ºé—´çš„è®¿é—®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">page&lt;/td>
&lt;td>ç±»ä¼¼äºJavaç±»ä¸­çš„thiså…³é”®å­—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">Exception&lt;/td>
&lt;td>&lt;strong>Exception&lt;/strong>ç±»çš„å¯¹è±¡ï¼Œä»£è¡¨å‘ç”Ÿé”™è¯¯çš„JSPé¡µé¢ä¸­å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="javabeanç›¸å…³åŠ¨ä½œæ ‡è®°æœ‰å“ªäº›ç”¨ä»£ç è¯´æ˜ä¹‹">&lt;a href="#javabean%e7%9b%b8%e5%85%b3%e5%8a%a8%e4%bd%9c%e6%a0%87%e8%ae%b0%e6%9c%89%e5%93%aa%e4%ba%9b%e7%94%a8%e4%bb%a3%e7%a0%81%e8%af%b4%e6%98%8e%e4%b9%8b" class="header-anchor">&lt;/a>JavaBeanç›¸å…³åŠ¨ä½œæ ‡è®°æœ‰å“ªäº›ï¼Œç”¨ä»£ç è¯´æ˜ä¹‹
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>è¯­æ³•&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>jsp:useBean&lt;/td>
&lt;td>å¯»æ‰¾æˆ–è€…å®ä¾‹åŒ–ä¸€ä¸ªJavaBeanã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jsp:setProperty&lt;/td>
&lt;td>è®¾ç½®JavaBeançš„å±æ€§ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jsp:getProperty&lt;/td>
&lt;td>è¾“å‡ºæŸä¸ªJavaBeançš„å±æ€§ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;code>&amp;lt;jsp:useBean id = &amp;quot;name&amp;quot; class = &amp;quot;package.class&amp;quot; scope= &amp;quot;page | request | session | application&amp;quot; /&amp;gt;&lt;/code>&lt;/p>
&lt;p>å…¶ä¸­ï¼š&lt;/p>
&lt;p>1ï¼‰id&lt;/p>
&lt;p>è¡¨ç¤º Bean å®ä¾‹åŒ–å¯¹è±¡çš„å˜é‡åï¼Œå¯ä»¥åœ¨æŒ‡å®šèŒƒå›´å†…ä½¿ç”¨è¯¥å˜é‡åã€‚&lt;/p>
&lt;p>2ï¼‰class&lt;/p>
&lt;p>è¡¨ç¤ºéœ€è¦å®ä¾‹åŒ– Bean çš„ç±»è·¯å¾„ï¼ŒæŒ‡å®šçš„ç±»å¿…é¡»åŒ…å« public ä¸”æ— å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚&lt;/p>
&lt;p>3ï¼‰scope&lt;/p>
&lt;p>æŒ‡å®š Bean çš„ä½œç”¨åŸŸï¼Œå–å€¼ä¸ºï¼š&lt;/p>
&lt;ul>
&lt;li>pageï¼šåªèƒ½åœ¨å½“å‰é¡µé¢ä½¿ç”¨è¯¥ Bean å¯¹è±¡ï¼›&lt;/li>
&lt;li>requestï¼šåªèƒ½åœ¨ä¸€æ¬¡è¯·æ±‚èŒƒå›´å†…ä½¿ç”¨è¯¥ Bean å¯¹è±¡ï¼›&lt;/li>
&lt;li>sessionï¼šåªèƒ½åœ¨ä¸€æ¬¡ä¼šè¯èŒƒå›´å†…ä½¿ç”¨è¯¥ Bean å¯¹è±¡ï¼›&lt;/li>
&lt;li>applicationï¼šå¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨èŒƒå›´å†…ä½¿ç”¨è¯¥ Bean å¯¹è±¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;code>&amp;lt;jsp:setProperty name = &amp;quot;beanName&amp;quot; property = &amp;quot;attributeName&amp;quot; value = &amp;quot;attributeValue&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;p>&lt;code>&amp;lt;jsp:setProperty&amp;gt; &lt;/code>é€šå¸¸å’Œ &lt;code>&amp;lt;jsp:useBean&amp;gt;&lt;/code> ä¸€èµ·ä½¿ç”¨ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åœ¨ &lt;code>&amp;lt;jsp:useBean&amp;gt;&lt;/code> æ ‡ç­¾å¤–ä½¿ç”¨&lt;code>&amp;lt;jsp:setProperty&amp;gt;&lt;/code>&lt;/p>
&lt;p>ä»¥ä¸Šæƒ…å†µï¼Œæ— è®º &lt;code>&amp;lt;jsp:useBean&amp;gt; &lt;/code>æ˜¯å¦å®ä¾‹åŒ–äº† User å¯¹è±¡ï¼Œ&lt;code>&amp;lt;jsp:setProperty&amp;gt; &lt;/code>éƒ½ä¼šæ‰§è¡Œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨ &lt;code>&amp;lt;jsp:useBean&amp;gt;&lt;/code> æ ‡ç­¾é‡Œä½¿ç”¨ &lt;code>&amp;lt;jsp:setProperty&amp;gt;&lt;/code>&lt;/p>
&lt;p>åªæœ‰ &lt;code>&amp;lt;jsp:useBean&amp;gt;&lt;/code> å®ä¾‹åŒ–äº† User å¯¹è±¡ï¼Œ&lt;code>&amp;lt;jsp:setProperty&amp;gt;&lt;/code> æ‰ä¼šæ‰§è¡Œ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>&amp;lt;jsp:getProperty name = &amp;quot;beanName&amp;quot; property = &amp;quot;attributeName&amp;quot;&amp;gt;&lt;/code>&lt;/p>
&lt;p>å…¶ä¸­ï¼Œname æŒ‡å®šéœ€è¦è·å–å±æ€§çš„ Bean çš„åç§°ï¼›property æŒ‡å®š Bean çš„å±æ€§ï¼Œå³ Bean ç±»ä¸­çš„å±æ€§ã€‚&lt;/p>
&lt;p>å½“ property çš„å–å€¼ä¸º &lt;code>*&lt;/code> æ—¶ï¼Œè¦æ±‚ Bean å±æ€§çš„åç§°ä¸ç±»å‹è¦ä¸ request è¯·æ±‚ä¸­å‚æ•°çš„åç§°åŠç±»å‹ä¸€è‡´ï¼Œä»¥ä¾¿ç”¨ Bean ä¸­çš„å±æ€§æ¥æ¥æ”¶å®¢æˆ·è¾“å…¥çš„æ•°æ®ï¼Œç³»ç»Ÿä¼šæ ¹æ®åç§°æ¥è‡ªåŠ¨åŒ¹é…ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼š&lt;code>&amp;lt;jsp:setProperty&amp;gt;&lt;/code> å’Œ &lt;code>&amp;lt;jsp:getProperty&amp;gt;&lt;/code> åŠ¨ä½œéƒ½ä¼šæŒ‰ç…§ pageã€requestã€session å’Œ application çš„é¡ºåºä¾æ¬¡æŸ¥æ‰¾æŒ‡å®š Bean çš„å®ä¾‹å¯¹è±¡ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªå®ä¾‹è¢«æ‰¾åˆ°ã€‚å¦‚æœä»»ä½•èŒƒå›´å†…éƒ½ä¸å­˜åœ¨è¿™ä¸ª Bean å®ä¾‹ï¼Œåˆ™ä¼šæ‹‹å‡ºå¼‚å¸¸ã€‚&lt;/p>&lt;/blockquote>
&lt;h3 id="elä¸ä½œç”¨åŸç›¸å…³çš„éšå«å¯¹è±¡æœ‰å“ªäº›">&lt;a href="#el%e4%b8%8e%e4%bd%9c%e7%94%a8%e5%9f%8e%e7%9b%b8%e5%85%b3%e7%9a%84%e9%9a%90%e5%90%ab%e5%af%b9%e8%b1%a1%e6%9c%89%e5%93%aa%e4%ba%9b" class="header-anchor">&lt;/a>ELä¸ä½œç”¨åŸç›¸å…³çš„éšå«å¯¹è±¡æœ‰å“ªäº›
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å†…ç½®å¯¹è±¡&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>pageScope&lt;/td>
&lt;td>è·å– page èŒƒå›´çš„å˜é‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>requestScope&lt;/td>
&lt;td>è·å– request èŒƒå›´çš„å˜é‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sessionScope&lt;/td>
&lt;td>è·å– session èŒƒå›´çš„å˜é‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>applicationScope&lt;/td>
&lt;td>è·å– application èŒƒå›´çš„å˜é‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>param&lt;/td>
&lt;td>ç›¸å½“äº request.getParameter(String name)ï¼Œè·å–å•ä¸ªå‚æ•°çš„å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>paramValues&lt;/td>
&lt;td>ç›¸å½“äº request.getParameterValues(String name)ï¼Œè·å–å‚æ•°é›†åˆä¸­çš„å˜é‡å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>header&lt;/td>
&lt;td>ç›¸å½“äº request.getHeader(String name)ï¼Œè·å– HTTP è¯·æ±‚å¤´ä¿¡æ¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>headerValues&lt;/td>
&lt;td>ç›¸å½“äº request.getHeaders(String name)ï¼Œè·å– HTTP è¯·æ±‚å¤´æ•°ç»„ä¿¡æ¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>initParam&lt;/td>
&lt;td>ç›¸å½“äº application.getInitParameter(String name)ï¼Œè·å– web.xml æ–‡ä»¶ä¸­çš„å‚æ•°å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cookie&lt;/td>
&lt;td>ç›¸å½“äº request.getCookies()ï¼Œè·å– cookie ä¸­çš„å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pageContext&lt;/td>
&lt;td>è¡¨ç¤ºå½“å‰ JSP é¡µé¢çš„ pageContext å¯¹è±¡&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>EL è¡¨è¾¾å¼å¯ä»¥è¾“å‡º 4 ç§å±æ€§èŒƒå›´çš„å†…å®¹ã€‚å¦‚æœåœ¨ä¸åŒçš„å±æ€§èŒƒå›´ä¸­è®¾ç½®äº†åŒä¸€ä¸ªå±æ€§åç§°ï¼Œåˆ™æŒ‰ç…§ pageã€requestã€sessionã€application çš„é¡ºåºä¾æ¬¡æŸ¥æ‰¾ã€‚&lt;/p>
&lt;p>${person.name}
personå­˜æ”¾åœ¨requestå±æ€§ä¸­personå¯¹è±¡çš„ç±»yzu.Personï¼Œå¯¹è±¡çš„javaä»£ç æ˜¯ä»€ä¹ˆ(JavaBean)
&lt;code>&amp;lt;%=((yzu.Person)request.getAttribute(&amp;quot;person&amp;quot;)).getName()%&amp;gt;&lt;/code>&lt;/p>
&lt;h3 id="è¿‡æ»¤å™¨ä¸servletåŒºåˆ«ä¸è”ç³»ä»–æœ‰ä»€ä¹ˆä½œç”¨">&lt;a href="#%e8%bf%87%e6%bb%a4%e5%99%a8%e4%b8%8eservlet%e5%8c%ba%e5%88%ab%e4%b8%8e%e8%81%94%e7%b3%bb%e4%bb%96%e6%9c%89%e4%bb%80%e4%b9%88%e4%bd%9c%e7%94%a8" class="header-anchor">&lt;/a>è¿‡æ»¤å™¨ä¸ServletåŒºåˆ«ä¸è”ç³»ï¼Œä»–æœ‰ä»€ä¹ˆä½œç”¨
&lt;/h3>&lt;p>è¿‡æ»¤å™¨ï¼ˆFilterï¼‰ï¼šå¯¹Requestè¯·æ±‚èµ·åˆ°è¿‡æ»¤çš„ä½œç”¨ï¼Œä½œç”¨åœ¨Servletä¹‹å‰&lt;/p>
&lt;p>Servletï¼šå¤„ç†Requestè¯·æ±‚å’ŒResponseå“åº”&lt;/p>
&lt;h3 id="javaå’Œjspçš„åŒºåˆ«">&lt;a href="#java%e5%92%8cjsp%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">&lt;/a>Javaå’ŒJSPçš„åŒºåˆ«
&lt;/h3>&lt;ul>
&lt;li>Javaæ˜¯ä¸€ç§é€šç”¨çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯å¹¶å‘çš„ï¼ŒåŸºäºç±»çš„ï¼Œé¢å‘å¯¹è±¡çš„ï¼Œå¹¶ä¸”ä¸“é—¨è®¾è®¡ä¸ºå…·æœ‰å°½å¯èƒ½å°‘çš„å®ç°ä¾èµ–æ€§ã€‚è€ŒJSPæ˜¯ä¸€ç§æŠ€æœ¯ï¼Œå¯å¸®åŠ©è½¯ä»¶å¼€å‘äººå‘˜åŸºäºHTMLï¼ŒXMLæˆ–å…¶ä»–æ–‡æ¡£ç±»å‹åˆ›å»ºåŠ¨æ€ç”Ÿæˆçš„Webé¡µé¢ã€‚&lt;/li>
&lt;li>Java appletæ˜¯ä½¿ç”¨Javaç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ã€‚JSPä½¿ç”¨â€œscriptletå…ƒç´ â€ï¼ˆJavaä»£ç ï¼‰å’Œâ€œæ ‡è®°â€ï¼ˆé€šå¸¸æ˜¯HTMLæˆ–XMLï¼‰çš„æ··åˆç¼–ç¨‹ï¼Œä»¥æä¾›æ•°æ®é©±åŠ¨ï¼ˆâ€œåŠ¨æ€â€ï¼‰ç½‘é¡µã€‚&lt;/li>
&lt;li>Javaä¸ºé¢å‘å¯¹è±¡è¯­è¨€ï¼ŒJSPå¯ä»¥ç†è§£ä¸ºä¸€ç§è„šæœ¬&lt;/li>
&lt;li>Javaä¸»è¦è´Ÿè´£é€»è¾‘ï¼Œä¸šåŠ¡å¤„ç†ï¼Œè€ŒJSPä¸»è¦è´Ÿè´£é¡µé¢å±•ç°&lt;/li>
&lt;li>JSPçš„æœ¬è´¨æ˜¯servletï¼Œè€Œservletçš„æœ¬è´¨æ˜¯Javaç±»&lt;/li>
&lt;/ul>
&lt;h3 id="jspå¼€å‘çš„ä¼˜ç‚¹">&lt;a href="#jsp%e5%bc%80%e5%8f%91%e7%9a%84%e4%bc%98%e7%82%b9" class="header-anchor">&lt;/a>JSPå¼€å‘çš„ä¼˜ç‚¹
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>å°†å†…å®¹çš„ç”Ÿæˆå’Œæ˜¾ç¤ºåˆ†ç¦»&lt;/p>
&lt;p>å€ŸåŠ©jspæŠ€æœ¯ï¼Œwebé¡µé¢å‘å¼€äººå‘˜å¯ä»¥ä½¿ç”¨htmlæˆ–è€…xmlæ ‡ç­¾æ¥è®¾è®¡å’Œæ ¼å¼åŒ–æœ€ç»ˆé¡µé¢ï¼Œä½¿ç”¨jspæ ‡ç­¾æˆ–è€…è„šæœ¬ç¨‹åºæ¥ç”ŸæˆåŠ¨æ€webé¡µé¢çš„å†…å®¹ï¼ˆé¡µé¢çš„å†…å®¹æ˜¯æ ¹æ®è¯·æ±‚æ¥å˜åŒ–çš„ï¼Œä¾‹å¦‚ï¼Œè¯·æ±‚è´¦æˆ·ä¿¡æ¯æˆ–è€…ç‰¹å®šçš„ä¸€æœ¬ä¹¦çš„ä»·æ ¼ï¼‰ã€‚ç”Ÿæˆå†…å®¹çš„é€»è¾‘è¢«å°è£…åœ¨æ ‡ç­¾å’Œjavabeanç»„ä»¶ä¸­ï¼Œå¹¶ä¸”æ†ç»‘åœ¨è„šæœ¬ç¨‹åºä¸­ï¼Œæ‰€æœ‰çš„è„šæœ¬ç¨‹åºåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œã€‚å› æ­¤ï¼Œå…¶ä»–äººèƒ½å¤Ÿæ–¹ä¾¿åœ°ç¼–è¾‘å’Œä½¿ç”¨jspé¡µé¢ï¼Œè€Œä¸å½±å“å†…å®¹çš„ç”Ÿæˆã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼ºè°ƒå¯é‡ç”¨çš„ç»„ä»¶&lt;/p>
&lt;p>jspé¡µé¢å¯å€ŸåŠ©å¯é‡ç”¨çš„ã€è·¨å¹³å°çš„ç»„ä»¶æ¥æ‰§è¡Œåº”ç”¨ç¨‹åºæ‰€è¦æ±‚çš„æä¸ºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚å¼€å‘äººå‘˜èƒ½å¤Ÿå…±äº«å’Œäº¤æ¢æ‰§è¡Œæ™®é€šæ“ä½œçš„ç»„ä»¶ï¼Œæˆ–è€…è®©è¿™äº›ç»„ä»¶è¢«åˆ«çš„å¼€å‘äººå‘˜æˆ–å¼€å‘å›¢é˜Ÿæ‰€ä½¿ç”¨ã€‚åŸºäºç»„ä»¶çš„æ–¹æ³•åŠ é€Ÿäº†æ€»ä½“å¼€å‘è¿›ç¨‹ï¼Œå¹¶ä¸”ä½¿å¾—å„ç§ç»„ç»‡åœ¨ä»–ä»¬ç°æœ‰çš„æŠ€èƒ½å’Œä¼˜åŒ–ç»“æœçš„å¼€å‘åŠªåŠ›ä¸­å¾—åˆ°å¹³è¡¡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é‡‡ç”¨æ ‡ç­¾ç®€åŒ–é¡µé¢å¼€å‘&lt;/p>
&lt;p>é€šè¿‡ä½¿ç”¨jspæä¾›çš„æ ‡å‡†æ ‡ç­¾åº“ï¼Œwebé¡µé¢å¼€å‘äººå‘˜èƒ½å¤Ÿè®¿é—®å’Œå®ä¾‹åŒ–javabeanç»„ä»¶ã€è®¾ç½®æˆ–è€…æ£€ç´¢ç»„ä»¶å±æ€§ã€ä¸‹è½½appletä»¥åŠæ‰§è¡Œç”¨å…¶ä»–æ–¹æ³•æ›´éš¾äºç¼–ç å’Œè€—æ—¶çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œwebé¡µé¢å¼€å‘äººå‘˜è¿˜å¯ä»¥ä¸ºå¸¸ç”¨åŠŸèƒ½åˆ›å»ºè‡ªå·±çš„æ ‡ç­¾åº“ï¼Œè¿™æ˜¯çš„webé¡µé¢å¼€å‘äººå‘˜èƒ½å¤Ÿä½¿ç”¨ç†Ÿæ‚‰çš„å·¥å…·ç›’å¦‚åŒæ ‡ç­¾ä¸€æ ·çš„æ‰§è¡Œç‰¹å®šåŠŸèƒ½çš„æ„ä»¶æ¥å·¥ä½œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸€æ¬¡ç¼–å†™ã€å¤„å¤„è¿è¡Œ&lt;/p>
&lt;p>ç”±äºjspé¡µé¢çš„å†…ç½®è„šæœ¬æ˜¯åŸºäºjavaè¯­è¨€çš„ï¼Œè€Œä¸”æ‰€æœ‰çš„jspé¡µé¢éƒ½è¢«ç¼–è¯‘ä¸ºjava servletï¼Œå› æ­¤jspé¡µé¢å°±å…·æœ‰javaæŠ€æœ¯çš„æ‰€æœ‰å¥½å¤„ï¼ŒåŒ…æ‹¬å¥å£®æ€§å’Œå®‰å…¨æ€§ç­‰ã€‚ä½œä¸ºjavaå¹³å°çš„ä¸€éƒ¨åˆ†ï¼Œjspæ‹¥æœ‰javaè¯­è¨€â€œä¸€æ¬¡ç¼–å†™ï¼Œå¤„å¤„è¿è¡Œâ€çš„ç‰¹ç‚¹ã€‚jspå‡ ä¹å¯ä»¥è¿è¡Œäºæ‰€æœ‰çš„å¹³å°ï¼Œå¦‚windows ntã€linuxã€unixç­‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ›´é«˜çš„æ•ˆç‡å’Œå®‰å…¨æ€§&lt;/p>
&lt;p>jspç¨‹åºåœ¨æ‰§è¡Œä¹‹å‰å…ˆè¢«ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œå­—èŠ‚ç æ–‡ä»¶æœ‰javaè™šæ‹Ÿæœºè§£é‡Šæ‰§è¡Œï¼Œæ¯”æºä»£ç è§£é‡Šçš„æ•ˆç‡é«˜ã€‚æ­¤å¤–ï¼ŒæœåŠ¡å™¨ç«¯è¿˜æœ‰å­—èŠ‚ç çš„cacheæœºæ„ï¼Œèƒ½æé«˜å­—èŠ‚ç çš„è®¿é—®æ•ˆç‡ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨jspç½‘é¡µå¯èƒ½ç¨æ…¢ï¼Œå› ä¸ºå®ƒè¢«ç¼–è¯‘æˆcacheï¼Œä»¥åå°±å¿«çš„å¤šäº†ã€‚åŒæ—¶ï¼Œjspæºç¨‹åºä¸å¤§å¯èƒ½è¢«ä¸‹è½½ï¼Œç‰¹åˆ«æ˜¯javabeanç¨‹åºï¼Œå®Œå…¨å¯èƒ½æ”¾åˆ°ä¸å¯¹å¤–çš„ç›®å½•ä¸­ã€‚&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>å¦‚ä½•ä¼˜é›…çš„çœ‹ç•ª</title><link>https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/</link><pubDate>Tue, 26 Oct 2021 15:39:41 +0800</pubDate><guid>https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/</guid><description>&lt;img src="https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/90624322.webp" alt="Featured image of post å¦‚ä½•ä¼˜é›…çš„çœ‹ç•ª" />&lt;p>æ–°ç•ªâ€œå…ˆå®¡åæ’­â€æ”¿ç­–å·²ç»å®è¡Œäº†å¿«åŠå¹´äº†ï¼Œç°åœ¨çœ‹æ¥åœ¨å“”å“©å“”å“©ä¸Šè¿½ç•ªçš„ä½“éªŒå·²ç»æ²¡æœ‰ä¹‹å‰é‚£æ ·èˆ’é€‚äº†ï¼Œæ›´ä¸ç”¨æè¿˜æœ‰å¥½å¤šç•ªå‰§è¿ä¸Šçº¿éƒ½æ²¡æœ‰ä¸Šçº¿ã€‚è¿™æ—¶æœ¬åœ°çœ‹ç•ªå°±æˆäº†ä¸€ä¸ªæ¯”è¾ƒä¸é”™çš„é€‰æ‹©äº†ã€‚è¿™ç¯‡æ–‡ç« å°±è®°å½•ä»¥ä¸‹è¿™æ®µæ—¶é—´æˆ‘æœ¬åœ°è¿½ç•ªä½¿ç”¨çš„å·¥å…·å’Œç½‘ç«™ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä»¥æ­¤ä¸ºå‚ç…§ï¼Œæ‰“é€ å±äºè‡ªå·±çš„è¿½ç•ªä½“éªŒã€‚&lt;/p>
&lt;h2 id="æ‰¾ç•ª">&lt;a href="#%e6%89%be%e7%95%aa" class="header-anchor">&lt;/a>æ‰¾ç•ª
&lt;/h2>&lt;p>â€œå·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šâ€ï¼Œæ²¡æœ‰ç‰‡æºçš„è¯ï¼Œæœ¬æ–‡ä½¿ç”¨çš„ä¸€åˆ‡å·¥å…·ä¹Ÿå°±æ— ä»è°ˆèµ·äº†ã€‚ä¸‹é¢æˆ‘å°±åˆ—ä¸¾å‡ ä¸ªæˆ‘çŸ¥é“çš„æ‰¾ç•ªç½‘å€ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>ï¼ˆæ¨èï¼‰&lt;/strong>&lt;a class="link" href="https://bangumi.moe/" target="_blank" rel="noopener"
>èŒç•ªç»„&lt;/a>&lt;/p>
&lt;p>åªèƒ½è¯´æ˜¯è‰¯å¿ƒç½‘ç«™äº†ï¼Œå›½å†…å¯ä»¥ç›´è¿ï¼Œæ”¯æŒRSSè®¢é˜…å’Œç­›é€‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.dmhy.org/" target="_blank" rel="noopener"
>å‹•æ¼«èŠ±åœ’&lt;/a>&lt;/p>
&lt;p>è€ç‰Œç½‘ç«™äº†ï¼Œå›½å†…æ— æ³•ç›´è¿ï¼Œä½†åˆ†äº«å†…å®¹ä¸æ­¢ç•ªå‰§ï¼Œè¿˜æœ‰éŸ³ä¹ç­‰å†…å®¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://nyaa.si/" target="_blank" rel="noopener"
>Nyaa&lt;/a>&lt;/p>
&lt;p>ä¸€èˆ¬æ˜¯è‹±æ–‡èµ„æºï¼Œå¯åšä¸ºå¤‡ç”¨ç½‘ç«™&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="ä¸‹è½½">&lt;a href="#%e4%b8%8b%e8%bd%bd" class="header-anchor">&lt;/a>ä¸‹è½½
&lt;/h2>&lt;p>æ‰¾åˆ°äº†éœ€è¦çš„èµ„æºï¼ˆä¸€èˆ¬éƒ½æ˜¯BTé“¾æ¥ï¼‰ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ä¸‹è½½äº†ï¼Œè¿™é‡Œæˆ‘æ¨è&lt;a class="link" href="https://www.qbittorrent.org/" target="_blank" rel="noopener"
>qBittorrent&lt;/a>ï¼Œæˆ‘è®¤ä¸ºæ˜¯BTä¸‹è½½çš„æœ€ä¼˜è§£äº†ã€‚Windowså¹³å°æˆ‘å»ºè®®é€‰æ‹©å¢å¼ºç‰ˆ&lt;a class="link" href="https://github.com/c0re100/qBittorrent-Enhanced-Edition/releases" target="_blank" rel="noopener"
>qBittorrent-Enhanced-Edition&lt;/a>&lt;/p>
&lt;p>å¯¹äºæ–°ç•ªæ¥è¯´ï¼Œé€Ÿåº¦åŸºæœ¬æ˜¯ä¸æ…¢çš„ã€‚ä½†å¦‚æœè¦ä¸‹è½½æ—§ç•ªçš„è¯ï¼Œå¦‚æœåˆ†äº«çš„äººä¸å¤šçš„è¯é€Ÿåº¦å°±ä¸å¤ªç†æƒ³äº†ã€‚&lt;/p>
&lt;p>é¢å¯¹è¿™ç§æƒ…å†µæˆ‘çŸ¥é“çš„æœ‰è¿™æ ·å‡ ç§è§£å†³æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä½¿ç”¨115ç­‰æ”¯æŒç¦»çº¿çš„ç½‘ç›˜&lt;/p>
&lt;p>è¿™é‡Œæˆ‘æ¨èä¸€ä¸ªå®‰å“çš„APPï¼Œå«PikPakã€‚ç”±äºæ˜¯æ–°å‡ºçš„ï¼Œç°åœ¨æœ‰ä¼šå‘˜å…è´¹é¢†å–çš„æ´»åŠ¨ï¼Œå¯ä»¥æ— é™æ¬¡ç¦»çº¿+3Tç©ºé—´ã€‚æˆ‘ä¸ªäººæµ‹è¯•äº†ä¸€ä¸‹ç¦»çº¿æˆåŠŸç‡å’Œä¸‹è½½é€Ÿåº¦è¿˜æ˜¯ä¸é”™çš„ï¼Œä¹˜ç°åœ¨è¿˜èƒ½ç™½å«–å°±å¤šç”¨ç”¨å§_(:Ğ·)âˆ )_&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç§Ÿä¸€å°å›½å¤–çš„VPSï¼Œå…ˆåœ¨ä¸Šé¢ä¸‹è½½å¥½å†è½¬å­˜åˆ°å›½å†…ï¼ˆå› ä¸ºæœ‰äº›èµ„æºåˆ†äº«çš„äººåœ¨å›½å†…æ— æ³•è¿æ¥åˆ°ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ‰æœ‰ç”¨ğŸ˜‚ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>çœ‹çœ‹ç™¾åº¦äº‘ç­‰ç½‘ç›˜ä¸Šæœ‰æ²¡æœ‰äººåˆ†äº«&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨PTï¼Œå½“ç„¶è¿™ä¸ªéš¾åº¦è¿‡å¤§äº†ï¼Œå°±è¿æˆ‘ä¹Ÿæ²¡æ•´è¿‡ğŸ˜‡&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ’­æ”¾">&lt;a href="#%e6%92%ad%e6%94%be" class="header-anchor">&lt;/a>æ’­æ”¾
&lt;/h2>&lt;p>è¯´åˆ°æœ¬åœ°æ’­æ”¾å™¨ï¼Œé‚£å°±ä¸å¾—ä¸æåˆ°PotPlayerçš„å¤§åäº†ï¼Œè¿™åŸºæœ¬æ˜¯æ’­æ”¾å™¨çš„æœ€ä¼˜è§£äº†ï¼Œåœ¨è¿™é‡Œæˆ‘å°±ä¸è¿‡å¤šé˜è¿°å®ƒçš„ä¼˜ç‚¹äº†ï¼Œæˆ‘ä¸»è¦æ˜¯æƒ³æä¸€æå¦å¤–çš„ä¸€æ¬¾æ’­æ”¾å™¨â€”â€”&lt;a class="link" href="http://www.dandanplay.com" target="_blank" rel="noopener"
>å¼¹å¼¹play&lt;/a>&lt;/p>
&lt;p>ç›¸æ¯”PotPlayerï¼Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯æ”¯æŒå¼¹å¹•çš„æ’­æ”¾ã€‚åœ¨çœ‹äº†è¿™ä¹ˆå¤šå¹´çš„Bç«™ä»¥åï¼Œç°åœ¨çœ‹ç•ªä¸å¸¦å¼¹å¹•å°±è§‰å¾—ç¼ºäº†äº›ä»€ä¹ˆï¼Œè¿™æ¬¾æ’­æ”¾å™¨å°±å¾ˆå¥½çš„è§£å†³äº†æˆ‘è¿™ä¸ªç—›ç‚¹ã€‚å½“ç„¶å®ƒçš„åŠŸèƒ½ä¸æ­¢è¿™äº›ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®è‡ªåŠ¨ä¸‹è½½ã€å¼€å¯è¿œç¨‹è®¿é—®ç­‰ç­‰ã€‚ä½†æˆ‘ä¸€èˆ¬ä¸ä¼šè®©ä¸€ä¸ªæ’­æ”¾å™¨åå°å¸¸é©»+å¼€æœºè‡ªå¯çš„ï¼Œæ‰€ä»¥è¿™äº›åŠŸèƒ½å¯¹æˆ‘æ¥è¯´å¹¶æ²¡æœ‰å¤šå¤§çš„ä½œç”¨ã€‚&lt;/p>
&lt;p>å½“ç„¶è¿˜æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œæ¯”å¦‚ä¸èƒ½åƒ&lt;a class="link" href="https://github.com/xmcp/pakku.js" target="_blank" rel="noopener"
>pakku&lt;/a>é‚£æ ·å°†é‡å¤å¼¹å¹•åˆå¹¶æˆä¸€æ¡å¤§å¼¹å¹•ï¼Œä½¿ç”¨è‡ªå¸¦çš„é‡å¤å¼¹å¹•å±è”½ä¼šæœ‰è‚‰çœ¼å¯è§çš„å¼¹å¹•æ¶ˆå¤±ç­‰BUGã€‚ä¸è¿‡ç‘•ä¸æ©ç‘œï¼Œè¿™æ¬¾æ’­æ”¾å™¨æˆ‘è¿˜æ˜¯å¾ˆæ¨èçš„ã€‚&lt;/p>
&lt;h2 id="è¡¥å¸§">&lt;a href="#%e8%a1%a5%e5%b8%a7" class="header-anchor">&lt;/a>è¡¥å¸§
&lt;/h2>&lt;p>ç»ˆäºåˆ°è¿™ä¸ªç¯èŠ‚äº†ï¼Œè¿™æ‰æ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„ä¸»è¦åŠ¨åŠ›ã€‚&lt;/p>
&lt;p>å›½é™…æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸€æ®µåè¯è§£é‡Šï¼š&lt;/p>
&lt;blockquote>
&lt;p>å¸§æ•°(Frames)ï¼Œä¸ºå¸§ç”Ÿæˆæ•°é‡çš„ç®€ç§°ã€‚ç”±äºå£è¯­ä¹ æƒ¯ä¸Šçš„åŸå› ï¼Œæˆ‘ä»¬é€šå¸¸å°†å¸§æ•°ä¸å¸§ç‡æ··æ·†ã€‚æ¯ä¸€å¸§éƒ½æ˜¯é™æ­¢çš„å›¾è±¡ï¼Œå¿«é€Ÿè¿ç»­åœ°æ˜¾ç¤ºå¸§ä¾¿å½¢æˆäº†è¿åŠ¨çš„å‡è±¡ï¼Œå› æ­¤é«˜çš„å¸§ç‡å¯ä»¥å¾—åˆ°æ›´æµç•…ã€æ›´é€¼çœŸçš„åŠ¨ç”»ã€‚&lt;/p>
&lt;p>è€Œå¸§ç‡ï¼ˆFrame rateï¼‰æ˜¯ç”¨äºæµ‹é‡æ˜¾ç¤ºå¸§æ•°çš„é‡åº¦ã€‚æ‰€è°“çš„æµ‹é‡å•ä½ä¸ºæ¯ç§’æ˜¾ç¤ºå¸§æ•°(Frames per Secondï¼Œç®€ç§°ï¼šFPSï¼‰æˆ–â€œèµ«å…¹â€ï¼ˆHzï¼‰ã€‚æ­¤è¯å¤šç”¨äºå½±è§†åˆ¶ä½œå’Œç”µå­æ¸¸æˆã€‚&lt;/p>&lt;/blockquote>
&lt;p>æ‰€ä»¥è¯´è¡¥å¸§å°±æ˜¯å°†ä½å¸§ç‡çš„è§†é¢‘é€šè¿‡ä¸€å®šçš„ç®—æ³•æå‡åˆ°é«˜å¸§ç‡ã€‚ç›´è§‚æ¥çœ‹ï¼Œå°±æ˜¯ç”»é¢å˜å¾—æ›´åŠ æµç•…ä¸æ»‘äº†ï¼Œè¿˜ä¸ç†è§£çš„è¯å¯ä»¥çœ‹ä¸‹é¢çš„åŠ¨å›¾æˆ–è€…çœ‹çœ‹æå®¢æ¹¾çš„&lt;a class="link" href="https://www.bilibili.com/video/BV1V7411A7Th" target="_blank" rel="noopener"
>è¿™æœŸè§†é¢‘&lt;/a>ï¼Œé€šè¿‡ä¸åŒå¸§ç‡çš„å¯¹æ¯”èƒ½æœ‰ä¸ªæ›´æ¸…æ™°çš„è®¤è¯†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/IMAGE/d0f5b21c8701a18bfc610856912f07082938fec6.jpg"
width="542"
height="240"
srcset="https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/IMAGE/d0f5b21c8701a18bfc610856912f07082938fec6_hu_b83e5bc3214bd0d0.jpg 480w, https://lbqaq.top/p/%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E7%95%AA/IMAGE/d0f5b21c8701a18bfc610856912f07082938fec6_hu_acdffdd4ee00e290.jpg 1024w"
loading="lazy"
alt="ç‚¹å¼€æ‰èƒ½åŠ¨"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="542px"
>&lt;/p>
&lt;p>å½“ç„¶ï¼Œä¸Šé¢çš„è§†é¢‘ä¸­ä½¿ç”¨çš„æ˜¯AIè¡¥å¸§ï¼Œå¯¹æ˜¾å¡å’Œæ—¶é—´è¦æ±‚éƒ½ååˆ†é«˜ã€‚æˆ‘ä»¬æ­£å¸¸çœ‹ç•ªæ˜¯ç”¨ä¸åˆ°è¿™äº›çš„ã€‚è¿™é‡Œå°±åˆ—ä¸¾æœ¬åœ°å®æ—¶æ’å¸§çš„ä¸‰æ¬¾è½¯ä»¶ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>AMD Fluid Motion&lt;/th>
&lt;th>SVP&lt;/th>
&lt;th>dmitriRender&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>ç¡¬ä»¶éœ€æ±‚&lt;/td>
&lt;td>æ”¯æŒæ­¤åŠŸèƒ½çš„Aå¡&lt;/td>
&lt;td>æ— &lt;/td>
&lt;td>é«˜æ€§èƒ½çš„æ˜¾å¡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ˜¯å¦æ”¶è´¹&lt;/td>
&lt;td>å…è´¹&lt;/td>
&lt;td>æ”¶è´¹ï¼ˆå¯è¯•ç”¨ï¼‰&lt;/td>
&lt;td>æ”¶è´¹ï¼ˆå¯è¯•ç”¨ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ­£ç‰ˆä½“éªŒ&lt;/td>
&lt;td>/&lt;/td>
&lt;td>ä¼˜ç§€&lt;/td>
&lt;td>è¾ƒå·®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>é…ç½®éš¾åº¦&lt;/td>
&lt;td>ä¸çŸ¥é“&lt;/td>
&lt;td>å¤æ‚&lt;/td>
&lt;td>ç®€å•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ”¯æŒæ ¼å¼&lt;/td>
&lt;td>å…¨éƒ¨&lt;/td>
&lt;td>ä¸æ”¯æŒHEVC&lt;/td>
&lt;td>å…¨éƒ¨&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>è‡³äºè¡¥å¸§æ•ˆæœï¼Œæˆ‘æ„Ÿè§‰å¯¹äºåŠ¨æ¼«dmitriRenderè¦æ¯”SVPè¦å¥½ä¸€ç‚¹ã€‚å½“ç„¶ç”±äºåŠ¨æ¼«çš„ç”»é¢ä¸€èˆ¬ä¸å…·æœ‰é€»è¾‘è¿ç»­ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šæœ‰ä¸€ç‚¹è™šå½±çš„ï¼Œä¸è¿‡ä¸å½±å“è§‚çœ‹ã€‚&lt;/p>
&lt;p>ä¸¤æ¬¾è½¯ä»¶çš„æ­£ç‰ˆæ¿€æ´»ä½“éªŒæ¥è¯´ï¼Œè¿˜æ˜¯SVPæ¯”è¾ƒå¥½ï¼Œä¸é™æ¬¡æ•°åæ¿€æ´»ï¼Œæ”¯æŒå®˜ç½‘åæ¿€æ´»ã€‚è€ŒdmitriRenderä¸ä½†ä¸æ”¯æŒå®˜ç½‘åæ¿€æ´»ï¼Œè€Œä¸”åªæœ‰20æ¬¡åæ¿€æ´»çš„é™åˆ¶ï¼Œæ›´è¦å‘½çš„æ˜¯å¦‚æœç³»ç»Ÿé‡è£…ã€ç¡¬ä»¶æ›´æ–°éƒ½å¯èƒ½ä¼šæ‰æ¿€æ´»ï¼Œè´´å§ä¸Šä¹Ÿæœ‰å¥½å¤šä¸¢å¤±æ¿€æ´»çš„æƒ…å†µã€‚&lt;/p>
&lt;p>&lt;a class="link" href="http://www.dmitrirender.ru/" target="_blank" rel="noopener"
>dmitriRender&lt;/a>çš„å®˜ç½‘å”®ä»·æ˜¯$15.00ï¼ˆæˆ‘å½“æ—¶ä¹°çš„æ˜¯12åˆ€ï¼Œå±…ç„¶æ¶¨ä»·äº†ï¼‰&lt;/p>
&lt;p>&lt;a class="link" href="https://www.svp-team.com/zh/get/" target="_blank" rel="noopener"
>SVP&lt;/a>çš„å®˜ç½‘å”®ä»·æ˜¯$19.99ï¼ˆå¤ªè´µäº†ï¼Œç­‰é»‘äº”ä¿ƒé”€å†è¯´ï¼‰&lt;/p>
&lt;p>SVPæ˜¯æ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾çš„ï¼Œè€ŒdmitriRenderéœ€è¦ä¸€å¼ ä¿¡ç”¨å¡&lt;/p>
&lt;p>ä¸è¿‡ï¼Œä¸Šé¢ä¸¤å—è½¯ä»¶éƒ½æœ‰çˆ±å¿ƒåˆ†äº«ç‰ˆï¼Œè¿™é‡Œå°±ä¸ç›´æ¥å†™å‡ºæ¥äº†ï¼ˆé¿å…æŸ¥æ°´è¡¨ï¼‰ï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥åœ¨è¯„è®ºé‡Œç•™è¨€ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>è¿™ç¯‡æ–‡ç« è¿˜æ˜¯æ‹–æ›´äº†å¥½ä¹…ï¼Œæ¯æ¬¡åœ¨å¿ƒé‡Œåˆ—ä¸‹æƒ³å†™çš„å†…å®¹ï¼Œä¸€åˆ°ç”µè„‘å‰å°±æ‡’å¾—åŠ¨æ‰‹äº†ğŸ˜­ä¹‹åä¸€å®šä¼šè¡¥ä¸Šä¸¤æ¬¾è¡¥å¸§è½¯ä»¶çš„å®‰è£…å’Œé…ç½®æ–¹æ³•ã€‚&lt;/p></description></item><item><title>MySQL8å¼€å¯è¿œç¨‹è®¿é—®</title><link>https://lbqaq.top/p/mysql8%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/</link><pubDate>Thu, 21 Oct 2021 10:19:52 +0800</pubDate><guid>https://lbqaq.top/p/mysql8%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/</guid><description>&lt;img src="https://lbqaq.top/p/mysql8%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/90561040.webp" alt="Featured image of post MySQL8å¼€å¯è¿œç¨‹è®¿é—®" />&lt;p>æœ€è¿‘æŠŠæœåŠ¡å™¨é‡è£…æˆUbuntuäº†ï¼Œæ‰€ä»¥è¦é‡è£…MySQLï¼Œæ²¡æƒ³åˆ°åœ¨è¿™é‡Œè¸©äº†å¥½å‡ ä¸ªå‘ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹æ¥å¤‡å¿˜ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">&lt;a href="#%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>å®‰è£…
&lt;/h2>&lt;p>è¿™å…¶å®å¾ˆç®€å•ï¼Œç›´æ¥é€šè¿‡Ubuntuçš„åŒ…ç®¡ç†å™¨ç›´æ¥å®‰è£…å°±è¡Œäº†ï¼ˆæˆ‘æŠŠç³»ç»Ÿè½¬ä¸ºUbuntuä¹Ÿæœ‰è¿™æ–¹é¢çš„åŸå› ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo apt-get install mysql-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡è¿™æ¡å‘½ä»¤å®‰è£…çš„MySQLçš„rootè´¦å·æ˜¯æ²¡æœ‰å¯†ç çš„ï¼Œæ‰€ä»¥åªè¦è¾“å…¥&lt;code>mysql&lt;/code>å°±ç›´æ¥å¯ä»¥è¿›å…¥äº†&lt;/p>
&lt;h2 id="å¼€å¯è¿œç¨‹è®¿é—®">&lt;a href="#%e5%bc%80%e5%90%af%e8%bf%9c%e7%a8%8b%e8%ae%bf%e9%97%ae" class="header-anchor">&lt;/a>å¼€å¯è¿œç¨‹è®¿é—®
&lt;/h2>&lt;p>è¿™é‡Œå°±æ˜¯æœ¬æ–‡çš„é‡ç‚¹äº†ï¼Œæˆ‘åœ¨è¿™é‡ŒèŠ±äº†å¾ˆå¤šæ—¶é—´ğŸ˜‡&lt;/p>
&lt;h3 id="è®¾å®šmysqlçš„ç›‘å¬ç«¯å£">&lt;a href="#%e8%ae%be%e5%ae%9amysql%e7%9a%84%e7%9b%91%e5%90%ac%e7%ab%af%e5%8f%a3" class="header-anchor">&lt;/a>è®¾å®šMySQLçš„ç›‘å¬ç«¯å£
&lt;/h3>&lt;p>é€šè¿‡aptå®‰è£…çš„MySQLé»˜è®¤æ˜¯åªç›‘å¬æœ¬åœ°çš„ç«¯å£çš„ï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ä½¿å…¶ç›‘å¬æ‰€æœ‰ipåœ°å€çš„è¯·æ±‚ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">vim /etc/mysql/mysql.conf.d/mysqld.cnf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æŠŠbind - addressåé¢çš„127.0.0.1æ”¹ä¸º0.0.0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#é‡å¯MySQLæœåŠ¡å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart mysql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è®¾ç½®rootè´¦å·å¯†ç å¹¶å¼€å¯è¿œç¨‹è®¿é—®">&lt;a href="#%e8%ae%be%e7%bd%aeroot%e8%b4%a6%e5%8f%b7%e5%af%86%e7%a0%81%e5%b9%b6%e5%bc%80%e5%90%af%e8%bf%9c%e7%a8%8b%e8%ae%bf%e9%97%ae" class="header-anchor">&lt;/a>è®¾ç½®rootè´¦å·å¯†ç å¹¶å¼€å¯è¿œç¨‹è®¿é—®
&lt;/h3>&lt;p>é»˜è®¤rootè´¦å·æ˜¯æ²¡æœ‰å¯†ç çš„ï¼Œè¿™å½“ç„¶æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦ç»™ä¸€ä¸ªå¯†ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">use&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mysql&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="s1">&amp;#39;localhost&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IDENTIFIED&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mysql_native_password&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;æ–°çš„å¯†ç &amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">update&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">flush&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">privileges&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿˜è¦æ³¨æ„æŠŠé˜²ç«å¢™çš„3306ç«¯å£æ”¾è¡Œï¼Œè¿™æ ·å°±å¯ä»¥å®ç°MySQLçš„è¿œç¨‹è®¿é—®äº†ã€‚&lt;/p></description></item><item><title>shiroæ•´åˆJWT</title><link>https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/</link><pubDate>Fri, 08 Oct 2021 15:19:44 +0800</pubDate><guid>https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/</guid><description>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/92388693.webp" alt="Featured image of post shiroæ•´åˆJWT" />&lt;p>åœ¨æˆ‘ç°åœ¨åœ¨åšçš„é¡¹ç›®ä¸­éœ€è¦è¿›è¡Œèº«ä»½å’Œæƒé™è®¤è¯ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†äº›æ•™ç¨‹ï¼Œæ¨èéƒ½æ˜¯ä½¿ç”¨JWTæ¥è¿›è¡Œèº«ä»½è®¤è¯ï¼Œäºæ˜¯ä¾¿å†³å®šä½¿ç”¨æ­¤æ–¹æ³•æ¥å®ç°ã€‚&lt;del>ï¼ˆç„¶è€Œç”¨å®Œäº†æ‰å‘ç°JWTä¹Ÿæœ‰ç¼ºç‚¹ï¼‰&lt;/del>&lt;/p>
&lt;h2 id="ä½•ä¸ºjwt">&lt;a href="#%e4%bd%95%e4%b8%bajwt" class="header-anchor">&lt;/a>ä½•ä¸ºJWT
&lt;/h2>&lt;p>æ‰€è°“JWTï¼Œå…¨ç§°æ˜¯JSON Web Tokenã€‚ä¸‹é¢æ˜¯ä»&lt;a class="link" href="https://jwt.io" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>æ‘˜æŠ„çš„å®šä¹‰ï¼š&lt;/p>
&lt;blockquote>
&lt;p>JWTæ˜¯ä¸€ä¸ªå¼€æ”¾çš„æ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç´§å‡‘å’Œç‹¬ç«‹çš„æ–¹å¼ï¼Œä»¥JSONå¯¹è±¡çš„å½¢å¼åœ¨å„æ–¹ä¹‹é—´å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚è¿™ç§ä¿¡æ¯å¯ä»¥è¢«éªŒè¯å’Œä¿¡ä»»ï¼Œå› ä¸ºå®ƒæ˜¯ç»è¿‡æ•°å­—ç­¾åçš„ã€‚JWTså¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨HMACç®—æ³•ï¼‰æˆ–ä½¿ç”¨RSAæˆ–ECDSAçš„å…¬å…±/ç§äººå¯†é’¥å¯¹è¿›è¡Œç­¾åã€‚&lt;/p>&lt;/blockquote>
&lt;p>æŒ‰æˆ‘çš„ç†è§£ï¼ŒJWTå…¶å®å°±æ˜¯å°†ä¼ ç»Ÿçš„sessionè®¤è¯ä¸­çš„tokenå­˜å‚¨ä½ç½®ä»æœåŠ¡å™¨ä¸Šä¸‹å‘ç»™ç”¨æˆ·ï¼ŒæœåŠ¡å™¨åªéœ€è¦åˆ¤æ–­ä¼ æ¥çš„tokenæ˜¯å¦åˆæ³•è€Œæ— éœ€å­˜å‚¨ã€‚è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯å¯ä»¥åšåˆ†å¸ƒå¼çš„æœåŠ¡å™¨ï¼Œæ— éœ€è€ƒè™‘ç”¨æˆ·æ˜¯åœ¨å“ªä¸€å°æœåŠ¡å™¨ä¸Šç™»å½•çš„ã€‚&lt;/p>
&lt;p>è¯¦ç»†çš„å®šä¹‰å’Œæ„æˆæˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œè¿™é‡Œä¸»è¦å…³æ³¨JWTä¸­Payloadï¼ˆè½½è·ï¼‰ã€‚è¿™æ˜¯æœ‰æ•ˆä¿¡æ¯å­˜æ”¾çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ä¸€èˆ¬å…³æ³¨è¿™é‡Œå°±è¡Œäº†ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯å®˜æ–¹æä¾›ä¸”å»ºè®®ï¼ˆå¹¶ä¸å¼ºåˆ¶ï¼‰ä½¿ç”¨çš„å£°æ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>iss&lt;/strong>: jwtç­¾å‘è€…&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>sub&lt;/strong>: ä¸»é¢˜&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>aud&lt;/strong>: æ¥æ”¶jwtçš„ä¸€æ–¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>exp&lt;/strong>: jwtçš„è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªè¿‡æœŸæ—¶é—´å¿…é¡»è¦å¤§äºç­¾å‘æ—¶é—´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>nbf&lt;/strong>: ç”Ÿæ•ˆæ—¶é—´ï¼Œåœ¨æ­¤æ—¶é—´ä¹‹å‰è¯¥jwtéƒ½æ˜¯ä¸å¯ç”¨çš„.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>iat&lt;/strong>: jwtçš„ç­¾å‘æ—¶é—´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>jti&lt;/strong>: jwtçš„å”¯ä¸€èº«ä»½æ ‡è¯†ï¼Œä¸»è¦ç”¨æ¥ä½œä¸ºä¸€æ¬¡æ€§token,ä»è€Œå›é¿é‡æ”¾æ”»å‡»ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>å½“ç„¶ï¼Œåœ¨è½½è·ä¸­è¿˜å¯ä»¥å­˜æ”¾è‡ªå®šä¹‰çš„ä¿¡æ¯ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­ä½¿ç”¨å®˜æ–¹æä¾›çš„å°±è¶³ä»¥äº†ï¼Œæ•…ä¸å±•å¼€ã€‚&lt;/p>
&lt;h2 id="è®¤è¯æµç¨‹">&lt;a href="#%e8%ae%a4%e8%af%81%e6%b5%81%e7%a8%8b" class="header-anchor">&lt;/a>è®¤è¯æµç¨‹
&lt;/h2>&lt;ul>
&lt;li>ç”¨æˆ·ä½¿ç”¨ç”¨æˆ·åå¯†ç æ¥è¯·æ±‚æœåŠ¡å™¨&lt;/li>
&lt;li>æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ç”¨æˆ·çš„ä¿¡æ¯&lt;/li>
&lt;li>æœåŠ¡å™¨é€šè¿‡éªŒè¯å‘é€ç»™ç”¨æˆ·ä¸€ä¸ªtoken&lt;/li>
&lt;li>å®¢æˆ·ç«¯å­˜å‚¨tokenï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚æ—¶é™„é€ä¸Šè¿™ä¸ªtokenå€¼&lt;/li>
&lt;li>æœåŠ¡ç«¯éªŒè¯tokenå€¼ï¼Œå¹¶è¿”å›æ•°æ®&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/1.jpeg"
width="640"
height="352"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/1_hu_ed1b7d01d2aa541c.jpeg 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/1_hu_5966f25138f58dac.jpeg 1024w"
loading="lazy"
alt="JWTè®¤è¯æµç¨‹å›¾"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="436px"
>&lt;/p>
&lt;h2 id="å…·ä½“å®ç°">&lt;a href="#%e5%85%b7%e4%bd%93%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>å…·ä½“å®ç°
&lt;/h2>&lt;h3 id="å¯¼å…¥ä¾èµ–åŒ…">&lt;a href="#%e5%af%bc%e5%85%a5%e4%be%9d%e8%b5%96%e5%8c%85" class="header-anchor">&lt;/a>å¯¼å…¥ä¾èµ–åŒ…
&lt;/h3>&lt;p>ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯å¯¼å…¥ç›¸å…³ä¾èµ–äº†ï¼Œä½¿ç”¨Mavenè¿›è¡ŒåŒ…ç®¡ç†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- shiro --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.shiro&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>shiro-spring&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.8.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- jwt --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>com.auth0&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>java-jwt&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.18.1&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å°è£…jwtå·¥å…·ç±»">&lt;a href="#%e5%b0%81%e8%a3%85jwt%e5%b7%a5%e5%85%b7%e7%b1%bb" class="header-anchor">&lt;/a>å°è£…JWTå·¥å…·ç±»
&lt;/h3>&lt;p>è¿™é‡Œä¸»è¦å®ç°JWTçš„ç”Ÿæˆã€éªŒè¯ã€æå–ç”¨æˆ·åä¸‰ä¸ªåŠŸèƒ½&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JwtUtil&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * æœåŠ¡å™¨ç§é’¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Algorithm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Algorithm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">HMAC256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç”ŸæˆJSON Web Token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param username ç”¨æˆ·å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param issuer ç­¾å‘è€…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param subject é¢å‘ä¸»ä½“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param ttlMillis ç”Ÿæ•ˆæ—¶é•¿(å•ä½:æ¯«ç§’)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">creatJwt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">currentTimeMillis&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JWTCreator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuedAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">expMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nowMillis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ttlMillis&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">expMillis&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withExpiresAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sign&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç”ŸæˆJSON Web Token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param username ç”¨æˆ·å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param issuer ç­¾å‘è€…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param subject é¢å‘ä¸»ä½“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param expDate å¤±æ•ˆæ—¥æœŸ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">creatJwt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">expDate&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JWTCreator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">create&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuedAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subject&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withIssuer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issuer&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">before&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">expDate&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withExpiresAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">expDate&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sign&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è·å–ç­¾å‘å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦è§£å¯†çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return è§£å¯†åè·å¾—çš„å¯¹è±¡ï¼Œå¤±è´¥è¿”å›null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">audience&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">audience&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">decode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">getAudience&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">exception&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è¾“å…¥çš„tokenæ— æ³•è§£æ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">audience&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * éªŒè¯tokenæ˜¯å¦æ­£ç¡®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> *
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param token éœ€è¦éªŒè¯çš„token
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return é€šè¿‡éªŒè¯è¿”å›trueï¼Œåä¹‹æŠ›å‡ºå¼‚å¸¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">verifyToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWTVerificationException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JWTVerifier&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">verifier&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JWT&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGORITHM&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">verifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®shiro">&lt;a href="#%e9%85%8d%e7%bd%aeshiro" class="header-anchor">&lt;/a>é…ç½®Shiro
&lt;/h3>&lt;p>è¿™é‡Œçš„&lt;code>ShiroConfig.java&lt;/code>ä¸ä¸€èˆ¬Shiroé¡¹ç›®çš„é…ç½®æœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒï¼š&lt;/p>
&lt;ul>
&lt;li>ç¦ç”¨Session&lt;/li>
&lt;li>ä½¿ç”¨è‡ªå®šä¹‰çš„jwtFilterè¿‡æ»¤å™¨ï¼Œç”¨æ¥æ‹¦æˆªå¹¶å¤„ç†æºå¸¦JWT tokençš„è¯·æ±‚&lt;/li>
&lt;li>ä½¿ç”¨è‡ªå®šä¹‰çš„Realmè®¤è¯å™¨ï¼Œç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦å­˜åœ¨åŠæŸ¥è¯¢ç”¨æˆ·æƒé™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ShiroConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MyRealm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myRealm&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultWebSecurityManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getDefaultWebSecurityManager&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultWebSecurityManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultWebSecurityManager&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setRealm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myRealm&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å…³é—­shiroè‡ªå¸¦çš„session&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultSubjectDAO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">subjectDAO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultSubjectDAO&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">subjectDAO&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSessionStorageEvaluator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sessionStorageEvaluator&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSubjectDAO&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subjectDAO&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ShiroFilterFactoryBean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getShiroFilterFactoryBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DefaultWebSecurityManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ShiroFilterFactoryBean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CustomShiroFilterFactoryBean&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSecurityManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">manger&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">filterMap&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">filterMap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jwt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getJwtFilter&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setFilters&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filterMap&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LinkedHashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è®¾ç½®è¿‡æ»¤è§„åˆ™ï¼Œanonè¡¨ç¤ºæ— éœ€è®¤è¯ï¼Œå…¶ä½™çš„è¯·æ±‚éƒ½é€šè¿‡è‡ªå®šä¹‰çš„jwtè®¤è¯å™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;anon&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/swagger-ui/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;anon&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/v3/api-docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;anon&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/swagger-resources/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;anon&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/unauthorized/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;anon&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;jwt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setFilterChainDefinitionMap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setLoginUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/login&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// è®¾ç½®æ— æƒé™æ—¶è·³è½¬çš„ url&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setUnauthorizedUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/unauthorized/æ— æƒé™&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtFilter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getJwtFilter&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtFilter&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * å¼€å¯æ³¨è§£ä»£ç†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthorizationAttributeSourceAdvisor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">authorizationAttributeSourceAdvisor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SecurityManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">securityManager&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">AuthorizationAttributeSourceAdvisor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authorizationAttributeSourceAdvisor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthorizationAttributeSourceAdvisor&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">authorizationAttributeSourceAdvisor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSecurityManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">securityManager&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authorizationAttributeSourceAdvisor&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ç¦ç”¨session, ä¸ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚ä¿è¯æ¯æ¬¡è¯·æ±‚éƒ½é‡æ–°è®¤è¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SessionStorageEvaluator&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">sessionStorageEvaluator&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultSessionStorageEvaluator&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sessionStorageEvaluator&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultSessionStorageEvaluator&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sessionStorageEvaluator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSessionStorageEnabled&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sessionStorageEvaluator&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå®šä¹‰token">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89token" class="header-anchor">&lt;/a>è‡ªå®šä¹‰Token
&lt;/h3>&lt;p>ç”±äºä½¿ç”¨äº†JWTå½“tokenï¼Œè‡ªç„¶è¦å†™è‡ªå®šä¹‰çš„Token&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JwtToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">JwtToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getPrincipal&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getCredentials&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå®šä¹‰è¿‡æ»¤å™¨">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e8%bf%87%e6%bb%a4%e5%99%a8" class="header-anchor">&lt;/a>è‡ªå®šä¹‰è¿‡æ»¤å™¨
&lt;/h3>&lt;p>ç”±äºä½¿ç”¨äº†JWTï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨shiroä¸­è‡ªå¸¦çš„è¿‡æ»¤å™¨ï¼Œè€Œæ˜¯è‡ªå®šä¹‰è‡ªå·±çš„è¿‡æ»¤å™¨ &lt;code>JWTFilter&lt;/code>ï¼Œ&lt;code>JWTFilter&lt;/code> ç»§æ‰¿äº† &lt;code>BasicHttpAuthenticationFilter&lt;/code>ï¼Œå¹¶éƒ¨åˆ†åŸæ–¹æ³•è¿›è¡Œäº†é‡å†™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Slf4j&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JwtFilter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BasicHttpAuthenticationFilter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">isAccessAllowed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mappedValue&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ¤æ–­è¯·æ±‚çš„è¯·æ±‚å¤´æ˜¯å¦å¸¦ä¸Š &amp;#34;Token&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">isLoginAttempt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿›å…¥ executeLogin æ–¹æ³•æ‰§è¡Œç™»å…¥ï¼Œæ£€æŸ¥ token æ˜¯å¦æ­£ç¡®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">executeLogin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//token é”™è¯¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">responseError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMessage&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœè¯·æ±‚å¤´ä¸å­˜åœ¨ Tokenï¼Œåˆ™å¯èƒ½æ˜¯æ‰§è¡Œç™»é™†æ“ä½œæˆ–è€…æ˜¯æ¸¸å®¢çŠ¶æ€è®¿é—®ï¼Œæ— éœ€æ£€æŸ¥ tokenï¼Œç›´æ¥è¿”å› true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æƒ³è¦ç™»å…¥ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * æ£€æµ‹ header é‡Œé¢æ˜¯å¦åŒ…å« Token å­—æ®µ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">isLoginAttempt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">executeLogin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Token&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JwtToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jwtToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// æäº¤ç»™realmè¿›è¡Œç™»å…¥ï¼Œå¦‚æœé”™è¯¯ä»–ä¼šæŠ›å‡ºå¼‚å¸¸å¹¶è¢«æ•è·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">getSubject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">login&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jwtToken&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// å¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸åˆ™ä»£è¡¨ç™»å…¥æˆåŠŸï¼Œè¿”å›true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * å°†éæ³•è¯·æ±‚è·³è½¬åˆ° /unauthorized/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">responseError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è®¾ç½®ç¼–ç ï¼Œå¦åˆ™ä¸­æ–‡å­—ç¬¦åœ¨é‡å®šå‘æ—¶ä¼šå˜ä¸ºç©ºå­—ç¬¦ä¸²&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">URLEncoder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å…è®¸è·¨åŸŸè¯·æ±‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Access-Control-Allow-Credentials&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Access-Control-Allow-Methods&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;GET, POST&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Access-Control-Allow-Origin&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Access-Control-Max-Age&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;3600&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sendRedirect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/unauthorized/&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMessage&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¯¥è¿‡æ»¤å™¨æœ‰è¿™å‡ å¤§æ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>æ£€éªŒè¯·æ±‚å¤´æ˜¯å¦å¸¦æœ‰Token&lt;/li>
&lt;li>å¦‚æœå¸¦æœ‰ tokenï¼Œæ‰§è¡Œ shiro çš„ login() æ–¹æ³•ï¼Œå°† token æäº¤åˆ° Realm ä¸­è¿›è¡Œæ£€éªŒï¼›å¦‚æœæ²¡æœ‰ tokenï¼Œè¯´æ˜å½“å‰çŠ¶æ€ä¸ºæ¸¸å®¢çŠ¶æ€ï¼ˆæˆ–è€…å…¶ä»–ä¸€äº›ä¸éœ€è¦è¿›è¡Œè®¤è¯çš„æ¥å£ï¼‰&lt;/li>
&lt;li>å¦‚æœåœ¨ token æ ¡éªŒçš„è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œå¦‚ token æ ¡éªŒå¤±è´¥ï¼Œé‚£ä¹ˆæˆ‘ä¼šå°†è¯¥è¯·æ±‚è§†ä¸ºè®¤è¯ä¸é€šè¿‡ï¼Œåˆ™é‡å®šå‘åˆ° &lt;code>/unauthorized/**&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="è‡ªå®šä¹‰realm">&lt;a href="#%e8%87%aa%e5%ae%9a%e4%b9%89realm" class="header-anchor">&lt;/a>è‡ªå®šä¹‰Realm
&lt;/h3>&lt;p>è¿™é‡Œä¸»è¦æ˜¯è¿›è¡Œèº«ä»½è®¤è¯å’Œæƒé™è®¤è¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyRealm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthorizingRealm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">RoleService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roleService&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">PermissionService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">permissionService&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">supports&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AuthenticationToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">instanceof&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtToken&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * æƒé™è®¤è¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * åªæœ‰å½“éœ€è¦æ£€æµ‹ç”¨æˆ·æƒé™çš„æ—¶å€™æ‰ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œä¾‹å¦‚checkRole,checkPermissionä¹‹ç±»çš„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthorizationInfo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doGetAuthorizationInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PrincipalCollection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">principals&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">principals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roleService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAllRoleByUserName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">permissions&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">permissionService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAllPermissionByUserName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleAuthorizationInfo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleAuthorizationInfo&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setRoles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setStringPermissions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">permissions&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * èº«ä»½è®¤è¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationInfo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doGetAuthenticationInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AuthenticationToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JwtToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jwtToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JwtToken&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jwtTokenPrincipal&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jwtToken&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getPrincipal&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAudience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jwtTokenPrincipal&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tokenè®¤è¯å¤±è´¥ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JwtUtil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">verifyToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jwtTokenPrincipal&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JWTDecodeException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸æ˜¯æœ‰æ•ˆçš„JWTæ ¼å¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SignatureVerificationException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ— æ•ˆçš„ç­¾å&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TokenExpiredException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tokenå·²è¿‡æœŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUserByUserName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AuthenticationException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è¯¥ç”¨æˆ·ä¸å­˜åœ¨ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleAuthenticationInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jwtTokenPrincipal&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUserId&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œæœ‰ä¸ªç»†èŠ‚ï¼Œåœ¨Controllerä¸­è¦æ±‚è¿›è¡Œèº«ä»½è®¤è¯æ—¶ï¼ŒShiroä¼šè‡ªåŠ¨æŠŠä¸Šé¢&lt;code>doGetAuthenticationInfo&lt;/code>æ–¹æ³•ä¸­è¿”å›çš„Infoå­˜èµ·æ¥ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨Controllerä¸­è°ƒç”¨è¿™é‡Œé¢çš„å€¼äº†ã€‚&lt;/p>
&lt;p>&lt;code>userName&lt;/code>å¯ä»¥é€šè¿‡&lt;code>(String) SecurityUtils.getSubject().getPrincipal()&lt;/code>å–å‡ºæ¥&lt;/p>
&lt;p>&lt;code>userId&lt;/code>å¯ä»¥é€šè¿‡&lt;code>SecurityUtils.getSubject().getPrincipals().getRealmNames().iterator().next()&lt;/code>å–å‡ºæ¥ã€‚å½“ç„¶ï¼Œè¿™é‡Œæ ¹æ®Shiroçš„è®¾è®¡ï¼Œ&lt;code>SimpleAuthenticationInfo&lt;/code>çš„ç¬¬ä¸‰ä¸ªæ„é€ å‚æ•°åº”è¯¥å¡«å…¥&lt;code>RealmName&lt;/code>ï¼Œç”¨æ¥åŒºåˆ†ç”¨æˆ·è¯¥ä½¿ç”¨å“ªä¸€ä¸ªRealmè¿›è¡ŒéªŒè¯çš„ã€‚ä½†æˆ‘è¿™ä¸ªé¡¹ç›®å°±åªæœ‰ä¸€ä¸ªRealmï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå°±å·äº†ä¸ªæ‡’ï¼Œå°±æ²¡æŒ‰å®˜æ–¹æ ‡å‡†æ¥äº†ã€‚&lt;/p>
&lt;h3 id="å¼‚å¸¸å¤„ç†">&lt;a href="#%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>å¼‚å¸¸å¤„ç†
&lt;/h3>&lt;p>ç¬¬ä¸€ä¸ªæ˜¯ä¸“é—¨å¤„ç†èº«ä»½è®¤è¯æ—¶çš„å¼‚å¸¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@ApiOperation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ¥æ”¶æœªæˆæƒé”™è¯¯&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">notes&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;è¿”å›é”™è¯¯ä¿¡æ¯&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/unauthorized/{message}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">unauthorized&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">233&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬äºŒä¸ªåˆ™æ˜¯å…¨å±€æ¥ç®¡Shiroçš„å¼‚å¸¸ï¼Œåœ¨å…¶ä¸­è¿›è¡Œå¤„ç†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestControllerAdvice&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ExceptionController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * æ•æ‰shiroçš„å¼‚å¸¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ExceptionHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ShiroException&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">handle401&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ShiroException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">666&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">instanceof&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UnauthenticatedException&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ‚¨æ²¡æœ‰ç™»å½•ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">instanceof&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UnauthorizedException&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ‚¨æ²¡æœ‰æƒé™è®¿é—®ï¼&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è§£å†³ä¸­æ–‡æŠ¥é”™">&lt;a href="#%e8%a7%a3%e5%86%b3%e4%b8%ad%e6%96%87%e6%8a%a5%e9%94%99" class="header-anchor">&lt;/a>è§£å†³ä¸­æ–‡æŠ¥é”™
&lt;/h3>&lt;p>åœ¨Shiro1.7ç‰ˆæœ¬ä¹‹åå¢åŠ äº†urlæ ¡éªŒï¼Œå¦‚æœæœ‰ä¸­æ–‡å­—ç¬¦å°±ä¸é€šè¿‡ã€‚ç„¶è€Œæˆ‘ä»¬é¡¹ç›®é‡Œè¿”å›é”™è¯¯ä¿¡æ¯å°±æ˜¯é€šè¿‡urlæ¥å®ç°çš„ã€‚å‚è€ƒ&lt;a class="link" href="https://blog.csdn.net/qq_35598240/article/details/110310638" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>çŸ¥é“ï¼Œéœ€è¦è‡ªå·±é‡å†™&lt;code>ShiroFilterFactoryBean&lt;/code>æ¥å®ç°å…³é—­urlæ ¡éªŒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">CustomShiroFilterFactoryBean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ShiroFilterFactoryBean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FilterChainManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createFilterChainManager&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">FilterChainManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">createFilterChainManager&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// URLæºå¸¦ä¸­æ–‡400ï¼ŒservletPathä¸­æ–‡æ ¡éªŒbug&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">filterMap&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getFilters&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Filter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">invalidRequestFilter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">filterMap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DefaultFilter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">invalidRequest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">invalidRequestFilter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">instanceof&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">InvalidRequestFilter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">InvalidRequestFilter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">invalidRequestFilter&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setBlockNonAscii&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">manager&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¼€å§‹ä½¿ç”¨">&lt;a href="#%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>å¼€å§‹ä½¿ç”¨
&lt;/h3>&lt;ul>
&lt;li>èº«ä»½è®¤è¯åœ¨Controllerä¸Šæ·»åŠ &lt;code>@RequiresAuthentication&lt;/code>&lt;/li>
&lt;li>è§’è‰²è®¤è¯åœ¨Controllerä¸Šæ·»åŠ &lt;code>@RequiresRoles(&amp;quot;xxx&amp;quot;)&lt;/code>&lt;/li>
&lt;li>æƒé™è®¤è¯åœ¨Controllerä¸Šæ·»åŠ &lt;code>@RequiresPermissions(&amp;quot;xxx&amp;quot;)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="æµ‹è¯•">&lt;a href="#%e6%b5%8b%e8%af%95" class="header-anchor">&lt;/a>æµ‹è¯•
&lt;/h2>&lt;p>æµ‹è¯•æ¥å£çš„ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/test&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@ResponseBody&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å½“ä½ çœ‹åˆ°è¿™æ®µè¯æ—¶ï¼Œè¯´æ˜æœåŠ¡æˆåŠŸè¿è¡Œäº†&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/test2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@ResponseBody&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequiresPermissions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;user:insert&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test2&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å½“ä½ çœ‹åˆ°è¿™æ®µè¯æ—¶ï¼Œè¯´æ˜ä½ å·²ç»é€šè¿‡äº†éªŒè¯&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/test3&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@ResponseBody&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequiresPermissions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;noBody&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test3&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">200&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">setMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å½“ä½ çœ‹åˆ°è¿™æ®µè¯æ—¶ï¼Œè¯´æ˜è®¤è¯ç³»ç»Ÿå‡ºç°äº†é—®é¢˜&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009111928223.png"
width="423"
height="338"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009111928223_hu_a74605a0c168cce2.png 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009111928223_hu_67c9824431d55542.png 1024w"
loading="lazy"
alt="æ¸¸å®¢è®¿é—®ï¼Œä¸å¸¦Token"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112720855.png"
width="412"
height="350"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112720855_hu_d5e065a26c74daec.png 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112720855_hu_f5c66bddcfdfad51.png 1024w"
loading="lazy"
alt="ä¸å¸¦tokenè®¿é—®"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112759761.png"
width="471"
height="345"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112759761_hu_3312dd260fd642b8.png 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112759761_hu_4cc9502b49bb2fff.png 1024w"
loading="lazy"
alt="å¸¦ä¸Štoken"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="327px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112832784.png"
width="421"
height="329"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112832784_hu_3bc6b44670bd84a.png 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112832784_hu_c6920d117eb6f7a.png 1024w"
loading="lazy"
alt="å¸¦ä¸Šé”™è¯¯çš„token"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112929544.png"
width="427"
height="337"
srcset="https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112929544_hu_ca78986187303302.png 480w, https://lbqaq.top/p/shiro%E6%95%B4%E5%90%88jwt/IMAGE/image-20211009112929544_hu_5a594b57586652f8.png 1024w"
loading="lazy"
alt="è®¿é—®æ— æƒé™çš„æ¥å£"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="304px"
>&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡ç« ">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" class="header-anchor">&lt;/a>å‚è€ƒæ–‡ç« 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.jianshu.com/p/3c51832f1051" target="_blank" rel="noopener"
>æ•™ä½  Shiro + SpringBoot æ•´åˆ JWT&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/pengjunlee/article/details/95600843" target="_blank" rel="noopener"
>Shiroæ­¥æ­¥ä¸ºè¥&amp;ndash;å¦‚ä½•ä¼˜é›…åœ°ä¸JWTé›†æˆ&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="æ›´æ–°æ—¥å¿—">&lt;a href="#%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97" class="header-anchor">&lt;/a>æ›´æ–°æ—¥å¿—
&lt;/h2>&lt;p>&lt;strong>2021.11.7ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¢åŠ è§£å†³è·³è½¬æ—¶çš„è·¨åŸŸè¯·æ±‚&lt;/li>
&lt;li>æ›´ç»†ç²’åº¦çš„å±•ç¤ºJWTé”™è¯¯åŸå› &lt;/li>
&lt;li>å¢åŠ &lt;code>SecurityUtils&lt;/code>çš„ä½¿ç”¨&lt;/li>
&lt;li>å¢åŠ æµ‹è¯•æ¥å£çš„ä»£ç &lt;/li>
&lt;/ul></description></item><item><title>Vueå­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Wed, 22 Sep 2021 08:21:14 +0800</pubDate><guid>https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;img src="https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/88417243.webp" alt="Featured image of post Vueå­¦ä¹ ç¬”è®°" />&lt;p>æœ€è¿‘çœ‹äº†å¾ˆä¹…çš„Vueæ•™ç¨‹ï¼Œä¸ºäº†é¿å…ä¹‹åçš„é—å¿˜ï¼Œè¿˜æ˜¯åœä¸‹è„šæ­¥ï¼ŒèŠ±ç‚¹æ—¶é—´è®²ç¬”è®°å†™å‡ºæ¥å§ã€‚&lt;/p>
&lt;p>è¿™ç¯‡ç¬”è®°æ˜¯åŸºäºBç«™ä¸Šçš„&lt;a class="link" href="https://www.bilibili.com/video/BV1Zy4y1K7SH" target="_blank" rel="noopener"
>å°šç¡…è°·Vue2.0+Vue3.0å…¨å¥—æ•™ç¨‹&lt;/a>è€Œæˆï¼Œåœ¨æ­¤æ„Ÿè°¢æä¾›è¿™ä¹ˆä¼˜ç§€çš„å­¦ä¹ æ•™ç¨‹ã€‚&lt;/p>
&lt;h2 id="vue2åŸºç¡€">&lt;a href="#vue2%e5%9f%ba%e7%a1%80" class="header-anchor">&lt;/a>Vue2åŸºç¡€
&lt;/h2>&lt;p>æƒ³è¦å­¦å¥½Vueï¼Œé‚£è‚¯å®šè¿˜æ˜¯ä»Vue2å¼€å§‹å­¦èµ·ã€‚é‚£ä¹ˆè¿™ä¸€ç« ä¸»è¦æ˜¯Vue2ä¸­çš„åŸºç¡€å†…å®¹ï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°è„šæ‰‹æ¶ã€‚&lt;/p>
&lt;h3 id="åˆè¯†vue">&lt;a href="#%e5%88%9d%e8%af%86vue" class="header-anchor">&lt;/a>åˆè¯†Vue
&lt;/h3>&lt;p>æ¯å­¦ä¸€ä¸ªæ–°çš„è¯­è¨€ï¼ŒHelloWordæ˜¯å¿…ä¸å¯å°‘çš„ã€‚è¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;demo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Helloï¼Œ{{name.toUpperCase()}}ï¼Œ{{address}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">productionTip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="c1">//é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//åˆ›å»ºVueå®ä¾‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#demo&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//elç”¨äºæŒ‡å®šå½“å‰Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ï¼Œå€¼é€šå¸¸ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="c1">//dataä¸­ç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ•°æ®ä¾›elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨ï¼Œå€¼æˆ‘ä»¬æš‚æ—¶å…ˆå†™æˆä¸€ä¸ªå¯¹è±¡ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">address&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;åŒ—äº¬&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªåŸºç¡€çš„Vueç¨‹åºã€‚&lt;/p>
&lt;p>1.æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼›&lt;/p>
&lt;p>2.rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼›&lt;/p>
&lt;p>3.rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼›&lt;/p>
&lt;p>4.Vueå®ä¾‹å’Œå®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼›&lt;/p>
&lt;p>5.çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼›&lt;/p>
&lt;p>6.{{xxx}}ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼›&lt;/p>
&lt;p>7.ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼›&lt;/p>
&lt;h3 id="vueæ¨¡æ¿è¯­æ³•">&lt;a href="#vue%e6%a8%a1%e6%9d%bf%e8%af%ad%e6%b3%95" class="header-anchor">&lt;/a>Vueæ¨¡æ¿è¯­æ³•
&lt;/h3>&lt;p>Vueæ¨¡æ¿è¯­æ³•æœ‰2å¤§ç±»ï¼š&lt;/p>
&lt;p>1.æ’å€¼è¯­æ³•ï¼š&lt;/p>
&lt;p>â€‹ åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹ã€‚&lt;/p>
&lt;p>â€‹ å†™æ³•ï¼š{{xxx}}ï¼Œxxxæ˜¯jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚&lt;/p>
&lt;p>2.æŒ‡ä»¤è¯­æ³•ï¼š&lt;/p>
&lt;p>â€‹ åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬ï¼šæ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶&amp;hellip;..ï¼‰ã€‚&lt;/p>
&lt;p>â€‹ ä¸¾ä¾‹ï¼šv-bind:href=&amp;ldquo;xxx&amp;rdquo; æˆ– ç®€å†™ä¸º :href=&amp;ldquo;xxx&amp;rdquo;ï¼ŒxxxåŒæ ·è¦å†™jsè¡¨è¾¾å¼ï¼Œ&lt;/p>
&lt;p>â€‹ ä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚&lt;/p>
&lt;p>â€‹ å¤‡æ³¨ï¼šVueä¸­æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯ï¼šv-????ï¼Œæ­¤å¤„æˆ‘ä»¬åªæ˜¯æ‹¿v-bindä¸¾ä¸ªä¾‹å­ã€‚&lt;/p>
&lt;p>å…¶å®å¾ˆå¥½ç†è§£ï¼Œæƒ³è¦æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„å†…å®¹å°±ä½¿ç”¨&lt;code>{{value}}&lt;/code>è¿™æ ·çš„å†™æ³•ï¼Œè€Œ&lt;code>v-bind:&lt;/code>åˆ™æ˜¯ç”¨äºhtmlæ ‡ç­¾ä¸­çš„å±æ€§ç»‘å®šã€‚&lt;/p>
&lt;h3 id="æ•°æ®ç»‘å®š">&lt;a href="#%e6%95%b0%e6%8d%ae%e7%bb%91%e5%ae%9a" class="header-anchor">&lt;/a>æ•°æ®ç»‘å®š
&lt;/h3>&lt;p>Vueä¸­æœ‰2ç§æ•°æ®ç»‘å®šçš„æ–¹å¼ï¼š&lt;/p>
&lt;p>â€‹ 1.å•å‘ç»‘å®š(v-bind)ï¼šæ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢ã€‚&lt;/p>
&lt;p>â€‹ 2.åŒå‘ç»‘å®š(v-model)ï¼šæ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘dataã€‚&lt;/p>
&lt;p>â€‹ å¤‡æ³¨ï¼š&lt;/p>
&lt;p>â€‹ 1.åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ä¸Šï¼ˆå¦‚ï¼šinputã€selectç­‰ï¼‰&lt;/p>
&lt;p>â€‹ 2.v-model:value å¯ä»¥ç®€å†™ä¸º v-modelï¼Œå› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueå€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- æ™®é€šå†™æ³• --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å•å‘æ•°æ®ç»‘å®šï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-bind:value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">åŒå‘æ•°æ®ç»‘å®šï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model:value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- ç®€å†™ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å•å‘æ•°æ®ç»‘å®šï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">:value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">åŒå‘æ•°æ®ç»‘å®šï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="elä¸dataçš„ä¸¤ç§å†™æ³•">&lt;a href="#el%e4%b8%8edata%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%86%99%e6%b3%95" class="header-anchor">&lt;/a>elä¸dataçš„ä¸¤ç§å†™æ³•
&lt;/h3>&lt;p>dataä¸elçš„2ç§å†™æ³•&lt;/p>
&lt;p>â€‹ 1.elæœ‰2ç§å†™æ³•&lt;/p>
&lt;p>â€‹ (1).new Vueæ—¶å€™é…ç½®elå±æ€§ã€‚&lt;/p>
&lt;p>â€‹ (2).å…ˆåˆ›å»ºVueå®ä¾‹ï¼Œéšåå†é€šè¿‡vm.$mount(&amp;rsquo;#root&amp;rsquo;)æŒ‡å®šelçš„å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//el:&amp;#39;#root&amp;#39;, //ç¬¬ä¸€ç§å†™æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//ç¬¬äºŒç§å†™æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>â€‹ 2.dataæœ‰2ç§å†™æ³•&lt;/p>
&lt;p>â€‹ (1).å¯¹è±¡å¼&lt;/p>
&lt;p>â€‹ (2).å‡½æ•°å¼&lt;/p>
&lt;p>â€‹ å¦‚ä½•é€‰æ‹©ï¼šç›®å‰å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œä»¥åå­¦ä¹ åˆ°ç»„ä»¶æ—¶ï¼Œdataå¿…é¡»ä½¿ç”¨å‡½æ•°å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//dataçš„ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="cm">/* data:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> name:&amp;#39;Vue&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> } */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//dataçš„ç¬¬äºŒç§å†™æ³•ï¼šå‡½æ•°å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@@@&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//æ­¤å¤„çš„thisæ˜¯Vueå®ä¾‹å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>â€‹ 3.ä¸€ä¸ªé‡è¦çš„åŸåˆ™ï¼š&lt;/p>
&lt;p>â€‹ ç”±Vueç®¡ç†çš„å‡½æ•°ï¼Œä¸€å®šä¸è¦å†™ç®­å¤´å‡½æ•°ï¼Œä¸€æ—¦å†™äº†ç®­å¤´å‡½æ•°ï¼Œthiså°±ä¸å†æ˜¯Vueå®ä¾‹äº†ã€‚&lt;/p>
&lt;h3 id="æ•°æ®ä»£ç†">&lt;a href="#%e6%95%b0%e6%8d%ae%e4%bb%a3%e7%90%86" class="header-anchor">&lt;/a>æ•°æ®ä»£ç†
&lt;/h3>&lt;p>åœ¨è®²Vueä¸­çš„æ•°æ®ä»£ç†ä¹‹å‰ï¼Œå…ˆè®²ä¸€ä¸‹jsä¸­&lt;code>Object.defineproperty&lt;/code>æ–¹æ³•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¼ ä¸‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">defineProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;age&amp;#39;&lt;/span>&lt;span class="p">,{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// value:18,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// enumerable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥æšä¸¾ï¼Œé»˜è®¤å€¼æ˜¯false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// writable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ï¼Œé»˜è®¤å€¼æ˜¯false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// configurable:true //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å½“æœ‰äººè¯»å–personçš„ageå±æ€§æ—¶ï¼Œgetå‡½æ•°(getter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼å°±æ˜¯ageçš„å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æœ‰äººè¯»å–ageå±æ€§äº†&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å½“æœ‰äººä¿®æ”¹personçš„ageå±æ€§æ—¶ï¼Œsetå‡½æ•°(setter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”ä¼šæ”¶åˆ°ä¿®æ”¹çš„å…·ä½“å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æœ‰äººä¿®æ”¹äº†ageå±æ€§ï¼Œä¸”å€¼æ˜¯&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¾“å‡ºpersonä¸­æ‰€æœ‰çš„key
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// console.log(Object.keys(person))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡&lt;code>Object.defineProperty&lt;/code>æ·»åŠ è¿›çš„å±æ€§ï¼Œé»˜è®¤æ˜¯ä¸å¯æšä¸¾ã€ä¸å¯ä¿®æ”¹ã€ä¸å¯åˆ é™¤çš„ï¼Œå¯ä»¥é€šè¿‡ä¸Šé¢çš„ä¸‰æ¡é…ç½®é¡¹ï¼Œè®©å…¶å’Œæ™®é€šçš„å±æ€§ä¸€æ ·ã€‚&lt;/p>
&lt;p>æ‰€è°“æ•°æ®ä»£ç†ï¼Œå°±æ˜¯æŒ‡é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰ã€‚&lt;/p>
&lt;p>1.Vueä¸­çš„æ•°æ®ä»£ç†ï¼š&lt;/p>
&lt;p>â€‹ é€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰&lt;/p>
&lt;p>2.Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„ï¼š&lt;/p>
&lt;p>â€‹ æ›´åŠ æ–¹ä¾¿çš„æ“ä½œdataä¸­çš„æ•°æ®&lt;/p>
&lt;p>3.åŸºæœ¬åŸç†ï¼š&lt;/p>
&lt;p>â€‹ é€šè¿‡Object.defineProperty()æŠŠdataå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Šã€‚&lt;/p>
&lt;p>â€‹ ä¸ºæ¯ä¸€ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetter/setterã€‚&lt;/p>
&lt;p>â€‹ åœ¨getter/setterå†…éƒ¨å»æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">123&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡åœ¨æ§åˆ¶å°æŸ¥çœ‹&lt;code>vm&lt;/code>ï¼Œå¯ä»¥å‘ç°&lt;code>data&lt;/code>ä¸­çš„æ•°æ®éƒ½é€šè¿‡æ•°æ®ä»£ç†åœ¨&lt;code>vm&lt;/code>èº«ä¸Šäº†&lt;/p>
&lt;h3 id="äº‹ä»¶å¤„ç†">&lt;a href="#%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>äº‹ä»¶å¤„ç†
&lt;/h3>&lt;p>äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨ï¼š&lt;/p>
&lt;p>â€‹ 1.ä½¿ç”¨v-on:xxx æˆ– @xxx ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶åï¼›&lt;/p>
&lt;p>â€‹ 2.äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Šï¼›&lt;/p>
&lt;p>â€‹ 3.methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼å¦åˆ™thiså°±ä¸æ˜¯vmäº†ï¼›&lt;/p>
&lt;p>â€‹ 4.methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›&lt;/p>
&lt;p>â€‹ 5.@click=&amp;ldquo;demo&amp;rdquo; å’Œ @click=&amp;ldquo;demo($event)&amp;rdquo; æ•ˆæœä¸€è‡´ï¼Œä½†åè€…å¯ä»¥ä¼ å‚ï¼›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Hello,{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- &amp;lt;button v-on:click=&amp;#34;showInfo&amp;#34;&amp;gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&amp;lt;/button&amp;gt; --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç‚¹æˆ‘æç¤ºä¿¡æ¯1ï¼ˆä¸ä¼ å‚ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo2($event,66)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç‚¹æˆ‘æç¤ºä¿¡æ¯2ï¼ˆä¼ å‚ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">showInfo1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(event.target.innerText)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// console.log(this) //æ­¤å¤„çš„thisæ˜¯vm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŒå­¦ä½ å¥½ï¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">showInfo2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(event.target.innerText)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// console.log(this) //æ­¤å¤„çš„thisæ˜¯vm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŒå­¦ä½ å¥½ï¼ï¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Vueä¸­çš„äº‹ä»¶ä¿®é¥°ç¬¦ï¼š&lt;/p>
&lt;p>â€‹ 1.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ï¼›&lt;/p>
&lt;p>â€‹ 2.stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›&lt;/p>
&lt;p>â€‹ 3.onceï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›&lt;/p>
&lt;p>â€‹ 4.captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼›&lt;/p>
&lt;p>â€‹ 5.selfï¼šåªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼›&lt;/p>
&lt;p>â€‹ 6.passiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://www.baidu.com&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">prevent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;demo1&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">stop&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ä¿®é¥°ç¬¦å¯ä»¥è¿ç»­å†™ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- &amp;lt;a href=&amp;#34;http://www.baidu.com&amp;#34; @click.prevent.stop=&amp;#34;showInfo&amp;#34;&amp;gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&amp;lt;/a&amp;gt; --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">once&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;showInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>1.Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«åï¼š&lt;/p>
&lt;p>â€‹ å›è½¦ =&amp;gt; enter&lt;/p>
&lt;p>â€‹ åˆ é™¤ =&amp;gt; delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)&lt;/p>
&lt;p>â€‹ é€€å‡º =&amp;gt; esc&lt;/p>
&lt;p>â€‹ ç©ºæ ¼ =&amp;gt; space&lt;/p>
&lt;p>â€‹ æ¢è¡Œ =&amp;gt; tab (ç‰¹æ®Šï¼Œå¿…é¡»é…åˆkeydownå»ä½¿ç”¨)&lt;/p>
&lt;p>â€‹ ä¸Š =&amp;gt; up&lt;/p>
&lt;p>â€‹ ä¸‹ =&amp;gt; down&lt;/p>
&lt;p>â€‹ å·¦ =&amp;gt; left&lt;/p>
&lt;p>â€‹ å³ =&amp;gt; right&lt;/p>
&lt;p>2.Vueæœªæä¾›åˆ«åçš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®šï¼Œä½†æ³¨æ„è¦è½¬ä¸ºkebab-caseï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰&lt;/p>
&lt;p>3.ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€shiftã€meta&lt;/p>
&lt;p>â€‹ (1).é…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘ã€‚&lt;/p>
&lt;p>â€‹ (2).é…åˆkeydownä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶ã€‚&lt;/p>
&lt;p>4.ä¹Ÿå¯ä»¥ä½¿ç”¨keyCodeå»æŒ‡å®šå…·ä½“çš„æŒ‰é”®ï¼ˆä¸æ¨èï¼‰&lt;/p>
&lt;p>5.Vue.config.keyCodes.è‡ªå®šä¹‰é”®å = é”®ç ï¼Œå¯ä»¥å»å®šåˆ¶æŒ‰é”®åˆ«å&lt;/p>
&lt;p>ä¸€èˆ¬éƒ½æ˜¯&lt;code>@keydown.xxx&lt;/code>æˆ–è€…&lt;code>@keyup.xxx&lt;/code>æ¥ç»‘å®šæŒ‰é”®&lt;/p>
&lt;h3 id="è®¡ç®—å±æ€§">&lt;a href="#%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>è®¡ç®—å±æ€§
&lt;/h3>&lt;p>è®¡ç®—å±æ€§ï¼š&lt;/p>
&lt;p>â€‹ 1.å®šä¹‰ï¼šè¦ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡å·²æœ‰å±æ€§è®¡ç®—å¾—æ¥ã€‚&lt;/p>
&lt;p>â€‹ 2.åŸç†ï¼šåº•å±‚å€ŸåŠ©äº†Objcet.definepropertyæ–¹æ³•æä¾›çš„getterå’Œsetterã€‚&lt;/p>
&lt;p>â€‹ 3.getå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿ&lt;/p>
&lt;p>â€‹ (1).åˆæ¬¡è¯»å–æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p>
&lt;p>â€‹ (2).å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ä¼šè¢«å†æ¬¡è°ƒç”¨ã€‚&lt;/p>
&lt;p>â€‹ 4.ä¼˜åŠ¿ï¼šä¸methodså®ç°ç›¸æ¯”ï¼Œå†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ã€‚&lt;/p>
&lt;p>â€‹ 5.å¤‡æ³¨ï¼š&lt;/p>
&lt;p>â€‹ 1.è®¡ç®—å±æ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Šï¼Œç›´æ¥è¯»å–ä½¿ç”¨å³å¯ã€‚&lt;/p>
&lt;p>â€‹ 2.å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®æ”¹ï¼Œé‚£å¿…é¡»å†™setå‡½æ•°å»å“åº”ä¿®æ”¹ï¼Œä¸”setä¸­è¦å¼•èµ·è®¡ç®—æ—¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¼ &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ä¸‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ä½ å¥½&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//getæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå½“æœ‰äººè¯»å–fullNameæ—¶ï¼Œgetå°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼å°±ä½œä¸ºfullNameçš„å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//getä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿ1.åˆæ¬¡è¯»å–fullNameæ—¶ã€‚2.æ‰€ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;getè¢«è°ƒç”¨äº†&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(this) //æ­¤å¤„çš„thisæ˜¯vm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//setä»€ä¹ˆæ—¶å€™è°ƒç”¨? å½“fullNameè¢«ä¿®æ”¹æ—¶ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;set&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®¡ç®—å±æ€§è°ƒç”¨å°±å’Œæ™®é€šå±æ€§çš„è°ƒç”¨ä¸€æ ·ï¼Œç”¨&lt;code>{{key}}&lt;/code>å°±è¡Œäº†ã€‚&lt;/p>
&lt;p>å½“æˆ‘ä»¬ä¸éœ€è¦è®¡ç®—å±æ€§çš„setæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç®€å†™æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¼ &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ä¸‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç®€å†™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">fullName&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;getè¢«è°ƒç”¨äº†&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç›‘è§†å±æ€§">&lt;a href="#%e7%9b%91%e8%a7%86%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>ç›‘è§†å±æ€§
&lt;/h3>&lt;p>ç›‘è§†å±æ€§watchï¼š&lt;/p>
&lt;p>1.å½“è¢«ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶, å›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨, è¿›è¡Œç›¸å…³æ“ä½œ&lt;/p>
&lt;p>2.ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼ï¼&lt;/p>
&lt;p>3.ç›‘è§†çš„ä¸¤ç§å†™æ³•ï¼š&lt;/p>
&lt;p>â€‹ (1).new Vueæ—¶ä¼ å…¥watché…ç½®&lt;/p>
&lt;p>â€‹ (2).é€šè¿‡vm.$watchç›‘è§†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ä»Šå¤©å¤©æ°”å¾ˆ{{info}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;changeWeather&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>åˆ‡æ¢å¤©æ°”&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isHot&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">info&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isHot&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;ç‚çƒ­&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å‡‰çˆ½&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeWeather&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isHot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isHot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* watch:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> isHot:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> immediate:true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> //handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> handler(newValue,oldValue){
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> console.log(&amp;#39;isHotè¢«ä¿®æ”¹äº†&amp;#39;,newValue,oldValue)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> } */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$watch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isHot&amp;#39;&lt;/span>&lt;span class="p">,{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newValue&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">oldValue&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isHotè¢«ä¿®æ”¹äº†&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">newValue&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">oldValue&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ·±åº¦ç›‘è§†ï¼š&lt;/p>
&lt;p>â€‹ (1).Vueä¸­çš„watché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆä¸€å±‚ï¼‰ã€‚&lt;/p>
&lt;p>â€‹ (2).é…ç½®&lt;code>deep:true&lt;/code>å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼æ”¹å˜ï¼ˆå¤šå±‚ï¼‰ã€‚&lt;/p>
&lt;p>å¤‡æ³¨ï¼š&lt;/p>
&lt;p>â€‹ (1).Vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼Œä½†Vueæä¾›çš„watché»˜è®¤ä¸å¯ä»¥ï¼&lt;/p>
&lt;p>â€‹ (2).ä½¿ç”¨watchæ—¶æ ¹æ®æ•°æ®çš„å…·ä½“ç»“æ„ï¼Œå†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†ã€‚&lt;/p>
&lt;p>è®¡ç®—å±æ€§ä¹ŸåŒæ ·å¯ä»¥ç®€å†™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watch&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç®€å†™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">isHot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newValue&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">oldValue&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isHotè¢«ä¿®æ”¹äº†&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">newValue&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">oldValue&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>computedå’Œwatchä¹‹é—´çš„åŒºåˆ«ï¼š&lt;/strong>&lt;/p>
&lt;p>â€‹ 1.computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆã€‚&lt;/p>
&lt;p>â€‹ 2.watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚&lt;/p>
&lt;p>ä¸¤ä¸ªé‡è¦çš„å°åŸåˆ™ï¼š&lt;/p>
&lt;p>â€‹ 1.æ‰€è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚&lt;/p>
&lt;p>â€‹ 2.æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ç­‰ã€Promiseçš„å›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œ&lt;/p>
&lt;p>â€‹ è¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚&lt;/p>
&lt;h3 id="ç»‘å®šæ ·å¼">&lt;a href="#%e7%bb%91%e5%ae%9a%e6%a0%b7%e5%bc%8f" class="header-anchor">&lt;/a>ç»‘å®šæ ·å¼
&lt;/h3>&lt;p>ç»‘å®šæ ·å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>classæ ·å¼&lt;/p>
&lt;p>å†™æ³•:class=&amp;ldquo;xxx&amp;rdquo; xxxå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ã€‚&lt;/p>
&lt;p>å­—ç¬¦ä¸²å†™æ³•é€‚ç”¨äºï¼šç±»åä¸ç¡®å®šï¼Œè¦åŠ¨æ€è·å–ã€‚&lt;/p>
&lt;p>å¯¹è±¡å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®šã€‚&lt;/p>
&lt;p>æ•°ç»„å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†ä¸ç¡®å®šç”¨ä¸ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>styleæ ·å¼&lt;/p>
&lt;p>:style=&amp;quot;{fontSize: xxx}&amp;ldquo;å…¶ä¸­xxxæ˜¯åŠ¨æ€å€¼ã€‚&lt;/p>
&lt;p>:style=&amp;quot;[a,b]&amp;ldquo;å…¶ä¸­aã€bæ˜¯æ ·å¼å¯¹è±¡ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ç»‘å®šclassæ ·å¼--å­—ç¬¦ä¸²å†™æ³•ï¼Œé€‚ç”¨äºï¼šæ ·å¼çš„ç±»åä¸ç¡®å®šï¼Œéœ€è¦åŠ¨æ€æŒ‡å®š --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span> &lt;span class="na">:class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mood&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;changeMood&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ç»‘å®šclassæ ·å¼--æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šã€åå­—ä¹Ÿä¸ç¡®å®š --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span> &lt;span class="na">:class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;classArr&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ç»‘å®šclassæ ·å¼--å¯¹è±¡å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®šã€åå­—ä¹Ÿç¡®å®šï¼Œä½†è¦åŠ¨æ€å†³å®šç”¨ä¸ç”¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span> &lt;span class="na">:class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;classObj&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ç»‘å®šstyleæ ·å¼--å¯¹è±¡å†™æ³• --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span> &lt;span class="na">:style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;styleObj&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ç»‘å®šstyleæ ·å¼--æ•°ç»„å†™æ³• --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span> &lt;span class="na">:style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;styleArr&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">productionTip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å°šç¡…è°·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mood&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;normal&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">classArr&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;atguigu1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;atguigu2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;atguigu3&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">classObj&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">atguigu1&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">atguigu2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">styleObj&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontSize&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;40px&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">styleObj2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;orange&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">styleArr&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontSize&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;40px&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;blue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;gray&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeMood&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;happy&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;sad&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;normal&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mood&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ¡ä»¶æ¸²æŸ“">&lt;a href="#%e6%9d%a1%e4%bb%b6%e6%b8%b2%e6%9f%93" class="header-anchor">&lt;/a>æ¡ä»¶æ¸²æŸ“
&lt;/h3>&lt;p>æ¡ä»¶æ¸²æŸ“ï¼š&lt;/p>
&lt;p>â€‹ 1.v-if&lt;/p>
&lt;p>â€‹ å†™æ³•ï¼š&lt;/p>
&lt;p>â€‹ (1).v-if=&amp;ldquo;è¡¨è¾¾å¼&amp;rdquo;&lt;/p>
&lt;p>â€‹ (2).v-else-if=&amp;ldquo;è¡¨è¾¾å¼&amp;rdquo;&lt;/p>
&lt;p>â€‹ (3).v-else=&amp;ldquo;è¡¨è¾¾å¼&amp;rdquo;&lt;/p>
&lt;p>â€‹ é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒä½çš„åœºæ™¯ã€‚&lt;/p>
&lt;p>â€‹ ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ ç›´æ¥è¢«ç§»é™¤ã€‚&lt;/p>
&lt;p>â€‹ æ³¨æ„ï¼šv-ifå¯ä»¥å’Œ:v-else-ifã€v-elseä¸€èµ·ä½¿ç”¨ï¼Œä½†è¦æ±‚ç»“æ„ä¸èƒ½è¢«â€œæ‰“æ–­â€ã€‚&lt;/p>
&lt;p>â€‹ 2.v-show&lt;/p>
&lt;p>â€‹ å†™æ³•ï¼šv-show=&amp;ldquo;è¡¨è¾¾å¼&amp;rdquo;&lt;/p>
&lt;p>â€‹ é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒé«˜çš„åœºæ™¯ã€‚&lt;/p>
&lt;p>â€‹ ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ æœªè¢«ç§»é™¤ï¼Œä»…ä»…æ˜¯ä½¿ç”¨æ ·å¼éšè—æ‰&lt;/p>
&lt;p>â€‹ 3.å¤‡æ³¨ï¼šä½¿ç”¨v-ifçš„æ—¶ï¼Œå…ƒç´ å¯èƒ½æ— æ³•è·å–åˆ°ï¼Œè€Œä½¿ç”¨v-showä¸€å®šå¯ä»¥è·å–åˆ°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- ä½¿ç”¨v-showåšæ¡ä»¶æ¸²æŸ“ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">v-show&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ¬¢è¿æ¥åˆ°{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">v-show&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1 === 1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ¬¢è¿æ¥åˆ°{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- ä½¿ç”¨v-ifåšæ¡ä»¶æ¸²æŸ“ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1 === 1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ¬¢è¿æ¥åˆ°{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ¬¢è¿æ¥åˆ°{{name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- v-elseå’Œv-else-if --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;n === 1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Angular&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">v-else-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;n === 2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>React&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">v-else-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;n === 3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Vue&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">v-else&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å“ˆå“ˆ&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- v-ifä¸templateçš„é…åˆä½¿ç”¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;n === 1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ä½ å¥½&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å°šç¡…è°·&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>åŒ—äº¬&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ—è¡¨æ¸²æŸ“">&lt;a href="#%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93" class="header-anchor">&lt;/a>åˆ—è¡¨æ¸²æŸ“
&lt;/h3>&lt;h4 id="åŸºæœ¬åˆ—è¡¨">&lt;a href="#%e5%9f%ba%e6%9c%ac%e5%88%97%e8%a1%a8" class="header-anchor">&lt;/a>åŸºæœ¬åˆ—è¡¨
&lt;/h4>&lt;p>v-foræŒ‡ä»¤:&lt;/p>
&lt;p>â€‹ 1.ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®&lt;/p>
&lt;p>â€‹ 2.è¯­æ³•ï¼šv-for=&amp;quot;(item, index) in xxx&amp;rdquo; :key=&amp;ldquo;yyy&amp;rdquo;&lt;/p>
&lt;p>â€‹ 3.å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- éå†æ•°ç»„ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>äººå‘˜åˆ—è¡¨ï¼ˆéå†æ•°ç»„ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(p,index) of persons&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;index&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{p.name}}-{{p.age}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- éå†å¯¹è±¡ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ±½è½¦ä¿¡æ¯ï¼ˆéå†å¯¹è±¡ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(value,k) of car&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;k&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{k}}-{{value}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- éå†å­—ç¬¦ä¸² --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æµ‹è¯•éå†å­—ç¬¦ä¸²ï¼ˆç”¨å¾—å°‘ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(char,index) of str&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;index&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{char}}-{{index}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- éå†æŒ‡å®šæ¬¡æ•° --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æµ‹è¯•éå†æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨å¾—å°‘ï¼‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(number,index) of 5&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;index&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{index}}-{{number}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persons&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;001&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¼ ä¸‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;002&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;æå››&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;003&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç‹äº”&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">car&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥¥è¿ªA8&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">price&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;70ä¸‡&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;é»‘è‰²&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">str&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¢è¯•é¢˜ï¼šreactã€vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†ï¼‰&lt;/p>
&lt;ol>
&lt;li>è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š&lt;/li>
&lt;/ol>
&lt;p>â€‹ keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘,&lt;/p>
&lt;p>â€‹ éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>â€‹ 2.å¯¹æ¯”è§„åˆ™ï¼š&lt;/p>
&lt;p>â€‹ (1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š&lt;/p>
&lt;p>â€‹ â‘ .è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼&lt;/p>
&lt;p>â€‹ â‘¡.è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚&lt;/p>
&lt;p>â€‹ (2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key&lt;/p>
&lt;p>â€‹ åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚&lt;/p>
&lt;p>â€‹ 3. ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š&lt;/p>
&lt;p>â€‹ 1. è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:&lt;/p>
&lt;p>â€‹ ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&amp;gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚&lt;/p>
&lt;p>â€‹ 2. å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š&lt;/p>
&lt;p>â€‹ ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&amp;gt; ç•Œé¢æœ‰é—®é¢˜ã€‚&lt;/p>
&lt;p>â€‹ 4. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:&lt;/p>
&lt;p>â€‹ 1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚&lt;/p>
&lt;p>â€‹ 2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ&lt;/p>
&lt;p>â€‹ ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚&lt;/p>
&lt;h4 id="åˆ—è¡¨è¿‡æ»¤">&lt;a href="#%e5%88%97%e8%a1%a8%e8%bf%87%e6%bb%a4" class="header-anchor">&lt;/a>åˆ—è¡¨è¿‡æ»¤
&lt;/h4>&lt;p>å¯ä»¥é€šè¿‡&lt;code>watch&lt;/code>æˆ–è€…&lt;code>computed&lt;/code>å®ç°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>äººå‘˜åˆ—è¡¨&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;è¯·è¾“å…¥åå­—&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;keyWord&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(p,index) of filPerons&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;index&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{p.name}}-{{p.age}}-{{p.sex}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">productionTip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç”¨watchå®ç°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//#region
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyWord&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persons&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;001&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;é©¬å†¬æ¢…&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;002&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨å†¬é›¨&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;003&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨æ°ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;004&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;æ¸©å…†ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filPerons&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">watch&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyWord&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filPerons&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">persons&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">indexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//#endregion
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç”¨computedå®ç°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyWord&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persons&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;001&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;é©¬å†¬æ¢…&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;002&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨å†¬é›¨&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;003&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨æ°ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;004&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;æ¸©å…†ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filPerons&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">persons&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">indexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keyWord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åˆ—è¡¨æ’åº">&lt;a href="#%e5%88%97%e8%a1%a8%e6%8e%92%e5%ba%8f" class="header-anchor">&lt;/a>åˆ—è¡¨æ’åº
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>äººå‘˜åˆ—è¡¨&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;è¯·è¾“å…¥åå­—&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;keyWord&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sortType = 2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¹´é¾„å‡åº&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sortType = 1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¹´é¾„é™åº&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sortType = 0&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>åŸé¡ºåº&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(p,index) of filPerons&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;p.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{p.name}}-{{p.age}}-{{p.sex}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">productionTip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyWord&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sortType&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//0åŸé¡ºåº 1é™åº 2å‡åº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">persons&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;001&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;é©¬å†¬æ¢…&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;002&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨å†¬é›¨&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å¥³&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;003&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;å‘¨æ°ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;004&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;æ¸©å…†ä¼¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filPerons&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">persons&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">indexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keyWord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦éœ€è¦æ’åº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sortType&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sort&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">p1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">p2&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sortType&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Vueç›‘è§†æ•°æ®çš„åŸç†ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>â€‹ é€šè¿‡setterå®ç°ç›‘è§†ï¼Œä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚&lt;/p>
&lt;p>â€‹ (1).å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†&lt;/p>
&lt;p>â€‹ (2).å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹APIï¼š&lt;/p>
&lt;p>â€‹ Vue.set(targetï¼ŒpropertyName/indexï¼Œvalue) æˆ–&lt;/p>
&lt;p>â€‹ vm.$set(targetï¼ŒpropertyName/indexï¼Œvalue)&lt;/p>
&lt;ol start="3">
&lt;li>å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®ï¼Ÿ&lt;/li>
&lt;/ol>
&lt;p>â€‹ é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š&lt;/p>
&lt;p>â€‹ (1).è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚&lt;/p>
&lt;p>â€‹ (2).é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢ã€‚&lt;/p>
&lt;p>4.åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š&lt;/p>
&lt;p>â€‹ 1.ä½¿ç”¨è¿™äº›API:push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()&lt;/p>
&lt;p>â€‹ 2.Vue.set() æˆ– vm.$set()&lt;/p>
&lt;p>ç‰¹åˆ«æ³¨æ„ï¼šVue.set() å’Œ vm.$set() ä¸èƒ½ç»™vm æˆ– vmçš„æ ¹æ•°æ®å¯¹è±¡ æ·»åŠ å±æ€§ï¼ï¼ï¼&lt;/p>
&lt;h3 id="æ”¶é›†è¡¨å•æ•°æ®">&lt;a href="#%e6%94%b6%e9%9b%86%e8%a1%a8%e5%8d%95%e6%95%b0%e6%8d%ae" class="header-anchor">&lt;/a>æ”¶é›†è¡¨å•æ•°æ®
&lt;/h3>&lt;p>è‹¥ï¼š&lt;code>&amp;lt;input type=&amp;quot;text&amp;quot;/&amp;gt;&lt;/code>ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚&lt;/p>
&lt;p>è‹¥ï¼š&lt;code>&amp;lt;input type=&amp;quot;radio&amp;quot;/&amp;gt;&lt;/code>ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚&lt;/p>
&lt;p>è‹¥ï¼š&lt;code>&amp;lt;input type=&amp;quot;checkbox&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;p>â€‹ 1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰&lt;/p>
&lt;p>â€‹ 2.é…ç½®inputçš„valueå±æ€§:&lt;/p>
&lt;p>â€‹ (1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰&lt;/p>
&lt;p>â€‹ (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„&lt;/p>
&lt;p>å¤‡æ³¨ï¼šv-modelçš„ä¸‰ä¸ªä¿®é¥°ç¬¦ï¼š&lt;/p>
&lt;p>â€‹ lazyï¼šå¤±å»ç„¦ç‚¹å†æ”¶é›†æ•°æ®&lt;/p>
&lt;p>â€‹ numberï¼šè¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæœ‰æ•ˆçš„æ•°å­—&lt;/p>
&lt;p>â€‹ trimï¼šè¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">submit&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">prevent&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;demo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> è´¦å·ï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">trim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.account&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å¯†ç ï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.password&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å¹´é¾„ï¼š&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">number&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.age&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æ€§åˆ«ï¼š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ç”·&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sex&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.sex&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;male&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å¥³&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sex&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.sex&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;female&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> çˆ±å¥½ï¼š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å­¦ä¹ &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.hobby&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;study&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æ‰“æ¸¸æˆ&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.hobby&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;game&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> åƒé¥­&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.hobby&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;eat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æ‰€å±æ ¡åŒº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">select&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.city&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>è¯·é€‰æ‹©æ ¡åŒº&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;beijing&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>åŒ—äº¬&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;shanghai&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ä¸Šæµ·&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;shenzhen&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ·±åœ³&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;wuhan&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ­¦æ±‰&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">select&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å…¶ä»–ä¿¡æ¯ï¼š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">lazy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.other&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">textarea&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;userInfo.agree&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>é˜…è¯»å¹¶æ¥å—&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://www.atguigu.com&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ã€Šç”¨æˆ·åè®®ã€‹&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æäº¤&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">account&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;female&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hobby&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">city&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;beijing&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">other&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">agree&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">demo&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¿‡æ»¤å™¨">&lt;a href="#%e8%bf%87%e6%bb%a4%e5%99%a8" class="header-anchor">&lt;/a>è¿‡æ»¤å™¨
&lt;/h3>&lt;p>è¿‡æ»¤å™¨ï¼š&lt;/p>
&lt;p>å®šä¹‰ï¼šå¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤ºï¼ˆé€‚ç”¨äºä¸€äº›ç®€å•é€»è¾‘çš„å¤„ç†ï¼‰ã€‚&lt;/p>
&lt;p>è¯­æ³•ï¼š&lt;/p>
&lt;p>â€‹ 1.æ³¨å†Œè¿‡æ»¤å™¨ï¼šVue.filter(name,callback) æˆ– new Vue{filters:{}}&lt;/p>
&lt;p>â€‹ 2.ä½¿ç”¨è¿‡æ»¤å™¨ï¼š{{ xxx | è¿‡æ»¤å™¨å}} æˆ– v-bind:å±æ€§ = &amp;ldquo;xxx | è¿‡æ»¤å™¨å&amp;rdquo;&lt;/p>
&lt;p>å¤‡æ³¨ï¼š&lt;/p>
&lt;p>â€‹ 1.è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥æ¥æ”¶é¢å¤–å‚æ•°ã€å¤šä¸ªè¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ä¸²è”&lt;/p>
&lt;p>â€‹ 2.å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è®¡ç®—å±æ€§å®ç° --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç°åœ¨æ˜¯ï¼š{{fmtTime}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- methodså®ç° --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç°åœ¨æ˜¯ï¼š{{getFmtTime()}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è¿‡æ»¤å™¨å®ç° --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç°åœ¨æ˜¯ï¼š{{time | timeFormater}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è¿‡æ»¤å™¨å®ç°ï¼ˆä¼ å‚ï¼‰ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç°åœ¨æ˜¯ï¼š{{time | timeFormater(&amp;#39;YYYY_MM_DD&amp;#39;) | mySlice}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span> &lt;span class="na">:x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;msg | mySlice&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å°šç¡…è°·&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{msg | mySlice}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mySlice&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1621561377603&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//æ—¶é—´æˆ³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ä½ å¥½ï¼Œå°šç¡…è°·&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmtTime&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">dayjs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getFmtTime&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">dayjs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å±€éƒ¨è¿‡æ»¤å™¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">filters&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timeFormater&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">str&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(&amp;#39;@&amp;#39;,value)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">dayjs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">str&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#root2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;hello,atguigu!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å†…ç½®æŒ‡ä»¤">&lt;a href="#%e5%86%85%e7%bd%ae%e6%8c%87%e4%bb%a4" class="header-anchor">&lt;/a>å†…ç½®æŒ‡ä»¤
&lt;/h3>&lt;p>æˆ‘ä»¬å­¦è¿‡çš„æŒ‡ä»¤ï¼š&lt;/p>
&lt;p>â€‹ v-bind : å•å‘ç»‘å®šè§£æè¡¨è¾¾å¼, å¯ç®€å†™ä¸º :xxx&lt;/p>
&lt;p>â€‹ v-model : åŒå‘æ•°æ®ç»‘å®š&lt;/p>
&lt;p>â€‹ v-for : éå†æ•°ç»„/å¯¹è±¡/å­—ç¬¦ä¸²&lt;/p>
&lt;p>â€‹ v-on : ç»‘å®šäº‹ä»¶ç›‘å¬, å¯ç®€å†™ä¸º@&lt;/p>
&lt;p>â€‹ v-if : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰&lt;/p>
&lt;p>â€‹ v-else : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰&lt;/p>
&lt;p>â€‹ v-show : æ¡ä»¶æ¸²æŸ“ (åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å±•ç¤º)&lt;/p>
&lt;p>v-textæŒ‡ä»¤ï¼š&lt;/p>
&lt;p>â€‹ 1.ä½œç”¨ï¼šå‘å…¶æ‰€åœ¨çš„èŠ‚ç‚¹ä¸­æ¸²æŸ“æ–‡æœ¬å†…å®¹ã€‚&lt;/p>
&lt;p>â€‹ 2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼šv-textä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œ{{xx}}åˆ™ä¸ä¼šã€‚&lt;/p>
&lt;p>v-htmlæŒ‡ä»¤ï¼š&lt;/p>
&lt;p>â€‹ 1.ä½œç”¨ï¼šå‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹ã€‚&lt;/p>
&lt;p>â€‹ 2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼š&lt;/p>
&lt;p>â€‹ (1).v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œ{{xx}}åˆ™ä¸ä¼šã€‚&lt;/p>
&lt;p>â€‹ (2).v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚&lt;/p>
&lt;p>â€‹ 3.ä¸¥é‡æ³¨æ„ï¼šv-htmlæœ‰å®‰å…¨æ€§é—®é¢˜ï¼ï¼ï¼ï¼&lt;/p>
&lt;p>â€‹ (1).åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTMLæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å¯¼è‡´XSSæ”»å‡»ã€‚&lt;/p>
&lt;p>â€‹ (2).ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šï¼&lt;/p>
&lt;p>v-cloakæŒ‡ä»¤ï¼ˆæ²¡æœ‰å€¼ï¼‰ï¼š&lt;/p>
&lt;p>â€‹ 1.æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVueå®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ æ‰v-cloakå±æ€§ã€‚&lt;/p>
&lt;p>â€‹ 2.ä½¿ç”¨cssé…åˆv-cloakå¯ä»¥è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤ºå‡º{{xxx}}çš„é—®é¢˜ã€‚&lt;/p>
&lt;p>v-onceæŒ‡ä»¤ï¼š&lt;/p>
&lt;p>â€‹ 1.v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹äº†ã€‚&lt;/p>
&lt;p>â€‹ 2.ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚&lt;/p>
&lt;p>v-preæŒ‡ä»¤ï¼š&lt;/p>
&lt;p>â€‹ 1.è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚&lt;/p>
&lt;p>â€‹ 2.å¯åˆ©ç”¨å®ƒè·³è¿‡ï¼šæ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚&lt;/p>
&lt;h3 id="ç”Ÿå‘½å‘¨æœŸ">&lt;a href="#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" class="header-anchor">&lt;/a>ç”Ÿå‘½å‘¨æœŸ
&lt;/h3>&lt;p>è¯ä¸å¤šè¯´å…ˆä¸Šå›¾ï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1.png"
width="1469"
height="1892"
srcset="https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_8ea12fe64b578039.png 480w, https://lbqaq.top/p/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/IMAGE/1_hu_669a05a3cc3243ef.png 1024w"
loading="lazy"
alt="ç”Ÿå‘½å‘¨æœŸ"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="186px"
>&lt;/p>
&lt;p>ç”Ÿå‘½å‘¨æœŸï¼š&lt;/p>
&lt;p>â€‹ 1.åˆåï¼šç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚&lt;/p>
&lt;p>â€‹ 2.æ˜¯ä»€ä¹ˆï¼šVueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚&lt;/p>
&lt;p>â€‹ 3.ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„ã€‚&lt;/p>
&lt;p>â€‹ 4.ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚&lt;/p>
&lt;p>å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š&lt;/p>
&lt;p>â€‹ 1.&lt;code>mounted&lt;/code>: å‘é€ajaxè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰ã€åˆå§‹åŒ–æ“ä½œã€‘ã€‚&lt;/p>
&lt;p>â€‹ 2.&lt;code>beforeDestroy&lt;/code>: æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘ã€‚&lt;/p>
&lt;p>å…³äºé”€æ¯Vueå®ä¾‹&lt;/p>
&lt;p>â€‹ 1.é”€æ¯åå€ŸåŠ©Vueå¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•ä¿¡æ¯ã€‚&lt;/p>
&lt;p>â€‹ 2.é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆã€‚&lt;/p>
&lt;p>â€‹ 3.ä¸€èˆ¬ä¸ä¼šåœ¨beforeDestroyæ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹äº†ã€‚&lt;/p>
&lt;h3 id="ç»„ä»¶">&lt;a href="#%e7%bb%84%e4%bb%b6" class="header-anchor">&lt;/a>ç»„ä»¶
&lt;/h3>&lt;p>Vueä¸­ä½¿ç”¨ç»„ä»¶çš„ä¸‰å¤§æ­¥éª¤ï¼š&lt;/p>
&lt;p>â€‹ ä¸€ã€å®šä¹‰ç»„ä»¶(åˆ›å»ºç»„ä»¶)&lt;/p>
&lt;p>â€‹ äºŒã€æ³¨å†Œç»„ä»¶&lt;/p>
&lt;p>â€‹ ä¸‰ã€ä½¿ç”¨ç»„ä»¶(å†™ç»„ä»¶æ ‡ç­¾)&lt;/p>
&lt;p>ä¸€ã€å¦‚ä½•å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Ÿ&lt;/p>
&lt;p>â€‹ ä½¿ç”¨Vue.extend(options)åˆ›å»ºï¼Œå…¶ä¸­optionså’Œnew Vue(options)æ—¶ä¼ å…¥çš„é‚£ä¸ªoptionså‡ ä¹ä¸€æ ·ï¼Œä½†ä¹Ÿæœ‰ç‚¹åŒºåˆ«ï¼›&lt;/p>
&lt;p>â€‹ åŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>â€‹ 1.elä¸è¦å†™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€” æœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦ç»è¿‡ä¸€ä¸ªvmçš„ç®¡ç†ï¼Œç”±vmä¸­çš„elå†³å®šæœåŠ¡å“ªä¸ªå®¹å™¨ã€‚&lt;/p>
&lt;p>â€‹ 2.dataå¿…é¡»å†™æˆå‡½æ•°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€”â€” é¿å…ç»„ä»¶è¢«å¤ç”¨æ—¶ï¼Œæ•°æ®å­˜åœ¨å¼•ç”¨å…³ç³»ã€‚&lt;/p>
&lt;p>â€‹ å¤‡æ³¨ï¼šä½¿ç”¨templateå¯ä»¥é…ç½®ç»„ä»¶ç»“æ„ã€‚&lt;/p>
&lt;p>äºŒã€å¦‚ä½•æ³¨å†Œç»„ä»¶ï¼Ÿ&lt;/p>
&lt;p>â€‹ 1.å±€éƒ¨æ³¨å†Œï¼šé new Vueçš„æ—¶å€™ä¼ å…¥componentsé€‰é¡¹&lt;/p>
&lt;p>â€‹ 2.å…¨å±€æ³¨å†Œï¼šé Vue.component(&amp;lsquo;ç»„ä»¶å&amp;rsquo;,ç»„ä»¶)&lt;/p>
&lt;p>ä¸‰ã€ç¼–å†™ç»„ä»¶æ ‡ç­¾ï¼š&lt;/p>
&lt;p>â€‹ &lt;code>&amp;lt;school&amp;gt;&amp;lt;/school&amp;gt;&lt;/code>&lt;/p>
&lt;p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š&lt;/p>
&lt;p>â€‹ 1.å…³äºç»„ä»¶å:&lt;/p>
&lt;p>â€‹ ä¸€ä¸ªå•è¯ç»„æˆï¼š&lt;/p>
&lt;p>â€‹ ç¬¬ä¸€ç§å†™æ³•(é¦–å­—æ¯å°å†™)ï¼šschool&lt;/p>
&lt;p>â€‹ ç¬¬äºŒç§å†™æ³•(é¦–å­—æ¯å¤§å†™)ï¼šSchool&lt;/p>
&lt;p>â€‹ å¤šä¸ªå•è¯ç»„æˆï¼š&lt;/p>
&lt;p>â€‹ ç¬¬ä¸€ç§å†™æ³•(kebab-caseå‘½å)ï¼šmy-school&lt;/p>
&lt;p>â€‹ ç¬¬äºŒç§å†™æ³•(CamelCaseå‘½å)ï¼šMySchool (éœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒ)&lt;/p>
&lt;p>â€‹ å¤‡æ³¨ï¼š&lt;/p>
&lt;p>â€‹ (1).ç»„ä»¶åå°½å¯èƒ½å›é¿HTMLä¸­å·²æœ‰çš„å…ƒç´ åç§°ï¼Œä¾‹å¦‚ï¼šh2ã€H2éƒ½ä¸è¡Œã€‚&lt;/p>
&lt;p>â€‹ (2).å¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å‘ˆç°çš„åå­—ã€‚&lt;/p>
&lt;p>â€‹ 2.å…³äºç»„ä»¶æ ‡ç­¾:&lt;/p>
&lt;p>â€‹ ç¬¬ä¸€ç§å†™æ³•ï¼š&lt;code>&amp;lt;school&amp;gt;&amp;lt;/school&amp;gt;&lt;/code>&lt;/p>
&lt;p>â€‹ ç¬¬äºŒç§å†™æ³•ï¼š&lt;code>&amp;lt;school/&amp;gt;&lt;/code>&lt;/p>
&lt;p>â€‹ å¤‡æ³¨ï¼šä¸ç”¨ä½¿ç”¨è„šæ‰‹æ¶æ—¶ï¼Œ&lt;code>&amp;lt;school/&amp;gt;&lt;/code>ä¼šå¯¼è‡´åç»­ç»„ä»¶ä¸èƒ½æ¸²æŸ“ã€‚&lt;/p>
&lt;p>â€‹ 3.ä¸€ä¸ªç®€å†™æ–¹å¼ï¼š&lt;/p>
&lt;p>â€‹ const school = Vue.extend(options) å¯ç®€å†™ä¸ºï¼šconst school = options&lt;/p>
&lt;p>å…³äºVueComponentï¼š&lt;/p>
&lt;p>â€‹ 1.schoolç»„ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªåä¸ºVueComponentçš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„ã€‚&lt;/p>
&lt;p>â€‹ 2.æˆ‘ä»¬åªéœ€è¦å†™&lt;code>&amp;lt;school/&amp;gt;&lt;/code>æˆ–&lt;code>&amp;lt;school&amp;gt;&amp;lt;/school&amp;gt;&lt;/code>ï¼ŒVueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºschoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œ&lt;/p>
&lt;p>â€‹ å³Vueå¸®æˆ‘ä»¬æ‰§è¡Œçš„ï¼šnew VueComponent(options)ã€‚&lt;/p>
&lt;p>â€‹ 3.ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡è°ƒç”¨Vue.extendï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„VueComponentï¼ï¼ï¼ï¼&lt;/p>
&lt;p>â€‹ 4.å…³äºthisæŒ‡å‘ï¼š&lt;/p>
&lt;p>â€‹ (1).ç»„ä»¶é…ç½®ä¸­ï¼š&lt;/p>
&lt;p>â€‹ dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€VueComponentå®ä¾‹å¯¹è±¡ã€‘ã€‚&lt;/p>
&lt;p>â€‹ (2).new Vue(options)é…ç½®ä¸­ï¼š&lt;/p>
&lt;p>â€‹ dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€Vueå®ä¾‹å¯¹è±¡ã€‘ã€‚&lt;/p>
&lt;p>â€‹ 5.VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºï¼šç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰ã€‚&lt;/p>
&lt;p>â€‹ Vueçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vmã€‚&lt;/p>
&lt;h2 id="vue2è¿›é˜¶">&lt;a href="#vue2%e8%bf%9b%e9%98%b6" class="header-anchor">&lt;/a>Vue2è¿›é˜¶
&lt;/h2>&lt;p>åˆ°è¿™ä¸€éƒ¨åˆ†ï¼Œå°±è¦ä½¿ç”¨åˆ°è„šæ‰‹æ¶äº†ï¼ŒåŒæ—¶ä¹Ÿå‘æ­£å¼çš„é¡¹ç›®é è¿‘äº†ã€‚&lt;/p>
&lt;h3 id="è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„">&lt;a href="#%e8%84%9a%e6%89%8b%e6%9e%b6%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84" class="header-anchor">&lt;/a>è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ favicon.ico: é¡µç­¾å›¾æ ‡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ index.html: ä¸»é¡µé¢
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ assets: å­˜æ”¾é™æ€èµ„æº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚ â””â”€â”€ logo.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚â”€â”€ component: å­˜æ”¾ç»„ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚ â””â”€â”€ HelloWorld.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚â”€â”€ App.vue: æ±‡æ€»æ‰€æœ‰ç»„ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚â”€â”€ main.js: å…¥å£æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .gitignore: gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ babel.config.js: babelçš„é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ README.md: åº”ç”¨æè¿°æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package-lock.jsonï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…³äºä¸åŒç‰ˆæœ¬çš„vue">&lt;a href="#%e5%85%b3%e4%ba%8e%e4%b8%8d%e5%90%8c%e7%89%88%e6%9c%ac%e7%9a%84vue" class="header-anchor">&lt;/a>å…³äºä¸åŒç‰ˆæœ¬çš„Vue
&lt;/h3>&lt;ol>
&lt;li>vue.jsä¸vue.runtime.xxx.jsçš„åŒºåˆ«ï¼š
&lt;ol>
&lt;li>vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ + æ¨¡æ¿è§£æå™¨ã€‚&lt;/li>
&lt;li>vue.runtime.xxx.jsæ˜¯è¿è¡Œç‰ˆçš„Vueï¼ŒåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>å› ä¸ºvue.runtime.xxx.jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateè¿™ä¸ªé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementå‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚ä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„è¿™å¥&lt;code>render: h =&amp;gt; h(App)&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="vueconfigjsé…ç½®æ–‡ä»¶">&lt;a href="#vueconfigjs%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>vue.config.jsé…ç½®æ–‡ä»¶
&lt;/h3>&lt;ol>
&lt;li>ä½¿ç”¨vue inspect &amp;gt; output.jså¯ä»¥æŸ¥çœ‹åˆ°Vueè„šæ‰‹æ¶çš„é»˜è®¤é…ç½®ã€‚&lt;/li>
&lt;li>ä½¿ç”¨vue.config.jså¯ä»¥å¯¹è„šæ‰‹æ¶è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¯¦æƒ…è§ï¼š&lt;a class="link" href="https://cli.vuejs.org/zh" target="_blank" rel="noopener"
>https://cli.vuejs.org/zh&lt;/a>&lt;/li>
&lt;/ol>
&lt;h3 id="refå±æ€§">&lt;a href="#ref%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>refå±æ€§
&lt;/h3>&lt;ol>
&lt;li>è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£è€…ï¼‰&lt;/li>
&lt;li>åº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰&lt;/li>
&lt;li>ä½¿ç”¨æ–¹å¼ï¼š
&lt;ol>
&lt;li>æ‰“æ ‡è¯†ï¼š&lt;code>&amp;lt;h1 ref=&amp;quot;xxx&amp;quot;&amp;gt;.....&amp;lt;/h1&amp;gt;&lt;/code> æˆ– &lt;code>&amp;lt;School ref=&amp;quot;xxx&amp;quot;&amp;gt;&amp;lt;/School&amp;gt;&lt;/code>&lt;/li>
&lt;li>è·å–ï¼š&lt;code>this.$refs.xxx&lt;/code>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="propsé…ç½®é¡¹">&lt;a href="#props%e9%85%8d%e7%bd%ae%e9%a1%b9" class="header-anchor">&lt;/a>propsé…ç½®é¡¹
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>åŠŸèƒ½ï¼šè®©ç»„ä»¶æ¥æ”¶å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¼ é€’æ•°æ®ï¼š&lt;code>&amp;lt;Demo name=&amp;quot;xxx&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥æ”¶æ•°æ®ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç¬¬ä¸€ç§æ–¹å¼ï¼ˆåªæ¥æ”¶ï¼‰ï¼š&lt;code>props:['name'] &lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¬¬äºŒç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ï¼‰ï¼š&lt;code>props:{name:String}&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¬¬ä¸‰ç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ã€é™åˆ¶å¿…è¦æ€§ã€æŒ‡å®šé»˜è®¤å€¼ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//ç±»å‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//å¿…è¦æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;è€ç‹&amp;#39;&lt;/span> &lt;span class="c1">//é»˜è®¤å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>å¤‡æ³¨ï¼špropsæ˜¯åªè¯»çš„ï¼ŒVueåº•å±‚ä¼šç›‘æµ‹ä½ å¯¹propsçš„ä¿®æ”¹ï¼Œå¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šå‘å‡ºè­¦å‘Šï¼Œè‹¥ä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯·å¤åˆ¶propsçš„å†…å®¹åˆ°dataä¸­ä¸€ä»½ï¼Œç„¶åå»ä¿®æ”¹dataä¸­çš„æ•°æ®ã€‚&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h3 id="mixinæ··å…¥">&lt;a href="#mixin%e6%b7%b7%e5%85%a5" class="header-anchor">&lt;/a>mixin(æ··å…¥)
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>åŠŸèƒ½ï¼šå¯ä»¥æŠŠå¤šä¸ªç»„ä»¶å…±ç”¨çš„é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨æ–¹å¼ï¼š&lt;/p>
&lt;p>ç¬¬ä¸€æ­¥å®šä¹‰æ··åˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){....},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{....}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">....&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬äºŒæ­¥ä½¿ç”¨æ··å…¥ï¼š&lt;/p>
&lt;p>â€‹ å…¨å±€æ··å…¥ï¼š&lt;code>Vue.mixin(xxx)&lt;/code>
â€‹ å±€éƒ¨æ··å…¥ï¼š&lt;code>mixins:['xxx'] &lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="æ’ä»¶">&lt;a href="#%e6%8f%92%e4%bb%b6" class="header-anchor">&lt;/a>æ’ä»¶
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>åŠŸèƒ½ï¼šç”¨äºå¢å¼ºVue&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ¬è´¨ï¼šåŒ…å«installæ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡ï¼Œinstallçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®šä¹‰æ’ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">å¯¹è±¡&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">install&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Vue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 1. æ·»åŠ å…¨å±€è¿‡æ»¤å™¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">(....)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 2. æ·»åŠ å…¨å±€æŒ‡ä»¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">directive&lt;/span>&lt;span class="p">(....)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 3. é…ç½®å…¨å±€æ··å…¥(åˆ)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mixin&lt;/span>&lt;span class="p">(....)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$myMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{...}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$myProperty&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">xxxx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨æ’ä»¶ï¼š&lt;code>Vue.use()&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="scopedæ ·å¼">&lt;a href="#scoped%e6%a0%b7%e5%bc%8f" class="header-anchor">&lt;/a>scopedæ ·å¼
&lt;/h3>&lt;ol>
&lt;li>ä½œç”¨ï¼šè®©æ ·å¼åœ¨å±€éƒ¨ç”Ÿæ•ˆï¼Œé˜²æ­¢å†²çªã€‚&lt;/li>
&lt;li>å†™æ³•ï¼š&lt;code>&amp;lt;style scoped&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="æ€»ç»“todolistæ¡ˆä¾‹">&lt;a href="#%e6%80%bb%e7%bb%93todolist%e6%a1%88%e4%be%8b" class="header-anchor">&lt;/a>æ€»ç»“TodoListæ¡ˆä¾‹
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼š&lt;/p>
&lt;p>â€‹ (1).æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸htmlå…ƒç´ å†²çªã€‚&lt;/p>
&lt;p>â€‹ (2).å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š&lt;/p>
&lt;p>â€‹ 1).ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯ã€‚&lt;/p>
&lt;p>â€‹ 2). ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆ&lt;strong>çŠ¶æ€æå‡&lt;/strong>ï¼‰ã€‚&lt;/p>
&lt;p>â€‹ (3).å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>propsé€‚ç”¨äºï¼š&lt;/p>
&lt;p>â€‹ (1).çˆ¶ç»„ä»¶ ==&amp;gt; å­ç»„ä»¶ é€šä¿¡&lt;/p>
&lt;p>â€‹ (2).å­ç»„ä»¶ ==&amp;gt; çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨v-modelæ—¶è¦åˆ‡è®°ï¼šv-modelç»‘å®šçš„å€¼ä¸èƒ½æ˜¯propsä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸ºpropsæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼&lt;/p>
&lt;/li>
&lt;li>
&lt;p>propsä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶Vueä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨èè¿™æ ·åšã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="webstorage">&lt;a href="#webstorage" class="header-anchor">&lt;/a>webStorage
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>å­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬æ”¯æŒ5MBå·¦å³ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æµè§ˆå™¨ç«¯é€šè¿‡ Window.sessionStorage å’Œ Window.localStorage å±æ€§æ¥å®ç°æœ¬åœ°å­˜å‚¨æœºåˆ¶ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç›¸å…³APIï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;code>xxxxxStorage.setItem('key', 'value');&lt;/code>
è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®å’Œå€¼ä½œä¸ºå‚æ•°ï¼Œä¼šæŠŠé”®å€¼å¯¹æ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>xxxxxStorage.getItem('person');&lt;/code>&lt;/p>
&lt;p>â€‹ è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œè¿”å›é”®åå¯¹åº”çš„å€¼ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>xxxxxStorage.removeItem('key');&lt;/code>&lt;/p>
&lt;p>â€‹ è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œå¹¶æŠŠè¯¥é”®åä»å­˜å‚¨ä¸­åˆ é™¤ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code> xxxxxStorage.clear()&lt;/code>&lt;/p>
&lt;p>â€‹ è¯¥æ–¹æ³•ä¼šæ¸…ç©ºå­˜å‚¨ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>å¤‡æ³¨ï¼š&lt;/p>
&lt;ol>
&lt;li>SessionStorageå­˜å‚¨çš„å†…å®¹ä¼šéšç€æµè§ˆå™¨çª—å£å…³é—­è€Œæ¶ˆå¤±ã€‚&lt;/li>
&lt;li>LocalStorageå­˜å‚¨çš„å†…å®¹ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤æ‰ä¼šæ¶ˆå¤±ã€‚&lt;/li>
&lt;li>&lt;code>xxxxxStorage.getItem(xxx)&lt;/code>å¦‚æœxxxå¯¹åº”çš„valueè·å–ä¸åˆ°ï¼Œé‚£ä¹ˆgetItemçš„è¿”å›å€¼æ˜¯nullã€‚&lt;/li>
&lt;li>&lt;code>JSON.parse(null)&lt;/code>çš„ç»“æœä¾ç„¶æ˜¯nullã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶">&lt;a href="#%e7%bb%84%e4%bb%b6%e7%9a%84%e8%87%aa%e5%ae%9a%e4%b9%89%e4%ba%8b%e4%bb%b6" class="header-anchor">&lt;/a>ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼š&lt;strong>å­ç»„ä»¶ ===&amp;gt; çˆ¶ç»„ä»¶&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨åœºæ™¯ï¼šAæ˜¯çˆ¶ç»„ä»¶ï¼ŒBæ˜¯å­ç»„ä»¶ï¼ŒBæƒ³ç»™Aä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨Aä¸­ç»™Bç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆ&lt;strong>äº‹ä»¶çš„å›è°ƒåœ¨Aä¸­&lt;/strong>ï¼‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç¬¬ä¸€ç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š&lt;code>&amp;lt;Demo @atguigu=&amp;quot;test&amp;quot;/&amp;gt;&lt;/code> æˆ– &lt;code>&amp;lt;Demo v-on:atguigu=&amp;quot;test&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¬¬äºŒç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Demo&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;demo&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mounted&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$refs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">xxx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;atguigu&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨&lt;code>once&lt;/code>ä¿®é¥°ç¬¦ï¼Œæˆ–&lt;code>$once&lt;/code>æ–¹æ³•ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š&lt;code>this.$emit('atguigu',æ•°æ®)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶&lt;code>this.$off('atguigu')&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”ŸDOMäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨&lt;code>native&lt;/code>ä¿®é¥°ç¬¦ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ³¨æ„ï¼šé€šè¿‡&lt;code>this.$refs.xxx.$on('atguigu',å›è°ƒ)&lt;/code>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒ&lt;strong>è¦ä¹ˆé…ç½®åœ¨methodsä¸­&lt;/strong>ï¼Œ&lt;strong>è¦ä¹ˆç”¨ç®­å¤´å‡½æ•°&lt;/strong>ï¼Œå¦åˆ™thisæŒ‡å‘ä¼šå‡ºé—®é¢˜ï¼&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="å…¨å±€äº‹ä»¶æ€»çº¿globaleventbus">&lt;a href="#%e5%85%a8%e5%b1%80%e4%ba%8b%e4%bb%b6%e6%80%bb%e7%ba%bfglobaleventbus" class="header-anchor">&lt;/a>å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº&lt;strong>ä»»æ„ç»„ä»¶é—´é€šä¿¡&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeCreate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$bus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span> &lt;span class="c1">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­ç»™$busç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„&lt;strong>å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">methods&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">demo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){......}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$bus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;xxxx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">demo&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æä¾›æ•°æ®ï¼š&lt;code>this.$bus.$emit('xxxx',æ•°æ®)&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨$offå»è§£ç»‘&lt;strong>å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„&lt;/strong>äº‹ä»¶ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒpubsub">&lt;a href="#%e6%b6%88%e6%81%af%e8%ae%a2%e9%98%85%e4%b8%8e%e5%8f%91%e5%b8%83pubsub" class="header-anchor">&lt;/a>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº&lt;strong>ä»»æ„ç»„ä»¶é—´é€šä¿¡&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨æ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å®‰è£…pubsubï¼š&lt;code>npm i pubsub-js&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼•å…¥: &lt;code>import pubsub from 'pubsub-js'&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…çš„&lt;strong>å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">methods&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">demo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){......}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">pubsub&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;xxx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">demo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//è®¢é˜…æ¶ˆæ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æä¾›æ•°æ®ï¼š&lt;code>pubsub.publish('xxx',æ•°æ®)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨&lt;code>PubSub.unsubscribe(pid)&lt;/code>å»&lt;strong>å–æ¶ˆè®¢é˜…&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="nexttick">&lt;a href="#nexttick" class="header-anchor">&lt;/a>nextTick
&lt;/h3>&lt;ol>
&lt;li>è¯­æ³•ï¼š&lt;code>this.$nextTick(å›è°ƒå‡½æ•°)&lt;/code>&lt;/li>
&lt;li>ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒã€‚&lt;/li>
&lt;li>ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–°DOMè¿›è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œè¦åœ¨nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»">&lt;a href="#vue%e5%b0%81%e8%a3%85%e7%9a%84%e8%bf%87%e5%ba%a6%e4%b8%8e%e5%8a%a8%e7%94%bb" class="header-anchor">&lt;/a>Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–ç§»é™¤ DOMå…ƒç´ æ—¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ç»™å…ƒç´ æ·»åŠ æ ·å¼ç±»åã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å›¾ç¤ºï¼šæ— äº†&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å†™æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å‡†å¤‡å¥½æ ·å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒç´ è¿›å…¥çš„æ ·å¼ï¼š
&lt;ol>
&lt;li>v-enterï¼šè¿›å…¥çš„èµ·ç‚¹&lt;/li>
&lt;li>v-enter-activeï¼šè¿›å…¥è¿‡ç¨‹ä¸­&lt;/li>
&lt;li>v-enter-toï¼šè¿›å…¥çš„ç»ˆç‚¹&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>å…ƒç´ ç¦»å¼€çš„æ ·å¼ï¼š
&lt;ol>
&lt;li>v-leaveï¼šç¦»å¼€çš„èµ·ç‚¹&lt;/li>
&lt;li>v-leave-activeï¼šç¦»å¼€è¿‡ç¨‹ä¸­&lt;/li>
&lt;li>v-leave-toï¼šç¦»å¼€çš„ç»ˆç‚¹&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨&lt;code>&amp;lt;transition&amp;gt;&lt;/code>åŒ…è£¹è¦è¿‡åº¦çš„å…ƒç´ ï¼Œå¹¶é…ç½®nameå±æ€§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">transition&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="nt">v-show&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;isShow&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">ä½ å¥½å•Š&lt;/span>&lt;span class="err">ï¼&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">transition&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¤‡æ³¨ï¼šè‹¥æœ‰å¤šä¸ªå…ƒç´ éœ€è¦è¿‡åº¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ï¼š&lt;code>&amp;lt;transition-group&amp;gt;&lt;/code>ï¼Œä¸”æ¯ä¸ªå…ƒç´ éƒ½è¦æŒ‡å®š&lt;code>key&lt;/code>å€¼ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="vueè„šæ‰‹æ¶é…ç½®ä»£ç†">&lt;a href="#vue%e8%84%9a%e6%89%8b%e6%9e%b6%e9%85%8d%e7%bd%ae%e4%bb%a3%e7%90%86" class="header-anchor">&lt;/a>vueè„šæ‰‹æ¶é…ç½®ä»£ç†
&lt;/h3>&lt;h4 id="æ–¹æ³•ä¸€">&lt;a href="#%e6%96%b9%e6%b3%95%e4%b8%80" class="header-anchor">&lt;/a>æ–¹æ³•ä¸€
&lt;/h4>&lt;p>â€‹ åœ¨vue.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">devServer&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">proxy&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;http://localhost:5000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¯´æ˜ï¼š&lt;/p>
&lt;ol>
&lt;li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚&lt;/li>
&lt;li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚&lt;/li>
&lt;li>å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰&lt;/li>
&lt;/ol>
&lt;h4 id="æ–¹æ³•äºŒ">&lt;a href="#%e6%96%b9%e6%b3%95%e4%ba%8c" class="header-anchor">&lt;/a>æ–¹æ³•äºŒ
&lt;/h4>&lt;p>â€‹ ç¼–å†™vue.config.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">devServer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">proxy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;/api1&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="c1">// åŒ¹é…æ‰€æœ‰ä»¥ &amp;#39;/api1&amp;#39;å¼€å¤´çš„è¯·æ±‚è·¯å¾„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;http://localhost:5000&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">changeOrigin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pathRewrite&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;^/api1&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;/api2&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="c1">// åŒ¹é…æ‰€æœ‰ä»¥ &amp;#39;/api2&amp;#39;å¼€å¤´çš„è¯·æ±‚è·¯å¾„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;http://localhost:5001&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">changeOrigin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pathRewrite&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;^/api2&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> changeOriginé»˜è®¤å€¼ä¸ºtrue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¯´æ˜ï¼š&lt;/p>
&lt;ol>
&lt;li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚&lt;/li>
&lt;li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="æ’æ§½">&lt;a href="#%e6%8f%92%e6%a7%bd" class="header-anchor">&lt;/a>æ’æ§½
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº çˆ¶ç»„ä»¶ ===&amp;gt; å­ç»„ä»¶ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨æ–¹å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>é»˜è®¤æ’æ§½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">çˆ¶ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">htmlç»“æ„1&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">å­ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">å®šä¹‰æ’æ§½&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ’æ§½é»˜è®¤å†…å®¹&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å…·åæ’æ§½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">çˆ¶ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">slot&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">htmlç»“æ„1&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-slot&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="na">footer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">htmlç»“æ„2&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">å­ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">å®šä¹‰æ’æ§½&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ’æ§½é»˜è®¤å†…å®¹&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ’æ§½é»˜è®¤å†…å®¹&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½œç”¨åŸŸæ’æ§½ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgamesæ•°æ®åœ¨Categoryç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appç»„ä»¶å†³å®šï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…·ä½“ç¼–ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">çˆ¶ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;scopeData&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;g in scopeData.games&amp;#34; :key=&amp;#34;g&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span>&lt;span class="na">g&lt;/span>&lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">slot&lt;/span>&lt;span class="nt">-scope&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">scopeData&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h4&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;g in scopeData.games&amp;#34; :key=&amp;#34;g&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span>&lt;span class="na">g&lt;/span>&lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h4&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Category&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">å­ç»„ä»¶ä¸­&lt;/span>&lt;span class="err">ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="nt">:games&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;games&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Category&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;title&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">games&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;çº¢è‰²è­¦æˆ’&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;ç©¿è¶Šç«çº¿&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;åŠ²èˆå›¢&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;è¶…çº§ç›ä¸½&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="vuex">&lt;a href="#vuex" class="header-anchor">&lt;/a>Vuex
&lt;/h3>&lt;h4 id="æ¦‚å¿µ">&lt;a href="#%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>æ¦‚å¿µ
&lt;/h4>&lt;p>â€‹ åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚&lt;/p>
&lt;h4 id="ä½•æ—¶ä½¿ç”¨">&lt;a href="#%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>ä½•æ—¶ä½¿ç”¨ï¼Ÿ
&lt;/h4>&lt;p>â€‹ å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ•°æ®æ—¶&lt;/p>
&lt;h4 id="æ­å»ºvuexç¯å¢ƒ">&lt;a href="#%e6%90%ad%e5%bb%bavuex%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>æ­å»ºvuexç¯å¢ƒ
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>åˆ›å»ºæ–‡ä»¶ï¼š&lt;code>src/store/index.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥Vueæ ¸å¿ƒåº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">Vue&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥Vuex
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">Vuex&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vuex&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åº”ç”¨Vuexæ’ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Vuex&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">actions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutations&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆ›å»ºå¹¶æš´éœ²store
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vuex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mutations&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>main.js&lt;/code>ä¸­åˆ›å»ºvmæ—¶ä¼ å…¥&lt;code>store&lt;/code>é…ç½®é¡¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥store
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./store&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆ›å»ºvm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;#app&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">App&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">store&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="åŸºæœ¬ä½¿ç”¨">&lt;a href="#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>åŸºæœ¬ä½¿ç”¨
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>åˆå§‹åŒ–æ•°æ®ã€é…ç½®&lt;code>actions&lt;/code>ã€é…ç½®&lt;code>mutations&lt;/code>ï¼Œæ“ä½œæ–‡ä»¶&lt;code>store.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥Vueæ ¸å¿ƒåº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">Vue&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥Vuex
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">Vuex&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vuex&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•ç”¨Vuex
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Vuex&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">actions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å“åº”ç»„ä»¶ä¸­åŠ çš„åŠ¨ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">jia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(&amp;#39;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&amp;#39;,miniStore,value)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;JIA&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutations&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ‰§è¡ŒåŠ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">JIA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// console.log(&amp;#39;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&amp;#39;,state,value)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆå§‹åŒ–æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sum&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆ›å»ºå¹¶æš´éœ²store
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vuex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mutations&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç»„ä»¶ä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š&lt;code>$store.state.sum&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç»„ä»¶ä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š&lt;code>$store.dispatch('actionä¸­çš„æ–¹æ³•å',æ•°æ®)&lt;/code> æˆ– &lt;code>$store.commit('mutationsä¸­çš„æ–¹æ³•å',æ•°æ®)&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™&lt;code>dispatch&lt;/code>ï¼Œç›´æ¥ç¼–å†™&lt;code>commit&lt;/code>&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h4 id="gettersçš„ä½¿ç”¨">&lt;a href="#getters%e7%9a%84%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>gettersçš„ä½¿ç”¨
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>store.js&lt;/code>ä¸­è¿½åŠ &lt;code>getters&lt;/code>é…ç½®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">getters&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bigSum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sum&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆ›å»ºå¹¶æš´éœ²store
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vuex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š&lt;code>$store.getters.bigSum&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨">&lt;a href="#%e5%9b%9b%e4%b8%aamap%e6%96%b9%e6%b3%95%e7%9a%84%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>&lt;!-- raw HTML omitted -->mapStateæ–¹æ³•ï¼š&lt;!-- raw HTML omitted -->ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„&lt;code>state&lt;/code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆå¯¹è±¡å†™æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapState&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">sum&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;sum&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">school&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;school&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">subject&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;subject&amp;#39;&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆæ•°ç»„å†™æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapState&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;sum&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;school&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;subject&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;!-- raw HTML omitted -->mapGettersæ–¹æ³•ï¼š&lt;!-- raw HTML omitted -->ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„&lt;code>getters&lt;/code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆå¯¹è±¡å†™æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapGetters&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">bigSum&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;bigSum&amp;#39;&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆæ•°ç»„å†™æ³•ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapGetters&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;bigSum&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;!-- raw HTML omitted -->mapActionsæ–¹æ³•ï¼š&lt;!-- raw HTML omitted -->ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸&lt;code>actions&lt;/code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«&lt;code>$store.dispatch(xxx)&lt;/code>çš„å‡½æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆå¯¹è±¡å½¢å¼ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapActions&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">incrementOdd&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;jiaOdd&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">incrementWait&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;jiaWait&amp;#39;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆæ•°ç»„å½¢å¼ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapActions&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;jiaOdd&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;jiaWait&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;!-- raw HTML omitted -->mapMutationsæ–¹æ³•ï¼š&lt;!-- raw HTML omitted -->ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸&lt;code>mutations&lt;/code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«&lt;code>$store.commit(xxx)&lt;/code>çš„å‡½æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//é mapActionsç”Ÿæˆï¼šincrementã€decrementï¼ˆå¯¹è±¡å½¢å¼ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapMutations&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">increment&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;JIA&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">decrement&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;JIAN&amp;#39;&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//é mapMutationsç”Ÿæˆï¼šJIAã€JIANï¼ˆå¯¹è±¡å½¢å¼ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">mapMutations&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;JIA&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;JIAN&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>å¤‡æ³¨ï¼šmapActionsä¸mapMutationsä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°éœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚&lt;/p>&lt;/blockquote>
&lt;h4 id="æ¨¡å—åŒ–å‘½åç©ºé—´">&lt;a href="#%e6%a8%a1%e5%9d%97%e5%8c%96%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4" class="header-anchor">&lt;/a>æ¨¡å—åŒ–+å‘½åç©ºé—´
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ç›®çš„ï¼šè®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¿®æ”¹&lt;code>store.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">countAbout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">namespaced&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">//å¼€å¯å‘½åç©ºé—´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mutations&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bigSum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sum&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">personAbout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">namespaced&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">//å¼€å¯å‘½åç©ºé—´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mutations&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vuex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">modules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">countAbout&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">personAbout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">personAbout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="nx">mapState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;countAbout&amp;#39;&lt;/span>&lt;span class="p">,[&lt;/span>&lt;span class="s1">&amp;#39;sum&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;school&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;subject&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–gettersæ•°æ®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getters&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;personAbout/firstPersonName&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="nx">mapGetters&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;countAbout&amp;#39;&lt;/span>&lt;span class="p">,[&lt;/span>&lt;span class="s1">&amp;#39;bigSum&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatch&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥dispatch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dispatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;personAbout/addPersonWang&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapActionsï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="nx">mapActions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;countAbout&amp;#39;&lt;/span>&lt;span class="p">,{&lt;/span>&lt;span class="nx">incrementOdd&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;jiaOdd&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">incrementWait&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;jiaWait&amp;#39;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨commit&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥commit
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;personAbout/ADD_PERSON&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapMutationsï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="nx">mapMutations&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;countAbout&amp;#39;&lt;/span>&lt;span class="p">,{&lt;/span>&lt;span class="nx">increment&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;JIA&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">decrement&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;JIAN&amp;#39;&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="è·¯ç”±">&lt;a href="#%e8%b7%af%e7%94%b1" class="header-anchor">&lt;/a>è·¯ç”±
&lt;/h3>&lt;ol>
&lt;li>ç†è§£ï¼š ä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚&lt;/li>
&lt;li>å‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶ã€‚&lt;/li>
&lt;/ol>
&lt;h4 id="åŸºæœ¬ä½¿ç”¨-1">&lt;a href="#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8-1" class="header-anchor">&lt;/a>åŸºæœ¬ä½¿ç”¨
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å®‰è£…vue-routerï¼Œå‘½ä»¤ï¼š&lt;code>npm i vue-router&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åº”ç”¨æ’ä»¶ï¼š&lt;code>Vue.use(VueRouter)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–å†™routeré…ç½®é¡¹:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥VueRouter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">VueRouter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-router&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¼•å…¥Luyou ç»„ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">About&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../components/About&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Home&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../components/Home&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">VueRouter&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/about&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">About&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/home&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Home&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æš´éœ²router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">router&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="na">active&lt;/span>&lt;span class="nt">-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">active&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/about&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">About&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æŒ‡å®šå±•ç¤ºä½ç½®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-view&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">router-view&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="å‡ ä¸ªæ³¨æ„ç‚¹">&lt;a href="#%e5%87%a0%e4%b8%aa%e6%b3%a8%e6%84%8f%e7%82%b9" class="header-anchor">&lt;/a>å‡ ä¸ªæ³¨æ„ç‚¹
&lt;/h4>&lt;ol>
&lt;li>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨&lt;code>pages&lt;/code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨&lt;code>components&lt;/code>æ–‡ä»¶å¤¹ã€‚&lt;/li>
&lt;li>é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚&lt;/li>
&lt;li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„&lt;code>$route&lt;/code>å±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚&lt;/li>
&lt;li>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªrouterï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„&lt;code>$router&lt;/code>å±æ€§è·å–åˆ°ã€‚&lt;/li>
&lt;/ol>
&lt;h4 id="å¤šçº§è·¯ç”±å¤šçº§è·¯ç”±">&lt;a href="#%e5%a4%9a%e7%ba%a7%e8%b7%af%e7%94%b1%e5%a4%9a%e7%ba%a7%e8%b7%af%e7%94%b1" class="header-anchor">&lt;/a>å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/about&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">About&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/home&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Home&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="c1">//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;news&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">News&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/message
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Message&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/home/news&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">News&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="è·¯ç”±çš„queryå‚æ•°">&lt;a href="#%e8%b7%af%e7%94%b1%e7%9a%84query%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>è·¯ç”±çš„queryå‚æ•°
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ä¼ é€’å‚æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">è·³è½¬å¹¶æºå¸¦queryå‚æ•°&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">toçš„å­—ç¬¦ä¸²å†™æ³•&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="nt">:to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/home/message/detail?id=666&amp;amp;title=ä½ å¥½&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">è·³è½¬å¹¶æºå¸¦queryå‚æ•°&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">toçš„å¯¹è±¡å†™æ³•&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span>&lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> path:&amp;#39;/home/message/detail&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> query:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> id:666,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> title:&amp;#39;ä½ å¥½&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ¥æ”¶å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="å‘½åè·¯ç”±">&lt;a href="#%e5%91%bd%e5%90%8d%e8%b7%af%e7%94%b1" class="header-anchor">&lt;/a>å‘½åè·¯ç”±
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚ä½•ä½¿ç”¨&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç»™è·¯ç”±å‘½åï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/demo&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Demo&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Test&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span> &lt;span class="c1">//ç»™è·¯ç”±å‘½å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;welcome&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç®€åŒ–è·³è½¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">ç®€åŒ–å‰&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">éœ€è¦å†™å®Œæ•´çš„è·¯å¾„&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/demo/test/welcome&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">ç®€åŒ–å&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">ç›´æ¥é€šè¿‡åå­—è·³è½¬&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="nt">:to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{name:&amp;#39;hello&amp;#39;}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•°&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span>&lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name:&amp;#39;hello&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> query:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> id:666,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> title:&amp;#39;ä½ å¥½&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="è·¯ç”±çš„paramså‚æ•°">&lt;a href="#%e8%b7%af%e7%94%b1%e7%9a%84params%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>è·¯ç”±çš„paramså‚æ•°
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶paramså‚æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;/home&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Home&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;news&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">News&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Message&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;xiangqing&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;detail/:id/:title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//ä½¿ç”¨å ä½ç¬¦å£°æ˜æ¥æ”¶paramså‚æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Detail&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä¼ é€’å‚æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">è·³è½¬å¹¶æºå¸¦paramså‚æ•°&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">toçš„å­—ç¬¦ä¸²å†™æ³•&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span> &lt;span class="nt">:to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/home/message/detail/666/ä½ å¥½&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">è·³è½¬å¹¶æºå¸¦paramså‚æ•°&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">toçš„å¯¹è±¡å†™æ³•&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-link&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span>&lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name:&amp;#39;xiangqing&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> params:{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> id:666,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> title:&amp;#39;ä½ å¥½&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è·³è½¬&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">router-link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç‰¹åˆ«æ³¨æ„ï¼šè·¯ç”±æºå¸¦paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨pathé…ç½®é¡¹ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®ï¼&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>æ¥æ”¶å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="è·¯ç”±çš„propsé…ç½®">&lt;a href="#%e8%b7%af%e7%94%b1%e7%9a%84props%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>è·¯ç”±çš„propsé…ç½®
&lt;/h4>&lt;p>â€‹ ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;xiangqing&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;detail/:id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Detail&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// props:{a:900}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrueï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// props:true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="router-linkçš„replaceå±æ€§">&lt;a href="#router-link%e7%9a%84replace%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>&lt;code>&amp;lt;router-link&amp;gt;&lt;/code>çš„replaceå±æ€§
&lt;/h4>&lt;ol>
&lt;li>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼&lt;/li>
&lt;li>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º&lt;code>push&lt;/code>å’Œ&lt;code>replace&lt;/code>ï¼Œ&lt;code>push&lt;/code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼Œ&lt;code>replace&lt;/code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸º&lt;code>push&lt;/code>&lt;/li>
&lt;li>å¦‚ä½•å¼€å¯&lt;code>replace&lt;/code>æ¨¡å¼ï¼š&lt;code>&amp;lt;router-link replace .......&amp;gt;News&amp;lt;/router-link&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;h4 id="ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª">&lt;a href="#%e7%bc%96%e7%a8%8b%e5%bc%8f%e8%b7%af%e7%94%b1%e5%af%bc%e8%88%aa" class="header-anchor">&lt;/a>ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šä¸å€ŸåŠ©&lt;code>&amp;lt;router-link&amp;gt; &lt;/code>å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…·ä½“ç¼–ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//$routerçš„ä¸¤ä¸ªAPI
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;xiangqing&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">params&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">xxx&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">xxx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;xiangqing&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">params&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">xxx&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">xxx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forward&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//å‰è¿›
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//åé€€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">go&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//å¯å‰è¿›ä¹Ÿå¯åé€€
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="ç¼“å­˜è·¯ç”±ç»„ä»¶">&lt;a href="#%e7%bc%93%e5%ad%98%e8%b7%af%e7%94%b1%e7%bb%84%e4%bb%b6" class="header-anchor">&lt;/a>ç¼“å­˜è·¯ç”±ç»„ä»¶
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…·ä½“ç¼–ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">keep-alive&lt;/span> &lt;span class="na">include&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;News&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">router-view&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">router-view&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">keep-alive&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­">&lt;a href="#%e4%b8%a4%e4%b8%aa%e6%96%b0%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e9%92%a9%e5%ad%90" class="header-anchor">&lt;/a>ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­
&lt;/h4>&lt;ol>
&lt;li>ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚&lt;/li>
&lt;li>å…·ä½“åå­—ï¼š
&lt;ol>
&lt;li>&lt;code>activated&lt;/code>è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘ã€‚&lt;/li>
&lt;li>&lt;code>deactivated&lt;/code>è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h4 id="è·¯ç”±å®ˆå«">&lt;a href="#%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab" class="header-anchor">&lt;/a>è·¯ç”±å®ˆå«
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…¨å±€å®ˆå«:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å…¨å±€å‰ç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰æ‰§è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isAuth&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="c1">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;school&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;atguigu&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="c1">//æƒé™æ§åˆ¶çš„å…·ä½“è§„åˆ™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//æ”¾è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æš‚æ— æƒé™æŸ¥çœ‹&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// next({name:&amp;#39;guanyu&amp;#39;})
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//æ”¾è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å…¨å±€åç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢åæ‰§è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">afterEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">)=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="c1">//ä¿®æ”¹ç½‘é¡µçš„title
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;vue_test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç‹¬äº«å®ˆå«:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">beforeEnter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEnter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isAuth&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="c1">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;school&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;atguigu&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æš‚æ— æƒé™æŸ¥çœ‹&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// next({name:&amp;#39;guanyu&amp;#39;})
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç»„ä»¶å†…å®ˆå«ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">beforeRouteEnter&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">beforeRouteLeave&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼">&lt;a href="#%e8%b7%af%e7%94%b1%e5%99%a8%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f" class="header-anchor">&lt;/a>è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€” #åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hashå€¼ä¸ä¼šåŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>hashæ¨¡å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚ ã€‚&lt;/li>
&lt;li>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚&lt;/li>
&lt;li>å…¼å®¹æ€§è¾ƒå¥½ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>historyæ¨¡å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ°å€å¹²å‡€ï¼Œç¾è§‚ ã€‚&lt;/li>
&lt;li>å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®ã€‚&lt;/li>
&lt;li>åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404çš„é—®é¢˜ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Swagger3åˆä½“éªŒ</title><link>https://lbqaq.top/p/swagger/</link><pubDate>Thu, 09 Sep 2021 15:09:04 +0800</pubDate><guid>https://lbqaq.top/p/swagger/</guid><description>&lt;img src="https://lbqaq.top/p/swagger/92079701.webp" alt="Featured image of post Swagger3åˆä½“éªŒ" />&lt;p>æœ€è¿‘åšé¡¹ç›®éœ€è¦å‰åç«¯åˆ†ç¦»ï¼Œæ‰€ä»¥éœ€è¦æ¥å£æ–‡æ¡£ç»™å‰ç«¯æ–¹ä¾¿è”è°ƒã€‚æ‰‹å†™æ–‡æ¡£æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨Swaggeräº†ã€‚ç½‘ä¸Šçš„æ•™ç¨‹å¤§éƒ¨åˆ†ç‰ˆæœ¬éƒ½åœ¨2.xç”šè‡³æ˜¯1.xï¼Œå¾ˆå°‘æœ‰3.0çš„æ•™ç¨‹ï¼Œæˆ‘ä¸ªäººå°±æ˜¯å–œæ¬¢ç”¨æœ€æ–°ç‰ˆï¼Œæ‰€ä»¥æˆ‘å°±æ¥åˆ†äº«ä¸€ä¸‹æˆ‘ä½¿ç”¨Swagger3çš„ä½“éªŒå’Œå‘å§ã€‚&lt;/p>
&lt;h2 id="é…ç½®">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>é…ç½®
&lt;/h2>&lt;p>è¿™é‡Œå°±åˆ†äº«springbootç‰ˆæœ¬çš„æ–¹æ³•äº†ï¼Œç°åœ¨çš„é¡¹ç›®åº”è¯¥éƒ½ç”¨springbootåˆ›å»ºäº†å§ã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥Mavenä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>io.springfox&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>springfox-boot-starter&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.0.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š&lt;code>@EnableOpenApi&lt;/code>å°±è¡Œäº†ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å½“ç„¶ï¼Œè¿™æ ·åªæ˜¯é»˜è®¤çš„ï¼Œæˆ‘ä»¬è¦ç”¨è‚¯å®šè¦é…ç½®ä¸€ä¸‹ï¼Œæˆ‘ä»¬å»åˆ›å»ºä¸€ä¸ªConfigç±»ï¼Œåœ¨é‡Œé¢å»ºç«‹ä¸€ä¸ªå‡½æ•°è¿”å›Docketç±»ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„é…ç½®å°±åœ¨è¿™ä¸ªDocketç±»é‡Œé…ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@EnableOpenApi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">SwaggerConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Docket&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">docket&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Docket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DocumentationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">OAS_30&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//3.0ç‰ˆæœ¬ç”¨OAS_30è¿™ä¸ªæ ‡å‡†&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">apiInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">getApiInfo&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">select&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ¥å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">apis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RequestHandlerSelectors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">basePackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.controller&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * é…ç½®swaggerä¿¡æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ApiInfo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getApiInfo&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¿™é‡Œæ˜¯ä½œè€…ä¿¡æ¯ï¼Œåˆ†åˆ«ä¸ºå§“åã€ä¸ªäººä¸»é¡µã€é‚®ç®±&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Contact&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">contact&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Contact&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;luoboQAQ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;https://lbqaq.top&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;123@xx.com&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ApiInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;é¡¹ç›®å&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;é¡¹ç›®æè¿°&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç‰ˆæœ¬&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;é¡¹ç›®ä¸»é¡µ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">contact&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Apache 2.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;https://www.apache.org/licenses/LICENSE-2.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·ä¸€ä¸ªå¸¦æœ‰ä¸ªäººä¿¡æ¯çš„é…ç½®é¡µå°±åšå¥½äº†ã€‚&lt;/p>
&lt;h2 id="æ³¨è§£">&lt;a href="#%e6%b3%a8%e8%a7%a3" class="header-anchor">&lt;/a>æ³¨è§£
&lt;/h2>&lt;p>é¦–å…ˆæ˜¯2.0ç‰ˆæœ¬çš„æ³¨è§£ï¼Œå½“ç„¶æ–°ç‰ˆæœ¬ä¹ŸåŒæ ·é€šç”¨ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Swaggeræ³¨è§£&lt;/th>
&lt;th>ç®€å•è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>@Api(tags = &amp;ldquo;xxxæ¨¡å—è¯´æ˜&amp;rdquo;)&lt;/td>
&lt;td>ä½œç”¨åœ¨æ¨¡å—ç±»ä¸Š&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>@ApiOperation(&amp;ldquo;xxxæ¥å£è¯´æ˜&amp;rdquo;)&lt;/td>
&lt;td>ä½œç”¨åœ¨æ¥å£æ–¹æ³•ä¸Š&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>@ApiModel(&amp;ldquo;xxxPOJOè¯´æ˜&amp;rdquo;)&lt;/td>
&lt;td>ä½œç”¨åœ¨æ¨¡å‹ç±»ä¸Šï¼šå¦‚VOã€BO&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>@ApiModelProperty(value = &amp;ldquo;xxxå±æ€§è¯´æ˜&amp;rdquo;,hidden = true)&lt;/td>
&lt;td>ä½œç”¨åœ¨ç±»æ–¹æ³•å’Œå±æ€§ä¸Šï¼Œhiddenè®¾ç½®ä¸ºtrueå¯ä»¥éšè—è¯¥å±æ€§&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>@ApiParam(&amp;ldquo;xxxå‚æ•°è¯´æ˜&amp;rdquo;)&lt;/td>
&lt;td>ä½œç”¨åœ¨å‚æ•°ã€æ–¹æ³•å’Œå­—æ®µä¸Šï¼Œç±»ä¼¼@ApiModelProperty&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æ—¢ç„¶ç”¨äº†3.0ï¼Œä¹Ÿå°±å¯ä»¥ä½¿ç”¨3.0çš„æ–°æ³¨é‡Šã€‚&lt;/p>
&lt;p>å…ˆæ”¾ä¸Šå®˜ç½‘é“¾æ¥ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations" target="_blank" rel="noopener"
>Swaggeræ³¨è§£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://springfox.github.io/springfox/docs/current/" target="_blank" rel="noopener"
>SpringFoxæ–‡æ¡£&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Swaggeræ˜¯åº•å±‚ï¼Œå®ç°æ˜¯ç”±SpringFoxæ¥å®Œæˆçš„ï¼Œæ‰€ä»¥æœ‰äº›åœ¨Swaggeræ–‡æ¡£é‡Œçš„æ³¨è§£æ”¾åˆ°SpringFoxé‡Œå°±æ— æ³•å®ç°ï¼Œæ¯”å¦‚&lt;code>@RequestBody&lt;/code>è¿™ä¸ªæ³¨è§£å°±æ— æ³•å®ç°ã€‚ä¸‹é¢å°±åˆ—ä¸¾æˆ‘æµ‹è¯•è¿‡å¯ä»¥æˆåŠŸçš„æ³¨è§£ï¼š&lt;/p>
&lt;p>åœ¨æ–¹æ³•ä¸Šè¿›è¡Œæ³¨é‡Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">summary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;è¿™ä¼šæ˜¾ç¤ºåœ¨ä¸»é¡µä¸Š&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">description&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;è¿™æ˜¾ç¤ºåœ¨å†…é¡µé‡Œ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">tags&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¼šå°†æ¥å£åˆ†ç±»å‡ºå»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å‚æ•°ä¸Šæ³¨é‡Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Parameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">description&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;è¿™é‡Œæ˜¯æè¿°&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">required&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åªæµ‹äº†è¿™ä¹ˆå¤šï¼Œä¹‹å‰ä¸ºäº†æµ‹è¯•&lt;code>@RequestBody&lt;/code>èŠ±äº†å¤ªå¤šæ—¶é—´ï¼Œç»“æœä¸€æ— æ‰€è·ã€‚å› ä¸º2.0çš„æ³¨è§£è¿˜èƒ½ç”¨ï¼Œè¿™é‡Œå°±æŒ–ä¸ªå‘ï¼Œç­‰ä¹‹åæœ‰æ—¶é—´å†æ¥å®Œå–„å§ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨Webhookså®ç°è‡ªåŠ¨éƒ¨ç½²</title><link>https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/</link><pubDate>Mon, 23 Aug 2021 15:44:59 +0800</pubDate><guid>https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/</guid><description>&lt;img src="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/90550307.webp" alt="Featured image of post ä½¿ç”¨Webhookså®ç°è‡ªåŠ¨éƒ¨ç½²" />&lt;p>æ¯æ¬¡å†™å®Œåšå®¢ï¼Œéœ€è¦åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œç„¶åå†æ‰‹åŠ¨é€šè¿‡WinSCPé€åˆ°æœåŠ¡å™¨ä¸Šã€‚ä½œä¸ºä¸€ä¸ªæ‡’äººï¼Œè¿™ä¸Šé¢å‡ æ­¥ä¸‹æ¥è¿˜æ˜¯è§‰å¾—éº»çƒ¦ï¼Œè€Œä¸”æ¯æ¬¡ç¼–è¯‘åˆä¼šç”Ÿæˆä¸€é¡¿ä¸éœ€è¦çš„æ–‡ä»¶ï¼Œäºæ˜¯ä¾¿å†³å®šæ•´ç‚¹è‡ªåŠ¨åŒ–çš„æµç¨‹ï¼Œç›´æ¥è§£æ”¾åŒæ‰‹ã€‚&lt;/p>
&lt;p>å› ä¸ºæˆ‘çš„åšå®¢åœ¨æ²¡ä¹°æœåŠ¡å™¨ä¹‹å‰éƒ½æ˜¯æ‰˜ç®¡åœ¨Githubä¸Šçš„ï¼Œäºæ˜¯è‡ªç„¶è€Œç„¶åœ°å°±æƒ³åˆ°äº†Webhookï¼Œåœ¨æ¯æ¬¡Pushåè‡ªåŠ¨å‘é€æ¶ˆæ¯ç»™æœåŠ¡å™¨ï¼Œè®©å…¶è‡ªåŠ¨æ‹‰å–ä»£ç ã€‚&lt;/p>
&lt;p>ç½‘ä¸Šçš„æ•™ç¨‹å¤§å¤šéƒ½æ˜¯åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œç„¶è€Œæˆ‘è§‰å¾—æ—¢ç„¶è¦æ‡’ï¼Œå°±ä¸€æ‡’åˆ°åº•å§ï¼Œç¼–è¯‘ä¹Ÿç›´æ¥é€šè¿‡Github Actionsæ¥å®Œæˆå°±è¡Œäº†ã€‚&lt;/p>
&lt;h2 id="æµç¨‹">&lt;a href="#%e6%b5%81%e7%a8%8b" class="header-anchor">&lt;/a>æµç¨‹
&lt;/h2>&lt;p>éœ€è¦2ä¸ªGithubä»“åº“ï¼ˆ1ä¸ªåº”è¯¥ä¹Ÿå¯ä»¥ï¼‰ï¼Œä¸€ä¸ªå­˜æ”¾ç½‘ç«™çš„æºç ï¼Œä¸€ä¸ªæ˜¯å­˜æ”¾ç¼–è¯‘å¥½çš„htmlæ–‡ä»¶ã€‚æ•´ä¸ªå·¥ä½œæµç¨‹å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1.png"
width="391"
height="292"
srcset="https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1_hu_fdb453ad721a742b.png 480w, https://lbqaq.top/p/%E4%BD%BF%E7%94%A8webhooks%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/IMAGE/1_hu_562adbcccc12bc7a.png 1024w"
loading="lazy"
alt="æµç¨‹å›¾"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="321px"
>&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;h3 id="è®¾ç½®è„šæœ¬">&lt;a href="#%e8%ae%be%e7%bd%ae%e8%84%9a%e6%9c%ac" class="header-anchor">&lt;/a>è®¾ç½®è„šæœ¬
&lt;/h3>&lt;p>é¦–å…ˆè¦å†™ä¸€ä¸ªshellè„šæœ¬ï¼ŒåŠŸèƒ½å¾ˆç®€å•å°±æ˜¯è‡ªåŠ¨æ‹‰å–ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">cd&lt;/span> /home/luobo/Blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ›å»ºwebhookæœåŠ¡åç«¯">&lt;a href="#%e5%88%9b%e5%bb%bawebhook%e6%9c%8d%e5%8a%a1%e5%90%8e%e7%ab%af" class="header-anchor">&lt;/a>åˆ›å»ºwebhookæœåŠ¡åç«¯
&lt;/h3>&lt;p>è¿™é‡Œå°±ç›´æ¥ä½¿ç”¨NodeJSæ¥åˆ›å»ºï¼Œä½¿ç”¨çš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºå·²ç»æœ‰ç°æˆçš„æ’ä»¶å¯ä»¥ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;p>é¦–å…ˆå®‰è£…ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm i -S github-webhook-handler
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm i -g pm2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶ååˆ›å»º&lt;code>webhook.js&lt;/code>ä½œä¸ºåç«¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">spawn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;child_process&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">spawn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">createHandler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;github-webhook-handler&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ³¨æ„è¦å°† secret ä¿®æ”¹ä½ è‡ªå·±çš„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createHandler&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/webhook&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;xxxxx&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createServer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">statusCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">404&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;no such location&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}).&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6666&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Error:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;push&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Received a push event for %s to %s&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">repository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ref&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;sh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;./deploy.sh&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">txt&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">txt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">runCommand&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">callback&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">spawn&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Deploy OK&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">buffer&lt;/span> &lt;span class="p">){&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span> &lt;span class="nx">callback&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">resp&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€åå¯åŠ¨æœåŠ¡å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">pm2 start webhook.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nginxè®¾ç½®åä»£">&lt;a href="#nginx%e8%ae%be%e7%bd%ae%e5%8f%8d%e4%bb%a3" class="header-anchor">&lt;/a>Nginxè®¾ç½®åä»£
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/webhook&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://127.0.0.1:6666&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®github-webhook">&lt;a href="#%e9%85%8d%e7%bd%aegithub-webhook" class="header-anchor">&lt;/a>é…ç½®Github Webhook
&lt;/h3>&lt;p>åœ¨ htmlä»“åº“çš„ &lt;code>Settings&lt;/code> - &lt;code>webhooks&lt;/code> è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ webhookã€‚&lt;/p>
&lt;p>å°†Content Type è®¾ç½®ä¸º &lt;code>application/json&lt;/code>ï¼Œsecret è®¾ç½®æˆä¸ &lt;code>webhook.js&lt;/code> ä¸­çš„ç›¸åŒã€‚&lt;/p>
&lt;p>trigeeré€‰æ‹©&lt;code>Just the push event. &lt;/code>ã€‚&lt;/p>
&lt;p>å®ŒæˆåGithubä¼šè‡ªåŠ¨å‘èµ·ä¸€ä¸ªæµ‹è¯•è¯·æ±‚ï¼Œå¦‚æœè¿”å›ä¸º&lt;code>200&lt;/code>è¯´æ˜é…ç½®å®Œæˆï¼Œ&lt;/p>
&lt;h3 id="é…ç½®è‡ªåŠ¨ç¼–è¯‘">&lt;a href="#%e9%85%8d%e7%bd%ae%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91" class="header-anchor">&lt;/a>é…ç½®è‡ªåŠ¨ç¼–è¯‘
&lt;/h3>&lt;p>åœ¨æºä»£ç ä»“åº“çš„&lt;code>.github/workflows&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>deploy.yml&lt;/code>ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build and Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ä»»åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build-and-deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># æ‹‰å–ä»£ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># å®‰è£…Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># éƒ¨ç½²åˆ° GitHub Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to GitHub Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">JamesIves/github-pages-deploy-action@4.1.4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BRANCH&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FOLDER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GP_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repository-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">luoboQAQ/luoboQAQ.github.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„è¦å°†æœ€åçš„&lt;code>repository-name&lt;/code>æ¢ä¸ºä½ è‡ªå·±çš„ä»“åº“ï¼ŒåŒæ—¶éœ€è¦ç”³è¯·å’Œé…ç½®Github Tokenï¼Œè¿™é‡Œæˆ‘å°±ä¸å±•å¼€äº†ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒ">&lt;a href="#%e5%8f%82%e8%80%83" class="header-anchor">&lt;/a>å‚è€ƒ
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://jimmysong.io/blog/github-webhook-website-auto-deploy/" target="_blank" rel="noopener"
>ä½¿ç”¨ GitHub Webhook å®ç°é™æ€ç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ä¸ºåšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿ</title><link>https://lbqaq.top/p/waline/</link><pubDate>Sat, 21 Aug 2021 15:37:44 +0800</pubDate><guid>https://lbqaq.top/p/waline/</guid><description>&lt;img src="https://lbqaq.top/p/waline/78502982.webp" alt="Featured image of post ä¸ºåšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿ" />&lt;p>ä¸€ä¸ªå®Œæ•´çš„åšå®¢ï¼Œæ€ä¹ˆèƒ½å°‘çš„äº†è¯„è®ºç³»ç»Ÿå‘¢ã€‚è¯„è®ºçš„å®ç°å·²ç»æœ‰è®¸è®¸å¤šå¤šçš„æ–¹æ³•äº†ï¼ŒæŒ‘æ¥æŒ‘å»ï¼Œè¿˜æ˜¯é€‰æ‹©äº†Walineã€‚&lt;/p>
&lt;p>ä¸€å¼€å§‹æˆ‘æ˜¯é‡‡ç”¨å®˜æ–¹æ¨èçš„LeanCloud+Vercelçš„æ–¹å¼è¿›è¡Œéƒ¨ç½²çš„ï¼Œç»“æœæ­¥éª¤å…¨éƒ¨èµ°å®Œåæ‰å‘ç°Vercelå·²ç»åœ¨å›½å†…è¢«å¢™äº†ï¼Œä¸ç§‘å­¦æ ¹æœ¬ä¸Šä¸å»ğŸ˜‡ã€‚æ€»ä¸èƒ½è¦æ±‚ç”¨æˆ·è¿˜è¦å¼€æ¢¯å­æ‰èƒ½è¯„è®ºå§ï¼Œæ‰€å¹¸å®˜æ–¹æä¾›äº†å…¶ä»–çš„éƒ¨ç½²æ–¹å¼ï¼Œå› ä¸ºæˆ‘æ‰ä¹°äº†è‡ªå·±çš„æœåŠ¡å™¨~~ï¼ˆä¸æ¦¨å¹²æ€ä¹ˆè¡Œå‘¢ï¼‰~~ï¼Œæ‰€ä»¥å°±é€‰æ‹©æœ¬åœ°éƒ¨ç½²+SQLliteçš„æ–¹å¼äº†ã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²æ­¥éª¤">&lt;a href="#%e9%83%a8%e7%bd%b2%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>éƒ¨ç½²æ­¥éª¤
&lt;/h2>&lt;h3 id="å®‰è£…nodejs">&lt;a href="#%e5%ae%89%e8%a3%85nodejs" class="header-anchor">&lt;/a>å®‰è£…node.js
&lt;/h3>&lt;p>ç”±äºWalineçš„æœåŠ¡ç«¯æ˜¯ç”±jså†™çš„ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…node.js&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åœ¨&lt;a class="link" href="http://nodejs.cn/download/" target="_blank" rel="noopener"
>nodejsä¸­æ–‡ç½‘&lt;/a>æ‰¾åˆ°éœ€è¦çš„ç‰ˆæœ¬ï¼Œé€‰æ‹©é˜¿é‡Œäº‘é•œåƒï¼Œå°†ä¸‹è½½é“¾æ¥å¤åˆ¶ä¸‹æ¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¿æ¥æœåŠ¡å™¨ï¼Œé€‰æ‹©nodejsçš„å®‰è£…ç›®å½•ï¼Œè¿™é‡Œæˆ‘å®‰è£…åœ¨&lt;code>/usr/local/bin/&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/local/bin/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä¸‹è½½å®‰è£…åŒ…åˆ°æœ¬åœ°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">wget https://npm.taobao.org/mirrors/node/v14.17.5/node-v14.17.5-linux-x64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è§£å‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tar -xvf node-v14.17.5-linux-x64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é‡å‘½åç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mv node-v14.17.5-linux-x64 nodejs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ·»åŠ ç›®å½•åˆ°ç³»ç»Ÿå˜é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim custom.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ &lt;code>export PATH=$PATH:/usr/local/bin/nodejs/bin&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æµ‹è¯•ï¼Œè¾“å…¥ä¸‹é¢3æ¡å‘½ä»¤ï¼Œå¦‚æœä¸æŠ¥é”™åˆ™å®‰è£…æˆåŠŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">node -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ï¼ˆå¯é€‰ï¼‰å®‰è£…cnpm&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm install -g cnpm --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="å®‰è£…walineæœåŠ¡ç«¯">&lt;a href="#%e5%ae%89%e8%a3%85waline%e6%9c%8d%e5%8a%a1%e7%ab%af" class="header-anchor">&lt;/a>å®‰è£…WalineæœåŠ¡ç«¯
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>å®‰è£…walineçš„æœåŠ¡ç«¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm install -g @waline/vercel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®æ•°æ®åº“ã€‚è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯SQLiteï¼Œåªéœ€è¦ä¸‹è½½ &lt;a class="link" href="https://github.com/walinejs/waline/blob/main/assets/waline.sqlite" target="_blank" rel="noopener"
>waline.sqlite&lt;/a> æ–‡ä»¶è‡³åˆé€‚çš„ä½ç½®ã€‚&lt;/p>
&lt;p>å…¶ä»–çš„æ•°æ®åº“å¯ä»¥çœ‹&lt;a class="link" href="https://waline.js.org/guide/server/databases.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>æ¥é…ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é…ç½®ç¯å¢ƒå˜é‡ã€‚&lt;/p>
&lt;p>è¿™é‡Œæˆ‘é€‰æ‹©æ–°å»º&lt;code>waline.sh&lt;/code>ï¼Œæ–¹ä¾¿æ—¥åç»´æŠ¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim waline.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SQLITE_PATH&lt;/span>&lt;span class="o">=&lt;/span>/home/luobo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">JWT_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>eqdVMaEwd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>SQLITE_PATHï¼šè¡¨ç¤ºSQLiteæ–‡ä»¶çš„ä½ç½®ã€‚&lt;/li>
&lt;li>JWT_TOKENï¼šéšæœºä¸€ä¸²å­—ç¬¦ä¸²å°±è¡Œã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>å¯åŠ¨æ¨¡å—&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/local/bin/nodejs/lib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node node_modules/@waline/vercel/vanilla.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="é…ç½®nginxåä»£">&lt;a href="#%e9%85%8d%e7%bd%aenginx%e5%8f%8d%e4%bb%a3" class="header-anchor">&lt;/a>é…ç½®nginxåä»£
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#waline
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="s">ssl&lt;/span> &lt;span class="s">http2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">waline.lbqaq.top&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">if&lt;/span> &lt;span class="s">(&lt;/span>&lt;span class="nv">$server_port&lt;/span> &lt;span class="s">!~&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="s">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">rewrite&lt;/span> &lt;span class="s">^(/.*)&lt;/span>$ &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">cert/waline.lbqaq.top.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">cert/waline.lbqaq.top.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://127.0.0.1:8360&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-For&lt;/span> &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-Proto&lt;/span> &lt;span class="nv">$scheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">REMOTE-HOST&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">add_header&lt;/span> &lt;span class="s">X-Cache&lt;/span> &lt;span class="nv">$upstream_cache_status&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># cache
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">add_header&lt;/span> &lt;span class="s">Cache-Control&lt;/span> &lt;span class="s">no-cache&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">expires&lt;/span> &lt;span class="s">12h&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ¨hugoä¸­å¯ç”¨waline">&lt;a href="#%e5%9c%a8hugo%e4%b8%ad%e5%90%af%e7%94%a8waline" class="header-anchor">&lt;/a>åœ¨hugoä¸­å¯ç”¨Waline
&lt;/h3>&lt;p>ç”±äºæˆ‘ç”¨çš„ä¸»é¢˜å·²ç»æ”¯æŒWalineè¯„è®ºï¼Œæ‰€ä»¥åªéœ€è¦å¡«å…¥&lt;code>serverURL&lt;/code>å°±è¡Œäº†ã€‚&lt;/p>
&lt;h3 id="æ·»åŠ qqæ¨é€å¯é€‰">&lt;a href="#%e6%b7%bb%e5%8a%a0qq%e6%8e%a8%e9%80%81%e5%8f%af%e9%80%89" class="header-anchor">&lt;/a>æ·»åŠ QQæ¨é€ï¼ˆå¯é€‰ï¼‰
&lt;/h3>&lt;p>å®˜æ–¹æä¾›äº†å››ç§é€šçŸ¥æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºé‚®ç®±ã€å¾®ä¿¡ã€QQã€Telegramã€‚&lt;/p>
&lt;p>é‚®ç®±åŸºæœ¬ä¸ä¼šå»çœ‹ï¼ŒTelegramæ²¡ç§‘å­¦ä¹Ÿä¸Šä¸å»ï¼Œå¾®ä¿¡ç”±äºæ˜¯èµ°çš„Serveré…±ï¼Œæ²¡æœ‰æèµ ä¸€å¤©å°±æ”¯æŒ5æ¡æ¶ˆæ¯ã€‚&lt;/p>
&lt;p>æœ€ç»ˆè¿˜æ˜¯å†³å®šé‡‡ç”¨&lt;a class="link" href="https://qmsg.zendee.cn" target="_blank" rel="noopener"
>Qmsg é…±&lt;/a>ã€‚&lt;/p>
&lt;p>æ³¨å†Œå°±ä¸åœ¨è¿™å±•å¼€äº†ï¼Œå…·ä½“å†™ä¸€ä¸‹ç¯å¢ƒå˜é‡çš„é…ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim waline.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QMSG_KEY&lt;/span>&lt;span class="o">=&lt;/span>xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QQ_ID&lt;/span>&lt;span class="o">=&lt;/span>xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">AUTHOR_EMAIL&lt;/span>&lt;span class="o">=&lt;/span>xxxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SITE_NAME&lt;/span>&lt;span class="o">=&lt;/span>Blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SITE_URL&lt;/span>&lt;span class="o">=&lt;/span>lbqaq.top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¸©å‘">&lt;a href="#%e8%b8%a9%e5%9d%91" class="header-anchor">&lt;/a>è¸©å‘
&lt;/h2>&lt;p>æœ¬ä»¥ä¸ºå¯ç”¨è¯„è®ºæ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹ï¼Œç»“æœèŠ±äº†æ•´ä¸ªä¸‹åˆåŠ æ™šä¸Šï¼Œè¸©äº†å¥½å¤šå¥½å¤šå‘ã€‚åœ¨è¿™é‡Œå°±æŠŠæˆ‘è¸©çš„å‘è®°å½•ä¸‹æ¥ï¼Œé¿å…ä¹‹åå‡ºç°ä¸€æ ·çš„é—®é¢˜ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>npm install -g @waline/vercel&lt;/code>æŠ¥é”™&lt;/p>
&lt;p>ä½¿ç”¨&lt;code>cnpm&lt;/code>è¿›è¡Œå®‰è£…&lt;/p>
&lt;p>&lt;strong>2021/10/21æ›´æ–°ï¼š&lt;/strong>&lt;/p>
&lt;p>æ›´æ–°ç³»ç»Ÿåå†å°è¯•å®‰è£…æ— è®ºæ˜¯&lt;code>npm&lt;/code>è¿˜æ˜¯&lt;code>cnpm&lt;/code>éƒ½æ— æ³•å®‰è£…ï¼Œæ•…ä½¿ç”¨Dockerè¿›è¡Œå®‰è£…å’Œè¿è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SQLITE_PATH&lt;/span>&lt;span class="o">=&lt;/span>/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">JWT_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>xxx &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">QMSG_KEY&lt;/span>&lt;span class="o">=&lt;/span>xxxx &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">QQ_ID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">123&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">AUTHOR_EMAIL&lt;/span>&lt;span class="o">=&lt;/span>xxx@xx.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SITE_NAME&lt;/span>&lt;span class="o">=&lt;/span>Blog &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SITE_URL&lt;/span>&lt;span class="o">=&lt;/span>lbqaq.top &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8360:8360 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /home/admin/waline:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name&lt;span class="o">=&lt;/span>waline &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> lizheming/waline
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æƒ³ä½¿ç”¨&lt;code>lbqaq.top/waline/&lt;/code>è¿™æ ·çš„é“¾æ¥æ¥è®¾ç½®æœåŠ¡ç«¯&lt;/p>
&lt;p>ç›´æ¥æŠ¥404é”™è¯¯ï¼Œè¿˜æ˜¯é€‰æ‹©ä¸Šæ–‡ä¸­çš„å­åŸŸåæ–¹æ³•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>nginxæç¤ºæ²¡æ‰¾åˆ°http2æ¨¡å—&lt;/p>
&lt;p>åœ¨å®‰è£…nginxæ—¶åŠ ä¸Š&lt;code>--with-http_v2_module&lt;/code>å¦‚æœå·²ç»å®‰è£…å¥½äº†ï¼Œå¯ä»¥é‡æ–°å®‰è£…ä¸€é&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è®¾ç½®äº†&lt;code>server_name waline.lbqaq.top&lt;/code>è¿˜æ˜¯è·³è½¬é¦–é¡µ&lt;/p>
&lt;p>å¢åŠ ä¸€ä¸ªé»˜è®¤çš„serverï¼Œå°†æ‰€æœ‰ä¸åŒ¹é…çš„é“¾æ¥é˜»æ­¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span> &lt;span class="s">default_server&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">return&lt;/span> &lt;span class="mi">444&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>nginxé…ç½®ä¸ç”Ÿæ•ˆ&lt;/p>
&lt;p>å¦‚æœé…ç½®æ²¡æœ‰é—®é¢˜ï¼Œé™¤äº†&lt;code>nginx -s reload&lt;/code>è¿˜å¯ä»¥å°è¯•é‡å¯nginx&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://waline.js.org/guide/get-started.html" target="_blank" rel="noopener"
>Walineå®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/nginx/current/reference/" target="_blank" rel="noopener"
>nginxä¸­æ–‡æ–‡æ¡£&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>SpringMVCå­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/springmvc/</link><pubDate>Sun, 15 Aug 2021 09:06:00 +0800</pubDate><guid>https://lbqaq.top/p/springmvc/</guid><description>&lt;img src="https://lbqaq.top/p/springmvc/65411813.webp" alt="Featured image of post SpringMVCå­¦ä¹ ç¬”è®°" />&lt;p>SpringMVCä¹Ÿå‘Šä¸€æ®µè½äº†ï¼Œç»ˆäºè¦åˆ°SpringBootäº†ã€‚&lt;/p>
&lt;p>è¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·ï¼Œç¬”è®°æ˜¯åŸºäº&lt;a class="link" href="https://space.bilibili.com/95256449" target="_blank" rel="noopener"
>é‡è§ç‹‚ç¥è¯´&lt;/a>çš„&lt;a class="link" href="https://www.bilibili.com/video/BV1aE41167Tu" target="_blank" rel="noopener"
>SpringMVCè§†é¢‘æ•™ç¨‹&lt;/a>è€Œæ¥ï¼Œåœ¨æ­¤æ„Ÿè°¢èƒ½æä¾›è¿™ä¹ˆä¼˜ç§€çš„æ•™ç¨‹ã€‚&lt;/p>
&lt;h2 id="å›é¡¾mvc">&lt;a href="#%e5%9b%9e%e9%a1%bemvc" class="header-anchor">&lt;/a>å›é¡¾MVC
&lt;/h2>&lt;h3 id="ä»€ä¹ˆæ˜¯mvc">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%afmvc" class="header-anchor">&lt;/a>ä»€ä¹ˆæ˜¯MVC
&lt;/h3>&lt;ul>
&lt;li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚&lt;/li>
&lt;li>å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚&lt;/li>
&lt;/ul>
&lt;p>**Modelï¼ˆæ¨¡å‹ï¼‰ï¼š**æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®Daoï¼‰ å’Œ æœåŠ¡å±‚ï¼ˆè¡Œä¸ºServiceï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚&lt;/p>
&lt;p>æ‹“å±•ï¼šåœ¨å‰ç«¯æ•°æ®ä¼ è¾“ç»™åç«¯æ—¶ï¼Œæœ‰äº›å­—æ®µæ˜¯ä¸éœ€è¦çš„ï¼Œè¿™æ˜¯å¯èƒ½ä¼šç»†åˆ†å‡ºVoå±‚ï¼ˆè§†å›¾ï¼‰&lt;/p>
&lt;p>æ¯”å¦‚ï¼šç”¨æˆ·æœ‰è´¦å·ã€å¯†ç ã€å¹´é¾„ç­‰ä¸€ç³»åˆ—å­—æ®µ&lt;/p>
&lt;p>è¿™æ—¶å‰ç«¯ç™»å½•åªä¼ äº†è´¦å·å¯†ç &lt;/p>
&lt;p>æ­¤æ—¶å¯ä»¥ç”¨UserVoæ¥è¡¨ç¤ºï¼Œé‡Œé¢åªæœ‰è´¦å·å’Œå¯†ç &lt;/p>
&lt;p>**Viewï¼ˆè§†å›¾ï¼‰ï¼š**è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;p>**Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š**æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚&lt;/p>
&lt;p>&lt;strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>ç”¨æˆ·å‘è¯·æ±‚&lt;/li>
&lt;li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•&lt;/li>
&lt;li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet&lt;/li>
&lt;li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢&lt;/li>
&lt;li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>èŒè´£åˆ†æï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Controllerï¼šæ§åˆ¶å™¨&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>å–å¾—è¡¨å•æ•°æ®&lt;/li>
&lt;li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘&lt;/li>
&lt;li>è½¬å‘æŒ‡å®šçš„é¡µé¢&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Modelï¼šæ¨¡å‹&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>ä¸šåŠ¡é€»è¾‘&lt;/li>
&lt;li>ä¿å­˜æ•°æ®çš„çŠ¶æ€&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Viewï¼šè§†å›¾&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>æ˜¾ç¤ºé¡µé¢&lt;/li>
&lt;/ol>
&lt;h3 id="å¤ä¹ servlet">&lt;a href="#%e5%a4%8d%e4%b9%a0servlet" class="header-anchor">&lt;/a>å¤ä¹ Servlet
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>çˆ¶å·¥ç¨‹æ·»åŠ ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.13&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-webmvc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>javax.servlet-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.1.0&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>provided&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet.jsp&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>jsp-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>2.2&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>jstl&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.2&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™Servlet&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">HelloServlet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServlet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å–å‰ç«¯æ“ä½œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getParameter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;method&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;add&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSession&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;æ‰§è¡Œäº†addæ–¹æ³•&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;delete&amp;#34;&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSession&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">setAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;æ‰§è¡Œäº†deleteæ–¹æ³•&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è°ƒç”¨ä¸šåŠ¡å±‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è§†å›¾è½¬å‘æˆ–é‡å®šå‘&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getRequestDispatcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/WEB-INF/jsp/test.jsp&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">doPost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ServletException&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™&lt;code>test.jsp&lt;/code>ï¼Œåœ¨&lt;code>WEB-INF&lt;/code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª&lt;code>jsp&lt;/code>çš„æ–‡ä»¶å¤¹ï¼Œæ–°å»º&lt;code>test.jsp&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;%@ page contentType=&amp;#34;text/html;charset=UTF-8&amp;#34; language=&amp;#34;java&amp;#34; %&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;html&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;head&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/head&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;body&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">${msg}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/body&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/html&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>web.xml&lt;/code>ä¸­æ³¨å†ŒServlet&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>hello&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-class&amp;gt;&lt;/span>top.lbqaq.servlet.HelloServlet&lt;span class="nt">&amp;lt;/servlet-class&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>hello&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url-pattern&amp;gt;&lt;/span>/hello&lt;span class="nt">&amp;lt;/url-pattern&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®TomCatï¼Œè¿›è¡Œæµ‹è¯•&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .&lt;/li>
&lt;li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .&lt;/li>
&lt;li>å¤„ç†è¯·æ±‚&amp;ndash;è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†&amp;ndash;å°è£…å“åº”æ•°æ® .&lt;/li>
&lt;li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>è¯´æ˜ï¼š&lt;/strong>&lt;/p>
&lt;p>â€‹ å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰&amp;hellip;.&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯springmvc">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%afspringmvc" class="header-anchor">&lt;/a>ä»€ä¹ˆæ˜¯SpringMVC
&lt;/h2>&lt;h3 id="æ¦‚è¿°">&lt;a href="#%e6%a6%82%e8%bf%b0" class="header-anchor">&lt;/a>æ¦‚è¿°
&lt;/h3>&lt;p>Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/web.html" target="_blank" rel="noopener"
>ä¸­æ–‡æ–‡æ¡£&lt;/a>&lt;/p>
&lt;p>&lt;strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCå‘¢?&lt;/strong>&lt;/p>
&lt;p>Spring MVCçš„ç‰¹ç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦&lt;/li>
&lt;li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶&lt;/li>
&lt;li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ&lt;/li>
&lt;li>çº¦å®šä¼˜äºé…ç½®&lt;/li>
&lt;li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰&lt;/li>
&lt;li>ç®€æ´çµæ´»&lt;/li>
&lt;/ol>
&lt;h3 id="ä¸­å¿ƒæ§åˆ¶å™¨">&lt;a href="#%e4%b8%ad%e5%bf%83%e6%8e%a7%e5%88%b6%e5%99%a8" class="header-anchor">&lt;/a>ä¸­å¿ƒæ§åˆ¶å™¨
&lt;/h3>&lt;p>â€‹ Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚&lt;/p>
&lt;p>â€‹ Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, &lt;strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨&lt;/strong> , &lt;strong>å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½&lt;/strong>ï¼Œ&lt;strong>DispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/springmvc/IMAGE/1.webp"
width="1080"
height="544"
srcset="https://lbqaq.top/p/springmvc/IMAGE/1_hu_944b22fbdb3ccab.webp 480w, https://lbqaq.top/p/springmvc/IMAGE/1_hu_877a3202e9e194d8.webp 1024w"
loading="lazy"
alt="DispatcherServlet"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
>&lt;/p>
&lt;p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>â€‹ å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/springmvc/IMAGE/2.webp"
width="930"
height="457"
srcset="https://lbqaq.top/p/springmvc/IMAGE/2_hu_313f7deb9f801365.webp 480w, https://lbqaq.top/p/springmvc/IMAGE/2_hu_819de0cebde4ca85.webp 1024w"
loading="lazy"
alt="SpringMVCæµç¨‹"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="488px"
>&lt;/p>
&lt;h3 id="springmvcæ‰§è¡ŒåŸç†">&lt;a href="#springmvc%e6%89%a7%e8%a1%8c%e5%8e%9f%e7%90%86" class="header-anchor">&lt;/a>SpringMVCæ‰§è¡ŒåŸç†
&lt;/h3>&lt;p>&lt;img src="https://lbqaq.top/p/springmvc/IMAGE/3.webp"
width="952"
height="507"
srcset="https://lbqaq.top/p/springmvc/IMAGE/3_hu_226a7e4dc4065440.webp 480w, https://lbqaq.top/p/springmvc/IMAGE/3_hu_c339bf2acd32688.webp 1024w"
loading="lazy"
alt="æ‰§è¡Œæµç¨‹"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
>&lt;/p>
&lt;p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚&lt;/p>
&lt;p>&lt;strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : &lt;code>http://localhost:8080/SpringMVC/hello&lt;/code>&lt;/p>
&lt;p>&lt;strong>å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;code>http://localhost:8080&lt;/code>æœåŠ¡å™¨åŸŸå&lt;/p>
&lt;p>SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹&lt;/p>
&lt;p>helloè¡¨ç¤ºæ§åˆ¶å™¨&lt;/p>
&lt;p>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>è¿™é‡Œæ¯”è¾ƒç»•ï¼Œæ‰€ä»¥ç›´æ¥æŠŠåŸæ–‡æ¬æ¥äº†ï¼Œä¹‹åç­‰ç†è§£åŠ æ·±äº†å†æ¥è¡¥å……è‡ªå·±çš„çœ‹æ³•ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€ä¸ªspringmvcç¨‹åº">&lt;a href="#%e7%ac%ac%e4%b8%80%e4%b8%aaspringmvc%e7%a8%8b%e5%ba%8f" class="header-anchor">&lt;/a>ç¬¬ä¸€ä¸ªSpringMVCç¨‹åº
&lt;/h2>&lt;p>ç”±äºæˆ‘ä»¬æ˜¯é‡‡ç”¨å­æ¨¡å—çš„æ–¹å¼ï¼Œé‚£ä¹ˆéœ€è¦å»IDEAé‡Œè®¾ç½®ä¸€ä¸‹è®©libä¼šæ‰“åŒ…å‡ºå»ã€‚å¦åˆ™å°±ä¼šæç¤º404é”™è¯¯ã€‚&lt;/p>
&lt;p>åœ¨ç‚¹å‡»IDEAå³ä¸Šè§’çš„å°é½¿è½®ï¼Œé€‰æ‹©&lt;code>é¡¹ç›®ç»“æ„&lt;/code>ï¼Œåœ¨&lt;code>å·¥ä»¶&lt;/code>ä¸‹çœ‹&lt;code>WEB-INF&lt;/code>é‡Œæ˜¯å¦æœ‰&lt;code>lib&lt;/code>ç›®å½•ï¼Œæ²¡æœ‰çš„è¯å°±åˆ›å»ºä¸€ä¸ªï¼Œç„¶åç‚¹å‡»&lt;code>+&lt;/code>å·ï¼Œé€‰æ‹©&lt;code>åº“æ–‡ä»¶&lt;/code>å°†æ‰€æœ‰çš„åŒ…å¯¼å…¥è¿›å»ã€‚&lt;/p>
&lt;h4 id="é…ç½®ç‰ˆ">&lt;a href="#%e9%85%8d%e7%bd%ae%e7%89%88" class="header-anchor">&lt;/a>é…ç½®ç‰ˆ
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å‡†å¤‡è¦çœ‹çš„è§†å›¾ã€‚åœ¨&lt;code>WEB-INF&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>jsp&lt;/code>ç›®å½•ï¼Œåœ¨é‡Œé¢åˆ›å»º&lt;code>test.jsp&lt;/code>ï¼Œå¡«å…¥&lt;code>${msg}&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é…ç½®SpringMVCã€‚åœ¨&lt;code>web.xml&lt;/code>é‡Œæ·»åŠ ä¸‹é¢çš„ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;web-app&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://xmlns.jcp.org/xml/ns/javaee&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">version=&lt;/span>&lt;span class="s">&amp;#34;4.0&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é…ç½®DispatchServletï¼šè¿™æ˜¯SpringMVCçš„æ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ã€å‰ç«¯æ§åˆ¶å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>springmvc&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-class&amp;gt;&lt;/span>org.springframework.web.servlet.DispatcherServlet&lt;span class="nt">&amp;lt;/servlet-class&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--DispatchServletè¦ç»‘å®šSpringçš„é…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-name&amp;gt;&lt;/span>contextConfigLocation&lt;span class="nt">&amp;lt;/param-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-value&amp;gt;&lt;/span>classpath:springmvc-servlet.xml&lt;span class="nt">&amp;lt;/param-value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¯åŠ¨çº§åˆ«1ï¼šéšæœåŠ¡å™¨ä¸€èµ·å¯åŠ¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;load-on-startup&amp;gt;&lt;/span>1&lt;span class="nt">&amp;lt;/load-on-startup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>springmvc&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url-pattern&amp;gt;&lt;/span>/&lt;span class="nt">&amp;lt;/url-pattern&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/web-app&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¤‡æ³¨ï¼š&lt;/strong>&lt;code>/&lt;/code>å’Œ&lt;code>/*&lt;/code>çš„åŒºåˆ«ï¼š&lt;code>/&lt;/code>åŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼Œä¸åŒ¹é…jspé¡µé¢ï¼›&lt;code>/*&lt;/code>ä¼šåŒ¹é…jspé¡µé¢ï¼Œè¿™æ ·ä¼šå¯¼è‡´åµŒå¥—ï¼Œä¸€èˆ¬ä¸ä¼šç”¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–å†™SpringMVCçš„é…ç½®æ–‡ä»¶&lt;code>springmvc-servlet.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¤„ç†å™¨æ˜ å°„å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¤„ç†å™¨é€‚é…å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--è§†å›¾è§£æå™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.web.servlet.view.InternalResourceViewResolver&amp;#34;&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;internalResourceViewResolver&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å‰ç¼€--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;prefix&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;/WEB-INF/jsp/&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--åç¼€--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;suffix&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;.jsp&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å®ç°Controlleræ¥å£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.Controller&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.servlet.ModelAndView&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.servlet.mvc.Controller&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.servlet.http.HttpServletRequest&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.servlet.http.HttpServletResponse&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">HelloController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Controller&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">handleRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸šåŠ¡ä»£ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;HelloSpringMVC&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è§†å›¾è·³è½¬&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setViewName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å°†Controlleråœ¨Springä¸­æ³¨å†Œ(&lt;code>springmvc-servlet.xml&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--BeanNameUrlHandlerMapping:æŒ‰BeanNameåŒ¹é…--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.Controller.HelloController&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿è¡ŒTomCatæŸ¥çœ‹ç»“æœ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>ç„¶è€Œæ­£å¸¸å¼€å‘å¹¶ä¸ä¼šä½¿ç”¨è¿™æ ·çš„æ–¹å¼ï¼Œè¿™æ ·åšåªæ˜¯ä¸ºäº†ç†è§£åº•å±‚çš„æ“ä½œã€‚_(:Ğ·)âˆ )_&lt;/p>
&lt;h4 id="æ³¨è§£ç‰ˆ">&lt;a href="#%e6%b3%a8%e8%a7%a3%e7%89%88" class="header-anchor">&lt;/a>æ³¨è§£ç‰ˆ
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>é…ç½®&lt;code>Web.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é…ç½®DispatchServletï¼šè¿™æ˜¯SpringMVCçš„æ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ã€å‰ç«¯æ§åˆ¶å™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>springmvc&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-class&amp;gt;&lt;/span>org.springframework.web.servlet.DispatcherServlet&lt;span class="nt">&amp;lt;/servlet-class&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--DispatchServletè¦ç»‘å®šSpringçš„é…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-name&amp;gt;&lt;/span>contextConfigLocation&lt;span class="nt">&amp;lt;/param-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-value&amp;gt;&lt;/span>classpath:springmvc-servlet.xml&lt;span class="nt">&amp;lt;/param-value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¯åŠ¨çº§åˆ«1ï¼šéšæœåŠ¡å™¨ä¸€èµ·å¯åŠ¨ï¼›è¶Šå°çº§åˆ«è¶Šé«˜--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;load-on-startup&amp;gt;&lt;/span>1&lt;span class="nt">&amp;lt;/load-on-startup&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/servlet&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;servlet-name&amp;gt;&lt;/span>springmvc&lt;span class="nt">&amp;lt;/servlet-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url-pattern&amp;gt;&lt;/span>/&lt;span class="nt">&amp;lt;/url-pattern&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/servlet-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿˜æ˜¯è€æ ·å­ï¼Œè¿™é‡Œæ²¡æœ‰ä»€ä¹ˆéœ€è¦æ”¹åŠ¨çš„ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>resources&lt;/code>ç›®å½•ä¸‹æ·»åŠ SpringMVCé…ç½®æ–‡ä»¶&lt;code>springmvc-servlet.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:context=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/context&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:mvc=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/mvc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans.xsd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/context
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> https://www.springframework.org/schema/context/spring-context.xsd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/mvc
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> https://www.springframework.org/schema/mvc/spring-mvc.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;context:component-scan&lt;/span> &lt;span class="na">base-package=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.controller&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:default-servlet-handler&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> æ”¯æŒmvcæ³¨è§£é©±åŠ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:annotation-driven&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è§†å›¾è§£æå™¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.web.servlet.view.InternalResourceViewResolver&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;internalResourceViewResolver&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- å‰ç¼€ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;prefix&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;/WEB-INF/jsp/&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- åç¼€ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;suffix&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;.jsp&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºController&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">HelloController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Model&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å°è£…æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;Hello,SpringMVCAnnotation!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¼šè¢«è§†å›¾è§£æå™¨å¤„ç†&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›&lt;/li>
&lt;li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/helloï¼›&lt;/li>
&lt;li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›&lt;/li>
&lt;li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/&lt;strong>hello&lt;/strong>.jspã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºè§†å›¾å±‚ï¼Œåœ¨&lt;code>WEB-INF/jsp&lt;/code>ç›®å½•ä¸­åˆ›å»º&lt;code>hello.jsp&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;%@ page contentType=&amp;#34;text/html;charset=UTF-8&amp;#34; language=&amp;#34;java&amp;#34; %&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;html&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;head&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;title&amp;gt;Title&amp;lt;/title&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/head&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;body&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">${msg}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/body&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/html&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿è¡ŒTomCatæŸ¥çœ‹ç»“æœ&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h4>&lt;p>å®ç°æ­¥éª¤å…¶å®éå¸¸çš„ç®€å•ï¼š&lt;/p>
&lt;ol>
&lt;li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®&lt;/li>
&lt;li>å¯¼å…¥ç›¸å…³jaråŒ…&lt;/li>
&lt;li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet&lt;/li>
&lt;li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶&lt;/li>
&lt;li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller&lt;/li>
&lt;li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”&lt;/li>
&lt;li>æµ‹è¯•è¿è¡Œè°ƒè¯•.&lt;/li>
&lt;/ol>
&lt;p>ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š&lt;/p>
&lt;p>&lt;strong>å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨&lt;/strong>&lt;/p>
&lt;p>é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦&lt;strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨&lt;/strong>ï¼Œè€Œ&lt;strong>å¤„ç†å™¨æ˜ å°„å™¨&lt;/strong>å’Œ&lt;strong>å¤„ç†å™¨é€‚é…å™¨&lt;/strong>åªéœ€è¦å¼€å¯&lt;strong>æ³¨è§£é©±åŠ¨&lt;/strong>å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®&lt;/p>
&lt;h2 id="restfulé£æ ¼">&lt;a href="#restful%e9%a3%8e%e6%a0%bc" class="header-anchor">&lt;/a>RestFulé£æ ¼
&lt;/h2>&lt;p>&lt;strong>æ¦‚å¿µ&lt;/strong>&lt;/p>
&lt;p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚&lt;/p>
&lt;p>&lt;strong>åŠŸèƒ½&lt;/strong>&lt;/p>
&lt;p>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº&lt;/p>
&lt;p>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚&lt;/p>
&lt;p>&lt;strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº&lt;/strong> ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/queryItem.action?id=1 æŸ¥è¯¢,GET&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/saveItem.action æ–°å¢,POST&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/updateItem.action æ›´æ–°,POST&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/deleteItem.action?id=1 åˆ é™¤,GETæˆ–POST&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº&lt;/strong> ï¼šå¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/1 æŸ¥è¯¢,GET&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item æ–°å¢,POST&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item æ›´æ–°,PUT&lt;/p>
&lt;p>â€‹ http://127.0.0.1/item/1 åˆ é™¤,DELETE&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨æ–¹æ³•&lt;/strong>&lt;/p>
&lt;p>åˆ›å»ºä¸€ä¸ªç±»&lt;code>RestFulController&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">RestFulController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åŸæ¥çš„ï¼šlocalhost:8085/add?a=1&amp;amp;b=2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//Restful:localhost:8085/add/1/2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/add/{a}/{b}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nd">@PathVariable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Model&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;ç»“æœä¸º&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>@RequestMapping&lt;/code>é‡Œé¢çš„&lt;code>{a}&lt;/code>å°±ä»£è¡¨è¿™é‡Œæ˜¯ä¼ ç»™aå˜é‡çš„å€¼ï¼›ä¸‹é¢çš„aå˜é‡å‰è¦åŠ &lt;code>@PathVariable&lt;/code>&lt;/p>
&lt;p>ä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›&lt;/li>
&lt;li>è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚&lt;/li>
&lt;li>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œæ–¹æ³•çº¦æŸï¼Œè®©å…¶åªå“åº”æŸä¸€ç§è¯·æ±‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@PostMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@PutMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@DeleteMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@PatchMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‹¿&lt;code>@GetMapping&lt;/code>æ¥è¯´ï¼Œå°±æ˜¯&lt;code>@RequestMapping(method =RequestMethod.GET)&lt;/code>æ„æ€ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–çš„æ–¹æ³•ï¼Œå°†ä¼šæŠ¥405é”™è¯¯ã€‚&lt;/p>
&lt;h2 id="é‡å®šå‘å’Œè½¬å‘">&lt;a href="#%e9%87%8d%e5%ae%9a%e5%90%91%e5%92%8c%e8%bd%ac%e5%8f%91" class="header-anchor">&lt;/a>é‡å®šå‘å’Œè½¬å‘
&lt;/h2>&lt;p>é‡å®šå‘ä¸éœ€è¦è§†å›¾è§£æå™¨ï¼Œæœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹ã€‚&lt;/p>
&lt;p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ResultSpringMVC2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/rsm2/t1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test1&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è½¬å‘&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/rsm2/t2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test2&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//é‡å®šå‘&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;redirect:/index.jsp&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//return &amp;#34;redirect:hello.do&amp;#34;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ•°æ®å¤„ç†">&lt;a href="#%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>æ•°æ®å¤„ç†
&lt;/h2>&lt;h3 id="å¤„ç†æäº¤æ•°æ®">&lt;a href="#%e5%a4%84%e7%90%86%e6%8f%90%e4%ba%a4%e6%95%b0%e6%8d%ae" class="header-anchor">&lt;/a>å¤„ç†æäº¤æ•°æ®
&lt;/h3>&lt;p>&lt;strong>1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´&lt;/strong>&lt;/p>
&lt;p>æäº¤æ•°æ® : http://localhost:8080/hello?name=lbqaq&lt;/p>
&lt;p>å¤„ç†æ–¹æ³• :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åå°è¾“å‡º : lbqaq&lt;/p>
&lt;p>&lt;strong>2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´&lt;/strong>&lt;/p>
&lt;p>æäº¤æ•°æ® : http://localhost:8080/hello?username=lbqaq&lt;/p>
&lt;p>å¤„ç†æ–¹æ³• :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//@RequestParam(&amp;#34;username&amp;#34;) : usernameæäº¤çš„åŸŸçš„åç§° .&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åå°è¾“å‡º : lbqaq&lt;/p>
&lt;p>&lt;strong>3ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡&lt;/strong>&lt;/p>
&lt;p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´ , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯&lt;/p>
&lt;p>1ã€å®ä½“ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ„é€ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//get/set&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//tostring()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>2ã€æäº¤æ•°æ® : http://localhost:8080/mvc04/user?name=lbqaq&amp;amp;id=1&amp;amp;age=15&lt;/p>
&lt;p>3ã€å¤„ç†æ–¹æ³• :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/user&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">user&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åå°è¾“å‡º : User { id=1, name=&amp;lsquo;lbqaq&amp;rsquo;, age=15 }&lt;/p>
&lt;p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±æ˜¯nullã€‚&lt;/p>
&lt;h3 id="æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯">&lt;a href="#%e6%95%b0%e6%8d%ae%e6%98%be%e7%a4%ba%e5%88%b0%e5%89%8d%e7%ab%af" class="header-anchor">&lt;/a>æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯
&lt;/h3>&lt;p>&lt;strong>ç¬¬ä¸€ç§ : é€šè¿‡ModelAndView&lt;/strong>&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ControllerTest1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Controller&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">handleRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;ControllerTest1&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setViewName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mv&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ç¬¬äºŒç§ : é€šè¿‡ModelMap&lt;/strong>&lt;/p>
&lt;p>ModelMap&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelMap&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç›¸å½“äºreq.setAttribute(&amp;#34;name&amp;#34;,name);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ç¬¬ä¸‰ç§ : é€šè¿‡Model&lt;/strong>&lt;/p>
&lt;p>Model&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/ct2/hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Model&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç›¸å½“äºreq.setAttribute(&amp;#34;name&amp;#34;,name);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯¹æ¯”">&lt;a href="#%e5%af%b9%e6%af%94" class="header-anchor">&lt;/a>å¯¹æ¯”
&lt;/h3>&lt;p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>Model åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›&lt;/li>
&lt;li>ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›&lt;/li>
&lt;li>ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚&lt;/li>
&lt;/ul>
&lt;p>å½“ç„¶æ›´å¤šçš„ä»¥åå¼€å‘è€ƒè™‘çš„æ›´å¤šçš„æ˜¯æ€§èƒ½å’Œä¼˜åŒ–ï¼Œå°±ä¸èƒ½å•å•ä»…é™äºæ­¤çš„äº†è§£ã€‚&lt;/p>
&lt;p>è¿™é‡Œéƒ½æ˜¯æ¦‚å¿µæ€§çš„å†…å®¹ï¼Œæ‰€ä»¥å°±ç›´æ¥å¤åˆ¶ç¬”è®°äº†ğŸ˜Œ&lt;/p>
&lt;h4 id="è§£å†³ä¹±ç ">&lt;a href="#%e8%a7%a3%e5%86%b3%e4%b9%b1%e7%a0%81" class="header-anchor">&lt;/a>è§£å†³ä¹±ç 
&lt;/h4>&lt;p>ç›´æ¥æŠŠSpringçš„ä¹±ç å¤„ç†å™¨æ”¾å…¥&lt;code>web.xml&lt;/code>é‡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;filter&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filter-name&amp;gt;&lt;/span>encoding&lt;span class="nt">&amp;lt;/filter-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filter-class&amp;gt;&lt;/span>org.springframework.web.filter.CharacterEncodingFilter&lt;span class="nt">&amp;lt;/filter-class&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-name&amp;gt;&lt;/span>encoding&lt;span class="nt">&amp;lt;/param-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;param-value&amp;gt;&lt;/span>utf-8&lt;span class="nt">&amp;lt;/param-value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/init-param&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/filter&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;filter-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filter-name&amp;gt;&lt;/span>encoding&lt;span class="nt">&amp;lt;/filter-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url-pattern&amp;gt;&lt;/span>/*&lt;span class="nt">&amp;lt;/url-pattern&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/filter-mapping&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="json">&lt;a href="#json" class="header-anchor">&lt;/a>JSON
&lt;/h2>&lt;ul>
&lt;li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚&lt;/li>
&lt;li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„&lt;strong>æ–‡æœ¬æ ¼å¼&lt;/strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚&lt;/li>
&lt;li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚&lt;/li>
&lt;li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨jackson">&lt;a href="#%e4%bd%bf%e7%94%a8jackson" class="header-anchor">&lt;/a>ä½¿ç”¨Jackson
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>com.fasterxml.jackson.core&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>jackson-core&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>2.12.4&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™Controller&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/json1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ResponseBody&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">json1&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JsonProcessingException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">writeValueAsString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœå‡ºç°ä¹±ç ï¼Œå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼ä¸ºUTF8æ¥è§£å†³&lt;/p>
&lt;p>&lt;code>@RequestMapping(value = &amp;quot;/json1&amp;quot;,produces = &amp;quot;application/json;charset=utf-8&amp;quot;)&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>è¿™æ ·å¤„ç†ä¹±ç è¿˜æ˜¯å¤ªéº»çƒ¦äº†ï¼Œå¯ä»¥è®©Springç»Ÿä¸€ç®¡ç†ï¼Œåœ¨SpringMVCçš„é…ç½®æ–‡ä»¶é‡ŒåŠ ä¸Šä¸‹é¢çš„ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mvc:annotation-driven&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:message-converters&lt;/span> &lt;span class="na">register-defaults=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.http.converter.StringHttpMessageConverter&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;objectMapper&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;failOnEmptyBeans&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/mvc:message-converters&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mvc:annotation-driven&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç±»ä¸Šç›´æ¥ä½¿ç”¨ &lt;code>@RestController&lt;/code> ï¼Œè¿™æ ·å­ï¼Œé‡Œé¢æ‰€æœ‰çš„æ–¹æ³•éƒ½åªä¼šè¿”å› json å­—ç¬¦ä¸²äº†ï¼Œä¸ç”¨å†æ¯ä¸€ä¸ªéƒ½æ·»åŠ &lt;code>@ResponseBody&lt;/code> ï¼æˆ‘ä»¬åœ¨å‰åç«¯åˆ†ç¦»å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ &lt;code>@RestController&lt;/code> ï¼Œååˆ†ä¾¿æ·ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;/json1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">json1&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JsonProcessingException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">writeValueAsString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡ªå®šä¹‰å·¥å…·ç±»ï¼Œå¯ä»¥æ˜¯JSONè½¬æ¢å˜å¾—æ›´ç®€å•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JsonUtils&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getJson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getJson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd HH:mm:ss&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getJson&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dateFormat&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸ä½¿ç”¨æ—¶é—´å·®çš„æ–¹å¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SerializationFeature&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">WRITE_DATES_AS_TIMESTAMPS&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sdf&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dateFormat&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æŒ‡å®šæ—¥æœŸæ ¼å¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setDateFormat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sdf&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">writeValueAsString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JsonProcessingException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨fastjson">&lt;a href="#%e4%bd%bf%e7%94%a8fastjson" class="header-anchor">&lt;/a>ä½¿ç”¨FastJson
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>com.alibaba&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>fastjson&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.2.78&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸ºäº†ä½¿&lt;code>@RestController&lt;/code>æœ‰æ•ˆï¼Œéœ€è¦åœ¨Springé…ç½®é‡ŒåŠ ä¸Šä¸‹é¢çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mvc:annotation-driven&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:message-converters&lt;/span> &lt;span class="na">register-defaults=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- é…ç½®Fastjsonæ”¯æŒ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;supportedMediaTypes&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>application/json&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>text/html;charset=UTF-8&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/mvc:message-converters&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mvc:annotation-driven&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š&lt;/p>
&lt;p>&lt;strong>JSONObject ä»£è¡¨ json å¯¹è±¡&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚&lt;/li>
&lt;li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–&amp;quot;é”®ï¼šå€¼&amp;quot;å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Mapæ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>JSONArray ä»£è¡¨ json å¯¹è±¡æ•°ç»„&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>JSONä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨&lt;/li>
&lt;li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚&lt;/li>
&lt;/ul>
&lt;p>æµ‹è¯•ä»£ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">FastJsonDemo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;1å·&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;2å·&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;3å·&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;4å·&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ç”·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user2&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user3&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user4&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;*******Javaå¯¹è±¡ è½¬ JSONå­—ç¬¦ä¸²*******&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toJSONString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;JSON.toJSONString(list)==&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">str1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toJSONString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;JSON.toJSONString(user1)==&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">str2&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;\n****** JSONå­—ç¬¦ä¸² è½¬ Javaå¯¹è±¡*******&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jp_user1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">parseObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">str2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;JSON.parseObject(str2,User.class)==&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">jp_user1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;\n****** Javaå¯¹è±¡ è½¬ JSONå¯¹è±¡ ******&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JSONObject&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jsonObject1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JSONObject&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user2&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;(JSONObject) JSON.toJSON(user2)==&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">jsonObject1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;\n****** JSONå¯¹è±¡ è½¬ Javaå¯¹è±¡ ******&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to_java_user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toJavaObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jsonObject1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;JSON.toJavaObject(jsonObject1, User.class)==&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">to_java_user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Jacksonåˆšåˆšæµ‹è¯•æ²¡æˆåŠŸï¼Œè¿˜æ˜¯é€‰æ‹©FastJsonå§ğŸ˜‡ã€‚&lt;/p>
&lt;h2 id="æ‹¦æˆªå™¨">&lt;a href="#%e6%8b%a6%e6%88%aa%e5%99%a8" class="header-anchor">&lt;/a>æ‹¦æˆªå™¨
&lt;/h2>&lt;h3 id="æ¦‚è¿°-1">&lt;a href="#%e6%a6%82%e8%bf%b0-1" class="header-anchor">&lt;/a>æ¦‚è¿°
&lt;/h3>&lt;p>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>**è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š**æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>è¿‡æ»¤å™¨&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨&lt;/li>
&lt;li>åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ‹¦æˆªå™¨&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨&lt;/li>
&lt;li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨æ–¹æ³•">&lt;a href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>ä½¿ç”¨æ–¹æ³•
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>è‡ªå®šä¹‰æ‹¦æˆªå™¨éœ€è¦å®ç°æ¥å£&lt;code>HandlerInterceptor&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HandlerInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åœ¨è¯·æ±‚å¤„ç†çš„æ–¹æ³•ä¹‹å‰æ‰§è¡Œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœè¿”å›trueæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœè¿”å›falseå°±ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">preHandle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;------------å¤„ç†å‰------------&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åœ¨è¯·æ±‚å¤„ç†æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">postHandle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ModelAndView&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">modelAndView&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;------------å¤„ç†å------------&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åœ¨dispatcherServletå¤„ç†åæ‰§è¡Œ,åšæ¸…ç†å·¥ä½œ.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterCompletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletRequest&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpServletResponse&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;------------æ¸…ç†------------&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mvc:interceptors&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:interceptor&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mvc:mapping&lt;/span> &lt;span class="na">path=&lt;/span>&lt;span class="s">&amp;#34;/**&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.interceptor.MyInterceptor&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/mvc:interceptor&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mvc:interceptors&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">------------å¤„ç†å‰------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Controlleræ–¹æ³•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------å¤„ç†å------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------æ¸…ç†------------
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‹¦æˆªå™¨å¯ä»¥ç”¨æ¥åšç™»å½•éªŒè¯ç­‰ç­‰å†…å®¹ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼ˆæ‰ä¸æ˜¯æ‡’å¾—å†™ï¼‰&lt;/p>
&lt;h2 id="æ–‡ä»¶ä¼ è¾“">&lt;a href="#%e6%96%87%e4%bb%b6%e4%bc%a0%e8%be%93" class="header-anchor">&lt;/a>æ–‡ä»¶ä¼ è¾“
&lt;/h2>&lt;p>æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ ,springMVC å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯SpringMVCä¸Šä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Springçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚&lt;/p>
&lt;p>å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼›&lt;/p>
&lt;p>&lt;strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚&lt;/li>
&lt;li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚&lt;/li>
&lt;li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º &amp;ldquo;+&amp;rdquo; å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="na">enctype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;multipart/form-data&amp;#34;&lt;/span> &lt;span class="na">method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–‡ä»¶ä¸Šä¼ ">&lt;a href="#%e6%96%87%e4%bb%b6%e4%b8%8a%e4%bc%a0" class="header-anchor">&lt;/a>æ–‡ä»¶ä¸Šä¼ 
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥ä¾èµ–åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æ–‡ä»¶ä¸Šä¼ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>commons-fileupload&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>commons-fileupload&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.3.3&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>javax.servlet&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>javax.servlet-api&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.0.1&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®&lt;code>multipartResolver&lt;/code>&lt;/p>
&lt;p>&lt;strong>è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;multipartResolver&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.web.multipart.commons.CommonsMultipartResolver&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;defaultEncoding&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;maxUploadSize&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;10485760&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;maxInMemorySize&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;40960&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™å‰ç«¯é¡µé¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/upload&amp;#34;&lt;/span> &lt;span class="na">enctype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;multipart/form-data&amp;#34;&lt;/span> &lt;span class="na">method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;post&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;upload&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®Controller&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">com.kuang.controller&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.stereotype.Controller&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.bind.annotation.RequestMapping&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.bind.annotation.RequestParam&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.multipart.commons.CommonsMultipartFile&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.servlet.http.HttpServletRequest&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.io.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">FileController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//@RequestParam(&amp;#34;file&amp;#34;) å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/upload&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">fileUpload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CommonsMultipartFile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å–æ–‡ä»¶å : file.getOriginalFilename();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">uploadFileName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getOriginalFilename&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">uploadFileName&lt;/span>&lt;span class="p">)){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;redirect:/index.jsp&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸Šä¼ æ–‡ä»¶å : &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">uploadFileName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getServletContext&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getRealPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/upload&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">exists&lt;/span>&lt;span class="p">()){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">mkdir&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">InputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getInputStream&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ–‡ä»¶è¾“å…¥æµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OutputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FileOutputStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">uploadFileName&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ–‡ä»¶è¾“å‡ºæµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¯»å–å†™å‡º&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">1024&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">!=-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">len&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">flush&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;redirect:/index.jsp&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>æ–¹æ³•äºŒï¼šä½¿ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">* é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/upload2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">fileUpload2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;file&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CommonsMultipartFile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getServletContext&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getRealPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/upload&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">exists&lt;/span>&lt;span class="p">()){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">mkdir&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸Šä¼ æ–‡ä»¶åœ°å€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">transferTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">realPath&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getOriginalFilename&lt;/span>&lt;span class="p">()));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;redirect:/index.jsp&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–‡ä»¶ä¸‹è½½">&lt;a href="#%e6%96%87%e4%bb%b6%e4%b8%8b%e8%bd%bd" class="header-anchor">&lt;/a>æ–‡ä»¶ä¸‹è½½
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/download&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">downloads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">HttpServletResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getServletContext&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getRealPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/upload&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;åŸºç¡€è¯­æ³•.jpg&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//1ã€è®¾ç½®response å“åº”å¤´&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">reset&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setCharacterEncoding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//å­—ç¬¦ç¼–ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setContentType&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;multipart/form-data&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è®¾ç½®å“åº”å¤´&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Content-Disposition&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;attachment;fileName=&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">URLEncoder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">File&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">InputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FileInputStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OutputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getOutputStream&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buff&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">1024&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buff&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buff&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">flush&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ç›´æ¥ç”¨aæ ‡ç­¾&lt;/p>
&lt;p>&lt;code>&amp;lt;a href=&amp;quot;/1.jpg&amp;quot;&amp;gt;ç‚¹å‡»ä¸‹è½½&amp;lt;/a&amp;gt;&lt;/code>&lt;/p></description></item><item><title>Springå­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/spring/</link><pubDate>Thu, 12 Aug 2021 09:38:02 +0800</pubDate><guid>https://lbqaq.top/p/spring/</guid><description>&lt;img src="https://lbqaq.top/p/spring/82968220.webp" alt="Featured image of post Springå­¦ä¹ ç¬”è®°" />&lt;p>èŠ±äº†3å¤©æ—¶é—´ï¼ŒSpringä¹Ÿç»ˆäºçœ‹å®Œäº†,SSMå·²ç»å¹²å®Œäº†ä¸¤ä¸ªäº†ï¼Œæ„Ÿè§‰äººéƒ½è¦æ²¡äº†ğŸ˜‡ã€‚è¿˜æ˜¯è€æ ·å­ï¼Œç•™ä¸‹ç¬”è®°ä»¥å…é—å¿˜ã€‚&lt;/p>
&lt;p>ä¸‹é¢çš„å†…å®¹éƒ½æ˜¯åŸºäº&lt;a class="link" href="https://space.bilibili.com/95256449" target="_blank" rel="noopener"
>é‡è§ç‹‚ç¥è¯´&lt;/a>çš„&lt;a class="link" href="https://www.bilibili.com/video/BV1WE411d7Dv" target="_blank" rel="noopener"
>Spring5è§†é¢‘æ•™ç¨‹&lt;/a>è€Œæ¥ï¼Œåœ¨æ­¤æ„Ÿè°¢èƒ½æä¾›è¿™ä¹ˆä¼˜ç§€çš„æ•™ç¨‹ã€‚&lt;/p>
&lt;h2 id="spring">&lt;a href="#spring" class="header-anchor">&lt;/a>Spring
&lt;/h2>&lt;h3 id="ç®€ä»‹">&lt;a href="#%e7%ae%80%e4%bb%8b" class="header-anchor">&lt;/a>ç®€ä»‹
&lt;/h3>&lt;p>Springå°±æ˜¯ç”¨æ¥ç®€åŒ–Javaå¼€å‘çš„ï¼Œåªèƒ½è¯´å­¦Javaä¸å­¦Springï¼Œå°±åƒè¯»å››å¤§åè‘—ä¸è¯»çº¢æ¥¼æ¢¦&amp;hellip;&amp;hellip;&lt;/p>
&lt;p>2002å¹´ï¼ŒRod Jahnsoné¦–æ¬¡æ¨å‡ºäº†Springæ¡†æ¶é›å½¢interface21æ¡†æ¶ã€‚&lt;/p>
&lt;p>2004å¹´3æœˆ24æ—¥ï¼ŒSpringæ¡†æ¶ä»¥interface21æ¡†æ¶ä¸ºåŸºç¡€ï¼Œç»è¿‡é‡æ–°è®¾è®¡ï¼Œå‘å¸ƒäº†1.0æ­£å¼ç‰ˆã€‚&lt;/p>
&lt;p>å¾ˆéš¾æƒ³è±¡Rod Johnsonçš„å­¦å† , ä»–æ˜¯æ‚‰å°¼å¤§å­¦çš„åšå£«ï¼Œç„¶è€Œä»–çš„ä¸“ä¸šä¸æ˜¯è®¡ç®—æœºï¼Œè€Œæ˜¯éŸ³ä¹å­¦ã€‚&lt;/p>
&lt;p>Springç†å¿µ : ä½¿ç°æœ‰æŠ€æœ¯æ›´åŠ å®ç”¨ã€‚ æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤§æ‚çƒ© , æ•´åˆç°æœ‰çš„æ¡†æ¶æŠ€æœ¯ã€‚&lt;/p>
&lt;p>SSMï¼šSpringMVC+Spring+MyBatis&lt;/p>
&lt;p>å‡ ä¸ªå¸¸ç”¨çš„ç½‘å€ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://spring.io/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://spring.io/projects/spring-framework" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£ï¼ˆè‹±æ–‡ï¼‰&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference" target="_blank" rel="noopener"
>ä¸­æ–‡æ–‡æ¡£&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/spring-projects/spring-framework" target="_blank" rel="noopener"
>GitHub&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-webmvc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-jdbc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¼˜ç‚¹">&lt;a href="#%e4%bc%98%e7%82%b9" class="header-anchor">&lt;/a>ä¼˜ç‚¹
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Springæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„æ¡†æ¶ , å®¹å™¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ , éä¾µå…¥å¼çš„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰,é¢å‘åˆ‡é¢ï¼ˆAopï¼‰&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯¹äº‹åŠ¡çš„æ”¯æŒ , å¯¹æ¡†æ¶çš„æ”¯æŒ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š&lt;/p>
&lt;blockquote>
&lt;p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IoC)å’Œé¢å‘åˆ‡é¢(AOP)çš„å®¹å™¨ï¼ˆæ¡†æ¶ï¼‰ã€‚&lt;/p>&lt;/blockquote>
&lt;h3 id="æ‹“å±•">&lt;a href="#%e6%8b%93%e5%b1%95" class="header-anchor">&lt;/a>æ‹“å±•
&lt;/h3>&lt;ul>
&lt;li>Spring Boot
&lt;ul>
&lt;li>ä¸€å¥—å¿«é€Ÿé…ç½®è„šæ‰‹æ¶&lt;/li>
&lt;li>å¯ä»¥åŸºäºSpring Boot å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Spring Cloud
&lt;ul>
&lt;li>Spring Cloudæ˜¯åŸºäºSpring Bootå®ç°çš„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å­¦ä¹ è·¯çº¿ï¼šSpring -&amp;gt; SpringMVC -&amp;gt; Spring Boot -&amp;gt; Spring Cloud&lt;/strong>&lt;/p>
&lt;h2 id="iocç†è®ºæ¨å¯¼">&lt;a href="#ioc%e7%90%86%e8%ae%ba%e6%8e%a8%e5%af%bc" class="header-anchor">&lt;/a>IOCç†è®ºæ¨å¯¼
&lt;/h2>&lt;p>åŸå…ˆçš„å¼€å‘æ¨¡å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å…ˆå†™ä¸€ä¸ªUserDaoæ¥å£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å†å»å†™Daoçš„å®ç°ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserDaoImpl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;è·å–ç”¨æˆ·æ•°æ®&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç„¶åå»å†™UserServiceçš„æ¥å£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æœ€åå†™Serviceçš„å®ç°ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserServiceImpl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserDaoImpl&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æµ‹è¯•ä¸€ä¸‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç”¨æˆ·å®é™…è°ƒç”¨çš„æ˜¯ä¸šåŠ¡å±‚ï¼Œdaoå±‚ä»–ä»¬å¹¶ä¸éœ€è¦æ¥è§¦ï¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">service&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserServiceImpl&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>å¦‚æœéœ€è¦æ›´æ¢Daoå±‚çš„å®ç°æ–¹æ³•ï¼Œæ¯æ¬¡éƒ½éœ€è¦åœ¨&lt;code>UserServiceImpl&lt;/code>é‡Œæ‰‹åŠ¨ä¿®æ”¹&lt;code>new&lt;/code>çš„å¯¹è±¡ï¼Œè¿™æ ·åšååˆ†éº»çƒ¦ã€‚&lt;/p>
&lt;p>ç°åœ¨å¯ä»¥ä½¿ç”¨setæ¥å£å®ç°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserServiceImpl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// åˆ©ç”¨setè¿›è¡ŒåŠ¨æ€å®ç°å€¼çš„æ³¨å…¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setUserDao&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">userDao&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">userDao&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ä»¥å‰æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ç”±ç¨‹åºå»è¿›è¡Œæ§åˆ¶åˆ›å»ºã€‚&lt;/li>
&lt;li>è€Œç°åœ¨æ˜¯ç”±æˆ‘ä»¬è‡ªè¡Œæ§åˆ¶åˆ›å»ºå¯¹è±¡ï¼ŒæŠŠä¸»åŠ¨æƒäº¤ç»™äº†è°ƒç”¨è€…ã€‚ç¨‹åºä¸ç”¨å»ç®¡æ€ä¹ˆåˆ›å»º,æ€ä¹ˆå®ç°äº†ï¼Œå®ƒåªè´Ÿè´£æä¾›ä¸€ä¸ªæ¥å£ã€‚&lt;/li>
&lt;/ul>
&lt;p>è¿™ç§æ€æƒ³ï¼Œä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œæˆ‘ä»¬ç¨‹åºå‘˜ä¸å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºäº†ï¼Œæ›´å¤šçš„å»å…³æ³¨ä¸šåŠ¡çš„å®ç°ã€‚è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œ è¿™ä¹Ÿå°±æ˜¯IOCçš„åŸå‹ï¼&lt;/p>
&lt;h3 id="iocæœ¬è´¨">&lt;a href="#ioc%e6%9c%ac%e8%b4%a8" class="header-anchor">&lt;/a>IOCæœ¬è´¨
&lt;/h3>&lt;p>&lt;strong>æ§åˆ¶åè½¬IoC(Inversion of Control)ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IoCçš„ä¸€ç§æ–¹æ³•&lt;/strong>ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IoCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IoCçš„ç¨‹åºä¸­ , æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ , å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/spring/IMAGE/image-20210812103941254.png"
width="967"
height="288"
srcset="https://lbqaq.top/p/spring/IMAGE/image-20210812103941254_hu_bdced71536ce9a8f.png 480w, https://lbqaq.top/p/spring/IMAGE/image-20210812103941254_hu_e5b8ed33cb907cc1.png 1024w"
loading="lazy"
alt="IoCå›¾ç¤º"
class="gallery-image"
data-flex-grow="335"
data-flex-basis="805px"
>&lt;/p>
&lt;p>Springçš„å·¥ä½œåŸç†ï¼š&lt;/p>
&lt;p>&lt;img src="https://www.docs4dev.com/images/spring-framework/5.1.3.RELEASE/container-magic.png"
loading="lazy"
alt="container magic"
>&lt;/p>
&lt;blockquote>
&lt;p>æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚&lt;/p>&lt;/blockquote>
&lt;h2 id="ç¬¬ä¸€ä¸ªspringç¨‹åº">&lt;a href="#%e7%ac%ac%e4%b8%80%e4%b8%aaspring%e7%a8%8b%e5%ba%8f" class="header-anchor">&lt;/a>ç¬¬ä¸€ä¸ªSpringç¨‹åº
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>æ·»åŠ Mavenä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-webmvc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>pojo&lt;/code>åŒ…ä¸‹åˆ›å»ºå®ä½“ç±»&lt;code>Hello&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.pojo&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @author luoboQAQ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @Date 2021/8/12 ä¸Šåˆ 10:49
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Hello&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getStr&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setStr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">str&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toString&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Hello{&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;str=&amp;#39;&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="sc">&amp;#39;\&amp;#39;&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="sc">&amp;#39;}&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>resources&lt;/code>ç›®å½•ä¸‹ç¼–å†™Springçš„é…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--beanå°±æ˜¯javaå¯¹è±¡ , ç”±Springåˆ›å»ºå’Œç®¡ç†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> åŸæ¥æ˜¯ ç±»å‹ å˜é‡å = new ç±»å‹();
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> Hello hello = new Hello();
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> ç°åœ¨ id=å˜é‡å class=newçš„å¯¹è±¡ propertyæ˜¯ç»™å˜é‡èµ‹çš„åˆå€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Hello&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¼•ç”¨å¦å¤–ä¸€ä¸ªbean , ä¸æ˜¯ç”¨value è€Œæ˜¯ç”¨ ref--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;str&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Spring&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿›è¡Œæµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.context.ApplicationContext&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.pojo.Hello&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @author luoboQAQ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @Date 2021/8/12 ä¸Šåˆ 10:53
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;beans.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æˆ‘ä»¬çš„å¯¹è±¡éƒ½åœ¨Springä¸­ç®¡ç†äº†ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ç›´æ¥ä»ä¸­å–å³å¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Hello&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">hello&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Hello&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hello&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>ç°åœ¨Helloå¯¹è±¡ç”±Springæ¥åˆ›å»ºå’Œç®¡ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«æ§åˆ¶åè½¬&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ§åˆ¶ï¼šè°æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºï¼Œä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«æ§åˆ¶åˆ›å»ºçš„ï¼Œä½¿ç”¨Springåï¼Œå¯¹è±¡æ˜¯ç”±Springæ¥åˆ›å»ºçš„ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åè½¬ï¼šç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ï¼Œè€Œå˜æˆè¢«åŠ¨çš„æ¥æ”¶å¯¹è±¡ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ä¾èµ–æ³¨å…¥ï¼šå°±æ˜¯åˆ©ç”¨setæ–¹æ³•æ¥è¿›è¡Œæ³¨å…¥çš„ã€‚&lt;/p>
&lt;p>IOCæ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç”±ä¸»åŠ¨çš„ç¼–ç¨‹å˜æˆè¢«åŠ¨çš„æ¥æ”¶ã€‚&lt;/p>
&lt;h2 id="iocåˆ›å»ºå¯¹è±¡æ–¹å¼">&lt;a href="#ioc%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1%e6%96%b9%e5%bc%8f" class="header-anchor">&lt;/a>IOCåˆ›å»ºå¯¹è±¡æ–¹å¼
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>é€šè¿‡æ— å‚æ„é€ å‡½æ•°ï¼ˆé»˜è®¤ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€šè¿‡æœ‰å‚æ„é€ å‡½æ•°ï¼Œæœ‰ä¸‰ç§æ–¹å¼&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¸‹æ ‡èµ‹å€¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">index=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç”¨ç±»å‹èµ‹å€¼ï¼ˆä¸æ¨èï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;java.lang.String&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é€šè¿‡å‚æ•°ååˆ›å»º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>åœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå…¶ä¸­ç®¡ç†çš„å¯¹è±¡éƒ½å·²ç»åˆå§‹åŒ–äº†ï¼&lt;/p>
&lt;h2 id="springé…ç½®">&lt;a href="#spring%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>Springé…ç½®
&lt;/h2>&lt;h3 id="åˆ«åalias">&lt;a href="#%e5%88%ab%e5%90%8dalias" class="header-anchor">&lt;/a>åˆ«åï¼ˆaliasï¼‰
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--è®¾ç½®åˆ«åï¼šåœ¨è·å–Beançš„æ—¶å€™å¯ä»¥ä½¿ç”¨åˆ«åè·å–--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;alias&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">alias=&lt;/span>&lt;span class="s">&amp;#34;userNew&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="beançš„é…ç½®">&lt;a href="#bean%e7%9a%84%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>Beançš„é…ç½®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--beanå°±æ˜¯javaå¯¹è±¡,ç”±Springåˆ›å»ºå’Œç®¡ç†--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> id æ˜¯beançš„æ ‡è¯†ç¬¦,è¦å”¯ä¸€,å¦‚æœæ²¡æœ‰é…ç½®id,nameå°±æ˜¯é»˜è®¤æ ‡è¯†ç¬¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> å¦‚æœé…ç½®id,åˆé…ç½®äº†name,é‚£ä¹ˆnameæ˜¯åˆ«å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> nameå¯ä»¥è®¾ç½®å¤šä¸ªåˆ«å,å¯ä»¥ç”¨é€—å·,åˆ†å·,ç©ºæ ¼éš”å¼€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> å¦‚æœä¸é…ç½®idå’Œname,å¯ä»¥æ ¹æ®applicationContext.getBean(.class)è·å–å¯¹è±¡;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">classæ˜¯beançš„å…¨é™å®šå=åŒ…å+ç±»å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hello2 h2,h3;h4&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Hello&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Spring&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="import">&lt;a href="#import" class="header-anchor">&lt;/a>import
&lt;/h3>&lt;p>ä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ï¼Œå°†å¤šä¸ªé…ç½®æ–‡ä»¶åˆä¸ºä¸€ä¸ªé…ç½®æ–‡ä»¶&lt;code>applicationContext.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;import&lt;/span> &lt;span class="na">resource=&lt;/span>&lt;span class="s">&amp;#34;{path}/beans.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¾èµ–æ³¨å…¥">&lt;a href="#%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5" class="header-anchor">&lt;/a>ä¾èµ–æ³¨å…¥
&lt;/h2>&lt;h3 id="æ¦‚å¿µ">&lt;a href="#%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>æ¦‚å¿µ
&lt;/h3>&lt;ul>
&lt;li>ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚&lt;/li>
&lt;li>ä¾èµ– : æŒ‡Beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ï¼ŒBeanå¯¹è±¡çš„ä¾èµ–èµ„æºã€‚&lt;/li>
&lt;li>æ³¨å…¥ : æŒ‡Beanå¯¹è±¡æ‰€ä¾èµ–çš„èµ„æºï¼Œç”±å®¹å™¨æ¥è®¾ç½®å’Œè£…é…ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="æ„é€ å™¨æ³¨å…¥">&lt;a href="#%e6%9e%84%e9%80%a0%e5%99%a8%e6%b3%a8%e5%85%a5" class="header-anchor">&lt;/a>æ„é€ å™¨æ³¨å…¥
&lt;/h3>&lt;p>è§å‰é¢çš„IOCåˆ›å»ºå¯¹è±¡æ–¹å¼&lt;/p>
&lt;h3 id="setæ³¨å…¥é‡ç‚¹">&lt;a href="#set%e6%b3%a8%e5%85%a5%e9%87%8d%e7%82%b9" class="header-anchor">&lt;/a>setæ³¨å…¥ã€é‡ç‚¹ã€‘
&lt;/h3>&lt;h4 id="æµ‹è¯•ç¯å¢ƒ">&lt;a href="#%e6%b5%8b%e8%af%95%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>æµ‹è¯•ç¯å¢ƒ
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAddress&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setAddress&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">books&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">hobbys&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">card&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">games&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">wife&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Properties&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="xmlç¼–å†™">&lt;a href="#xml%e7%bc%96%e5%86%99" class="header-anchor">&lt;/a>xmlç¼–å†™
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;address&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Address&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;address&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;è¥¿å®‰&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;student&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ™®é€šå€¼æ³¨å…¥ï¼Œvalue--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--Beanæ³¨å…¥ï¼Œref--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;address&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;address&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ•°ç»„æ³¨å…¥--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;books&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>çº¢æ¥¼æ¢¦&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>è¥¿æ¸¸è®°&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>æ°´æµ’ä¼ &lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>ä¸‰å›½æ¼”ä¹‰&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--list--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;hobbys&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>å¬æ­Œ&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>çœ‹ç”µå½±&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>æ‰“æ¸¸æˆ&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--map--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;card&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;èº«ä»½è¯&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;112233445566778899&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;é“¶è¡Œå¡&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;123987879172197&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--Set--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;games&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;set&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>LOL&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>CSGO&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/set&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--null--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;wife&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;null/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--Properties--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;info&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;props&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;prop&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;driver&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>20211213&lt;span class="nt">&amp;lt;/prop&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;prop&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>å¥³&lt;span class="nt">&amp;lt;/prop&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;prop&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>root&lt;span class="nt">&amp;lt;/prop&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;prop&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>123456&lt;span class="nt">&amp;lt;/prop&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/props&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…·ä½“ç”¨æ³•è§ä¸Šé¢çš„ä»£ç å°±è¡Œäº†ã€‚&lt;/p>
&lt;h3 id="æ‰©å±•æ–¹å¼æ³¨å…¥">&lt;a href="#%e6%89%a9%e5%b1%95%e6%96%b9%e5%bc%8f%e6%b3%a8%e5%85%a5" class="header-anchor">&lt;/a>æ‰©å±•æ–¹å¼æ³¨å…¥
&lt;/h3>&lt;h4 id="på‘½åç©ºé—´">&lt;a href="#p%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4" class="header-anchor">&lt;/a>på‘½åç©ºé—´
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥å‘½åç©ºé—´&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">xmlns:p=&amp;#34;http://www.springframework.org/schema/p&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>bean&lt;/code>æ ‡ç­¾é‡Œç›´æ¥ä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span> &lt;span class="na">p:age=&lt;/span>&lt;span class="s">&amp;#34;18&amp;#34;&lt;/span> &lt;span class="na">p:name=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>ç›¸å½“äº&lt;strong>setæ³¨å…¥&lt;/strong>&lt;/p>
&lt;h4 id="cå‘½åç©ºé—´">&lt;a href="#c%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4" class="header-anchor">&lt;/a>cå‘½åç©ºé—´
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥å‘½åç©ºé—´&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">xmlns:c=&amp;#34;http://www.springframework.org/schema/c&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>bean&lt;/code>æ ‡ç­¾é‡Œç›´æ¥ä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span> &lt;span class="na">c:age=&lt;/span>&lt;span class="s">&amp;#34;20&amp;#34;&lt;/span> &lt;span class="na">c:name=&lt;/span>&lt;span class="s">&amp;#34;å°çº¢&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>ç›¸å½“äº&lt;strong>æœ‰å‚æ„é€ å‡½æ•°æ³¨å…¥&lt;/strong>&lt;/p>
&lt;h3 id="beançš„ä½œç”¨åŸŸ">&lt;a href="#bean%e7%9a%84%e4%bd%9c%e7%94%a8%e5%9f%9f" class="header-anchor">&lt;/a>Beançš„ä½œç”¨åŸŸ
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ç±»åˆ«&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#beans-factory-scopes-singleton" target="_blank" rel="noopener"
>singleton&lt;/a>&lt;/td>
&lt;td>(é»˜è®¤)å°†æ¯ä¸ª Spring IoC å®¹å™¨çš„å•ä¸ª bean å®šä¹‰èŒƒå›´é™å®šä¸ºå•ä¸ªå¯¹è±¡å®ä¾‹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#beans-factory-scopes-prototype" target="_blank" rel="noopener"
>prototype&lt;/a>&lt;/td>
&lt;td>å°†å•ä¸ª bean å®šä¹‰çš„ä½œç”¨åŸŸé™å®šä¸ºä»»æ„æ•°é‡çš„å¯¹è±¡å®ä¾‹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#beans-factory-scopes-request" target="_blank" rel="noopener"
>request&lt;/a>&lt;/td>
&lt;td>å°†å•ä¸ª bean å®šä¹‰çš„èŒƒå›´é™å®šä¸ºå•ä¸ª HTTP è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ª HTTP è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªåœ¨å•ä¸ª bean å®šä¹‰åé¢åˆ›å»ºçš„ bean å®ä¾‹ã€‚ä»…åœ¨å¯æ„ŸçŸ¥ç½‘ç»œçš„ Spring &lt;code>ApplicationContext&lt;/code>ä¸­æœ‰æ•ˆã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#beans-factory-scopes-session" target="_blank" rel="noopener"
>session&lt;/a>&lt;/td>
&lt;td>å°†å•ä¸ª bean å®šä¹‰çš„èŒƒå›´é™å®šä¸º HTTP &lt;code>Session&lt;/code>çš„ç”Ÿå‘½å‘¨æœŸã€‚ä»…åœ¨å¯æ„ŸçŸ¥ç½‘ç»œçš„ Spring &lt;code>ApplicationContext&lt;/code>ä¸Šä¸‹æ–‡ä¸­æœ‰æ•ˆã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#beans-factory-scopes-application" target="_blank" rel="noopener"
>application&lt;/a>&lt;/td>
&lt;td>å°†å•ä¸ª bean å®šä¹‰çš„èŒƒå›´é™å®šä¸º&lt;code>ServletContext&lt;/code>çš„ç”Ÿå‘½å‘¨æœŸã€‚ä»…åœ¨å¯æ„ŸçŸ¥ç½‘ç»œçš„ Spring &lt;code>ApplicationContext&lt;/code>ä¸Šä¸‹æ–‡ä¸­æœ‰æ•ˆã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/web.html#websocket-stomp-websocket-scope" target="_blank" rel="noopener"
>websocket&lt;/a>&lt;/td>
&lt;td>å°†å•ä¸ª bean å®šä¹‰çš„èŒƒå›´é™å®šä¸º&lt;code>WebSocket&lt;/code>çš„ç”Ÿå‘½å‘¨æœŸã€‚ä»…åœ¨å¯æ„ŸçŸ¥ç½‘ç»œçš„ Spring &lt;code>ApplicationContext&lt;/code>ä¸Šä¸‹æ–‡ä¸­æœ‰æ•ˆã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>
&lt;p>å•ä¾‹æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šæ¯æ¬¡è·å–çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span> &lt;span class="na">p:age=&lt;/span>&lt;span class="s">&amp;#34;18&amp;#34;&lt;/span> &lt;span class="na">p:name=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span> &lt;span class="na">scope=&lt;/span>&lt;span class="s">&amp;#34;singleton&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡getéƒ½æ˜¯ä»å®¹å™¨ä¸­äº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span> &lt;span class="na">p:age=&lt;/span>&lt;span class="s">&amp;#34;18&amp;#34;&lt;/span> &lt;span class="na">p:name=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span> &lt;span class="na">scope=&lt;/span>&lt;span class="s">&amp;#34;prototype&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å…¶ä½™&lt;code>request&lt;/code>ã€&lt;code>session&lt;/code>ã€&lt;code>application&lt;/code>ã€&lt;code>websocket&lt;/code>è¿™äº›åªåœ¨webå¼€å‘ä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="beançš„è‡ªåŠ¨è£…é…">&lt;a href="#bean%e7%9a%84%e8%87%aa%e5%8a%a8%e8%a3%85%e9%85%8d" class="header-anchor">&lt;/a>Beançš„è‡ªåŠ¨è£…é…
&lt;/h2>&lt;ul>
&lt;li>è‡ªåŠ¨è£…é…æ˜¯ä½¿ç”¨springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹æ³•&lt;/li>
&lt;li>springä¼šåœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ä¸ºæŸä¸ªbeanå¯»æ‰¾å…¶ä¾èµ–çš„beanã€‚&lt;/li>
&lt;/ul>
&lt;p>Springä¸­beanæœ‰ä¸‰ç§è£…é…æœºåˆ¶ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨xmlä¸­æ˜¾å¼é…ç½®&lt;/li>
&lt;li>åœ¨javaä¸­æ˜¾å¼é…ç½®&lt;/li>
&lt;li>éšå¼çš„beanå‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…ã€é‡è¦ã€‘&lt;/li>
&lt;/ol>
&lt;h3 id="ç¯å¢ƒæ­å»º">&lt;a href="#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" class="header-anchor">&lt;/a>ç¯å¢ƒæ­å»º
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">shout&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;miao~&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">shout&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;wang~&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">People&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getCat&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setCat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getDog&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setDog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="bynameè‡ªåŠ¨è£…é…">&lt;a href="#byname%e8%87%aa%e5%8a%a8%e8%a3%85%e9%85%8d" class="header-anchor">&lt;/a>ByNameè‡ªåŠ¨è£…é…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Cat&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Dog&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;people&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.People&amp;#34;&lt;/span> &lt;span class="na">autowire=&lt;/span>&lt;span class="s">&amp;#34;byName&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢çš„å€¼ç›¸å¯¹åº”çš„beanid&lt;/p>
&lt;h3 id="bytypeè‡ªåŠ¨è£…é…">&lt;a href="#bytype%e8%87%aa%e5%8a%a8%e8%a3%85%e9%85%8d" class="header-anchor">&lt;/a>ByTypeè‡ªåŠ¨è£…é…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Cat&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.Dog&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;people&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.People&amp;#34;&lt;/span> &lt;span class="na">autowire=&lt;/span>&lt;span class="s">&amp;#34;byType&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡å±æ€§ç±»å‹ç›¸åŒçš„Bean&lt;/p>
&lt;p>å°ç»“ï¼š&lt;/p>
&lt;ul>
&lt;li>bynameè¦ä¿è¯æ‰€æœ‰çš„beançš„idå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´&lt;/li>
&lt;li>bytypeçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯beançš„classå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„ç±»å‹ä¸€è‡´&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…">&lt;a href="#%e4%bd%bf%e7%94%a8%e6%b3%a8%e8%a7%a3%e8%87%aa%e5%8a%a8%e8%a3%85%e9%85%8d" class="header-anchor">&lt;/a>ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…
&lt;/h3>&lt;h4 id="å‡†å¤‡å·¥ä½œ">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>å‡†å¤‡å·¥ä½œ
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥aopåŒ…&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯¼å…¥çº¦æŸ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">xmlns:context=&amp;#34;http://www.springframework.org/schema/context&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http://www.springframework.org/schema/context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http://www.springframework.org/schema/context/spring-context.xsd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®æ³¨è§£æ”¯æŒ&lt;code>&amp;lt;context:annotation-config/&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="autowired">&lt;a href="#autowired" class="header-anchor">&lt;/a>@Autowired
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>åœ¨å±æ€§æˆ–åœ¨setæ–¹æ³•ä¸Šä½¿ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨Autowiredå¯ä»¥ä¸éœ€è¦setæ–¹æ³•ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Autowiredæ˜¯æŒ‰ç±»å‹è‡ªåŠ¨è½¬é…çš„ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>@Autowired(required=false)&lt;/code> è¯´æ˜å¯¹è±¡å¯ä»¥ä¸ºnull&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="qualifier">&lt;a href="#qualifier" class="header-anchor">&lt;/a>@Qualifier
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>å¦‚æœç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ª&lt;code>@Autowired&lt;/code>å®Œæˆï¼Œå¯ä»¥é€šè¿‡&lt;code>@Qualifier(value=&amp;quot;xxx&amp;quot;)&lt;/code>æ¥å®ç°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>@Qualifier&lt;/code>ç›¸å½“äºbyName&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Qualifier&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;cat2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Qualifier&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;dog2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="resource">&lt;a href="#resource" class="header-anchor">&lt;/a>@Resource
&lt;/h4>&lt;ul>
&lt;li>@Resourceå¦‚æœ‰æŒ‡å®šçš„nameå±æ€§ï¼Œå…ˆæŒ‰è¯¥å±æ€§è¿›è¡ŒbyNameæ–¹å¼æŸ¥æ‰¾è£…é…ï¼›&lt;/li>
&lt;li>å…¶æ¬¡å†è¿›è¡Œé»˜è®¤çš„byNameæ–¹å¼è¿›è¡Œè£…é…ï¼›&lt;/li>
&lt;li>å¦‚æœä»¥ä¸Šéƒ½ä¸æˆåŠŸï¼Œåˆ™æŒ‰byTypeçš„æ–¹å¼è‡ªåŠ¨è£…é…ã€‚&lt;/li>
&lt;li>éƒ½ä¸æˆåŠŸï¼Œåˆ™æŠ¥å¼‚å¸¸ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¦‚æœå…è®¸å¯¹è±¡ä¸ºnullï¼Œè®¾ç½®required = false,é»˜è®¤ä¸ºtrue&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Resource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;cat2&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Cat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Resource&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Dog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dog&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h4>&lt;p>@Autowiredä¸@Resourceå¼‚åŒï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>@Autowiredä¸@Resourceéƒ½å¯ä»¥ç”¨æ¥è£…é…beanã€‚éƒ½å¯ä»¥å†™åœ¨å­—æ®µä¸Šï¼Œæˆ–å†™åœ¨setteræ–¹æ³•ä¸Šã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Autowiredé»˜è®¤æŒ‰ç±»å‹è£…é…ï¼ˆå±äºspringè§„èŒƒï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹å¿…é¡»è¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨ï¼Œå¦‚æœè¦å…è®¸null å€¼ï¼Œå¯ä»¥è®¾ç½®å®ƒçš„requiredå±æ€§ä¸ºfalseï¼Œå¦‚ï¼š@Autowired(required=false) ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨åç§°è£…é…å¯ä»¥ç»“åˆ@Qualifieræ³¨è§£è¿›è¡Œä½¿ç”¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>@Resourceï¼ˆå±äºJ2EEå¤è¿”ï¼‰ï¼Œé»˜è®¤æŒ‰ç…§åç§°è¿›è¡Œè£…é…ï¼Œåç§°å¯ä»¥é€šè¿‡nameå±æ€§è¿›è¡ŒæŒ‡å®šã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šnameå±æ€§ï¼Œå½“æ³¨è§£å†™åœ¨å­—æ®µä¸Šæ—¶ï¼Œé»˜è®¤å–å­—æ®µåè¿›è¡ŒæŒ‰ç…§åç§°æŸ¥æ‰¾ï¼Œå¦‚æœæ³¨è§£å†™åœ¨setteræ–¹æ³•ä¸Šé»˜è®¤å–å±æ€§åè¿›è¡Œè£…é…ã€‚å½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ—¶æ‰æŒ‰ç…§ç±»å‹è¿›è¡Œè£…é…ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœnameå±æ€§ä¸€æ—¦æŒ‡å®šï¼Œå°±åªä¼šæŒ‰ç…§åç§°è¿›è¡Œè£…é…ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å®ƒä»¬çš„ä½œç”¨ç›¸åŒéƒ½æ˜¯ç”¨æ³¨è§£æ–¹å¼æ³¨å…¥å¯¹è±¡ï¼Œä½†æ‰§è¡Œé¡ºåºä¸åŒã€‚@Autowiredå…ˆbyTypeï¼Œ@Resourceå…ˆbyNameã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨æ³¨è§£å¼€å‘">&lt;a href="#%e4%bd%bf%e7%94%a8%e6%b3%a8%e8%a7%a3%e5%bc%80%e5%8f%91" class="header-anchor">&lt;/a>ä½¿ç”¨æ³¨è§£å¼€å‘
&lt;/h2>&lt;p>ä½¿ç”¨æ³¨è§£å¼€å‘éœ€è¦å¯¼å…¥aopçš„åŒ…ï¼Œå¯¼å…¥çº¦æŸå’Œé…ç½®æ³¨è§£æ”¯æŒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:context=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/context&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans.xsd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/context
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/context/spring-context.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œè¿™ä¸ªåŒ…ä¸‹çš„æ³¨è§£å°±ä¼šç”Ÿæ•ˆ--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;context:component-scan&lt;/span> &lt;span class="na">base-package=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;context:annotation-config/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="beançš„å®ç°">&lt;a href="#bean%e7%9a%84%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>Beançš„å®ç°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨&lt;code>@Component&lt;/code>æ³¨è§£ï¼Œç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­çš„&lt;code>&amp;lt;bean id=&amp;quot;user&amp;quot; class=&amp;quot;å½“å‰æ³¨è§£çš„ç±»&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;p>æ³¨æ„éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¦æ‰«æçš„åŒ…&lt;code>&amp;lt;context:component-scan base-package=&amp;quot;top.lbqaq.pojo&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;h3 id="å±æ€§æ³¨å…¥">&lt;a href="#%e5%b1%9e%e6%80%a7%e6%b3%a8%e5%85%a5" class="header-anchor">&lt;/a>å±æ€§æ³¨å…¥
&lt;/h3>&lt;p>ä½¿ç”¨&lt;code>@Value&lt;/code>æ³¨è§£ï¼Œç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­çš„&lt;code>&amp;lt;property name=&amp;quot;name&amp;quot; value=&amp;quot;å°æ˜&amp;quot;/&amp;gt;&lt;/code>&lt;/p>
&lt;p>å¯ä»¥åœ¨å£°æ˜ä¸ŠåŠ ï¼Œä¹Ÿå¯ä»¥åœ¨setæ–¹æ³•ä¸ŠåŠ &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¡ç”Ÿæ³¨è§£">&lt;a href="#%e8%a1%8d%e7%94%9f%e6%b3%a8%e8%a7%a3" class="header-anchor">&lt;/a>è¡ç”Ÿæ³¨è§£
&lt;/h3>&lt;p>å¯¹äº&lt;code>@Component&lt;/code>æ³¨è§£ï¼Œæœ‰ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œåˆ†åˆ«å¯¹åº”MVCçš„ä¸‰å±‚ã€‚&lt;/p>
&lt;ul>
&lt;li>Daoå±‚ï¼š&lt;code>@Repository&lt;/code>&lt;/li>
&lt;li>Serviceå±‚ï¼š&lt;code>@Service&lt;/code>&lt;/li>
&lt;li>Webå±‚ï¼š&lt;code>@Controller&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è¿™å››ä¸ªæ³¨è§£çš„ä½œç”¨éƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªç±»æ³¨å†Œåˆ°Springä¸­ï¼Œè£…é…Bean&lt;/p>
&lt;h3 id="è‡ªåŠ¨è£…é…æ³¨è§£">&lt;a href="#%e8%87%aa%e5%8a%a8%e8%a3%85%e9%85%8d%e6%b3%a8%e8%a7%a3" class="header-anchor">&lt;/a>è‡ªåŠ¨è£…é…æ³¨è§£
&lt;/h3>&lt;ul>
&lt;li>&lt;code>@Autowired&lt;/code>ï¼šæŒ‰ç±»å‹è‡ªåŠ¨è½¬é…&lt;/li>
&lt;li>&lt;code>@Qualifier(value=&amp;quot;xxx&amp;quot;)&lt;/code>ï¼šæŒ‰nameè‡ªåŠ¨è£…é…&lt;/li>
&lt;li>&lt;code>@Resource&lt;/code>ï¼šJavaæä¾›çš„ï¼Œå…ˆnameå†typeï¼Œæ¯”è¾ƒå¤æ‚&lt;/li>
&lt;/ul>
&lt;p>è¯¦ç»†çš„è§£é‡Šå¯ä»¥çœ‹ä¸Šé¢&lt;/p>
&lt;h3 id="ä½œç”¨åŸŸ">&lt;a href="#%e4%bd%9c%e7%94%a8%e5%9f%9f" class="header-anchor">&lt;/a>ä½œç”¨åŸŸ
&lt;/h3>&lt;p>&lt;code>@Scope&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>singleton&lt;/code>ï¼šå•ä¾‹æ¨¡å¼&lt;/li>
&lt;li>&lt;code>prototype&lt;/code>ï¼šå¤šä¾‹æ¨¡å¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Scope&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;prototype&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å°ç»“-1">&lt;a href="#%e5%b0%8f%e7%bb%93-1" class="header-anchor">&lt;/a>å°ç»“
&lt;/h3>&lt;p>&lt;strong>XMLä¸æ³¨è§£æ¯”è¾ƒ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>XMLå¯ä»¥é€‚ç”¨ä»»ä½•åœºæ™¯ ï¼Œç»“æ„æ¸…æ™°ï¼Œç»´æŠ¤æ–¹ä¾¿&lt;/li>
&lt;li>æ³¨è§£ä¸æ˜¯è‡ªå·±æä¾›çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œå¼€å‘ç®€å•æ–¹ä¾¿&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ¨èç”¨æ³•&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>xmlç®¡ç†Bean&lt;/li>
&lt;li>æ³¨è§£å®Œæˆå±æ€§æ³¨å…¥&lt;/li>
&lt;/ul>
&lt;h2 id="ä½¿ç”¨javaç±»è¿›è¡Œé…ç½®">&lt;a href="#%e4%bd%bf%e7%94%a8java%e7%b1%bb%e8%bf%9b%e8%a1%8c%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>ä½¿ç”¨Javaç±»è¿›è¡Œé…ç½®
&lt;/h2>&lt;p>å®ä½“ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toString&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;User{&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;name=&amp;#39;&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="sc">&amp;#39;\&amp;#39;&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="sc">&amp;#39;}&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">LbqaqConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Bean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œçš„&lt;code>@Configuration&lt;/code>è¡¨æ˜è¿™æ˜¯Springçš„é…ç½®&lt;/p>
&lt;p>&lt;code>@Bean&lt;/code>æ˜¯ç”¨æ¥æ³¨å†Œbeanï¼Œè¿™é‡Œçš„è¿”å›å€¼å°±Beançš„ç±»å‹ï¼Œæ–¹æ³•åå°±æ˜¯beançš„id&lt;/p>
&lt;p>æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test1&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AnnotationConfigApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LbqaqConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;getUser&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä»£ç†æ¨¡å¼">&lt;a href="#%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8f" class="header-anchor">&lt;/a>ä»£ç†æ¨¡å¼
&lt;/h2>&lt;p>AOPçš„åº•å±‚æœºåˆ¶å°±æ˜¯åŠ¨æ€ä»£ç†ã€‚&lt;/p>
&lt;h3 id="é™æ€ä»£ç†">&lt;a href="#%e9%9d%99%e6%80%81%e4%bb%a3%e7%90%86" class="header-anchor">&lt;/a>é™æ€ä»£ç†
&lt;/h3>&lt;p>&lt;strong>è§’è‰²åˆ†æ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æŠ½è±¡è§’è‰²ï¼šä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥å®ç°&lt;/li>
&lt;li>çœŸå®è§’è‰²ï¼šè¢«ä»£ç†çš„è§’è‰²&lt;/li>
&lt;li>ä»£ç†è§’è‰²ï¼šä»£ç†çœŸå®è§’è‰²ã€‚ä»£ç†çœŸå®è§’è‰²å , ä¸€èˆ¬ä¼šåšä¸€äº›é™„å±çš„æ“ä½œã€‚&lt;/li>
&lt;li>å®¢æˆ·ï¼šä½¿ç”¨ä»£ç†è§’è‰²æ¥è¿›è¡Œä¸€äº›æ“ä½œã€‚&lt;/li>
&lt;/ul>
&lt;p>ä¸¾ä¾‹ï¼š&lt;/p>
&lt;p>&lt;code>Rent.java&lt;/code>å³æŠ½è±¡è§’è‰²&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æŠ½è±¡è§’è‰²ï¼šç§Ÿæˆ¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">rent&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Host.java&lt;/code>å³çœŸå®è§’è‰²&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//çœŸå®è§’è‰²: æˆ¿ä¸œï¼Œæˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">rent&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æˆ¿å±‹å‡ºç§Ÿ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Proxy.java&lt;/code>å³ä»£ç†è§’è‰²&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ä»£ç†è§’è‰²ï¼šä¸­ä»‹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Proxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Proxy&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Proxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç§Ÿæˆ¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">rent&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">seeHouse&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">rent&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">fare&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//çœ‹æˆ¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">seeHouse&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å¸¦æˆ¿å®¢çœ‹æˆ¿&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ”¶ä¸­ä»‹è´¹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">fare&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ”¶ä¸­ä»‹è´¹&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Client.java&lt;/code>å³å®¢æˆ·&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å®¢æˆ·ç±»ï¼Œä¸€èˆ¬å®¢æˆ·éƒ½ä¼šå»æ‰¾ä»£ç†ï¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Client&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æˆ¿ä¸œè¦ç§Ÿæˆ¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¸­ä»‹å¸®åŠ©æˆ¿ä¸œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Proxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Proxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä½ å»æ‰¾ä¸­ä»‹ï¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">rent&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ†æï¼š&lt;/p>
&lt;p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ç›´æ¥æ¥è§¦çš„å°±æ˜¯ä¸­ä»‹ï¼Œå°±å¦‚åŒç°å®ç”Ÿæ´»ä¸­çš„æ ·å­ï¼Œä½ çœ‹ä¸åˆ°æˆ¿ä¸œï¼Œä½†æ˜¯ä½ ä¾æ—§ç§Ÿåˆ°äº†æˆ¿ä¸œçš„æˆ¿å­é€šè¿‡ä»£ç†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ä»£ç†æ¨¡å¼ã€‚&lt;/p>
&lt;p>&lt;strong>é™æ€ä»£ç†çš„å¥½å¤„:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ï¼Œä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ…ã€‚&lt;/li>
&lt;li>å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ã€‚&lt;/li>
&lt;li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç¼ºç‚¹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ç±»å¤šäº†ï¼Œå¤šäº†ä»£ç†ç±»ï¼Œå·¥ä½œé‡å˜å¤§äº†ï¼Œå¼€å‘æ•ˆç‡é™ä½ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†å¯¹åŸæœ‰åŠŸèƒ½çš„å¢å¼ºï¼Œè¿™æ˜¯AOPä¸­æœ€æ ¸å¿ƒçš„æ€æƒ³ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/spring/IMAGE/640.webp"
width="1038"
height="381"
srcset="https://lbqaq.top/p/spring/IMAGE/640_hu_e2a122fb1987e82a.webp 480w, https://lbqaq.top/p/spring/IMAGE/640_hu_862e2ca86721397a.webp 1024w"
loading="lazy"
alt="AOP"
class="gallery-image"
data-flex-grow="272"
data-flex-basis="653px"
>&lt;/p>
&lt;h3 id="åŠ¨æ€ä»£ç†">&lt;a href="#%e5%8a%a8%e6%80%81%e4%bb%a3%e7%90%86" class="header-anchor">&lt;/a>åŠ¨æ€ä»£ç†
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>åŠ¨æ€ä»£ç†çš„è§’è‰²å’Œé™æ€ä»£ç†çš„ä¸€æ ·ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œé™æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯æˆ‘ä»¬æå‰å†™å¥½çš„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯åŸºäºæ¥å£åŠ¨æ€ä»£ç†ï¼Œä¸€ç±»æ˜¯åŸºäºç±»çš„åŠ¨æ€ä»£ç†&lt;/p>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†&amp;mdash;-JDKåŠ¨æ€ä»£ç†&lt;/li>
&lt;li>åŸºäºç±»çš„åŠ¨æ€ä»£ç†&amp;ndash;cglib&lt;/li>
&lt;li>ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ javasist æ¥ç”ŸæˆåŠ¨æ€ä»£ç† . ç™¾åº¦ä¸€ä¸‹javasist&lt;/li>
&lt;li>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨JDKçš„åŸç”Ÿä»£ç æ¥å®ç°ï¼Œå…¶ä½™çš„é“ç†éƒ½æ˜¯ä¸€æ ·çš„ï¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>JDKçš„åŠ¨æ€ä»£ç†éœ€è¦äº†è§£ä¸¤ä¸ªç±»&lt;/strong>&lt;/p>
&lt;p>æ ¸å¿ƒ : &lt;code>InvocationHandler&lt;/code>ã€&lt;code>Proxy&lt;/code>&lt;/p>
&lt;p>ä»£ç å®ç°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ç§Ÿæˆ¿&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">rent&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æˆ¿ä¸œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">rent&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æˆ¿ä¸œè¦å‡ºç§Ÿ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ProxyInvocationHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">InvocationHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¢«ä»£ç†çš„æ¥å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rent&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setRent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rent&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rent&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç”Ÿæˆå¾—åˆ°çš„ä»£ç†ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getProxy&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Proxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">newProxyInstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getClassLoader&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="n">rent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getInterfaces&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¤„ç†ä»£ç†å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">invoke&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åŠ¨æ€ä»£ç†å°±æ˜¯ä¾èµ–åå°„å®ç°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rent&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Client&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//çœŸå®è§’è‰²&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ProxyInvocationHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pih&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProxyInvocationHandler&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pih&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setRent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">host&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Rent&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pih&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getProxy&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">rent&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŠ¨æ€ä»£ç†ä»£ç†æ¥å£&lt;/p>
&lt;p>&lt;strong>é€šç”¨çš„ä»£ç &lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ProxyInvocationHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">InvocationHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setTarget&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ç”Ÿæˆä»£ç†ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getProxy&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Proxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">newProxyInstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getClassLoader&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getInterfaces&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// proxy : ä»£ç†ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// method : ä»£ç†ç±»çš„è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•å¯¹è±¡.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">invoke&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">proxy&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">invoke&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">methodName&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ‰§è¡Œäº†&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">methodName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;æ–¹æ³•&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="aop">&lt;a href="#aop" class="header-anchor">&lt;/a>AOP
&lt;/h2>&lt;h3 id="ä»€ä¹ˆæ˜¯aop">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%afaop" class="header-anchor">&lt;/a>ä»€ä¹ˆæ˜¯AOP
&lt;/h3>&lt;p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/spring/IMAGE/1.webp"
width="952"
height="551"
srcset="https://lbqaq.top/p/spring/IMAGE/1_hu_8074425b8e9c83f2.webp 480w, https://lbqaq.top/p/spring/IMAGE/1_hu_f5060aab1eceb0ab.webp 1024w"
loading="lazy"
alt="AOP"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="414px"
>&lt;/p>
&lt;blockquote>
&lt;p>é€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹å»å¢åŠ æ–°çš„åŠŸèƒ½ã€‚&lt;/p>&lt;/blockquote>
&lt;h3 id="aopåœ¨springä¸­">&lt;a href="#aop%e5%9c%a8spring%e4%b8%ad" class="header-anchor">&lt;/a>AOPåœ¨Springä¸­
&lt;/h3>&lt;p>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼›å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢&lt;/p>
&lt;ul>
&lt;li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿— , å®‰å…¨ , ç¼“å­˜ , äº‹åŠ¡ç­‰ç­‰ &amp;hellip;.&lt;/li>
&lt;li>åˆ‡é¢ï¼ˆASPECTï¼‰ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ– çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚&lt;/li>
&lt;li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚&lt;/li>
&lt;li>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚&lt;/li>
&lt;li>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚&lt;/li>
&lt;li>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰ï¼šåˆ‡é¢é€šçŸ¥ æ‰§è¡Œçš„ â€œåœ°ç‚¹â€çš„å®šä¹‰ã€‚&lt;/li>
&lt;li>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://lbqaq.top/p/spring/IMAGE/2.webp"
width="744"
height="471"
srcset="https://lbqaq.top/p/spring/IMAGE/2_hu_ce494f04eefd2b27.webp 480w, https://lbqaq.top/p/spring/IMAGE/2_hu_19e878efba56381a.webp 1024w"
loading="lazy"
alt="2"
class="gallery-image"
data-flex-grow="157"
data-flex-basis="379px"
>&lt;/p>
&lt;p>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Adviceï¼š&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/spring/IMAGE/3.webp"
width="762"
height="474"
srcset="https://lbqaq.top/p/spring/IMAGE/3_hu_8d4976fa8a3844fc.webp 480w, https://lbqaq.top/p/spring/IMAGE/3_hu_7bcbbc729f5d64f4.webp 1024w"
loading="lazy"
alt="Advice"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="385px"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨springå®ç°aop">&lt;a href="#%e4%bd%bf%e7%94%a8spring%e5%ae%9e%e7%8e%b0aop" class="header-anchor">&lt;/a>ä½¿ç”¨Springå®ç°AOP
&lt;/h3>&lt;p>å¯¼å…¥ä¾èµ–åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.aspectj&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>aspectjweaver&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.9.7&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>runtime&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹å¼ä¸€ä½¿ç”¨springçš„æ–¹æ³•">&lt;a href="#%e6%96%b9%e5%bc%8f%e4%b8%80%e4%bd%bf%e7%94%a8spring%e7%9a%84%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„æ–¹æ³•
&lt;/h4>&lt;p>ä¸šåŠ¡æ¥å£å’Œå®ç°ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">delete&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">update&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">select&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserServiceImpl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å¢åŠ ä¸€ä¸ªç”¨æˆ·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">delete&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;åˆ é™¤ä¸€ä¸ªç”¨æˆ·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">update&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ›´æ–°ä¸€ä¸ªç”¨æˆ·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">select&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æŸ¥è¯¢ä¸€ä¸ªç”¨æˆ·&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†™ä¸¤ä¸ªå¢å¼ºç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Log&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MethodBeforeAdvice&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//method : è¦æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//objects : è¢«è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//o : ç›®æ ‡å¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">before&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">objects&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;çš„&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;è¢«æ‰§è¡Œäº†&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">AfterLog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AfterReturningAdvice&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//o:è¿”å›å€¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">afterReturning&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">objects&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æ‰§è¡Œäº†&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;æ–¹æ³•ï¼Œè¿”å›ç»“æœä¸º&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®xmlï¼Œè¿™é‡Œéœ€è¦å¼•å…¥aopå‘½åç©ºé—´&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:aop=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/aop&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans.xsd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/aop
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> https://www.springframework.org/schema/aop/spring-aop.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ³¨å†ŒBean--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;userService&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.service.UserServiceImpl&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;log&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.log.Log&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;afterLog&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.log.AfterLog&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é…ç½®aopï¼šéœ€è¦å¯¼å…¥aopçº¦æŸ--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--åˆ‡å…¥ç‚¹ï¼šexpressionï¼šè¡¨è¾¾å¼ execution()--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:pointcut&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;pointcut&amp;#34;&lt;/span> &lt;span class="na">expression=&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.service.UserServiceImpl.*(..))&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ‰§è¡Œç¯ç»•; advice-refæ‰§è¡Œæ–¹æ³• . pointcut-refåˆ‡å…¥ç‚¹--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:advisor&lt;/span> &lt;span class="na">advice-ref=&lt;/span>&lt;span class="s">&amp;#34;log&amp;#34;&lt;/span> &lt;span class="na">pointcut-ref=&lt;/span>&lt;span class="s">&amp;#34;pointcut&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:advisor&lt;/span> &lt;span class="na">advice-ref=&lt;/span>&lt;span class="s">&amp;#34;afterLog&amp;#34;&lt;/span> &lt;span class="na">pointcut-ref=&lt;/span>&lt;span class="s">&amp;#34;pointcut&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>executionè¡¨è¾¾å¼è§£æï¼š&lt;/p>
&lt;ul>
&lt;li>execution(ä¿®é¥°ç¬¦ è¿”å›å€¼ åŒ…å.ç±»å/æ¥å£å.æ–¹æ³•å(å‚æ•°åˆ—è¡¨))&lt;/li>
&lt;li>ä¿®é¥°ç¬¦å¯ä»¥å¿½ç•¥&lt;/li>
&lt;li>(..)å¯ä»¥ä»£è¡¨æ‰€æœ‰å‚æ•°,(*)ä»£è¡¨ä¸€ä¸ªå‚æ•°,(*,String)ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä»»ä½•å€¼,ç¬¬äºŒä¸ªå‚æ•°ä¸ºStringç±»å‹&lt;/li>
&lt;/ul>
&lt;p>æœ€åæµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;applicationContext.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userService&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">select&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹æ³•äºŒä½¿ç”¨è‡ªå®šä¹‰ç±»æ¥å®ç°">&lt;a href="#%e6%96%b9%e6%b3%95%e4%ba%8c%e4%bd%bf%e7%94%a8%e8%87%aa%e5%ae%9a%e4%b9%89%e7%b1%bb%e6%9d%a5%e5%ae%9e%e7%8e%b0" class="header-anchor">&lt;/a>æ–¹æ³•äºŒï¼šä½¿ç”¨è‡ªå®šä¹‰ç±»æ¥å®ç°
&lt;/h4>&lt;p>åˆ›å»ºè‡ªå®šä¹‰ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">DiyPointCut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">before&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;==========æ–¹æ³•æ‰§è¡Œå‰==========&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">after&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;==========æ–¹æ³•æ‰§è¡Œå==========&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®xml&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;diy&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.diy.DiyPointCut&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--è‡ªå®šä¹‰åˆ‡é¢ï¼Œrefä¸ºè¦å¼•ç”¨çš„ç±»--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:aspect&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;diy&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--åˆ‡å…¥ç‚¹--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:pointcut&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;point&amp;#34;&lt;/span> &lt;span class="na">expression=&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.service.UserServiceImpl.*(..))&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é€šçŸ¥--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:before&lt;/span> &lt;span class="na">method=&lt;/span>&lt;span class="s">&amp;#34;before&amp;#34;&lt;/span> &lt;span class="na">pointcut-ref=&lt;/span>&lt;span class="s">&amp;#34;point&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:after&lt;/span> &lt;span class="na">method=&lt;/span>&lt;span class="s">&amp;#34;after&amp;#34;&lt;/span> &lt;span class="na">pointcut-ref=&lt;/span>&lt;span class="s">&amp;#34;point&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/aop:aspect&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹å¼ä¸‰ä½¿ç”¨æ³¨è§£æ¥å®ç°aop">&lt;a href="#%e6%96%b9%e5%bc%8f%e4%b8%89%e4%bd%bf%e7%94%a8%e6%b3%a8%e8%a7%a3%e6%9d%a5%e5%ae%9e%e7%8e%b0aop" class="header-anchor">&lt;/a>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£æ¥å®ç°AOP
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>åœ¨ç±»ä¸Šæ ‡æ³¨æ³¨è§£&lt;code>@Aspect&lt;/code>ï¼Œå¦‚æœæ²¡æœ‰è¯¥æ³¨è§£ï¼Œå°±åœ¨mavené…ç½®é‡ŒæŠŠ&lt;code>&amp;lt;scope&amp;gt;runtime&amp;lt;/scope&amp;gt;&lt;/code>å»æ‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨æ–¹æ³•å‰åŠ ä¸Š&lt;code>@Before()&lt;/code>æˆ–&lt;code>@After()&lt;/code>æ³¨è§£ï¼Œå¹¶åœ¨æ‹¬å·ä¸­å¡«å…¥è¡¨è¾¾å¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ä½¿ç”¨æ³¨è§£å®ç°AOP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Aspect&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">AnnotationPointCut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Before&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.service.UserServiceImpl.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">before&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;=====æ–¹æ³•æ‰§è¡Œå‰=====&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@After&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.service.UserServiceImpl.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">after&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;=====æ–¹æ³•æ‰§è¡Œå=====&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åœ¨ç¯ç»•å¢å¼ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨æˆ‘ä»¬è¦è·å–å¤„ç†åˆ‡å…¥çš„ç‚¹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Around&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.service.UserServiceImpl.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">around&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ProceedingJoinPoint&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç¯ç»•å‰&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰§è¡Œæ–¹æ³•&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">proceed&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">proceed&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ç¯ç»•å&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨Springé…ç½®æ–‡ä»¶æ³¨å†ŒBeanå¹¶å¼€å¯æ³¨è§£æ”¯æŒ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;annotationPointCut&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.diy.AnnotationPointCut&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--å¼€å¯æ³¨è§£æ”¯æŒ--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;aop:aspectj-autoproxy/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="æ•´åˆmybatis">&lt;a href="#%e6%95%b4%e5%90%88mybatis" class="header-anchor">&lt;/a>æ•´åˆMyBatis
&lt;/h2>&lt;p>é¦–å…ˆè¦å¯¼å…¥ç›¸å…³jaråŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- junit --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.13&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>test&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mysqlé©±åŠ¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>mysql&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mysql-connector-java&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>8.0.25&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>runtime&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mybatis --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.mybatis&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mybatis&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.5.7&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mybatis-spring --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.mybatis&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mybatis-spring&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>2.0.6&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- springæ¡†æ¶ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-webmvc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- spring-jdbc --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.springframework&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>spring-jdbc&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>5.3.9&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- AOP ç»‡å…¥å™¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.aspectj&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>aspectjweaver&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.9.7&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å›é¡¾mybatis">&lt;a href="#%e5%9b%9e%e9%a1%bemybatis" class="header-anchor">&lt;/a>å›é¡¾MyBatis
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ç¼–å†™å®ä½“ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pwd&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//setter,getter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//toString,æ„é€ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™Mybatisé…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE configuration
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Config 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æ ¸å¿ƒé…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;package&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;environments&lt;/span> &lt;span class="na">default=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;environment&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;transactionManager&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;JDBC&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dataSource&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;POOLED&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;driver&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/mybatis&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dataSource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/environment&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/environments&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ¯ä¸€ä¸ªmapperéƒ½éœ€è¦æ³¨å†Œ--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.mapper.UserMapper&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™æ¥å£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">selectUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™æ¥å£å¯¹åº”çš„xmlæ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE mapper
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Mapper 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">namespace=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.mapper.UserMapper&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;selectUser&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from user
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mapper&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è§£å†³Mavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;build&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;directory&amp;gt;&lt;/span>src/main/java&lt;span class="nt">&amp;lt;/directory&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.properties&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.xml&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filtering&amp;gt;&lt;/span>true&lt;span class="nt">&amp;lt;/filtering&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/build&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;mybatis-config.xml&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">InputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getResourceAsStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionFactoryBuilder&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputStream&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">openSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">selectUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="mybatis-spring">&lt;a href="#mybatis-spring" class="header-anchor">&lt;/a>MyBatis-Spring
&lt;/h3>&lt;p>MyBatis-Spring ä¼šå¸®åŠ©ä½ å°† MyBatis ä»£ç æ— ç¼åœ°æ•´åˆåˆ° Spring ä¸­ã€‚&lt;a class="link" href="http://mybatis.org/spring/zh/index.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/p>
&lt;h4 id="æ•´åˆå®ç°ä¸€">&lt;a href="#%e6%95%b4%e5%90%88%e5%ae%9e%e7%8e%b0%e4%b8%80" class="header-anchor">&lt;/a>æ•´åˆå®ç°ä¸€
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¼•å…¥Springé…ç½®æ–‡ä»¶&lt;code>spring-dao.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®æ•°æ®æº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--DataSource:ä½¿ç”¨Springçš„æ•°æ®æºæ›¿æ¢MyBatisçš„é…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> è¿™é‡Œä½¿ç”¨Springæä¾›çš„JDBC
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;dataSource&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.jdbc.datasource.DriverManagerDataSource&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;driverClassName&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/mybatis&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®&lt;code>SqlSessionFactory&lt;/code>,å…³è”MyBatis&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;sqlSessionFactory&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.mybatis.spring.SqlSessionFactoryBean&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;dataSource&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;dataSource&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--ç»‘å®šMybatisé…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;configLocation&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;classpath:mybatis-config.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;mapperLocations&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;classpath:top/lbqaq/mapper/*.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ³¨å†ŒsqlSessionTemplateï¼Œå…³è”sqlSessionFactory&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;sqlSession&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.mybatis.spring.SqlSessionTemplate&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--ä½¿ç”¨æ„é€ å™¨æ³¨å…¥ï¼Œå› ä¸ºå®ƒæ²¡æœ‰setæ–¹æ³•--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">index=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;sqlSessionFactory&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å¢åŠ Mapperæ¥å£çš„å®ç°ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserMapperImpl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åŸæ¥æˆ‘ä»¬çš„æ‰€æœ‰æ“ä½œï¼Œéƒ½ä½¿ç”¨sqlSessionæ¥æ‰§è¡Œï¼›ç°åœ¨éƒ½ä½¿ç”¨SqlSessionTemplate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionTemplate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setSqlSession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SqlSessionTemplate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">selectUser&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">selectUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å°†å®ç°ç±»æ³¨å†Œåˆ°Springä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;userMapper&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.mapper.UserMapperImpl&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;sqlSession&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;sqlSession&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test2&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;spring-dao.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userMapper&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">selectUser&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>æ­¤æ—¶å†å»çœ‹MyBatisçš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å¤§éƒ¨åˆ†é…ç½®éƒ½è¢«Springæ•´åˆäº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE configuration
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Config 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;package&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œå»ºè®®å°†&lt;code>typeAliases&lt;/code>å’Œ&lt;code>settings&lt;/code>ç•™åœ¨MyBatisçš„é…ç½®æ–‡ä»¶ä¸­ã€‚&lt;/p>
&lt;p>ä»¥åå¯ä»¥å°†Springé…ç½®æ–‡ä»¶æ‹†å¼€ï¼Œ&lt;code>spring-dao.xml&lt;/code>ç”¨æ¥å¤„ç†æ•°æ®åº“ç›¸å…³ä»£ç ï¼Œ&lt;code>applicationContext.xml&lt;/code>ä½œä¸ºæ€»é…ç½®æ–‡ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;import&lt;/span> &lt;span class="na">resource=&lt;/span>&lt;span class="s">&amp;#34;spring-dao.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;userMapper&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.mapper.UserMapperImpl&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;sqlSession&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;sqlSession&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ•´åˆæ–¹å¼äºŒ">&lt;a href="#%e6%95%b4%e5%90%88%e6%96%b9%e5%bc%8f%e4%ba%8c" class="header-anchor">&lt;/a>æ•´åˆæ–¹å¼äºŒ
&lt;/h4>&lt;p>ä½¿ç”¨&lt;code>SqlSessionDaoSupport&lt;/code>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ä¿®æ”¹å®ç°ç±»ï¼Œç»§æ‰¿&lt;code>SqlSessionDaoSupport&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserMapperImpl2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionDaoSupport&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">selectUser&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getSqlSession&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">selectUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®Bean&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;userMapper2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.mapper.UserMapperImpl2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;sqlSessionFactory&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;sqlSessionFactory&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test2&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;applicationContext.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userMapper2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">selectUser&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå°±ä¸éœ€è¦ä¸Šé¢çš„ç¬¬4æ­¥äº†ï¼Œæ­¥éª¤å°±æ›´åŠ ç®€æ´äº†ã€‚&lt;/p>
&lt;h2 id="å£°æ˜å¼äº‹åŠ¡">&lt;a href="#%e5%a3%b0%e6%98%8e%e5%bc%8f%e4%ba%8b%e5%8a%a1" class="header-anchor">&lt;/a>å£°æ˜å¼äº‹åŠ¡
&lt;/h2>&lt;p>&lt;strong>springä¸­çš„äº‹åŠ¡ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ç¼–ç¨‹å¼äº‹åŠ¡ï¼šåœ¨ä»£ç ä¸­è¿›è¡Œäº‹åŠ¡çš„ç®¡ç†&lt;/li>
&lt;li>å£°æ˜å¼äº‹åŠ¡ï¼šAOP&lt;/li>
&lt;/ul>
&lt;p>ä¸€èˆ¬æˆ‘ä»¬éƒ½é‡‡ç”¨å£°æ˜å¼äº‹åŠ¡ï¼Œå°†äº‹åŠ¡ç®¡ç†ä½œä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œé€šè¿‡aopæ–¹æ³•æ¨¡å—åŒ–ã€‚&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨æ–¹æ³•ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å¼•å…¥å¤´æ–‡ä»¶çº¦æŸ&lt;code>tx&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">xmlns:tx=&amp;#34;http://www.springframework.org/schema/tx&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http://www.springframework.org/schema/tx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http://www.springframework.org/schema/tx/spring-tx.xsd&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®äº‹åŠ¡ç®¡ç†å™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--é…ç½®å£°æ˜å¼äº‹åŠ¡--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;transactionManager&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.jdbc.datasource.DataSourceTransactionManager&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;dataSource&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;dataSource&amp;#34;&lt;/span> &lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>é…ç½®äº‹åŠ¡é€šçŸ¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;tx:advice&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;txAdvice&amp;#34;&lt;/span> &lt;span class="na">transaction-manager=&lt;/span>&lt;span class="s">&amp;#34;transactionManager&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--ç»™é‚£äº›æ–¹æ³•é…ç½®äº‹åŠ¡--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:attributes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ propagation--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;add&amp;#34;&lt;/span> &lt;span class="na">propagation=&lt;/span>&lt;span class="s">&amp;#34;REQUIRED&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;delete&amp;#34;&lt;/span> &lt;span class="na">propagation=&lt;/span>&lt;span class="s">&amp;#34;REQUIRED&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;update&amp;#34;&lt;/span> &lt;span class="na">propagation=&lt;/span>&lt;span class="s">&amp;#34;REQUIRED&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;query&amp;#34;&lt;/span> &lt;span class="na">read-only=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;tx:method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span> &lt;span class="na">propagation=&lt;/span>&lt;span class="s">&amp;#34;REQUIRED&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/tx:attributes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/tx:advice&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Springçš„äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ä¸€å…±æœ‰7ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>propagation_requierdï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚&lt;/li>
&lt;li>propagation_supportsï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹æ³•æ‰§è¡Œã€‚&lt;/li>
&lt;li>propagation_mandatoryï¼šä½¿ç”¨å½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li>
&lt;li>propagation_required_newï¼šæ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚&lt;/li>
&lt;li>propagation_not_supportedï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚&lt;/li>
&lt;li>propagation_neverï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li>
&lt;li>propagation_nestedï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸propagation_requiredç±»ä¼¼çš„æ“ä½œ&lt;/li>
&lt;/ul>
&lt;p>ä¸€èˆ¬ç¬¬ä¸€ç§å°±å¤Ÿç”¨äº†ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é…ç½®AOP&lt;/p>
&lt;p>æ³¨æ„è¦å¯¼å…¥å¤´æ–‡ä»¶ä¾èµ–&lt;code>aop&lt;/code>ï¼Œè¯¦ç»†çš„å†…å®¹åœ¨ä¸Šé¢ï¼Œæˆ–è€…IDEAä¹Ÿä¼šè‡ªåŠ¨è¡¥å…¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--é…ç½®äº‹åŠ¡åˆ‡å…¥--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:pointcut&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;txPointCut&amp;#34;&lt;/span> &lt;span class="na">expression=&lt;/span>&lt;span class="s">&amp;#34;execution(* top.lbqaq.mapper.*(..))&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;aop:advisor&lt;/span> &lt;span class="na">advice-ref=&lt;/span>&lt;span class="s">&amp;#34;txAdvice&amp;#34;&lt;/span> &lt;span class="na">pointcut-ref=&lt;/span>&lt;span class="s">&amp;#34;txPointCut&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/aop:config&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol></description></item><item><title>ä»é›¶å¼€å§‹ASFæŒ‚å¡</title><link>https://lbqaq.top/p/asf/</link><pubDate>Wed, 11 Aug 2021 21:46:24 +0800</pubDate><guid>https://lbqaq.top/p/asf/</guid><description>&lt;img src="https://lbqaq.top/p/asf/82970659.webp" alt="Featured image of post ä»é›¶å¼€å§‹ASFæŒ‚å¡" />&lt;p>å› ä¸ºä¹°äº†ä¸€å°äº‘æœåŠ¡å™¨ï¼Œä¸æ‹¿æ¥å¹²ç‚¹å•¥å®åœ¨æ˜¯å¤ªäºäº†ï¼Œäºæ˜¯ä¾¿æƒ³åˆ°äº†å¯ä»¥ä½¿ç”¨äº‘æœåŠ¡å™¨æ¥æŒ‚å¡ã€‚&lt;/p>
&lt;h2 id="æ­¥éª¤">&lt;a href="#%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>æ­¥éª¤
&lt;/h2>&lt;h3 id="å®‰è£…netç¯å¢ƒ">&lt;a href="#%e5%ae%89%e8%a3%85net%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>å®‰è£….netç¯å¢ƒ
&lt;/h3>&lt;p>ASFæ˜¯åŸºäº.netcoreå¼€å‘çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦å®‰è£…ç¯å¢ƒã€‚è¿™é‡Œå»ºè®®çœ‹å¾®è½¯å®˜æ–¹çš„&lt;a class="link" href="https://docs.microsoft.com/zh-cn/dotnet/core/install/" target="_blank" rel="noopener"
>å®‰è£…æ–‡æ¡£&lt;/a>ï¼Œé‡Œé¢æœ‰ä¸åŒç³»ç»Ÿçš„å®‰è£…æ–¹æ³•ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬éœ€è¦å®‰è£…çš„åªæ˜¯ASP.NET Core è¿è¡Œæ—¶ã€‚&lt;/p>
&lt;p>æˆ‘çš„ç³»ç»Ÿæ˜¯centos7ï¼Œè¿™é‡Œå°±åªåˆ—ä¸¾æˆ‘ç³»ç»Ÿä¸Šçš„å‘½ä»¤äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo rpm -Uvh https://packages.microsoft.com/config/centos/7/packages-microsoft-prod.rpm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum install aspnetcore-runtime-5.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£…asf">&lt;a href="#%e5%ae%89%e8%a3%85asf" class="header-anchor">&lt;/a>å®‰è£…ASF
&lt;/h3>&lt;p>åœ¨&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest" target="_blank" rel="noopener"
>ASFçš„å‘å¸ƒé¡µé¢&lt;/a>ä¸Šä¸‹è½½ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬è§£å‹å³å¯ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œæ˜¯åœ¨æœ¬åœ°å…ˆä¸‹è½½å¥½åç”¨WinSCPç›´æ¥ä¼ ä¸ŠæœåŠ¡å™¨ã€‚&lt;/p>
&lt;h3 id="é…ç½®asf">&lt;a href="#%e9%85%8d%e7%bd%aeasf" class="header-anchor">&lt;/a>é…ç½®ASF
&lt;/h3>&lt;p>è¿™é‡Œå°±é‡‡ç”¨å®˜æ–¹çš„**&lt;a class="link" href="https://justarchinet.github.io/ASF-WebConfigGenerator" target="_blank" rel="noopener"
>åœ¨çº¿é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨&lt;/a>**è‡ªåŠ¨ç”Ÿæˆå³å¯ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿™é‡Œé€‰æ‹©&lt;code>æœºå™¨äºº&lt;/code>ï¼Œå°†steamçš„è´¦å·å’Œå¯†ç å¡«å…¥ï¼Œå¹¶å°†Enabledè®¾ç½®ä¸ºTrueå°±è¡Œäº†ã€‚&lt;/p>
&lt;p>è¯¦ç»†çš„é…ç½®å†…å®¹å¯ä»¥åœ¨&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN" target="_blank" rel="noopener"
>å®˜æ–¹Wiki&lt;/a>ä¸Šçœ‹åˆ°ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ”¾ä¸Šæˆ‘çš„é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SteamLogin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SteamPassword&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Enabled&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CustomGamePlayedWhileFarming&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;æŒ‚å¡ä¸­...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CustomGamePlayedWhileIdle&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ç©ºé—²ä¸­...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;FarmingOrders&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">12&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;HoursUntilCardDrops&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;OnlineStatus&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>CustomGamePlayedWhileFarming&lt;/code>ï¼šè¡¨ç¤ºæŒ‚å¡æ—¶æ˜¾ç¤ºçš„æ¸¸æˆå&lt;/li>
&lt;li>&lt;code>CustomGamePlayedWhileIdle&lt;/code>ï¼šè¡¨ç¤ºç©ºé—²æ—¶æ˜¾ç¤ºçš„æ¸¸æˆå&lt;/li>
&lt;li>&lt;code>HoursUntilCardDrops&lt;/code>ï¼šè¡¨ç¤ºè‡³å°‘å°†æ¸¸æˆæŒ‚åˆ°å‡ å°æ—¶ï¼Œå¦‚æœæ˜¯éé™åˆ¶è´¦æˆ·ï¼Œè°ƒåˆ°0æ˜¯æœ€å¥½çš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®ASFæœ¬èº«çš„è®¾ç½®ï¼Œè¿™é‡Œä¹ŸåŒæ ·è´´ä¸Šæˆ‘çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;s_SteamOwnerID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CurrentCulture&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;zh-CN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;IPCPassword&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>s_SteamOwnerID&lt;/code>ï¼šè¯¥å±æ€§å®šä¹‰ ASF è¿›ç¨‹æ‰€æœ‰è€…çš„ 64 ä½ Steam IDï¼Œç›´æ¥è®¾ç½®æˆè‡ªå·±çš„å¤§å·å°±è¡Œ&lt;/li>
&lt;li>&lt;code>CurrentCulture&lt;/code>ï¼šASFçš„è¯­è¨€&lt;/li>
&lt;li>&lt;code>IPCPassword&lt;/code>ï¼šç”±äºASFé»˜è®¤ä¼šå¼€å¯IPCæœåŠ¡ï¼Œä¸ºäº†å®‰å…¨èµ·è§å»ºè®®è®¾ç½®å¯†ç æˆ–å…³é—­IPCæœåŠ¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>å°†é…ç½®æ–‡ä»¶æ”¾å…¥&lt;code>config&lt;/code>ç›®å½•é‡Œå°±è¡Œäº†ã€‚&lt;/p>
&lt;h3 id="å¯åŠ¨asf">&lt;a href="#%e5%90%af%e5%8a%a8asf" class="header-anchor">&lt;/a>å¯åŠ¨ASF
&lt;/h3>&lt;p>é¦–å…ˆå°†ASFçš„ä¸»ç¨‹åºè®¾ç½®ä¸ºå¯æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">755&lt;/span> ./ArchiSteamFarm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åè¿è¡Œå³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">./ArchiSteamFarm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é™„åŠ æ­¥éª¤">&lt;a href="#%e9%99%84%e5%8a%a0%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>é™„åŠ æ­¥éª¤
&lt;/h2>&lt;h3 id="ä½¿ç”¨ascf">&lt;a href="#%e4%bd%bf%e7%94%a8ascf" class="header-anchor">&lt;/a>ä½¿ç”¨ASCF
&lt;/h3>&lt;p>ç”±äºæœåŠ¡å™¨åœ¨å¤§é™†å¢ƒå†…ï¼Œç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› æ˜¯æ— æ³•è®¿é—®steamç¤¾åŒºçš„ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨å¤§ä½¬å¼€å‘çš„è½¬å‘å·¥å…·äº†ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://keylol.com/t339641-1-1" target="_blank" rel="noopener"
>ã€æ›´æ–°2.0ã€‘å¦ä¸€ä¸ªSteamCommunityFix | æ”¯æŒWin/Linux/MacOS ã€2018-08-29ã€‘&lt;/a>&lt;/p>
&lt;p>ä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1nvBW8qP&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨æ­¥éª¤ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¸‹è½½å¹¶è§£å‹ç¼©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¿›å…¥åˆ°ascfç¨‹åºç›®å½•ï¼š
å¦‚ascfç¨‹åºåœ¨ /Users/Makazeu/Downloads/æ–‡ä»¶å¤¹ä¸­ï¼Œé‚£ä¹ˆåœ¨ç»ˆç«¯ä¸­è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /Users/Makazeu/Downloads
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>èµ‹äºˆç¨‹åºå¯æ‰§è¡Œæƒé™ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl"> chmod +x ./ascf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨rootç”¨æˆ·ï¼ˆç®¡ç†å‘˜ç”¨æˆ·ï¼‰è¿è¡Œç¨‹åºï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl"> sudo ./ascf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å…¥rootç”¨æˆ·å¯†ç åï¼Œçœ‹ç¨‹åºæ˜¯å¦è¿è¡Œ
å› ä¸ºç¨‹åºæ¶‰åŠåˆ°hostsæ–‡ä»¶ä¿®æ”¹ï¼Œéœ€è¦é«˜æƒé™ï¼Œæ‰€ä»¥ä½ éœ€è¦è¾“å…¥rootå¯†ç &lt;/p>
&lt;/li>
&lt;li>
&lt;p>è‹¥ç¨‹åºå·²ç»æˆåŠŸè¿è¡Œï¼Œæ­¤æ—¶å°±ä¸è¦å…³é—­ç»ˆç«¯çª—å£äº†ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šé€€å‡ºï¼è¯•ä¸‹Steamç¤¾åŒºèƒ½å¦æ­£å¸¸æ‰“å¼€&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨tmux">&lt;a href="#%e4%bd%bf%e7%94%a8tmux" class="header-anchor">&lt;/a>ä½¿ç”¨Tmux
&lt;/h3>&lt;p>ç”±äºæˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œä¸å¯èƒ½ä¸€ç›´å¼€ç€sshï¼Œè¿™æ—¶å°±éœ€è¦å°†ç»ˆç«¯çª—å£å’Œä¼šè¯è§£ç»‘ï¼ŒTmuxå°±æ˜¯åšè¿™ä¸ªå·¥ä½œçš„ã€‚&lt;/p>
&lt;p>&lt;strong>å®‰è£…ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ubuntu æˆ– Debian&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># CentOS æˆ– Fedora&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo yum install tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Mac&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ brew install tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¸¸ç”¨å‘½ä»¤/å¿«æ·é”®ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ–°å»ºä¼šè¯ï¼šTmux çª—å£é»˜è®¤æ˜¯ä»¥0ã€1ã€2&amp;hellip;&amp;hellip;æ¥ç¼–å·çš„ï¼Œä¸ºäº†ä¾¿äºåŒºåˆ†ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªä¼šè¯èµ·å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tmux new -s &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ†ç¦»å½“å‰ä¼šè¯ï¼š&lt;code>Ctrl+b d&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ—å‡ºæ‰€æœ‰ä¼šè¯ï¼š&lt;code>Ctrl+b s&lt;/code>æˆ–&lt;code>tmux ls&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é‡å‘½åå½“å‰ä¼šè¯ï¼š&lt;code>Ctrl+b $&lt;/code>æˆ–&lt;code>tmux rename-session -t 0 &amp;lt;new-name&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¥å…¥åˆ°æŸä¸ªä¼šè¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux attach -t &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux attach -t &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ‡æ¢åˆ°æŸä¸ªä¼šè¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯ç¼–å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux switch -t &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨ä¼šè¯åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ tmux switch -t &amp;lt;session-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.ruanyifeng.com/blog/2019/10/tmux.html" target="_blank" rel="noopener"
>Tmux ä½¿ç”¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN" target="_blank" rel="noopener"
>ASFå®˜æ–¹Wiki&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/dotnet/fundamentals/" target="_blank" rel="noopener"
>NETå¼€å‘æ–‡æ¡£&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>MyBatiså­¦ä¹ ç¬”è®°</title><link>https://lbqaq.top/p/mybatis/</link><pubDate>Wed, 11 Aug 2021 11:11:10 +0800</pubDate><guid>https://lbqaq.top/p/mybatis/</guid><description>&lt;img src="https://lbqaq.top/p/mybatis/86164137.webp" alt="Featured image of post MyBatiså­¦ä¹ ç¬”è®°" />&lt;p>èŠ±äº†å››å¤©çš„æ—¶é—´ï¼Œç»ˆäºæŠŠMyBatisçš„è§†é¢‘æ•™ç¨‹å…¨éƒ¨çœ‹å®Œäº†ï¼Œä¸ºäº†ä»¥åä¸è¦é‚£ä¹ˆå¿«çš„é—å¿˜æ‰ï¼Œè¿˜æ˜¯æ¥å†™ä¸€ä¸‹ç¬”è®°æ¯”è¾ƒå¥½ã€‚&lt;/p>
&lt;p>ä¸‹é¢çš„å†…å®¹éƒ½æ˜¯åŸºäº&lt;a class="link" href="https://space.bilibili.com/95256449" target="_blank" rel="noopener"
>é‡è§ç‹‚ç¥è¯´&lt;/a>çš„&lt;a class="link" href="https://www.bilibili.com/video/BV1NE411Q7Nx" target="_blank" rel="noopener"
>MyBatisè§†é¢‘æ•™ç¨‹&lt;/a>è€Œæ¥ï¼Œåœ¨æ­¤æ„Ÿè°¢èƒ½æä¾›è¿™ä¹ˆä¼˜ç§€çš„æ•™ç¨‹ã€‚&lt;/p>
&lt;h2 id="ç®€ä»‹">&lt;a href="#%e7%ae%80%e4%bb%8b" class="header-anchor">&lt;/a>ç®€ä»‹
&lt;/h2>&lt;ul>
&lt;li>MyBatisçš„ä½œç”¨ç”¨æˆ‘è‡ªå·±çš„è¯è¯´ï¼Œå°±æ˜¯ä¸ç”¨è‡ªå·±æ‰‹åŠ¨æJDBCäº†ï¼Œçœäº‹ï¼Œè¡Œï¼&lt;/li>
&lt;li>MyBatisä½œç”¨äºæŒä¹…å±‚â€”â€”DAOå±‚ ã€DAO (Data Access Object) æ•°æ®è®¿é—®å¯¹è±¡ã€‘ï¼Œé€šä¿—ç‚¹è¯´å°±æ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“çš„å±‚&lt;/li>
&lt;li>é€‰æ‹©MyBatisçš„æœ€å¤§åŸå› è¿˜æ˜¯ç”¨çš„äººå¤šï¼Œä¸ºåé¢çš„Springæ‰“åŸºç¡€_(:Ğ·)âˆ )_&lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬ä¸€ä¸ªmybatisç¨‹åº">&lt;a href="#%e7%ac%ac%e4%b8%80%e4%b8%aamybatis%e7%a8%8b%e5%ba%8f" class="header-anchor">&lt;/a>ç¬¬ä¸€ä¸ªMyBatisç¨‹åº
&lt;/h2>&lt;p>&lt;strong>æ€è·¯æµç¨‹ï¼šæ­å»ºç¯å¢ƒ&amp;ndash;&amp;gt;å¯¼å…¥MyBatis&amp;mdash;&amp;gt;ç¼–å†™ä»£ç &amp;mdash;&amp;gt;æµ‹è¯•&lt;/strong>&lt;/p>
&lt;h3 id="å…·ä½“ä»£ç ">&lt;a href="#%e5%85%b7%e4%bd%93%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>å…·ä½“ä»£ç 
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>åˆ›å»ºMavené¡¹ç›®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼•å…¥ä¾èµ–åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- å¯¼å…¥ä¾èµ– --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mysqlé©±åŠ¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>mysql&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mysql-connector-java&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>8.0.25&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>runtime&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- mybatis --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.mybatis&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>mybatis&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>3.5.7&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- junit --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>junit&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>4.12&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>test&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>resources&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>mybatis-config.xml&lt;/code>ï¼Œä½œä¸ºMyBatisçš„é…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE configuration
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Config 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æ ¸å¿ƒé…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;environments&lt;/span> &lt;span class="na">default=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;environment&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;transactionManager&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;JDBC&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dataSource&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;POOLED&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;driver&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/mybatis&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dataSource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/environment&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/environments&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æ¯ä¸€ä¸ªmapperéƒ½éœ€è¦æ³¨å†Œ--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">resource=&lt;/span>&lt;span class="s">&amp;#34;UserMapper.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/configuration&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™MyBatiså·¥å…·ç±»ï¼Œåœ¨&lt;code>utils&lt;/code>çš„åŒ…ä¸‹é¢åˆ›å»º&lt;code>MybatisUtils&lt;/code>ç±»ï¼Œå¡«å…¥ä»¥ä¸‹ä»£ç &lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.ibatis.io.Resources&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.ibatis.session.SqlSession&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.ibatis.session.SqlSessionFactory&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.ibatis.session.SqlSessionFactoryBuilder&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.io.IOException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.io.InputStream&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//SqlSessionFactory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @author luoboQAQ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MybatisUtils&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä½¿ç”¨Mybatisç¬¬ä¸€æ­¥ï¼šè·å–SqlSessionFactory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;mybatis-config.xml&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">InputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Resources&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getResourceAsStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSessionFactoryBuilder&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inputStream&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//SqlSession æä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getSqlSession&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">openSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>pojo&lt;/code>åŒ…ä¸‹åˆ›å»ºå®ä½“ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//å§“å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pwd&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//å¯†ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ„é€ ,æœ‰å‚,æ— å‚&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//set/get&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//toString() &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>dao&lt;/code>åŒ…ä¸‹åˆ›å»ºæ¥å£ç±»ï¼Œæˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½å°±å¡«å…¥åˆ°è¿™é‡Œé¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.pojo.User&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.List&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.Map&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ¨¡ç³ŠæŸ¥è¯¢&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserLike&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserList&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ’å…¥ç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//ä¿®æ”¹ç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">updateUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆ é™¤ç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">deleteUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™&lt;code>Mapper.xml&lt;/code>é…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE mapper
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Mapper 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--namespaceç»‘å®šä¸€ä¸ªå¯¹åº”çš„Dao/Mapperæ¥å£--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">namespace=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.dao.UserMapper&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--idå°±æ˜¯namespaceä¸­å¯¹åº”çš„æ–¹æ³•åï¼ŒresultTypeï¼šsqlè¯­å¥çš„è¿”å›å€¼--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getUserList&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from user
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getUserLike&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from user where name like #{value}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--parameterTypeï¼šä¼ å…¥å‚æ•°ç±»å‹--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getUserById&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;int&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from user where id=#{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;insert&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;addUser&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> insert into user (id,name,pwd) values (#{id},#{name},#{pwd})
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/insert&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--ä¼ é€’mapçš„key--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;insert&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;addUser2&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> insert into user (id,name,pwd) values (#{userid},#{userName},#{passWord})
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/insert&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;update&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;updateUser&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> update user set name =#{name},pwd=#{pwd} where id=#{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/update&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;delete&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;deleteUser&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;int&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> delete from user where id=#{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/delete&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mapper&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿›è¡Œæµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.ibatis.session.SqlSession&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.junit.Test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.pojo.User&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">top.lbqaq.utils.MybatisUtils&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.HashMap&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.List&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserMapperTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å¾—sqlSessionå¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰§è¡ŒSQL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUserList&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserLike&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å¾—sqlSessionå¯¹è±¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ‰§è¡ŒSQL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUserLike&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%æ%&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userList&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserById&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUserById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æäº¤æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æäº¤äº‹åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">commit&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser2&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userName&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;å°ç»¿&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;passWord&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addUser2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æäº¤æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æäº¤äº‹åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">commit&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">updateUser&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">updateUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;å°æ˜&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æäº¤æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æäº¤äº‹åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">commit&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">deleteUser&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MybatisUtils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getSqlSession&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMapper&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">deleteUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;æäº¤æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æäº¤äº‹åŠ¡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">commit&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSession&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="æ³¨æ„äº‹é¡¹">&lt;a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" class="header-anchor">&lt;/a>æ³¨æ„äº‹é¡¹
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>å¦‚æœ&lt;code>Mapper.xml&lt;/code>åˆ›å»ºåœ¨&lt;code>java&lt;/code>ç›®å½•é‡Œè€Œä¸æ˜¯&lt;code>resouces&lt;/code>é‡Œï¼Œéœ€è¦åœ¨Mavené…ç½®é‡Œé…ç½®è¿‡æ»¤ï¼Œå¦åˆ™ä¼šä¿é”™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;directory&amp;gt;&lt;/span>src/main/java&lt;span class="nt">&amp;lt;/directory&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.properties&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.xml&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filtering&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/filtering&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;directory&amp;gt;&lt;/span>src/main/resources&lt;span class="nt">&amp;lt;/directory&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.properties&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&amp;gt;&lt;/span>**/*.xml&lt;span class="nt">&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/includes&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;filtering&amp;gt;&lt;/span>false&lt;span class="nt">&amp;lt;/filtering&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/resource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resources&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å½“éœ€è¦ä¼ å…¥å‚æ•°è¿›è¡ŒæŸ¥è¯¢è€Œä¸æ˜¯ä¼ å…¥å®ä½“ç±»ï¼Œæœ‰ä¸¤ç§æ–¹æ³•&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¬¬ä¸€ç§ï¼šç›´æ¥åœ¨æ–¹æ³•ä¸­ä¼ é€’å‚æ•°ã€‚&lt;/p>
&lt;p>åœ¨æ¥å£æ–¹æ³•çš„å‚æ•°å‰åŠ &lt;code>@Param&lt;/code>å±æ€§ï¼Œsqlè¯­å¥ç¼–å†™çš„æ—¶å€™ï¼Œç›´æ¥å–&lt;code>@Param&lt;/code>ä¸­è®¾ç½®çš„å€¼å³å¯ï¼Œä¸éœ€è¦å•ç‹¬è®¾ç½®å‚æ•°ç±»å‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">selectUserByNP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pwd&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pwd&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> &amp;lt;select id=&amp;#34;selectUserByNP&amp;#34; resultType=&amp;#34;top.lbqaq.pojo.User&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> select * from user where name = #{username} and pwd = #{pwd}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> &amp;lt;/select&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¬¬äºŒç§ï¼šé€šè¿‡mapæ¥ä¼ é€’å‚æ•°ã€‚ï¼ˆæ¨èï¼‰&lt;/p>
&lt;p>åœ¨æ¥å£åˆ›å»ºæ—¶å°±ç›´æ¥ä½¿ç”¨mapä½œä¸ºå‚æ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">map&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å†™sqlæ—¶ç›´æ¥è®¾ç½®å…¥å‚ä¸º&lt;code>map&lt;/code>å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span>&lt;span class="n">ä¼ é€’mapçš„key&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;addUser2&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameterType&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">pwd&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">userid&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">passWord&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="é…ç½®è§£æ">&lt;a href="#%e9%85%8d%e7%bd%ae%e8%a7%a3%e6%9e%90" class="header-anchor">&lt;/a>é…ç½®è§£æ
&lt;/h2>&lt;p>&lt;a class="link" href="https://mybatis.org/mybatis-3/zh/configuration.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/p>
&lt;h3 id="æ ¸å¿ƒé…ç½®">&lt;a href="#%e6%a0%b8%e5%bf%83%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>æ ¸å¿ƒé…ç½®
&lt;/h3>&lt;p>MyBatiså®˜æ–¹ç»™å‡ºçš„é…ç½®é¡¹æœ‰ä»¥ä¸‹è¿™ä¹ˆå¤šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">configurationï¼ˆé…ç½®ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">propertiesï¼ˆå±æ€§ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">settingsï¼ˆè®¾ç½®ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">typeAliasesï¼ˆç±»å‹åˆ«åï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pluginsï¼ˆæ’ä»¶ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dataSourceï¼ˆæ•°æ®æºï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mappersï¼ˆæ˜ å°„å™¨ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- æ³¨æ„å…ƒç´ èŠ‚ç‚¹çš„é¡ºåºï¼é¡ºåºä¸å¯¹ä¼šæŠ¥é”™ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬éœ€è¦å…³æ³¨çš„å°±æ˜¯&lt;code>propertiesï¼ˆå±æ€§ï¼‰&lt;/code>ã€&lt;code>settingsï¼ˆè®¾ç½®ï¼‰&lt;/code>ã€&lt;code>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰&lt;/code>ã€&lt;code>pluginsï¼ˆæ’ä»¶ï¼‰&lt;/code>ã€&lt;code>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰&lt;/code>ã€&lt;code>mappersï¼ˆæ˜ å°„å™¨ï¼‰&lt;/code>è¿™å‡ é¡¹é…ç½®ï¼Œå…¶ä½™çš„å¯ä»¥å¿½ç•¥ï¼ˆåŸºæœ¬ç”¨ä¸åˆ°ï¼‰&lt;/p>
&lt;h3 id="properties">&lt;a href="#properties" class="header-anchor">&lt;/a>properties
&lt;/h3>&lt;p>æ•°æ®åº“è¿™äº›å±æ€§éƒ½æ˜¯å¯å¤–éƒ¨é…ç½®ä¸”å¯åŠ¨æ€æ›¿æ¢çš„ï¼Œæ—¢å¯ä»¥åœ¨å…¸å‹çš„ Java å±æ€§æ–‡ä»¶ä¸­é…ç½®ï¼Œäº¦å¯é€šè¿‡ properties å…ƒç´ çš„å­å…ƒç´ æ¥ä¼ é€’ã€‚&lt;/p>
&lt;p>è¯´ç™½äº†ï¼Œå°±æ˜¯èƒ½å°†æ•°æ®åº“é‚£äº›é…ç½®é¡¹ä»æ ¸å¿ƒé…ç½®ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œé™ä½è€¦åˆã€‚&lt;/p>
&lt;h4 id="ç”¨æ³•">&lt;a href="#%e7%94%a8%e6%b3%95" class="header-anchor">&lt;/a>ç”¨æ³•
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>åœ¨&lt;code>resources&lt;/code>ç›®å½•ä¸‹åˆ›å»º&lt;code>db.properties&lt;/code>ï¼Œå¡«å…¥ä¸‹é¢çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="na">driver&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">com.mysql.cj.jdbc.Driver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">jdbc:mysql://localhost:3306/mybatis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">username&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">root&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨é…ç½®xmlä¸­å¯¼å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--å¼•ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;properties&lt;/span> &lt;span class="na">resource=&lt;/span>&lt;span class="s">&amp;#34;db.properties&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¤–éƒ¨æ–‡ä»¶ä¼˜å…ˆçº§å¤§äºå†…éƒ¨ï¼ˆä¸‹é¢ï¼‰--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;123&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/properties&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œåªéœ€è¦ç”¨&lt;code>&amp;lt;properties resource=&amp;quot;db.properties&amp;quot;/&amp;gt;&lt;/code>è¿™çŸ­çŸ­ä¸€å¥å°±è¡Œäº†ï¼Œä¸Šé¢çš„ä»£ç æ˜¯ç”¨æ¥æµ‹è¯•ä¼˜å…ˆçº§çš„&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="settings">&lt;a href="#settings" class="header-anchor">&lt;/a>settings
&lt;/h3>&lt;p>è¿™é‡Œå­˜æ”¾çš„æ˜¯MyBatisçš„ä¸€äº›è®¾ç½®é¡¹ï¼Œå…·ä½“çš„å†…å®¹åœ¨&lt;a class="link" href="https://mybatis.org/mybatis-3/zh/configuration.html#settings" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ä¸Šå¯ä»¥æŸ¥çœ‹&lt;/p>
&lt;p>å¸¸ç”¨çš„è®¾ç½®é¡¹æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">è®¾ç½®å&lt;/th>
&lt;th style="text-align: center">æè¿°&lt;/th>
&lt;th style="text-align: center">æœ‰æ•ˆå€¼&lt;/th>
&lt;th style="text-align: center">é»˜è®¤å€¼&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">cacheEnabled&lt;/td>
&lt;td style="text-align: center">å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚&lt;/td>
&lt;td style="text-align: center">true | false&lt;/td>
&lt;td style="text-align: center">true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">mapUnderscoreToCamelCase&lt;/td>
&lt;td style="text-align: center">æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—åA_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚&lt;/td>
&lt;td style="text-align: center">true | false&lt;/td>
&lt;td style="text-align: center">False&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">logImpl&lt;/td>
&lt;td style="text-align: center">æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚&lt;/td>
&lt;td style="text-align: center">SLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING&lt;/td>
&lt;td style="text-align: center">æœªè®¾ç½®&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="typealiases">&lt;a href="#typealiases" class="header-anchor">&lt;/a>typeAliases
&lt;/h3>&lt;p>ç±»å‹åˆ«åæ˜¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªçŸ­çš„åå­—ã€‚å®ƒåªå’Œ XML é…ç½®æœ‰å…³ï¼Œå­˜åœ¨çš„æ„ä¹‰ä»…åœ¨äºç”¨æ¥å‡å°‘ç±»å®Œå…¨é™å®šåçš„å†—ä½™ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯åœ¨&lt;code>resultType&lt;/code>å’Œ&lt;code>parameterType&lt;/code>ä¸­ä¸éœ€è¦å†™é‚£ä¹ˆé•¿çš„ç±»åäº†&lt;/p>
&lt;h4 id="ç”¨æ³•-1">&lt;a href="#%e7%94%a8%e6%b3%95-1" class="header-anchor">&lt;/a>ç”¨æ³•
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--æ‰‹åŠ¨æŒ‡å®š--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;typeAlias&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo.User&amp;#34;&lt;/span> &lt;span class="na">alias=&lt;/span>&lt;span class="s">&amp;#34;User&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--è‡ªåŠ¨æ‰«æåŒ…ä¸‹æ‰€æœ‰ç±»ï¼Œåˆ«åä¸ºç±»åå…¨å°å†™--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;package&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.pojo&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/typeAliases&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§å°±æ˜¯æ‰‹åŠ¨æŒ‡å®šåˆ«åï¼Œç¬¬äºŒç§å°±æ˜¯é€šè¿‡&lt;code>package&lt;/code>æ ‡ç­¾è‡ªåŠ¨æ‰«æåŒ…ä¸‹æ‰€æœ‰çš„ç±»&lt;/p>
&lt;p>åœ¨ç¬¬äºŒç§æ–¹æ³•ä¸‹ï¼Œé»˜è®¤åˆ«åæ˜¯ç±»åå…¨å°å†™ï¼ˆå½“ç„¶é¦–å­—æ¯å¤§å†™ä¹ŸåŒæ ·å¯ç”¨ï¼‰&lt;/p>
&lt;p>å¦‚æœåœ¨ç±»å‰åŠ ä¸Š&lt;code>@Alias&lt;/code>æ³¨è§£ï¼Œåˆ™åˆ«åå°±ä¸ºæ‰‹åŠ¨è®¾å®šçš„å†…å®¹ã€‚&lt;/p>
&lt;h3 id="plugins">&lt;a href="#plugins" class="header-anchor">&lt;/a>plugins
&lt;/h3>&lt;p>è¿™é‡Œæ˜¯é…ç½®mybatisçš„æ’ä»¶çš„åœ°æ–¹ï¼Œå¸¸ç”¨çš„æ’ä»¶æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://pagehelper.github.io/" target="_blank" rel="noopener"
>PageHelper&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mp.baomidou.com/" target="_blank" rel="noopener"
>MyBatis-Plus&lt;/a>&lt;/li>
&lt;li>&amp;hellip; &amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œæ˜¯å°±ä¸å±•å¼€è¿™äº›æ’ä»¶äº†ï¼Œä»¥åæœ‰éœ€è¦å†çœ‹&lt;/p>
&lt;h3 id="environments">&lt;a href="#environments" class="header-anchor">&lt;/a>environments
&lt;/h3>&lt;p>é…ç½®MyBatisçš„å¤šå¥—è¿è¡Œç¯å¢ƒï¼Œå°†SQLæ˜ å°„åˆ°å¤šä¸ªä¸åŒçš„æ•°æ®åº“ä¸Šï¼Œå¿…é¡»æŒ‡å®šå…¶ä¸­ä¸€ä¸ªä¸ºé»˜è®¤è¿è¡Œç¯å¢ƒï¼ˆé€šè¿‡defaultæŒ‡å®šï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;environments&lt;/span> &lt;span class="na">default=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;environment&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;development&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;transactionManager&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;JDBC&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dataSource&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;POOLED&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;driver&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;${driver}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;${url}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;${username}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;${password}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dataSource&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/environment&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/environments&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>transactionManager&lt;/code>ï¼š äº‹åŠ¡ç®¡ç†å™¨ ã€‚æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š
&lt;ul>
&lt;li>&lt;strong>JDBC&lt;/strong>ï¼šæ­£å¸¸çš„&lt;/li>
&lt;li>MANAGEDï¼šå‡ ä¹å•¥éƒ½ä¸å¹²&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>dataSource&lt;/code>ï¼šå¦‚ä½•ä½¿ç”¨æ ‡å‡†çš„ JDBC æ•°æ®æºæ¥å£æ¥é…ç½® JDBC è¿æ¥å¯¹è±¡çš„èµ„æºã€‚æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š
&lt;ul>
&lt;li>unpooledï¼šè¿™ä¸ªæ•°æ®æºçš„å®ç°åªæ˜¯æ¯æ¬¡è¢«è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚&lt;/li>
&lt;li>&lt;strong>pooled&lt;/strong>ï¼šè¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€œæ± â€çš„æ¦‚å¿µå°† JDBC è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ , è¿™æ˜¯ä¸€ç§ä½¿å¾—å¹¶å‘ Web åº”ç”¨å¿«é€Ÿå“åº”è¯·æ±‚çš„æµè¡Œå¤„ç†æ–¹å¼ã€‚&lt;/li>
&lt;li>jndiï¼šè¿™ä¸ªæ•°æ®æºçš„å®ç°æ˜¯ä¸ºäº†èƒ½åœ¨å¦‚ Spring æˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­ä½¿ç”¨ï¼Œå®¹å™¨å¯ä»¥é›†ä¸­æˆ–åœ¨å¤–éƒ¨é…ç½®æ•°æ®æºï¼Œç„¶åæ”¾ç½®ä¸€ä¸ª JNDI ä¸Šä¸‹æ–‡çš„å¼•ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="mappers">&lt;a href="#mappers" class="header-anchor">&lt;/a>mappers
&lt;/h3>&lt;p>ç”¨äºå‘Šè¯‰MyBatisæˆ‘ä»¬å†™çš„xmlæ–‡ä»¶åˆ°åº•åœ¨å“ªï¼Œ&lt;strong>æ¯ä¸ªxmlæ–‡ä»¶éƒ½éœ€è¦ç»‘å®šï¼&lt;/strong>&lt;/p>
&lt;p>å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">resource=&lt;/span>&lt;span class="s">&amp;#34;top/lbqaq/dao/UserMapper.xml&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">éœ€è¦é…ç½®æ–‡ä»¶åç§°å’Œæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”ä½äºåŒä¸€ç›®å½•ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.dao.UserMapper&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">ä½†æ˜¯éœ€è¦é…ç½®æ–‡ä»¶åç§°å’Œæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”ä½äºåŒä¸€ç›®å½•ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;package&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.mybatis.builder&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mappers&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="resultmap">&lt;a href="#resultmap" class="header-anchor">&lt;/a>ResultMap
&lt;/h2>&lt;h3 id="å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´">&lt;a href="#%e5%b1%9e%e6%80%a7%e5%90%8d%e5%92%8c%e5%ad%97%e6%ae%b5%e5%90%8d%e4%b8%8d%e4%b8%80%e8%87%b4" class="header-anchor">&lt;/a>å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´
&lt;/h3>&lt;p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¼šé‡åˆ°ç±»çš„å±æ€§åå’Œæ•°æ®åº“çš„å­—æ®µåä¸ä¸€è‡´ï¼Œè¿™æ—¶MyBatisçš„è‡ªåŠ¨åŒ¹é…å°†æ— æ³•äº§ç”Ÿä½œç”¨ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨&lt;code>ResultMap&lt;/code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">namespace=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.dao.UserMapper&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--ç»“æœé›†æ˜ å°„--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;UserMap&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--column:æ•°æ®åº“ä¸­çš„å­—æ®µï¼›propertyï¼šå®ä½“ç±»çš„å±æ€§--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- &amp;lt;result column=&amp;#34;id&amp;#34; property=&amp;#34;id&amp;#34;/&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- &amp;lt;result column=&amp;#34;name&amp;#34; property=&amp;#34;name&amp;#34;/&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;pwd&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getUserById&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;int&amp;#34;&lt;/span> &lt;span class="na">resultMap=&lt;/span>&lt;span class="s">&amp;#34;UserMap&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from user where id=#{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mapper&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¤šå¯¹ä¸€">&lt;a href="#%e5%a4%9a%e5%af%b9%e4%b8%80" class="header-anchor">&lt;/a>å¤šå¯¹ä¸€
&lt;/h3>&lt;p>åœ¨å¼€å‘æ—¶å¸¸å¸¸ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¤šä¸ªå­¦ç”Ÿéƒ½è¢«ä¸€ä¸ªè€å¸ˆæ•™ï¼Œä¸‹é¢å°†å¯¹è¯¥å®ä¾‹å…·ä½“å±•å¼€æ¥äº†è§£å¤šå¯¹ä¸€å¦‚ä½•å¤„ç†ã€‚&lt;/p>
&lt;h4 id="ç¯å¢ƒæ­å»º">&lt;a href="#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" class="header-anchor">&lt;/a>ç¯å¢ƒæ­å»º
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>æ·»åŠ Lombokæ’ä»¶&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼•å…¥Mavenä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.projectlombok&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>lombok&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.18.20&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;scope&amp;gt;&lt;/span>provided&lt;span class="nt">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç¼–å†™å®ä½“ç±»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * å­¦ç”Ÿéœ€è¦å…³è”ä¸€ä¸ªè€å¸ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Teacher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">teacher&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Teacher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†">&lt;a href="#%e6%8c%89%e6%9f%a5%e8%af%a2%e5%b5%8c%e5%a5%97%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†
&lt;/h4>&lt;p>æ€è·¯ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>è·å–æ‰€æœ‰å­¦ç”Ÿçš„ä¿¡æ¯&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ ¹æ®è·å–çš„å­¦ç”Ÿä¿¡æ¯çš„è€å¸ˆID-&amp;gt;è·å–è¯¥è€å¸ˆçš„ä¿¡æ¯&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ€è€ƒé—®é¢˜ï¼Œè¿™æ ·å­¦ç”Ÿçš„ç»“æœé›†ä¸­åº”è¯¥åŒ…å«è€å¸ˆï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Œæ•°æ®åº“ä¸­æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å…³è”æŸ¥è¯¢ï¼Ÿ&lt;/p>
&lt;ol>
&lt;li>åšä¸€ä¸ªç»“æœé›†æ˜ å°„ï¼šStudentTeacher&lt;/li>
&lt;li>StudentTeacherç»“æœé›†çš„ç±»å‹ä¸º Student&lt;/li>
&lt;li>å­¦ç”Ÿä¸­è€å¸ˆçš„å±æ€§ä¸ºteacherï¼Œå¯¹åº”æ•°æ®åº“ä¸­ä¸ºtidã€‚
å¤šä¸ª [1,&amp;hellip;ï¼‰å­¦ç”Ÿå…³è”ä¸€ä¸ªè€å¸ˆ=&amp;gt; ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤š&lt;/li>
&lt;li>æŸ¥çœ‹å®˜ç½‘æ‰¾åˆ°ï¼šassociation â€“ ä¸€ä¸ªå¤æ‚ç±»å‹çš„å…³è”ï¼›ä½¿ç”¨å®ƒæ¥å¤„ç†å…³è”æŸ¥è¯¢&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getStudent&amp;#34;&lt;/span> &lt;span class="na">resultMap=&lt;/span>&lt;span class="s">&amp;#34;StudentTeacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from student
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;StudentTeacher&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--å¤æ‚çš„å±æ€§éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼šassociation é›†åˆï¼šcollection--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;association&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;tid&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;teacher&amp;#34;&lt;/span> &lt;span class="na">javaType=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span> &lt;span class="na">select=&lt;/span>&lt;span class="s">&amp;#34;getTeacher&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getTeacher&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from teacher where id=#{tid}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„ç‚¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;StudentTeacher&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--associationå…³è”å±æ€§ propertyå±æ€§å javaTypeå±æ€§ç±»å‹ columnåœ¨å¤šçš„ä¸€æ–¹çš„è¡¨ä¸­çš„åˆ—å--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;association&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;teacher&amp;#34;&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;{id=tid,name=tid}&amp;#34;&lt;/span> &lt;span class="na">javaType=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span> &lt;span class="na">select=&lt;/span>&lt;span class="s">&amp;#34;getTeacher&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">è¿™é‡Œä¼ é€’è¿‡æ¥çš„idï¼Œåªæœ‰ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œä¸‹é¢å¯ä»¥å†™ä»»ä½•å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">associationä¸­columnå¤šå‚æ•°é…ç½®ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> column=&amp;#34;{key=value,key=value}&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> å…¶å®å°±æ˜¯é”®å€¼å¯¹çš„å½¢å¼ï¼Œkeyæ˜¯ä¼ ç»™ä¸‹ä¸ªsqlçš„å–å€¼åç§°ï¼Œvalueæ˜¯ç‰‡æ®µä¸€ä¸­sqlæŸ¥è¯¢çš„å­—æ®µåã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getTeacher&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;teacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from teacher where id = #{id} and name = #{name}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒéš¾ä»¥ç†è§£çš„ï¼Œä¸€èˆ¬æˆ‘é€‰æ‹©ç”¨ç¬¬äºŒç§æ–¹æ³•&lt;/p>
&lt;h4 id="æŒ‰ç»“æœåµŒå¥—å¤„ç†">&lt;a href="#%e6%8c%89%e7%bb%93%e6%9e%9c%e5%b5%8c%e5%a5%97%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>æŒ‰ç»“æœåµŒå¥—å¤„ç†
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getStudent2&amp;#34;&lt;/span> &lt;span class="na">resultMap=&lt;/span>&lt;span class="s">&amp;#34;StudentTeacher2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select s.id sid,s.name sname,t.name tname
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> from student s,teacher t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> where s.tid=t.id
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;StudentTeacher2&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;sid&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;sname&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;association&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;teacher&amp;#34;&lt;/span> &lt;span class="na">javaType=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;tname&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/association&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ç§å°±æ¯”è¾ƒå¥½ç†è§£äº†ï¼Œéš¾åº¦ä¸»è¦åœ¨sqléƒ¨åˆ†ï¼Œå¥½åœ¨ä¹‹å‰æ•°æ®åº“å­¦çš„è¿˜è¡Œï¼Œè¿™ç§æ–¹æ³•è¿˜æ˜¯æ¯”è¾ƒé€‚åˆæˆ‘ã€‚&lt;/p>
&lt;h3 id="ä¸€å¯¹å¤š">&lt;a href="#%e4%b8%80%e5%af%b9%e5%a4%9a" class="header-anchor">&lt;/a>ä¸€å¯¹å¤š
&lt;/h3>&lt;p>ä¸€ä¸ªè€å¸ˆä¼šæ•™å¤šä¸ªå­¦ç”Ÿã€‚&lt;/p>
&lt;h4 id="ç¯å¢ƒæ­å»º-1">&lt;a href="#%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba-1" class="header-anchor">&lt;/a>ç¯å¢ƒæ­å»º
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tid&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Teacher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * ä¸€ä¸ªè€å¸ˆæœ‰å¤šä¸ªå­¦ç”Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Student&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">students&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æŒ‰ç»“æœåµŒå¥—æŸ¥è¯¢">&lt;a href="#%e6%8c%89%e7%bb%93%e6%9e%9c%e5%b5%8c%e5%a5%97%e6%9f%a5%e8%af%a2" class="header-anchor">&lt;/a>æŒ‰ç»“æœåµŒå¥—æŸ¥è¯¢
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æŒ‰ç»“æœåµŒå¥—æŸ¥è¯¢--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getTeacher&amp;#34;&lt;/span> &lt;span class="na">resultMap=&lt;/span>&lt;span class="s">&amp;#34;TeacherStudent&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select s.id sid,s.name sname,t.name tname,t.id tid
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> from student s,teacher t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> where s.tid=t.id and t.id=#{tid}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;TeacherStudent&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;tid&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;tname&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ç”¨ofTypeè·å–--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;collection&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;students&amp;#34;&lt;/span> &lt;span class="na">ofType=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;sid&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;sname&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;result&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;tid&amp;#34;&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;tid&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/collection&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>JavaType&lt;/code>å’Œ&lt;code>ofType&lt;/code>éƒ½æ˜¯ç”¨æ¥æŒ‡å®šå¯¹è±¡ç±»å‹çš„ã€‚&lt;/p>
&lt;p>&lt;code>JavaType&lt;/code>æ˜¯ç”¨æ¥æŒ‡å®š&lt;code>pojo&lt;/code>ä¸­å±æ€§çš„ç±»å‹ã€‚&lt;/p>
&lt;p>&lt;code>ofType&lt;/code>æŒ‡å®šçš„æ˜¯æ˜ å°„åˆ°listé›†åˆå±æ€§ä¸­&lt;code>pojo&lt;/code>çš„ç±»å‹ã€‚&lt;/p>
&lt;h4 id="æŒ‰æŸ¥è¯¢åµŒå¥—">&lt;a href="#%e6%8c%89%e6%9f%a5%e8%af%a2%e5%b5%8c%e5%a5%97" class="header-anchor">&lt;/a>æŒ‰æŸ¥è¯¢åµŒå¥—
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--æŒ‰æŸ¥è¯¢åµŒå¥—--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getTeacher2&amp;#34;&lt;/span> &lt;span class="na">resultMap=&lt;/span>&lt;span class="s">&amp;#34;TeacherStudent2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from teacher where id=#{tid}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;resultMap&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;TeacherStudent2&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;Teacher&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;collection&lt;/span> &lt;span class="na">property=&lt;/span>&lt;span class="s">&amp;#34;students&amp;#34;&lt;/span> &lt;span class="na">javaType=&lt;/span>&lt;span class="s">&amp;#34;ArrayList&amp;#34;&lt;/span> &lt;span class="na">ofType=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span> &lt;span class="na">select=&lt;/span>&lt;span class="s">&amp;#34;getStudentByTeacherId&amp;#34;&lt;/span> &lt;span class="na">column=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/resultMap&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;getStudentByTeacherId&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;Student&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from student where tid = #{tid}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ—¥å¿—å·¥å‚">&lt;a href="#%e6%97%a5%e5%bf%97%e5%b7%a5%e5%8e%82" class="header-anchor">&lt;/a>æ—¥å¿—å·¥å‚
&lt;/h2>&lt;p>å¦‚æœä¸€ä¸ªæ•°æ®åº“ç›¸å…³çš„æ“ä½œå‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¾“å‡ºçš„SQLè¯­å¥å¿«é€Ÿæ’æŸ¥é—®é¢˜ã€‚å¯è§æ‰“å°å‡ºSQLè¯­å¥æ˜¯ååˆ†é‡è¦çš„ã€‚ï¼ˆè¿˜è®°å¾—ä¹‹å‰é¡¹ç›®ç»¼åˆå®è·µä¸ºäº†ææ—¥å¿—å¿™äº†åŠå¤©ï¼Œç»“æœè¿˜æ˜¯æ²¡æå‡ºæ¥ğŸ˜­ï¼‰&lt;/p>
&lt;h3 id="æ ‡å‡†æ—¥å¿—">&lt;a href="#%e6%a0%87%e5%87%86%e6%97%a5%e5%bf%97" class="header-anchor">&lt;/a>æ ‡å‡†æ—¥å¿—
&lt;/h3>&lt;p>åœ¨MyBatisé‡Œè‡ªå¸¦äº†é€šè¿‡æ§åˆ¶å°æ‰“å°çš„æ—¥å¿—åŠŸèƒ½ï¼Œå¦‚æœé¡¹ç›®å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œç”¨å®ƒå°±è¶³å¤Ÿäº†ã€‚&lt;/p>
&lt;p>åªéœ€è¦åœ¨è®¾ç½®é‡Œè®¾ç½®å¯ç”¨å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;settings&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;setting&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;logImpl&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;STDOUT_LOGGING&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/settings&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="log4j">&lt;a href="#log4j" class="header-anchor">&lt;/a>log4j
&lt;/h3>&lt;p>log4jç›¸æ¯”æ ‡å‡†æ—¥å¿—ï¼Œé‚£ä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†ï¼Œå…·ä½“çš„åŠŸèƒ½æˆ‘å°±ä¸å†™äº†ï¼Œæ¯•ç«Ÿä¸€ç™¾åº¦å°±èƒ½å‡ºæ¥äº†ã€‚&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨æ­¥éª¤ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å¯¼å…¥log4jçš„åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>log4j&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>log4j&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.2.17&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>resources&lt;/code>ç›®å½•ä¸‹æ–°å»º&lt;code>log4j.properties&lt;/code>ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹é…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.rootLogger&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG,console,file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.console&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">org.apache.log4j.ConsoleAppender&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.console.Target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">System.out&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.console.Threshold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.console.layout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">org.apache.log4j.PatternLayout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.console.layout.ConversionPattern&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">[%c]-%m%n&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">org.apache.log4j.RollingFileAppender&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file.File&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">./log/log.log&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file.MaxFileSize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">10mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file.Threshold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file.layout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">org.apache.log4j.PatternLayout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.appender.file.layout.ConversionPattern&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">[%p][%d{yy-MM-dd}][%c]%m%n&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æ—¥å¿—è¾“å‡ºçº§åˆ«&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.logger.org.mybatis&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.logger.java.sql&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.logger.java.sql.Statement&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.logger.java.sql.ResultSet&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">log4j.logger.java.sql.PreparedStatement&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DEBUG&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨MyBatisé‡Œå¯ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;settings&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;setting&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;logImpl&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;LOG4J&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/settings&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åœ¨ç¨‹åºä¸­ä½¿ç”¨Log4jè¿›è¡Œè¾“å‡º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.apache.log4j.Logger&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.junit.Test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserMapperTest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getLogger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserMapperTest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">testLog4j&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;info:è¿›å…¥äº†testLog4j&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;debug:è¿›å…¥äº†testLog4j&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error:è¿›å…¥äº†testLog4j&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="ä½¿ç”¨æ³¨è§£å¼€å‘">&lt;a href="#%e4%bd%bf%e7%94%a8%e6%b3%a8%e8%a7%a3%e5%bc%80%e5%8f%91" class="header-anchor">&lt;/a>ä½¿ç”¨æ³¨è§£å¼€å‘
&lt;/h2>&lt;p>MyBatisæœ€åˆé…ç½®ä¿¡æ¯æ˜¯åŸºäº XML ,æ˜ å°„è¯­å¥(SQL)ä¹Ÿæ˜¯å®šä¹‰åœ¨ XML ä¸­çš„ã€‚&lt;/p>
&lt;p>è€Œåˆ°MyBatis 3æä¾›äº†æ–°çš„åŸºäºæ³¨è§£çš„é…ç½®ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒJava æ³¨è§£çš„çš„è¡¨è¾¾åŠ›å’Œçµæ´»æ€§ååˆ†æœ‰é™ã€‚æœ€å¼ºå¤§çš„ MyBatis æ˜ å°„å¹¶ä¸èƒ½ç”¨æ³¨è§£æ¥æ„å»ºã€‚&lt;/p>
&lt;p>åœ¨æ³¨è§£å¼€å‘ä¸­ï¼Œä¸»è¦ä½¿ç”¨è¿™å‡ ä¸ªæ³¨è§£ï¼š&lt;code>@select ()&lt;/code>ã€&lt;code>@update ()&lt;/code>ã€&lt;code>@Insert ()&lt;/code>ã€&lt;code>@delete ()&lt;/code>&lt;/p>
&lt;p>ä¸¾ä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;select * from user&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;select * from user where id=#{id}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserByID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;insert into user(id,name,pwd) values(#{id},#{name},#{pwd})&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ”¹é€ &lt;code>MybatisUtils&lt;/code>å·¥å…·ç±»çš„&lt;code>getSession()&lt;/code> æ–¹æ³•ï¼Œé‡è½½å®ç°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//è·å–SqlSessionè¿æ¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getSession&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getSession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//äº‹åŠ¡è‡ªåŠ¨æäº¤&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SqlSession&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getSession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">flag&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sqlSessionFactory&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">openSession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">flag&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>@Paramæ³¨è§£ç”¨äºç»™æ–¹æ³•å‚æ•°èµ·ä¸€ä¸ªåå­—ã€‚ä»¥ä¸‹æ˜¯æ€»ç»“çš„ä½¿ç”¨åŸåˆ™ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨æ–¹æ³•åªæ¥å—ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸ä½¿ç”¨@Paramã€‚&lt;/li>
&lt;li>åœ¨æ–¹æ³•æ¥å—å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸€å®šè¦ä½¿ç”¨@Paramæ³¨è§£ç»™å‚æ•°å‘½åã€‚&lt;/li>
&lt;li>å¦‚æœå‚æ•°æ˜¯ JavaBean ï¼Œ åˆ™ä¸èƒ½ä½¿ç”¨@Paramã€‚&lt;/li>
&lt;li>ä¸ä½¿ç”¨@Paramæ³¨è§£æ—¶ï¼Œå‚æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”æ˜¯JavaBeanã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="åŠ¨æ€sql">&lt;a href="#%e5%8a%a8%e6%80%81sql" class="header-anchor">&lt;/a>åŠ¨æ€SQL
&lt;/h2>&lt;p>&lt;strong>åŠ¨æ€SQLæŒ‡çš„æ˜¯æ ¹æ®ä¸åŒçš„æŸ¥è¯¢æ¡ä»¶ , ç”Ÿæˆä¸åŒçš„sqlè¯­å¥ã€‚&lt;/strong>&lt;/p>
&lt;p>ä¸»è¦ä½¿ç”¨è¿™å‡ ä¸ªæ ‡ç­¾ï¼š&lt;code>if&lt;/code>ã€&lt;code>choose&lt;/code>ã€&lt;code>where&lt;/code>ã€&lt;code>set&lt;/code>ã€&lt;code>foreach&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE mapper
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> PUBLIC &amp;#34;-//mybatis.org//DTD Config 3.0//EN&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp"> &amp;#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mapper&lt;/span> &lt;span class="na">namespace=&lt;/span>&lt;span class="s">&amp;#34;top.lbqaq.dao.BlogMapper&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;insert&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;addBook&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;Blog&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> insert into blog(id, title, author, create_time, views)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> values (#{id}, #{title}, #{author}, #{createTime}, #{views})
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/insert&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;queryBlogIF&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;Blog&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;title != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title = #{title}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;author != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> and author = #{author}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;queryBlogChoose&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;Blog&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;choose&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;when&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;title != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title = #{title}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/when&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;when&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;author != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> and author = #{author}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/when&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;otherwise&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> and views = #{view}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/otherwise&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/choose&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;update&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;updateBlog&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> update blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;set&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;title != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title = #{title},
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;author != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> author = #{author}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/set&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> where id = #{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/update&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;queryBlogForeach&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;Blog&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--collection:æŒ‡å®šè¾“å…¥å¯¹è±¡ä¸­çš„é›†åˆå±æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> item:æ¯æ¬¡éå†ç”Ÿæˆçš„å¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> open:å¼€å§‹éå†æ—¶çš„æ‹¼æ¥å­—ç¬¦ä¸²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> close:ç»“æŸæ—¶æ‹¼æ¥çš„å­—ç¬¦ä¸²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> separator:éå†å¯¹è±¡ä¹‹é—´éœ€è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;foreach&lt;/span> &lt;span class="na">collection=&lt;/span>&lt;span class="s">&amp;#34;ids&amp;#34;&lt;/span> &lt;span class="na">item=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">open=&lt;/span>&lt;span class="s">&amp;#34;(&amp;#34;&lt;/span> &lt;span class="na">close=&lt;/span>&lt;span class="s">&amp;#34;)&amp;#34;&lt;/span> &lt;span class="na">separator=&lt;/span>&lt;span class="s">&amp;#34;or&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id = #{id}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/foreach&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mapper&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="sqlç‰‡æ®µ">&lt;a href="#sql%e7%89%87%e6%ae%b5" class="header-anchor">&lt;/a>SQLç‰‡æ®µ
&lt;/h3>&lt;p>æœ‰æ—¶å€™å¯èƒ½æŸä¸ª sql è¯­å¥æˆ‘ä»¬ç”¨çš„ç‰¹åˆ«å¤šï¼Œä¸ºäº†å¢åŠ ä»£ç çš„é‡ç”¨æ€§ï¼Œç®€åŒ–ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›ä»£ç æŠ½å–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨æ—¶ç›´æ¥è°ƒç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>æå–SQLç‰‡æ®µï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;sql&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;if-title-author&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;title != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title = #{title}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;if&lt;/span> &lt;span class="na">test=&lt;/span>&lt;span class="s">&amp;#34;author != null&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> and author = #{author}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/if&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/sql&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¼•ç”¨SQLç‰‡æ®µï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;select&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;queryBlogIf&amp;#34;&lt;/span> &lt;span class="na">parameterType=&lt;/span>&lt;span class="s">&amp;#34;map&amp;#34;&lt;/span> &lt;span class="na">resultType=&lt;/span>&lt;span class="s">&amp;#34;blog&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> select * from blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- å¼•ç”¨ sql ç‰‡æ®µï¼Œå¦‚æœrefid æŒ‡å®šçš„ä¸åœ¨æœ¬æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆéœ€è¦åœ¨å‰é¢åŠ ä¸Š namespace --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;include&lt;/span> &lt;span class="na">refid=&lt;/span>&lt;span class="s">&amp;#34;if-title-author&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/include&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- åœ¨è¿™é‡Œè¿˜å¯ä»¥å¼•ç”¨å…¶ä»–çš„ sql ç‰‡æ®µ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/where&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/select&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„ï¼š&lt;/p>
&lt;p>â‘ ã€æœ€å¥½åŸºäº å•è¡¨æ¥å®šä¹‰ sql ç‰‡æ®µï¼Œæé«˜ç‰‡æ®µçš„å¯é‡ç”¨æ€§&lt;/p>
&lt;p>â‘¡ã€åœ¨ sql ç‰‡æ®µä¸­ä¸è¦åŒ…æ‹¬ where&lt;/p>
&lt;h2 id="ç¼“å­˜">&lt;a href="#%e7%bc%93%e5%ad%98" class="header-anchor">&lt;/a>ç¼“å­˜
&lt;/h2>&lt;h3 id="ç®€ä»‹-1">&lt;a href="#%e7%ae%80%e4%bb%8b-1" class="header-anchor">&lt;/a>ç®€ä»‹
&lt;/h3>&lt;p>1ã€ä»€ä¹ˆæ˜¯ç¼“å­˜ [ Cache ]ï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®ã€‚&lt;/li>
&lt;li>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»ç£ç›˜ä¸Š(å…³ç³»å‹æ•°æ®åº“æ•°æ®æ–‡ä»¶)æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚&lt;/li>
&lt;/ul>
&lt;p>2ã€ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚&lt;/li>
&lt;/ul>
&lt;p>3ã€ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="mybatisç¼“å­˜">&lt;a href="#mybatis%e7%bc%93%e5%ad%98" class="header-anchor">&lt;/a>MyBatisç¼“å­˜
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šåˆ¶å’Œé…ç½®ç¼“å­˜ã€‚ç¼“å­˜å¯ä»¥æå¤§çš„æå‡æŸ¥è¯¢æ•ˆç‡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼š&lt;strong>ä¸€çº§ç¼“å­˜&lt;/strong>å’Œ&lt;strong>äºŒçº§ç¼“å­˜&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€çº§ç¼“å­˜å¼€å¯ã€‚ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰&lt;/li>
&lt;li>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚&lt;/li>
&lt;li>ä¸ºäº†æé«˜æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ä¸€çº§ç¼“å­˜">&lt;a href="#%e4%b8%80%e7%ba%a7%e7%bc%93%e5%ad%98" class="header-anchor">&lt;/a>ä¸€çº§ç¼“å­˜
&lt;/h3>&lt;p>ä¸€çº§ç¼“å­˜ä¹Ÿå«æœ¬åœ°ç¼“å­˜ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ã€‚&lt;/li>
&lt;li>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…é¡»å†å»æŸ¥è¯¢æ•°æ®åº“ï¼›&lt;/li>
&lt;/ul>
&lt;h4 id="ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ">&lt;a href="#%e4%b8%80%e7%ba%a7%e7%bc%93%e5%ad%98%e5%a4%b1%e6%95%88%e7%9a%84%e5%9b%9b%e7%a7%8d%e6%83%85%e5%86%b5" class="header-anchor">&lt;/a>ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ
&lt;/h4>&lt;ol>
&lt;li>sqlSessionä¸åŒ&lt;/li>
&lt;li>sqlSessionç›¸åŒï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸åŒ&lt;/li>
&lt;li>sqlSessionç›¸åŒï¼Œä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œï¼&lt;/li>
&lt;li>sqlSessionç›¸åŒï¼Œæ‰‹åŠ¨æ¸…é™¤ä¸€çº§ç¼“å­˜&lt;/li>
&lt;/ol>
&lt;h3 id="äºŒçº§ç¼“å­˜">&lt;a href="#%e4%ba%8c%e7%ba%a7%e7%bc%93%e5%ad%98" class="header-anchor">&lt;/a>äºŒçº§ç¼“å­˜
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>äºŒçº§ç¼“å­˜ä¹Ÿå«å…¨å±€ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜ä½œç”¨åŸŸå¤ªä½äº†ï¼Œæ‰€ä»¥è¯ç”Ÿäº†äºŒçº§ç¼“å­˜&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼Œä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼›&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å·¥ä½œæœºåˆ¶&lt;/p>
&lt;/li>
&lt;li>
&lt;ul>
&lt;li>ä¸€ä¸ªä¼šè¯æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­ï¼›&lt;/li>
&lt;li>å¦‚æœå½“å‰ä¼šè¯å…³é—­äº†ï¼Œè¿™ä¸ªä¼šè¯å¯¹åº”çš„ä¸€çº§ç¼“å­˜å°±æ²¡äº†ï¼›ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼Œä¼šè¯å…³é—­äº†ï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®è¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›&lt;/li>
&lt;li>æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥ä»äºŒçº§ç¼“å­˜ä¸­è·å–å†…å®¹ï¼›&lt;/li>
&lt;li>ä¸åŒçš„mapperæŸ¥å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapï¼‰ä¸­ï¼›&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="ä½¿ç”¨æ–¹æ³•">&lt;a href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>ä½¿ç”¨æ–¹æ³•
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>å¼€å¯å…¨å±€ç¼“å­˜ &lt;code>mybatis-config.xml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;setting&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;cacheEnabled&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å»æ¯ä¸ª&lt;code>mapper.xml&lt;/code>ä¸­é…ç½®ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œè¿™ä¸ªé…ç½®éå¸¸ç®€å•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;cache/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å®˜æ–¹ç¤ºä¾‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">eviction=&lt;/span>&lt;span class="s">&amp;#34;FIFO&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">flushInterval=&lt;/span>&lt;span class="s">&amp;#34;60000&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">size=&lt;/span>&lt;span class="s">&amp;#34;512&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">readOnly=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">è¿™ä¸ªæ›´é«˜çº§çš„é…ç½®åˆ›å»ºäº†ä¸€ä¸ª FIFO ç¼“å­˜ï¼Œæ¯éš” 60 ç§’åˆ·æ–°ï¼Œæœ€å¤šå¯ä»¥å­˜å‚¨ç»“æœå¯¹è±¡æˆ–åˆ—è¡¨çš„ 512 ä¸ªå¼•ç”¨ï¼Œè€Œä¸”è¿”å›çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šåœ¨ä¸åŒçº¿ç¨‹ä¸­çš„è°ƒç”¨è€…äº§ç”Ÿå†²çªã€‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol></description></item><item><title>Qtæ„å»ºqsqlmysql.dll</title><link>https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/</link><pubDate>Thu, 03 Jun 2021 15:44:17 +0800</pubDate><guid>https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/</guid><description>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/89217963.webp" alt="Featured image of post Qtæ„å»ºqsqlmysql.dll" />&lt;p>è¿™ç¯‡æ–‡ç« æˆ‘æ‰“ç®—æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•æ„å»ºqsqlmysql.dllï¼Œç”±äºç‰ˆæƒåŸå› ï¼Œåœ¨æ–°ç‰ˆçš„Qté‡Œæ˜¯ä¸è‡ªå¸¦è¯¥dllçš„ï¼Œè¿™æ ·å¯¹æˆ‘ä»¬ç¼–å†™æ•°æ®åº“ç¨‹åºä¼šå¾ˆéº»çƒ¦ã€‚&lt;del>ï¼ˆä½ ç”¨ODBCï¼Ÿé‚£æ²¡äº‹äº†ï¼‰&lt;/del>&lt;/p>
&lt;p>æˆ‘åœ¨ç½‘ä¸Šä¹ŸæŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œä½†æ ¹æ®æ­¥éª¤æ¥æ€»æ˜¯ä¼šæŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰&lt;code>mysql.h&lt;/code>è¿™ä¸ªå¤´æ–‡ä»¶ã€‚ä¸‹é¢å°±è®°å½•ä¸€ä¸‹æˆ‘æˆåŠŸç¼–è¯‘çš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;h2 id="åŸºäºcmakeçš„æ­¥éª¤">&lt;a href="#%e5%9f%ba%e4%ba%8ecmake%e7%9a%84%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>åŸºäºcmakeçš„æ­¥éª¤
&lt;/h2>&lt;p>åœ¨6.1ä¹‹åçš„Qtç‰ˆæœ¬ä¸­ï¼ŒQtå…¬å¸åˆ é™¤äº†qmakeè€Œæ›´æ¢æˆäº†cmakeçš„æ–¹å¼æ¥æ„å»ºé¡¹ç›®æ–‡ä»¶ï¼Œä¸‹é¢å°±æ˜¯æˆ‘æ€»ç»“çš„ä½¿ç”¨cmakeç”Ÿæˆçš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> è·¯å¾„çš„å‰æ®µéƒ¨åˆ†(è½¯ä»¶çš„å®‰è£…ä½ç½®)æ¯ä¸ªäººå¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯è·¯å¾„çš„åæ®µéƒ¨åˆ†åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;p>1.å‡†å¤‡å¥½Qtçš„æºä»£ç ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥åœ¨Qtçš„å®‰è£…ç›®å½•æ‰“å¼€&lt;code>MaintenanceTool.exe&lt;/code>å¯åŠ¨Qtç»„ä»¶ç®¡ç†ï¼Œåœ¨é‡Œé¢å‹¾é€‰&lt;code>Src&lt;/code>æŠŠæºç ä¸‹è½½ä¸‹æ¥ã€‚&lt;/p>
&lt;p>2.æ‰“å¼€&lt;code>cmake-gui&lt;/code>ï¼Œé€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹ä¸º&lt;code>D:\Qt\6.1.1\Src\qtbase\src\plugins\sqldrivers&lt;/code>ï¼Œå¹¶è®¾ç½®ç”Ÿæˆæ–‡ä»¶å¤¹ä¸º&lt;code>D:/Qt/6.1.1/Src/qtbase/src/plugins/sqldrivers/build&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1.png"
width="922"
height="928"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1_hu_c3e2a86462e0bd6b.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/1_hu_74ff6cff5fe4dcc2.png 1024w"
loading="lazy"
alt="é…ç½®æ–‡ä»¶å¤¹"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="238px"
>&lt;/p>
&lt;p>3.ç‚¹å‡»å·¦ä¸‹è§’çš„&lt;code>Configure&lt;/code>ï¼Œä¼šæç¤ºç”Ÿæˆçš„ç›®å½•ä¸å­˜åœ¨æ˜¯å¦åˆ›å»ºï¼Œç›´æ¥ç‚¹æ˜¯å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>4.ç¼–è¯‘å™¨è¿™é‡Œé€‰æ‹©&lt;code>MinGW Makefiles&lt;/code>,ç„¶åç‚¹å‡»&lt;code>Finish&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2.png"
width="500"
height="360"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2_hu_f131fe1572fbc047.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/2_hu_f3f2fb0137562c1e.png 1024w"
loading="lazy"
alt="é€‰æ‹©ç¼–è¯‘å™¨"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="333px"
>&lt;/p>
&lt;p>5.ç­‰å¾…ç”Ÿæˆå®Œæˆåï¼ŒæŠŠ&lt;code>FEATURE_sql_mysql&lt;/code>åé¢çš„å‹¾å‹¾ä¸Šï¼Œç„¶åæŠŠå…¶ä½™çš„&lt;code>FEATURE_sql&lt;/code>åé¢çš„å‹¾å–æ¶ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3.png"
width="920"
height="889"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3_hu_e62add914b93c6ab.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/3_hu_2744fc6fb221bd88.png 1024w"
loading="lazy"
alt="é€‰æ‹©ç”Ÿæˆæ¨¡å—"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="248px"
>&lt;/p>
&lt;p>6.å†æ¬¡ç‚¹å‡»å·¦ä¸‹è§’çš„&lt;code>Configure&lt;/code>ï¼Œå¯ä»¥å‘ç°ä¸Šé¢çš„çº¢æ¡†å·²ç»æ¶ˆå¤±äº†ï¼Œè¯´æ˜é…ç½®æˆåŠŸäº†ã€‚ç„¶åç‚¹å‡»&lt;code>Generate&lt;/code>ï¼Œç”Ÿæˆ&lt;code>Makefiles&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4.png"
width="922"
height="928"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4_hu_4d12fe9c9a31361f.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/4_hu_79c714ebe366bc66.png 1024w"
loading="lazy"
alt="é…ç½®æˆåŠŸ"
class="gallery-image"
data-flex-grow="99"
data-flex-basis="238px"
>&lt;/p>
&lt;p>7.è¿™æ—¶é…ç½®æ–‡ä»¶å·²ç»æ„å»ºå®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç”Ÿæˆdlläº†ï¼Œæ‰“å¼€&lt;code>PowerShell&lt;/code>åˆ‡æ¢ç›®å½•è‡³&lt;code>D:/Qt/6.1.1/Src/qtbase/src/plugins/sqldrivers/build&lt;/code>ï¼Œè¾“å…¥&lt;code>mingw32-make&lt;/code>å¼€å§‹ç¼–è¯‘ç”Ÿæˆdllã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5.png"
width="1461"
height="855"
srcset="https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5_hu_6570cf59c40893e7.png 480w, https://lbqaq.top/p/qt%E6%9E%84%E5%BB%BAqsqlmysql.dll/IMAGE/5_hu_a9d9b336aeab66ab.png 1024w"
loading="lazy"
alt="ç¼–è¯‘æˆåŠŸ"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;p>æ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜ç”ŸæˆæˆåŠŸã€‚&lt;/p>
&lt;p>8.æœ€åæ‰“å¼€ç›®å½•&lt;code>D:\Qt\6.1.1\Src\qtbase\src\plugins\sqldrivers\build\plugins\sqldrivers&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆå¥½çš„&lt;code>qsqlmysql.dll&lt;/code>äº†ã€‚&lt;/p>
&lt;h2 id="åŸºäºqmakeçš„æ­¥éª¤">&lt;a href="#%e5%9f%ba%e4%ba%8eqmake%e7%9a%84%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>åŸºäºqmakeçš„æ­¥éª¤
&lt;/h2>&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> è·¯å¾„çš„å‰æ®µéƒ¨åˆ†(è½¯ä»¶çš„å®‰è£…ä½ç½®)æ¯ä¸ªäººå¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯è·¯å¾„çš„åæ®µéƒ¨åˆ†åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;p>1.å‡†å¤‡å¥½Qtçš„æºä»£ç ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥åœ¨Qtçš„å®‰è£…ç›®å½•æ‰“å¼€&lt;code>MaintenanceTool.exe&lt;/code>å¯åŠ¨Qtç»„ä»¶ç®¡ç†ï¼Œåœ¨é‡Œé¢å‹¾é€‰&lt;code>Src&lt;/code>æŠŠæºç ä¸‹è½½ä¸‹æ¥ã€‚&lt;/p>
&lt;p>2.è¿›å…¥&lt;code>D:\Qt\6.0.3\Src\qtbase\src\plugins\sqldrivers&lt;/code>ç›®å½•ä¸‹ï¼Œæ‰“å¼€&lt;code>sqldrivers.pro&lt;/code>è¿™ä¸ªæ–‡ä»¶ã€‚&lt;/p>
&lt;p>3.åœ¨å·¦ä¾§æ–‡ä»¶æ ‘ä¸­æ‰“å¼€&lt;code>mysql&lt;/code>æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©&lt;code>mysql.pro&lt;/code>æ‰“å¼€ã€‚&lt;/p>
&lt;p>4.ä¿®æ”¹é‡Œé¢çš„å†…å®¹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ³¨é‡Šæ‰&lt;code>QMAKE_USE += mysql&lt;/code>è¿™ä¸€å¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¢åŠ ä¸‹é¢ä¸‰è¡Œä»£ç (æ³¨æ„æŠŠ&lt;code>D:/MySQL/&lt;/code>æ”¹ä¸ºä½ MySQLçš„å®‰è£…è·¯å¾„)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">LIBS +=-LD:/MySQL/lib -llibmysql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INCLUDEPATH += D:/MySQL/include
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DEPENDPATH += D:/MySQL/include
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>5.ç‚¹å‡»Qtå·¦ä¸‹è§’çš„å°é”¤å­è¿›è¡Œæ„å»ºï¼Œä¸å‡ºæ„å¤–çš„è¯å°±å¯ä»¥åœ¨&lt;code>D:\Qt\6.0.3\Src\qtbase\src\plugins&lt;/code>è¿™ä¸ªè·¯å¾„ä¸‹çœ‹åˆ°&lt;code>build&lt;/code>å¼€å¤´çš„æ–‡ä»¶å¤¹ï¼Œåœ¨&lt;code>.\plugins\sqldrivers&lt;/code>ç›®å½•ä¸‹å°±èƒ½çœ‹åˆ°ç¼–è¯‘å¥½çš„dlläº†ã€‚&lt;/p>
&lt;p>6.æœ€åå°†&lt;code>qsqlmysql.dll&lt;/code>æ”¾å…¥&lt;code>D:\Qt\6.0.3\mingw81_64\plugins\sqldrivers\&lt;/code>é‡Œå°±è¡Œäº†ã€‚å¦‚æœé“¾æ¥æ•°æ®åº“æ—¶è¿˜æŠ¥é”™ï¼Œå°±æŠŠ&lt;code>libmysql.dll&lt;/code>å¤åˆ¶åˆ°Qtçš„ç¼–è¯‘å™¨çš„&lt;code>D:\Qt\6.0.3\mingw81_64\bin\&lt;/code>ç›®å½•ã€‚&lt;/p></description></item><item><title>WSL2+WTé…ç½®å°ç»“</title><link>https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/</link><pubDate>Thu, 08 Apr 2021 13:14:20 +0800</pubDate><guid>https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/</guid><description>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/43493473.webp" alt="Featured image of post WSL2+WTé…ç½®å°ç»“" />&lt;p>1202å¹´äº†ï¼Œæ˜¯æ—¶å€™æŠ›å¼ƒè€æ—§çš„cmdçª—å£å’Œè‡ƒè‚¿çš„VMè™šæ‹Ÿæœºäº†ï¼Œæ¥è¯•è¯•å·¨ç¡¬æ¨å‡ºçš„WSL2+Windows Terminal(ï½ï¿£â–½ï¿£)ï½ã€‚&lt;/p>
&lt;h2 id="èµ·å› ">&lt;a href="#%e8%b5%b7%e5%9b%a0" class="header-anchor">&lt;/a>èµ·å› 
&lt;/h2>&lt;p>åœ¨çŸ¥ä¹ä¸Šåˆ·åˆ°äº†ä¸€ç¯‡&lt;a class="link" href="https://www.zhihu.com/question/324218869/answer/1019888224" target="_blank" rel="noopener"
>å›ç­”&lt;/a>ï¼Œæ˜¯å…³äºWindowsç¼–ç¨‹çš„ä½“éªŒçš„ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­æåˆ°äº†WSL2å’ŒWindows Terminalï¼Œæˆ‘ä¸€ä¸‹å°±è¢«é‚£ç²¾ç¾çš„ç•Œé¢å¸å¼•äº†ï¼ˆ&lt;del>ç®¡ä»–å¥½ä¸å¥½ç”¨ï¼Œå¥½çœ‹å°±å®Œäº‹äº†&lt;/del>ï¼‰ã€‚æ­£å¥½ç°åœ¨åœ¨ä¸Šæ“ä½œç³»ç»Ÿè¿™é—¨è¯¾ï¼Œéœ€è¦ä½¿ç”¨Linuxè¿›è¡Œå®éªŒï¼Œè¿™è¿˜è¯´ä»€ä¹ˆï¼Œç›´æ¥å¼€å†²ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749.png"
width="1461"
height="855"
srcset="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749_hu_ec73f127b55282ab.png 480w, https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408155330749_hu_52cbf65adfa0c7c9.png 1024w"
loading="lazy"
alt="ç²¾ç¾çš„ç•Œé¢"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;h2 id="wsl2å®‰è£…">&lt;a href="#wsl2%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>WSL2å®‰è£…
&lt;/h2>&lt;p>å®‰è£…å…¶å®å¾ˆç®€å•ï¼ŒæŒ‰ç…§å¾®è½¯çš„æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥åšå°±å®Œäº‹äº†ã€‚&lt;/p>
&lt;h3 id="0å‰ç½®æ¡ä»¶">&lt;a href="#0%e5%89%8d%e7%bd%ae%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>0.å‰ç½®æ¡ä»¶
&lt;/h3>&lt;p>æƒ³è¦ç”¨WSL2ï¼Œé¦–å…ˆä½ å¾—æ˜¯ Windows 10ï¼Œè€Œä¸”è¿˜æœ‰ç‰ˆæœ¬å·è¦æ±‚ã€‚&lt;/p>
&lt;ul>
&lt;li>å¯¹äº x64 ç³»ç»Ÿï¼šç‰ˆæœ¬ 1903 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨ å†…éƒ¨ç‰ˆæœ¬ 18362 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚&lt;/li>
&lt;li>å¯¹äº ARM64 ç³»ç»Ÿï¼šç‰ˆæœ¬ 2004 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé‡‡ç”¨ å†…éƒ¨ç‰ˆæœ¬ 19041 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="1-å¼€å¯wslæœåŠ¡">&lt;a href="#1-%e5%bc%80%e5%90%afwsl%e6%9c%8d%e5%8a%a1" class="header-anchor">&lt;/a>1. å¼€å¯WSLæœåŠ¡
&lt;/h3>&lt;p>åœ¨Powershell(ç®¡ç†å‘˜)ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dism&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">exe&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">online&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="nb">enable-feature&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">featurename&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="nb">Microsoft-Windows&lt;/span>&lt;span class="n">-Subsystem-Linux&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">all&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">norestart&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-å¯ç”¨è™šæ‹ŸæœºæœåŠ¡">&lt;a href="#2-%e5%90%af%e7%94%a8%e8%99%9a%e6%8b%9f%e6%9c%ba%e6%9c%8d%e5%8a%a1" class="header-anchor">&lt;/a>2. å¯ç”¨è™šæ‹ŸæœºæœåŠ¡
&lt;/h3>&lt;p>åœ¨Powershell(ç®¡ç†å‘˜)ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dism&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">exe&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">online&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="nb">enable-feature&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">featurename&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="n">VirtualMachinePlatform&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">all&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">norestart&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>é‡æ–°å¯åŠ¨&lt;/strong> è®¡ç®—æœºï¼Œä»¥å®Œæˆ WSL å®‰è£…å¹¶æ›´æ–°åˆ° WSL 2ã€‚&lt;/p>
&lt;h3 id="3-ä¸‹è½½-linux-å†…æ ¸æ›´æ–°åŒ…">&lt;a href="#3-%e4%b8%8b%e8%bd%bd-linux-%e5%86%85%e6%a0%b8%e6%9b%b4%e6%96%b0%e5%8c%85" class="header-anchor">&lt;/a>3. ä¸‹è½½ Linux å†…æ ¸æ›´æ–°åŒ…
&lt;/h3>&lt;p>ä¸‹è½½æœ€æ–°åŒ…å¹¶å®‰è£…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" target="_blank" rel="noopener"
>é€‚ç”¨äº x64 è®¡ç®—æœºçš„ WSL2 Linux å†…æ ¸æ›´æ–°åŒ…&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="4-å°†-wsl-2-è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬">&lt;a href="#4-%e5%b0%86-wsl-2-%e8%ae%be%e7%bd%ae%e4%b8%ba%e9%bb%98%e8%ae%a4%e7%89%88%e6%9c%ac" class="header-anchor">&lt;/a>4. å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬
&lt;/h3>&lt;p>åœ¨Powershellä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="n">-set-default-version&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5å®‰è£…-linux">&lt;a href="#5%e5%ae%89%e8%a3%85-linux" class="header-anchor">&lt;/a>5.å®‰è£… Linux
&lt;/h3>&lt;ol>
&lt;li>æ‰“å¼€ &lt;a class="link" href="https://aka.ms/wslstore" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>ï¼Œå¹¶é€‰æ‹©ä½ åå¥½çš„ Linux åˆ†å‘ç‰ˆå¹¶ç‚¹å‡»&lt;code>è·å–&lt;/code>è¿›è¡Œå®‰è£…ã€‚&lt;/li>
&lt;li>ç­‰å®‰è£…å¥½åï¼Œæ‰“å¼€å¹¶è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚&lt;/li>
&lt;/ol>
&lt;p>åˆ°æ­¤WSL2å°±å®‰è£…å®Œäº‹äº†ã€‚&lt;/p>
&lt;h2 id="windows-terminalå®‰è£…">&lt;a href="#windows-terminal%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>Windows Terminalå®‰è£…
&lt;/h2>&lt;h3 id="1-ä¸‹è½½å’Œå®‰è£…">&lt;a href="#1-%e4%b8%8b%e8%bd%bd%e5%92%8c%e5%ae%89%e8%a3%85" class="header-anchor">&lt;/a>1. ä¸‹è½½å’Œå®‰è£…
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ä»&lt;a class="link" href="https://aka.ms/terminal" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>ä¸­ä¸‹è½½&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä»&lt;a class="link" href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noopener"
>Github&lt;/a>ä¸Šä¸‹è½½&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-é…ç½®">&lt;a href="#2-%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>2. é…ç½®
&lt;/h3>&lt;p>ä¸ºäº†è®©&lt;code>Windows Terminal&lt;/code>çœ‹èµ·æ¥æ›´å¥½çœ‹ä¸€äº›ï¼Œæˆ‘ä»¬è¿˜è¦å¯¹å…¶è¿›è¡Œä¸€äº›é…ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131.png"
width="837"
height="794"
srcset="https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131_hu_5ad9c70454b9b798.png 480w, https://lbqaq.top/p/wsl2-wt%E9%85%8D%E7%BD%AE%E5%B0%8F%E7%BB%93/IMAGE/image-20210408154322131_hu_9262ea296782b6da.png 1024w"
loading="lazy"
alt="è®¾ç½®"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="252px"
>&lt;/p>
&lt;p>æ‰“å¼€&lt;code>Windows Terminal&lt;/code>çš„è®¾ç½®é€‰é¡¹ï¼Œç„¶åé€‰&lt;code>æ‰“å¼€JSONæ–‡ä»¶&lt;/code>ï¼ŒæŠŠæˆ‘é…å¥½çš„é…ç½®æ–‡ä»¶ç²˜è´´è¿›å»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;$schema&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://aka.ms/terminal-profiles-schema&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Add custom actions and keybindings to this array.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To unbind a key combination from your defaults.json, set the command to &amp;#34;unbound&amp;#34;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about actions and keybindings, visit https://aka.ms/terminal-keybindings
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy and paste are bound to Ctrl+Shift+C and Ctrl+Shift+V in your defaults.json.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// These two lines additionally bind them to Ctrl+C and Ctrl+V.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about selection, visit https://aka.ms/terminal-selection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;copy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;singleLine&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+c&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;paste&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+v&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Ctrl+Shift+F to open the search box
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;find&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+shift+f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Alt+Shift+D to open a new pane.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;split&amp;#34;: &amp;#34;auto&amp;#34; makes this pane open in the direction that provides the most surface area.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;splitMode&amp;#34;: &amp;#34;duplicate&amp;#34; makes the new pane use the focused pane&amp;#39;s profile.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about panes, visit https://aka.ms/terminal-panes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;splitPane&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;split&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;splitMode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;duplicate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;alt+shift+d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;copyFormatting&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;copyOnSelect&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaultProfile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;initialCols&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;initialRows&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;profiles&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaults&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;acrylicOpacity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.75&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;closeOnExit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;graceful&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;colorScheme&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Campbell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cursorColor&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;#FFFFFF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cursorShape&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fontFace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Consolas&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fontSize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;historySize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9001&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;padding&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0, 0, 0, 0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;snapOnInput&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;useAcrylic&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;list&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;powershell.exe -NoLogo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows PowerShell&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cmd.exe&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{0caa0dad-35be-5f56-a8ff-afceeeaa6101}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Command Prompt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{b453ae62-4e3d-5e58-b989-0a998ec441b8}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Azure Cloud Shell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows.Terminal.Azure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{2c4de342-38b7-51cf-b940-2309a097f518}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Ubuntu&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows.Terminal.Wsl&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;//wsl$/Ubuntu/home/luobo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€èˆ¬è¦ä¿®æ”¹è¿™å‡ é¡¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>fontFace&lt;/code> - å­—ä½“ï¼Œæˆ‘çš„å­—ä½“ä¸º&lt;code>Consolas&lt;/code>ï¼Œé€‚åˆ1080Pçš„å±å¹•ã€‚é«˜åˆ†è¾©ç‡å±å»ºè®®ç”¨&lt;code>monaco&lt;/code>æˆ–è€…&lt;code>fira code&lt;/code>&lt;/li>
&lt;li>&lt;code>fontSize&lt;/code> - å­—ä½“å¤§å°ï¼Œå› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>acrylicOpacity&lt;/code> - èƒŒæ™¯é€æ˜åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>initialCols&lt;/code> - åˆå§‹çª—å£å®½åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>initialRows&lt;/code> - åˆå§‹çª—å£é«˜åº¦ï¼ŒåŒæ ·å› äººè€Œå¼‚ï¼Œå› å±å¹•è€Œå¼‚ï¼Œè‡ªå·±æ ¹æ®è§†è§‰æ•ˆæœè°ƒæ•´å¤§å°&lt;/li>
&lt;li>&lt;code>startingDirectory&lt;/code> - Ubuntuçš„é»˜è®¤æ‰“å¼€è·¯å¾„ï¼ŒæŠŠå…¶ä¸­çš„&lt;code>luobo&lt;/code>æ¢æˆä½ è‡ªå·±çš„ç”¨æˆ·åã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="wslvscode">&lt;a href="#wslvscode" class="header-anchor">&lt;/a>WSL+VSCode
&lt;/h2>&lt;p>æ¯•ç«Ÿéƒ½æ˜¯å¾®è½¯å®¶çš„è½¯ä»¶ï¼Œç›´æ¥å°±èƒ½é€šè¿‡VSCodeæ¥è¿œç¨‹ç¼–è¾‘Linuxé‡Œçš„æ–‡ä»¶ã€‚vimå¤ªéš¾ä¸Šæ‰‹ï¼Ÿæˆ‘ç›´æ¥åœ¨Windowsé‡Œç¼–ç¨‹(é›¾)ã€‚&lt;/p>
&lt;p>åªè¦åœ¨é¡¹ç›®ç›®å½•é‡Œé”®å…¥&lt;code>code .&lt;/code>ï¼Œå°±ä¼šè‡ªåŠ¨è·³åˆ°Windowsé‡Œçš„VSCodeé‡Œäº†ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>WSL+Windows Terminal+VSCodeï¼Œå°†ä¸‰è€…é…åˆèµ·æ¥ï¼Œæˆ‘è§‰å¾—å¯ä»¥å®ç°1+1+1&amp;gt;3çš„åŠŸèƒ½ï¼Œæ¯•ç«Ÿï¼Œè°ä¸å–œæ¬¢é¢œå€¼é«˜çš„è½¯ä»¶å‘¢ãƒ¾(â‰§â–½â‰¦*)o&lt;/p>
&lt;h2 id="å‚è€ƒé“¾æ¥">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>å‚è€ƒé“¾æ¥
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10" target="_blank" rel="noopener"
>å¾®è½¯å®˜æ–¹WSL2æ•™ç¨‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/terminal/get-started" target="_blank" rel="noopener"
>å¾®è½¯å®˜æ–¹Windows Terminalæ•™ç¨‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/144612614" target="_blank" rel="noopener"
>Windows Terminal ç»ˆç«¯å…¥é—¨&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ç»™Blogå¢åŠ åŠ¨ç”»</title><link>https://lbqaq.top/p/%E7%BB%99blog%E5%A2%9E%E5%8A%A0%E5%8A%A8%E7%94%BB/</link><pubDate>Mon, 01 Feb 2021 13:55:05 +0800</pubDate><guid>https://lbqaq.top/p/%E7%BB%99blog%E5%A2%9E%E5%8A%A0%E5%8A%A8%E7%94%BB/</guid><description>&lt;img src="https://lbqaq.top/p/%E7%BB%99blog%E5%A2%9E%E5%8A%A0%E5%8A%A8%E7%94%BB/86589864.webp" alt="Featured image of post ç»™Blogå¢åŠ åŠ¨ç”»" />&lt;p>çœ‹åˆ°&lt;a class="link" href="https://zsnmwy.net" target="_blank" rel="noopener"
>zsnmwy&lt;/a>å¤§ä½¬çš„åšå®¢ï¼Œå’Œæˆ‘ä½¿ç”¨çš„æ˜¯åŒæ ·çš„ä¸»é¢˜ï¼Œä½†æ˜¯äººå®¶å´å¤šäº†ä¸€äº›åŠ¨ç”»ï¼Œç¬é—´å°±é«˜çº§èµ·æ¥äº†ã€‚äºæ˜¯æ‰“å¼€ç™¾åº¦æœç´ ä¸€æ³¢ï¼Œå‘ç°åªè¦æ”¹ä¸€ä¸‹CSSå°±å¯ä»¥å®ç°äº†ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥å…·">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e5%85%b7" class="header-anchor">&lt;/a>å‡†å¤‡å·¥å…·
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>hugoçš„æ‰©å±•ç‰ˆï¼ˆextendedï¼‰&lt;/p>
&lt;p>è¿™é‡Œä¸€å®šè¦ä¸‹æ‰©å±•ç‰ˆï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„ä¸»é¢˜éƒ½æ˜¯åˆ©ç”¨scssæ¥ç”Ÿæˆcssçš„ï¼Œå¦‚æœç”¨æ™®é€šç‰ˆæ˜¯æ— æ³•åˆ©ç”¨scssç”Ÿæˆå¯¹åº”çš„cssçš„ã€‚ä¹‹å‰ä¸çŸ¥é“ä¸‹çš„æ˜¯æ™®é€šç‰ˆï¼Œç»“æœæ€ä¹ˆæ”¹scsséƒ½æ²¡æœ‰æ•ˆæœï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ğŸ˜¥ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="23713æ›´æ–°">&lt;a href="#23713%e6%9b%b4%e6%96%b0" class="header-anchor">&lt;/a>23.7.13æ›´æ–°
&lt;/h2>&lt;p>ç°åœ¨ä¼˜åŒ–äº†ä¸»é¢˜çš„ç¼–å†™æ–¹å¼ï¼Œä¸éœ€è¦ä¿®æ”¹åŸå§‹çš„ä¸»é¢˜æ–‡ä»¶ï¼Œé™ä½äº†ä»£ç è€¦åˆğŸ˜‰ã€‚&lt;/p>
&lt;p>åªéœ€è¦åœ¨&lt;code>HUGO_SITE_FOLDER/assets/scss/custom.scss&lt;/code>æ–‡ä»¶é‡Œå¡«å†™ä¸‹é¢çš„å†…å®¹å°±å¥½äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;span class="lnt">97
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">:root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">--article-background&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mh">#f0f8ff&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">data-scheme&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;dark&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">--article-background&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mh">#292d30&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ–‡ç« åˆ—è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nc">.article-list--compact&lt;/span> &lt;span class="nt">article&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//å¢åŠ åŠ¨ç”»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.02&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="mf">.02&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">background&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">article-background&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">.article-image&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å˜æˆé•¿æ–¹å½¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="ni">image&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¢åŠ åœ†è§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">border-radius&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">card-border-radius&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¤´åƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nc">.sidebar&lt;/span> &lt;span class="nt">header&lt;/span> &lt;span class="nc">.site-avatar&lt;/span> &lt;span class="nc">.site-logo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">all&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="mf">.75&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease-out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//èœå•æ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nc">.menu&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æŠŠautoæ”¹ä¸ºvisibleï¼Œä¸ºäº†å›¾æ ‡æ”¾å¤§æº¢å‡ºæ—¶ä¸æ˜¾ç¤ºæ»šåŠ¨æ¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">overflow-y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">visible&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">li&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="mf">.1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//æ–‡ç« å¤´å›¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nc">.article-list&lt;/span> &lt;span class="nt">article&lt;/span> &lt;span class="nc">.article-image&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//é¿å…å‡ºç°æ»šåŠ¨æ¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">overflow&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//è®¾ç½®å›¾ç‰‡ç¼©æ”¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">all&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">@include&lt;/span>&lt;span class="nd"> respond&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xl&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//åŠ å¤§å›¾ç‰‡é«˜åº¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">385&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å‹æƒ…é“¾æ¥ä¸‰æ  (From https://blog.linsnow.cn/p/join-hugo-and-stack/)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">@media&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="na">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">.article-list--compact.links&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">grid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">grid-template-columns&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">fr&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">fr&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">fr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">background&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">box-shadow&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">gap&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">article&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">background&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">card-background&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">box-shadow&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">shadow-l2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">margin-bottom&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">border-radius&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">card-border-radius&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:nth-child&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">odd&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">margin-right&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">.article-image&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¢å¤æˆæ­£æ–¹å½¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="na">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="ni">image&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ—¶å¢åŠ äº†ä¸€äº›ç‰¹æ•ˆï¼Œè¿™é‡Œå°±ä¸å±•å¼€è¯´äº†ğŸ•Šï¸&lt;/p>
&lt;h2 id="ç›¸å…³ä»£ç ">&lt;a href="#%e7%9b%b8%e5%85%b3%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>ç›¸å…³ä»£ç 
&lt;/h2>&lt;h3 id="1å¤´åƒè½¬åŠ¨">&lt;a href="#1%e5%a4%b4%e5%83%8f%e8%bd%ac%e5%8a%a8" class="header-anchor">&lt;/a>1.å¤´åƒè½¬åŠ¨
&lt;/h3>&lt;p>åœ¨&lt;code>themes/hugo-theme-stack/assets/scss/partials/sidebar.scss&lt;/code>ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nc">.site-logo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">all&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="mf">.75&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease-out&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nc">.site-logo&lt;/span>&lt;span class="nd">:hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2æ–‡ç« å¤´å›¾ç¼©æ”¾">&lt;a href="#2%e6%96%87%e7%ab%a0%e5%a4%b4%e5%9b%be%e7%bc%a9%e6%94%be" class="header-anchor">&lt;/a>2.æ–‡ç« å¤´å›¾ç¼©æ”¾
&lt;/h3>&lt;p>åœ¨&lt;code>themes/hugo-theme-stack/assets/scss/partials/article.scss&lt;/code>ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nc">.article-image&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">overflow&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="ni">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nc">.article-image&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="ni">all&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3archivesé¡µé¢ç¼©æ”¾">&lt;a href="#3archives%e9%a1%b5%e9%9d%a2%e7%bc%a9%e6%94%be" class="header-anchor">&lt;/a>3.Archivesé¡µé¢ç¼©æ”¾
&lt;/h3>&lt;p>åœ¨&lt;code>themes/hugo-theme-stack/assets/scss/partials/article.scss&lt;/code>ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">article&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">article&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.05&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.05&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">background&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mh">#f0f8ff&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4èœå•ç¼©æ”¾">&lt;a href="#4%e8%8f%9c%e5%8d%95%e7%bc%a9%e6%94%be" class="header-anchor">&lt;/a>4.èœå•ç¼©æ”¾
&lt;/h3>&lt;p>åœ¨&lt;code>themes/hugo-theme-stack/assets/scss/partials/menu.scss&lt;/code>ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="na">overflow-y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">visible&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æŠŠautoæ”¹ä¸ºvisibleï¼Œä¸ºäº†å›¾æ ‡æ”¾å¤§æº¢å‡ºæ—¶ä¸æ˜¾ç¤ºæ»šåŠ¨æ¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transition&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mf">.5&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="ni">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">li&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">&amp;amp;&lt;/span>&lt;span class="nd">:hover&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">transform&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nf">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.1&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="mf">.1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰äº†åŠ¨ç”»åï¼Œæ„Ÿè§‰æ•´ä¸ªåšå®¢éƒ½å˜å¾—é«˜çº§èµ·æ¥äº†ãƒ¾(â€¢Ï‰â€¢`)o&lt;/p>
&lt;p>åœ¨è¿™æ„Ÿè°¢zsnmwyå¤§ä½¬ï¼Œä¸Šé¢æœ‰äº›åŠ¨ç”»æ‡’å¾—è‡ªå·±å†™äº†ï¼Œå°±ç›´æ¥ä»ä»–çš„cssä¸­å¤åˆ¶äº†ãƒ¾(ï¿£â–½ï¿£)&lt;/p></description></item><item><title>ç«èµ›ç”¨STLæ•´ç†</title><link>https://lbqaq.top/p/%E7%AB%9E%E8%B5%9B%E7%94%A8stl%E6%95%B4%E7%90%86/</link><pubDate>Sun, 31 Jan 2021 20:39:29 +0800</pubDate><guid>https://lbqaq.top/p/%E7%AB%9E%E8%B5%9B%E7%94%A8stl%E6%95%B4%E7%90%86/</guid><description>&lt;img src="https://lbqaq.top/p/%E7%AB%9E%E8%B5%9B%E7%94%A8stl%E6%95%B4%E7%90%86/85526504.webp" alt="Featured image of post ç«èµ›ç”¨STLæ•´ç†" />&lt;p>æœ€è¿‘åˆ·äº†å¥½å‡ é“å…³äºSTLçš„ç«èµ›é¢˜ï¼Œè®¸å¤šçŸ¥è¯†ç‚¹è¿˜æ˜¯ä¸ç†Ÿç»ƒï¼Œåœ¨ç»§ç»­å­¦ä¹ ä¹‹å‰ï¼Œè¿˜æ˜¯æ¥å¥½å¥½æ•´ç†ä¸€ä¸‹ä¸€äº›å¸¸è§çš„STLå’Œå®¹å™¨å§ã€‚ç´«ä¹¦ä¸Šä»‹ç»çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>çº¿æ€§ï¼š&lt;code>vector&lt;/code>,&lt;code>list&lt;/code>,&lt;code>string&lt;/code>&lt;/li>
&lt;li>å…³è”ï¼š&lt;code>map,set&lt;/code>&lt;/li>
&lt;li>ç‰¹æ®Šï¼š&lt;code>stack,queue,priority_queue&lt;/code>&lt;/li>
&lt;li>ç®—æ³•ï¼š&lt;code>sort,lower_bound,find&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="vector">&lt;a href="#vector" class="header-anchor">&lt;/a>vector
&lt;/h2>&lt;p>vectorå¯ä»¥ç†è§£ä¸ºå¯ä»¥è‡ªç”±å˜æ¢é•¿åº¦çš„æ•°ç»„(ä¸å®šé•¿æ•°ç»„)ï¼Œä¸ªäººæ„Ÿè§‰ä½¿ç”¨é¢‘ç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚vectoræ˜¯è¿ç»­çš„ï¼Œæ„å‘³ç€å¯ä»¥ä½¿ç”¨&lt;code>[]&lt;/code>æˆ–&lt;code>at()&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;strong>å£°æ˜ï¼š&lt;/strong> &lt;code>vector&amp;lt;int&amp;gt; a&lt;/code>&lt;/p>
&lt;h3 id="å¸¸ç”¨å‡½æ•°">&lt;a href="#%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>å¸¸ç”¨å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>push_backï¼šåœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pop_backï¼šåˆ é™¤å°¾éƒ¨çš„ä¸€ä¸ªæ•°æ®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>sizeï¼šå½“å‰çš„å¤§å°ï¼ˆå°±æ˜¯æœ‰å¤šå°‘å…ƒç´ ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>eraseï¼šåˆ é™¤æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®é¡¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>clearï¼šæ¸…ç©º&lt;/p>
&lt;/li>
&lt;li>
&lt;p>emptyï¼šåˆ¤æ–­æ˜¯å¦ä¸ºç©º&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="deque">&lt;a href="#deque" class="header-anchor">&lt;/a>deque
&lt;/h2>&lt;p>dequeå¯ä»¥çœ‹ä½œæ˜¯åŒå‘é˜Ÿåˆ—ï¼Œæ˜¯&lt;strong>è¿ç»­&lt;/strong>å­˜å‚¨ç»“æ„ã€‚vectoræœ‰çš„åŠŸèƒ½å®ƒéƒ½æœ‰ï¼Œè¿˜æ”¯æŒé«˜æ•ˆçš„é¦–/å°¾ç«¯æ’å…¥/åˆ é™¤æ“ä½œã€‚&lt;/p>
&lt;h3 id="æ–°å¢å‡½æ•°">&lt;a href="#%e6%96%b0%e5%a2%9e%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>æ–°å¢å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>push_frontï¼šåœ¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®&lt;/li>
&lt;li>pop_frontï¼šåœ¨å¤´éƒ¨åˆ é™¤ä¸€ä¸ªæ•°æ®&lt;/li>
&lt;/ul>
&lt;h2 id="list">&lt;a href="#list" class="header-anchor">&lt;/a>list
&lt;/h2>&lt;p>listå¯ä»¥çœ‹ä½œæ˜¯åŒé“¾è¡¨ï¼Œæ˜¯&lt;strong>éè¿ç»­&lt;/strong>å­˜å‚¨ç»“æ„ã€‚å¯åœ¨ä¸¤ç«¯è¿›è¡Œpushã€popï¼ŒåŒæ—¶åœ¨å†…éƒ¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ä¸è¿‡æˆ‘æ²¡æ€ä¹ˆç”¨åˆ°è¿™ä¸ªå®¹å™¨ã€‚ç­‰æˆ‘åšåˆ°ç›¸å…³çš„é¢˜ç›®å†æ¥è¡¥å……ä¸€äº›ä¿¡æ¯å§ã€‚&lt;/p>
&lt;h2 id="string">&lt;a href="#string" class="header-anchor">&lt;/a>string
&lt;/h2>&lt;p>stringå°±æ˜¯å­—ç¬¦ä¸²ã€‚ç›¸æ¯”char[]é‚£å¯æ˜¯æ–¹ä¾¿ä¸å°‘ï¼Œc++çš„cin/coutå°±åªæ”¯æŒstringç±»å‹è€Œä¸æ”¯æŒcharå‹æ•°ç»„ã€‚stringè¿˜æ”¯æŒ&lt;code>+ã€=ã€+=&lt;/code>ç­‰è¿ç®—ç¬¦ã€‚&lt;/p>
&lt;h3 id="å¸¸ç”¨å‡½æ•°-1">&lt;a href="#%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0-1" class="header-anchor">&lt;/a>å¸¸ç”¨å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>appendï¼šåœ¨å­—ç¬¦ä¸²åæ·»åŠ ï¼ˆç›¸å½“äº+=ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>substr(n,m)ï¼šè¿”å›stringçš„å­ä¸²ï¼Œä»nå¤„å¼€å§‹ï¼Œå–mä¸ªã€‚å½“mçœç•¥æˆ–è¶…è¿‡äº†å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™ä¸€ç›´å–åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æŸ¥æ‰¾ç›¸å…³å‡½æ•°&lt;/strong>ï¼š&lt;/p>
&lt;p>å¦‚æœæ²¡æœ‰æŸ¥åˆ°ï¼Œè¿”å›string::nposã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>findï¼šä»å‰å¾€åæŸ¥æ‰¾å­ä¸²æˆ–å­—ç¬¦å‡ºç°çš„ä½ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rfindï¼šä»åå¾€å‰æŸ¥æ‰¾å­ä¸²æˆ–å­—ç¬¦å‡ºç°çš„ä½ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>find_first_ofï¼šä»å‰å¾€åæŸ¥æ‰¾ä½•å¤„å‡ºç°å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼š&lt;/p>
&lt;/li>
&lt;li>
&lt;p>s1.find_first_of(&amp;ldquo;abc&amp;rdquo;); //æŸ¥æ‰¾s1ä¸­ç¬¬ä¸€æ¬¡å‡ºç°&amp;quot;abc&amp;quot;ä¸­ä»»ä¸€å­—ç¬¦çš„ä½ç½®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>find_last_ofï¼šä»åå¾€å‰æŸ¥æ‰¾ä½•å¤„å‡ºç°å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—ç¬¦ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>find_first_not_ofï¼šä»å‰å¾€åæŸ¥æ‰¾ä½•å¤„å‡ºç°å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ²¡æœ‰åŒ…å«çš„å­—ç¬¦ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>find_last_not_ofï¼šä»åå¾€å‰æŸ¥æ‰¾ä½•å¤„å‡ºç°å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ²¡æœ‰åŒ…å«çš„å­—ç¬¦ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="æµå¤„ç†">&lt;a href="#%e6%b5%81%e5%a4%84%e7%90%86" class="header-anchor">&lt;/a>æµå¤„ç†
&lt;/h3>&lt;p>å¯ä»¥é€šè¿‡&lt;code>&amp;lt;sstream&amp;gt;&lt;/code>ï¼Œå°†stringå¯¹è±¡ä½œä¸ºä¸€ä¸ªæµã€‚ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sstream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">line&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cin&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">line&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">stringstream&lt;/span> &lt;span class="n">ss&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">line&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ss&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">){...}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="set">&lt;a href="#set" class="header-anchor">&lt;/a>set
&lt;/h2>&lt;p>setå°±æ˜¯æ•°å­¦ä¸­çš„é›†åˆï¼Œæ¯ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œsetä¸­çš„å…ƒç´ å·²ç»ä»å°åˆ°å¤§æ’å¥½äº†ã€‚&lt;/p>
&lt;h3 id="å¸¸ç”¨å‡½æ•°-2">&lt;a href="#%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0-2" class="header-anchor">&lt;/a>å¸¸ç”¨å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>insertï¼šæ’å…¥ä¸€ä¸ªå…ƒç´ &lt;/li>
&lt;li>eraseï¼šåˆ é™¤ï¼Œå¯ä»¥ä¼ å…¥å®šä½å™¨ï¼Œä¹Ÿå¯ç›´æ¥ä¼ å…¥å€¼&lt;/li>
&lt;li>countï¼šç»Ÿè®¡å…ƒç´ å‡ºç°çš„ä¸ªæ•°ï¼Œå› ä¸ºåªæœ‰0/1ä¸ªï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨&lt;/li>
&lt;li>findï¼šæŸ¥æ‰¾&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºè‡ªå·±å®šä¹‰çš„ç»“æ„ä½“ï¼Œéœ€è¦é‡è½½&amp;lt;è¿ç®—ç¬¦ã€‚&lt;/p>
&lt;h3 id="å¸¸ç”¨ç®—æ³•">&lt;a href="#%e5%b8%b8%e7%94%a8%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>å¸¸ç”¨ç®—æ³•
&lt;/h3>&lt;p>åœ¨&lt;code>&amp;lt;algorithm&amp;gt;&lt;/code>ä¸­æä¾›äº†å…³äºsetçš„ä¸¤ç§ç®—æ³•ï¼ˆç›®å‰åªçŸ¥é“ä¸¤ç§ï¼‰&lt;/p>
&lt;ol>
&lt;li>
&lt;p>set_unionï¼šå–ä¸¤ä¸ªé›†åˆçš„å¹¶é›†ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#define ALL(x) x.begin(),x.end()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#define INS(x) inserter(x,x.begin())
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="n">set_union&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">ALL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">INS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">//å°†x1å’Œx2çš„å†…å®¹å–å¹¶é›†åæ”¾å…¥xä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>set_intersectionï¼šå–ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">set_intersection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">ALL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">INS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">//å°†x1å’Œx2çš„å†…å®¹å–äº¤é›†æ”¾å…¥xä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="map">&lt;a href="#map" class="header-anchor">&lt;/a>map
&lt;/h2>&lt;p>mapæ˜¯æ˜ å°„ï¼Œæ”¯æŒ[]è¿ç®—ç¬¦ï¼Œè¿˜æ˜¯éå¸¸å®ç”¨çš„ã€‚&lt;/p>
&lt;p>mapçš„å‡½æ•°å’ŒsetåŸºæœ¬ä¸€è‡´ï¼Œè¿™é‡Œå°±ä¸é‡å¤å†™äº†ã€‚&lt;/p>
&lt;h2 id="stack">&lt;a href="#stack" class="header-anchor">&lt;/a>stack
&lt;/h2>&lt;p>stackå°±æ˜¯æ•°æ®ç»“æ„ä¸­çš„æ ˆï¼Œæ•°æ®æ˜¯â€œåè¿›å…ˆå‡ºâ€ã€‚&lt;/p>
&lt;h3 id="åŸºæœ¬å‡½æ•°">&lt;a href="#%e5%9f%ba%e6%9c%ac%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>åŸºæœ¬å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>pushï¼šå…¥æ ˆ&lt;/li>
&lt;li>popï¼šå‡ºæ ˆ&lt;/li>
&lt;li>topï¼šå–æ ˆé¡¶å…ƒç´ &lt;/li>
&lt;/ul>
&lt;p>è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨pop()å‡ºæ ˆå¹¶ä¸ä¼šè¿”å›è¢«åˆ é™¤çš„å…ƒç´ å€¼ï¼Œå¦‚æœæƒ³è¦éœ€è¦å…ˆtop()ä¸€ä¸‹&lt;/p>
&lt;h2 id="queue">&lt;a href="#queue" class="header-anchor">&lt;/a>queue
&lt;/h2>&lt;p>queueå°±æ˜¯æ•°æ®ç»“æ„é‡Œçš„é˜Ÿåˆ—ï¼Œæ•°æ®ç¬¦åˆâ€œå…ˆè¿›å…ˆå‡ºâ€çš„è§„åˆ™ã€‚&lt;/p>
&lt;h3 id="åŸºæœ¬å‡½æ•°-1">&lt;a href="#%e5%9f%ba%e6%9c%ac%e5%87%bd%e6%95%b0-1" class="header-anchor">&lt;/a>åŸºæœ¬å‡½æ•°
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>pushï¼šå…¥é˜Ÿ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>popï¼šå‡ºé˜Ÿ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>frontï¼šå–é˜Ÿé¦–&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="priority_queue">&lt;a href="#priority_queue" class="header-anchor">&lt;/a>priority_queue
&lt;/h3>&lt;p>ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå°†æŒ‰ç…§ä¼˜å…ˆçº§æ¥æ’åºï¼Œå–é˜Ÿé¦–çš„&lt;code>front()&lt;/code>çš„å‡½æ•°å°†æ¢ä¸º&lt;code>top()&lt;/code>ã€‚è¯¥å®¹å™¨ä¹Ÿå®šä¹‰åœ¨å¤´æ–‡ä»¶&lt;code>&amp;lt;queue&amp;gt;&lt;/code>é‡Œã€‚&lt;/p>
&lt;p>å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„é˜Ÿåˆ—ï¼Œéœ€è¦å®šä¹‰&lt;code>&amp;lt;&lt;/code>è¿ç®—ã€‚å¯¹äºå·²ç»å®šä¹‰è¿‡çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œåœ¨å…¶ä¸­é‡è½½&lt;code>()&lt;/code>è¿ç®—ç¬¦æ¥çœ‹èµ·æ¥åƒä¸€ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">cmp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">operator&lt;/span>&lt;span class="p">()(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">priority_queue&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cmp&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">p_queue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·å°±å®šä¹‰äº†ä¸€ä¸ªç»å¯¹å€¼å¤§å°ä¼˜å…ˆçš„é˜Ÿåˆ—&lt;/p></description></item><item><title>æ•°æ®ç»“æ„ç®—æ³•å¤ä¹ </title><link>https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%E5%A4%8D%E4%B9%A0/</link><pubDate>Sun, 10 Jan 2021 15:06:20 +0800</pubDate><guid>https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%E5%A4%8D%E4%B9%A0/</guid><description>&lt;img src="https://lbqaq.top/p/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%E5%A4%8D%E4%B9%A0/83667969.webp" alt="Featured image of post æ•°æ®ç»“æ„ç®—æ³•å¤ä¹ " />&lt;p>è€ƒå‰æ•´ç†çš„ç®—æ³•ï¼Œä¹Ÿé¡ºä¾¿æ”¾åˆ°åšå®¢ä¸Šå§ãƒ¾(â€¢Ï‰â€¢`)o&lt;/p>
&lt;h2 id="æ•°æ®ç»“æ„ä»£ç å¤ä¹ ">&lt;a href="#%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%bb%a3%e7%a0%81%e5%a4%8d%e4%b9%a0" class="header-anchor">&lt;/a>æ•°æ®ç»“æ„ä»£ç å¤ä¹ 
&lt;/h2>&lt;h3 id="3å•é“¾è¡¨é€†ç½®">&lt;a href="#3%e5%8d%95%e9%93%be%e8%a1%a8%e9%80%86%e7%bd%ae" class="header-anchor">&lt;/a>3.å•é“¾è¡¨é€†ç½®
&lt;/h3>&lt;p>å¸¦å¤´ç»“ç‚¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">Inverse_Link&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">LinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">cur&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cur&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5åŒå‘é“¾è¡¨">&lt;a href="#5%e5%8f%8c%e5%90%91%e9%93%be%e8%a1%a8" class="header-anchor">&lt;/a>5.åŒå‘é“¾è¡¨
&lt;/h3>&lt;p>åŒé“¾è¡¨å®šä¹‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="k">struct&lt;/span> &lt;span class="n">DuLinkList&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">prior&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="n">DuLinkList&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>éå†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">Printlist_DuL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;å½“å‰çš„åŒå‘é“¾è¡¨å€¼ä¸ºï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>äº¤æ¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">ListSwap_DuL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//åœ¨å¸¦å¤´ç»“ç‚¹çš„åŒå‘é“¾è¡¨ä¸­äº¤æ¢ç¬¬iä¸ªï¼Œi+1ä¸ªä½ç½®çš„å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">DuLinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">prior&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1 -&amp;gt;q p 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">prior&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">prior&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1&amp;lt;--&amp;gt;q p 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1&amp;lt;--&amp;gt;q p -&amp;gt;2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">prior&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1&amp;lt;--&amp;gt;q p&amp;lt;--&amp;gt;2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1&amp;lt;--&amp;gt;q -&amp;gt;p&amp;lt;--&amp;gt;2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">prior&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//1&amp;lt;--&amp;gt;q&amp;lt;--&amp;gt;p&amp;lt;--&amp;gt;2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6é“¾è¡¨å›æ–‡">&lt;a href="#6%e9%93%be%e8%a1%a8%e5%9b%9e%e6%96%87" class="header-anchor">&lt;/a>6.é“¾è¡¨å›æ–‡
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">bool&lt;/span> &lt;span class="nf">isPalindrome&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Lstack&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">head&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Lstack&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">malloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Lstack&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Initlist_Stack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">val&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">head&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">pop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">val&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="7-1é“¾é˜Ÿåˆ—">&lt;a href="#7-1%e9%93%be%e9%98%9f%e5%88%97" class="header-anchor">&lt;/a>7-1.é“¾é˜Ÿåˆ—
&lt;/h3>&lt;p>å®šä¹‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="k">struct&lt;/span> &lt;span class="n">QNode&lt;/span> &lt;span class="c1">//é˜Ÿåˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="n">QNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="n">QNode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="k">struct&lt;/span> &lt;span class="n">LinkQueue&lt;/span> &lt;span class="c1">//å¯¹åˆ—ç›¸å…³çš„æŒ‡é’ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">QNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//å¯¹å¤´æŒ‡é’ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">QNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">rear&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//é˜Ÿå°¾æŒ‡é’ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="n">LinkQueue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ’å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">EnQueue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LinkQueue&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//[å…¥é˜Ÿ]å°†å…ƒç´ eæ”¾å…¥é˜Ÿå°¾ï¼Œå¸¦å¤´ç»“ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">QNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">QNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">malloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">QNode&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rear&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">q&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rear&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="7-2å¾ªç¯é“¾è¡¨">&lt;a href="#7-2%e5%be%aa%e7%8e%af%e9%93%be%e8%a1%a8" class="header-anchor">&lt;/a>7-2.å¾ªç¯é“¾è¡¨
&lt;/h3>&lt;p>æ’å…¥å’Œæ™®é€šå•é“¾è¡¨æ²¡åŒºåˆ«ï¼Œè¿™é‡Œå°±åˆ—ä¸¾éƒ¨åˆ†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">LinkList&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">malloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LinkList&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="8æ±‚äºŒå‰æ ‘å„ç§æ•°çš„ç®—æ³•">&lt;a href="#8%e6%b1%82%e4%ba%8c%e5%8f%89%e6%a0%91%e5%90%84%e7%a7%8d%e6%95%b0%e7%9a%84%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>8.æ±‚äºŒå‰æ ‘å„ç§æ•°çš„ç®—æ³•
&lt;/h3>&lt;h4 id="1æ±‚é«˜åº¦">&lt;a href="#1%e6%b1%82%e9%ab%98%e5%ba%a6" class="header-anchor">&lt;/a>ï¼ˆ1ï¼‰æ±‚é«˜åº¦
&lt;/h4>&lt;p>é«˜åº¦å¾ˆç®€å•ï¼Œæ¥ä¸ªé€’å½’å°±å®Œäº‹äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">BiTreeHeight&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BiTNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ±‚äºŒå‰æ ‘çš„é«˜åº¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">treeHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">leftHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">BiTreeHeight&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">rightHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">BiTreeHeight&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">treeHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">leftHeight&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">rightHeight&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">leftHeight&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">rightHeight&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">treeHeight&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2æ±‚å¶å­æ•°">&lt;a href="#2%e6%b1%82%e5%8f%b6%e5%ad%90%e6%95%b0" class="header-anchor">&lt;/a>ï¼ˆ2ï¼‰æ±‚å¶å­æ•°
&lt;/h4>&lt;p>å¶å­æ•°ä¹Ÿä¸€æ ·ï¼Œé€’å½’æ°¸è¿œæ»´ç¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">BiTreeLeafCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BiTNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//æ±‚äºŒå‰æ ‘å¶å­ç»“ç‚¹æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nb">NULL&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">BiTreeLeafCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">BiTreeLeafCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">count&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="3æ±‚ç»“ç‚¹æ•°">&lt;a href="#3%e6%b1%82%e7%bb%93%e7%82%b9%e6%95%b0" class="header-anchor">&lt;/a>ï¼ˆ3ï¼‰æ±‚ç»“ç‚¹æ•°
&lt;/h4>&lt;p>è¿™ä¸å°±éå†å˜›ï¼Œç›´æ¥çœ‹ä¸‹é¢å§=ï¿£Ï‰ï¿£=&lt;/p>
&lt;h3 id="9äºŒå‰æ ‘çš„ä¸­åºéå†">&lt;a href="#9%e4%ba%8c%e5%8f%89%e6%a0%91%e7%9a%84%e4%b8%ad%e5%ba%8f%e9%81%8d%e5%8e%86" class="header-anchor">&lt;/a>9.äºŒå‰æ ‘çš„ä¸­åºéå†
&lt;/h3>&lt;p>é€’å½’ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">InOrderTraverse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BiTNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ä¸­åºéå†äºŒå‰æ ‘Tçš„é€’å½’ç®—æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">InOrderTraverse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%c &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">InOrderTraverse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>éé€’å½’ï¼ˆé‡è¦ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">inorder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BiTNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ä¸­åºéå†äºŒå‰æ ‘Tçš„éé€’å½’ç®—æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">BiTNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXSIZE&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">top&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%c &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="10äºŒå‰æ’åºæ ‘">&lt;a href="#10%e4%ba%8c%e5%8f%89%e6%8e%92%e5%ba%8f%e6%a0%91" class="header-anchor">&lt;/a>10.äºŒå‰æ’åºæ ‘
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">Search_BST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BSTree&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">BSTree&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">BSTree&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//åœ¨æŒ‡é’ˆtæ‰€æŒ‡çš„äºŒå‰æ’åºæ ‘ä¸ŠæŸ¥æ‰¾keyï¼ŒæˆåŠŸåˆ™pæŒ‡å‘è¯¥å…ƒç´ æ•°æ®ç»“ç‚¹å¹¶è¿”å›0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//å¦åˆ™pæŒ‡å‘æŸ¥æ‰¾è·¯å¾„ä¸Šæœ€åä¸€ä¸ªç»“ç‚¹å¹¶è¿”å›1ï¼ŒfæŒ‡å‘Tçš„åŒäº²ï¼Œåˆå§‹å€¼ä¸ºNULL
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">key&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">key&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">Search_BST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">Search_BST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">Insert_BST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BSTree&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span> &lt;span class="c1">//äºŒå‰æ’åºæ ‘çš„æ’å…¥ï¼Œå½“ä¸å­˜åœ¨keyæ—¶æ’å…¥å¹¶è¿”å›0ï¼Œå¦åˆ™è¿”å›1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">BSTree&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nf">Search_BST&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">BSTree&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">malloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BSTNode&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">key&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">lchild&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">rchild&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="14å›¾çš„éå†">&lt;a href="#14%e5%9b%be%e7%9a%84%e9%81%8d%e5%8e%86" class="header-anchor">&lt;/a>14.å›¾çš„éå†
&lt;/h3>&lt;h4 id="1æ·±åº¦ä¼˜å…ˆ">&lt;a href="#1%e6%b7%b1%e5%ba%a6%e4%bc%98%e5%85%88" class="header-anchor">&lt;/a>ï¼ˆ1ï¼‰æ·±åº¦ä¼˜å…ˆ
&lt;/h4>&lt;p>å…¥æ ˆæ—¶æ‰“å°ç»“ç‚¹ä¿¡æ¯&lt;/p>
&lt;p>é€’å½’ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">DFS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGraph&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ArcNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vertices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">firstarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">DFS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">nextarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>éé€’å½’ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">DFS1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGraph&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ArcNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ArcNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//é¡ºåºæ ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vexnum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//è®¿é—®æ ‡å¿—æ•°ç»„åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%2d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vertices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">firstarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%2d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vertices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">firstarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">nextarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">top&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">nextarc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2å¹¿åº¦ä¼˜å…ˆ">&lt;a href="#2%e5%b9%bf%e5%ba%a6%e4%bc%98%e5%85%88" class="header-anchor">&lt;/a>ï¼ˆ2ï¼‰å¹¿åº¦ä¼˜å…ˆ
&lt;/h4>&lt;p>å‡ºé˜Ÿåˆ—æ—¶æ‰“å°ç»“ç‚¹ä¿¡æ¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">BFS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ALGraph&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">G&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ArcNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">queue&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">front&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rear&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å®šä¹‰å¾ªç¯é˜Ÿåˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vexnum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//è®¿é—®æ ‡å¿—æ•°ç»„åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%2d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//è¾“å‡ºè¢«è®¿é—®é¡¶ç‚¹çš„ç¼–å·
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//ç½®å·²è®¿é—®æ ‡è®°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">rear&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">rear&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">queue&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">rear&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//vè¿›é˜Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">front&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">rear&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é˜Ÿåˆ—ä¸ç©ºæ—¶å¾ªç¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">front&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">front&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">queue&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//å‡ºé˜Ÿå¹¶èµ‹ç»™w
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">G&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">vertices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">firstarc&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æ‰¾wçš„ç¬¬ä¸€ä¸ªçš„é‚»æ¥ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%2d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//è®¿é—®ä¹‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">visited&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rear&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">rear&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">MAX_VERTEX_NUM&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//ç›¸é‚»é¡¶ç‚¹è¿›é˜Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">queue&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">rear&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">adjvex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">nextarc&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//æ‰¾ä¸‹ä¸€ä¸ªé‚»æ¥é¡¶ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="15åŒå‘å†’æ³¡">&lt;a href="#15%e5%8f%8c%e5%90%91%e5%86%92%e6%b3%a1" class="header-anchor">&lt;/a>15.åŒå‘å†’æ³¡
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">BubbleSort1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span> &lt;span class="c1">//åŒå‘å†’æ³¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lastExchange&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lastExchange1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//i æŒ‡ç¤ºæ— åºåºåˆ—ä¸­æœ€åä¸€ä¸ªè®°å½•çš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">i1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">i1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lastExchange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//è®°å½•æ­£åºæœ€åä¸€æ¬¡äº¤æ¢å‘ç”Ÿçš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lastExchange1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//è®°å½•é€†åºæœ€åä¸€æ¬¡äº¤æ¢å‘ç”Ÿçš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//é€†åºæ—¶äº¤æ¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lastExchange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lastExchange&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">i1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">R&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//é€†åºæ—¶äº¤æ¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lastExchange1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lastExchange&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lastExchange1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Cè¯­è¨€ç”Ÿæˆéšæœºæ•°</title><link>https://lbqaq.top/p/c%E8%AF%AD%E8%A8%80%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/</link><pubDate>Tue, 22 Dec 2020 19:36:53 +0800</pubDate><guid>https://lbqaq.top/p/c%E8%AF%AD%E8%A8%80%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/</guid><description>&lt;img src="https://lbqaq.top/p/c%E8%AF%AD%E8%A8%80%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/84444030.webp" alt="Featured image of post Cè¯­è¨€ç”Ÿæˆéšæœºæ•°" />&lt;h2 id="ç”Ÿæˆéšæœºæ•°">&lt;a href="#%e7%94%9f%e6%88%90%e9%9a%8f%e6%9c%ba%e6%95%b0" class="header-anchor">&lt;/a>ç”Ÿæˆéšæœºæ•°
&lt;/h2>&lt;p>åœ¨Cè¯­è¨€ä¸­ï¼Œç”Ÿæˆéšæœºæ•°å¯ä»¥ä½¿ç”¨&lt;code>stdlib.h&lt;/code>å¤´æ–‡ä»¶é‡Œçš„&lt;code>rand()&lt;/code>æ¥ç”Ÿæˆï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">rand&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>rand()&lt;/code> ä¼šéšæœºç”Ÿæˆä¸€ä¸ªä½äº 0 ~ RAND_MAX ä¹‹é—´çš„æ•´æ•°ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¿™æ ·ç”Ÿæˆçš„éšæœºæ•°æ¯æ¬¡å¼€å¯ç¨‹åºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œåˆ™éœ€è¦ä½¿ç”¨&lt;code>srand()&lt;/code>æ¥é‡æ–°æ’­ç§ï¼Œä¸€èˆ¬å¸¸ä¸&lt;code>&amp;lt;time.h&amp;gt;&lt;/code>é‡Œçš„&lt;code>time()&lt;/code>å‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">srand&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="kt">unsigned&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">NULL&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¿ç»­ç”Ÿæˆå¤šä¸ªéšæœºæ•°">&lt;a href="#%e8%bf%9e%e7%bb%ad%e7%94%9f%e6%88%90%e5%a4%9a%e4%b8%aa%e9%9a%8f%e6%9c%ba%e6%95%b0" class="header-anchor">&lt;/a>è¿ç»­ç”Ÿæˆå¤šä¸ªéšæœºæ•°
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;time.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">srand&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="kt">unsigned&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">NULL&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//ä½¿ç”¨forå¾ªç¯ç”Ÿæˆ10ä¸ªéšæœºæ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">rand&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°">&lt;a href="#%e7%94%9f%e6%88%90%e6%8c%87%e5%ae%9a%e8%8c%83%e5%9b%b4%e7%9a%84%e9%9a%8f%e6%9c%ba%e6%95%b0" class="header-anchor">&lt;/a>ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°
&lt;/h2>&lt;p>æƒ³è¦ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°ï¼Œåªè¦è¿›è¡Œ&lt;code>%&lt;/code>è¿ç®—å°±å¥½äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">rand&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//äº§ç”Ÿ0~9çš„éšæœºæ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">rand&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//äº§ç”Ÿ1~10çš„éšæœºæ•°
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¿ç»­ç”Ÿæˆä¸é‡å¤çš„éšæœºæ•°">&lt;a href="#%e8%bf%9e%e7%bb%ad%e7%94%9f%e6%88%90%e4%b8%8d%e9%87%8d%e5%a4%8d%e7%9a%84%e9%9a%8f%e6%9c%ba%e6%95%b0" class="header-anchor">&lt;/a>è¿ç»­ç”Ÿæˆä¸é‡å¤çš„éšæœºæ•°
&lt;/h2>&lt;p>è¿™å°±æ˜¯æœ¬æ–‡çš„é‡ç‚¹äº†ãƒ¾(â€¢Ï‰â€¢`)o
&lt;del>ï¼ˆå…¶å®å°±æ˜¯ä¸ºäº†è®°ä¸‹è¿™ä¸ªç®—æ³•æ‰æ°´äº†ä¸€ç¯‡æ–‡ç« ï¼‰&lt;/del>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C" data-lang="C">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nf">GetRandom&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span> &lt;span class="c1">//æ ¹æ®ç»™å®šçš„mç”Ÿæˆéšæœºä¸é‡å¤çš„æ•°ç»„a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">srand&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nf">malloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">rand&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Gitçš„å¸¸ç”¨å‘½ä»¤</title><link>https://lbqaq.top/p/git/</link><pubDate>Wed, 16 Dec 2020 13:16:45 +0800</pubDate><guid>https://lbqaq.top/p/git/</guid><description>&lt;img src="https://lbqaq.top/p/git/79008828.webp" alt="Featured image of post Gitçš„å¸¸ç”¨å‘½ä»¤" />&lt;h2 id="åŸºæœ¬æ“ä½œ">&lt;a href="#%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>åŸºæœ¬æ“ä½œ
&lt;/h2>&lt;p>å»ºç«‹ç‰ˆæœ¬åº“ï¼š&lt;code>git init&lt;/code>&lt;/p>
&lt;p>æŸ¥çœ‹ç»“æœï¼š&lt;code>git status&lt;/code>&lt;/p>
&lt;p>æŸ¥çœ‹ä¸åŒï¼š&lt;code>git diff&lt;/code>&lt;/p>
&lt;h3 id="ç‰ˆæœ¬å›é€€">&lt;a href="#%e7%89%88%e6%9c%ac%e5%9b%9e%e9%80%80" class="header-anchor">&lt;/a>ç‰ˆæœ¬å›é€€
&lt;/h3>&lt;p>æŸ¥çœ‹æäº¤æ—¥è®°ï¼š&lt;code>git log&lt;/code>&lt;/p>
&lt;p>å›é€€ï¼š&lt;code>git reset --hard HEAD^&lt;/code>&lt;/p>
&lt;p>&lt;code>HEAD^&lt;/code>è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œ&lt;code>HEAD^^&lt;/code>è¡¨ç¤ºå‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œ&lt;code>HEAD~100&lt;/code>è¡¨ç¤ºå‰100ä¸ªç‰ˆæœ¬&lt;/p>
&lt;p>æ¢å¤ï¼š&lt;code>git reflog&lt;/code>æŸ¥çœ‹å‘½ä»¤å†å²ï¼Œç¡®å®šå›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬&lt;/p>
&lt;h3 id="æ’¤é”€ä¿®æ”¹">&lt;a href="#%e6%92%a4%e9%94%80%e4%bf%ae%e6%94%b9" class="header-anchor">&lt;/a>æ’¤é”€ä¿®æ”¹
&lt;/h3>&lt;ol>
&lt;li>ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤&lt;code>git checkout -- file&lt;/code>&lt;/li>
&lt;li>å·²ç»æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤&lt;code>git reset HEAD &amp;lt;file&amp;gt;&lt;/code>ï¼Œç¬¬äºŒæ­¥æŒ‰1æ“ä½œã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="ä¸Šä¼ ">&lt;a href="#%e4%b8%8a%e4%bc%a0" class="header-anchor">&lt;/a>ä¸Šä¼ 
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git remote add origin ä»“åº“é“¾æ¥ #å°†è¿œç¨‹ä»“åº“å’Œæœ¬åœ°ä»“åº“ç»‘å®š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;æäº¤ä¿¡æ¯&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin è‡ªå·±å½“å‰çš„åˆ†æ”¯å #-uå°†æœ¬åœ°åº“å’Œè¿œç¨‹åº“çš„åˆ†æ”¯å…³è”ï¼Œä¹‹åå¯ä»¥ä¸åŠ 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‹è½½">&lt;a href="#%e4%b8%8b%e8%bd%bd" class="header-anchor">&lt;/a>ä¸‹è½½
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone ä»“åº“é“¾æ¥
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>git cloneåˆ°å½“å‰æ–‡ä»¶å¤¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone ä»“åº“é“¾æ¥ .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ†æ”¯ç®¡ç†">&lt;a href="#%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86" class="header-anchor">&lt;/a>åˆ†æ”¯ç®¡ç†
&lt;/h2>&lt;h3 id="åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯">&lt;a href="#%e5%88%9b%e5%bb%ba%e4%b8%8e%e5%90%88%e5%b9%b6%e5%88%86%e6%94%af" class="header-anchor">&lt;/a>åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯
&lt;/h3>&lt;p>æŸ¥çœ‹åˆ†æ”¯ï¼š&lt;code>git branch&lt;/code>&lt;/p>
&lt;p>åˆ›å»ºåˆ†æ”¯ï¼š&lt;code>git branch &amp;lt;name&amp;gt;&lt;/code>&lt;/p>
&lt;p>åˆ‡æ¢åˆ†æ”¯ï¼š&lt;code>git checkout &amp;lt;name&amp;gt;&lt;/code>æˆ–è€…&lt;code>git switch &amp;lt;name&amp;gt;&lt;/code>&lt;/p>
&lt;p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼š&lt;code>git checkout -b &amp;lt;name&amp;gt;&lt;/code>æˆ–è€…&lt;code>git switch -c &amp;lt;name&amp;gt;&lt;/code>&lt;/p>
&lt;p>åˆ é™¤åˆ†æ”¯ï¼š&lt;code>git branch -d &amp;lt;name&amp;gt;&lt;/code>&lt;/p>
&lt;p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š&lt;code>git merge &amp;lt;name&amp;gt;&lt;/code>&lt;/p>
&lt;ul>
&lt;li>å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªï¼Œè‡ªå·±æ‰‹åŠ¨ä¿®æ”¹å†²çªæ–‡ä»¶å†åˆå¹¶å³å¯ã€‚&lt;/li>
&lt;li>æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾ï¼š&lt;code>git log --graph&lt;/code>&lt;/li>
&lt;li>ä½¿ç”¨éå¿«é€Ÿæ¨¡å¼åˆå¹¶ï¼Œæœ‰commitï¼š&lt;code>git merge --no-ff -m &amp;quot;merge with no-ff&amp;quot; dev&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="bugåˆ†æ”¯">&lt;a href="#bug%e5%88%86%e6%94%af" class="header-anchor">&lt;/a>Bugåˆ†æ”¯
&lt;/h3>&lt;p>éœ€è¦ç´§æ€¥å¤„ç†Bugæ—¶ï¼Œå¯ä»¥ä½¿ç”¨&lt;code>git stash&lt;/code>å°†ç°åœ¨çš„å·¥ä½œåŒºæš‚å­˜&lt;/p>
&lt;p>&lt;strong>æ¢å¤åŸæ¥çš„å·¥ä½œåŒº&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æ¢å¤ä½†ä¸åˆ é™¤stashå†…å®¹ï¼š&lt;code>git stash apply&lt;/code>&lt;/li>
&lt;li>æ‰‹åŠ¨åˆ é™¤stashå†…å®¹ï¼š&lt;code>git stash drop&lt;/code>&lt;/li>
&lt;li>æ¢å¤ä¸”åˆ é™¤stashå†…å®¹ï¼š&lt;code>git stash pop&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>å¯ä»¥å¤šæ¬¡stashï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå…ˆç”¨&lt;code>git stash list&lt;/code>æŸ¥çœ‹ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„stashï¼Œå¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git stash apply stash@{0}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤çš„bugï¼Œæƒ³è¦åˆå¹¶åˆ°å½“å‰devåˆ†æ”¯ï¼Œå¯ä»¥ç”¨&lt;code>git cherry-pick &amp;lt;commit&amp;gt;&lt;/code>å‘½ä»¤ï¼ŒæŠŠbugæäº¤çš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚&lt;/p>
&lt;h3 id="å¤šäººåä½œ">&lt;a href="#%e5%a4%9a%e4%ba%ba%e5%8d%8f%e4%bd%9c" class="header-anchor">&lt;/a>å¤šäººåä½œ
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨&lt;code>git remote -v&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨&lt;code>git push origin branch-name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¦‚æœå†²çªï¼Œå…ˆ&lt;code>git pull&lt;/code>æŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼Œå¤„ç†å¥½åå†&lt;code>push&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼š&lt;code>git checkout -b branch-name origin/branch-name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼š&lt;code>git branch --set-upstream branch-name origin/branch-name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å°†éç›´çº¿çš„æäº¤æ—¥è®°å˜ä¸ºç›´çº¿ï¼š&lt;code>git rebase&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ ‡ç­¾ç®¡ç†">&lt;a href="#%e6%a0%87%e7%ad%be%e7%ae%a1%e7%90%86" class="header-anchor">&lt;/a>æ ‡ç­¾ç®¡ç†
&lt;/h2>&lt;h3 id="åˆ›å»ºæ ‡ç­¾">&lt;a href="#%e5%88%9b%e5%bb%ba%e6%a0%87%e7%ad%be" class="header-anchor">&lt;/a>åˆ›å»ºæ ‡ç­¾
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>æ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼š&lt;code>git tag &amp;lt;name&amp;gt;&lt;/code>,é»˜è®¤ä¸º&lt;code>HEAD&lt;/code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit id&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼š&lt;code>git tag -a &amp;lt;tagname&amp;gt; -m &amp;quot;blablabla...&amp;quot;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ï¼š&lt;code>git tag&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="æ ‡ç­¾ç®¡ç†-1">&lt;a href="#%e6%a0%87%e7%ad%be%e7%ae%a1%e7%90%86-1" class="header-anchor">&lt;/a>æ ‡ç­¾ç®¡ç†
&lt;/h3>&lt;ul>
&lt;li>æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼š&lt;code>git push origin &amp;lt;tagname&amp;gt;&lt;/code>&lt;/li>
&lt;li>æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼š&lt;code>git push origin --tags&lt;/code>&lt;/li>
&lt;li>åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼š&lt;code>git tag -d &amp;lt;tagname&amp;gt;&lt;/code>&lt;/li>
&lt;li>åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ï¼š&lt;code>git push origin :refs/tags/&amp;lt;tagname&amp;gt;&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>å…³äº</title><link>https://lbqaq.top/about/</link><pubDate>Wed, 16 Dec 2020 00:00:00 +0000</pubDate><guid>https://lbqaq.top/about/</guid><description>&lt;h2 id="å…³äºæˆ‘">&lt;a href="#%e5%85%b3%e4%ba%8e%e6%88%91" class="header-anchor">&lt;/a>å…³äºæˆ‘
&lt;/h2>&lt;p>ä¸€ä¸ªé»˜é»˜æ— é—»çš„å°èŒæ–°ã€‚&lt;/p>
&lt;h2 id="å…³äºæ’å›¾">&lt;a href="#%e5%85%b3%e4%ba%8e%e6%8f%92%e5%9b%be" class="header-anchor">&lt;/a>å…³äºæ’å›¾
&lt;/h2>&lt;p>æœ¬ç«™æ‰€æœ‰çš„æ’å›¾å‡æ”¶é›†è‡ªæ’ç”»ç½‘ç«™&lt;a class="link" href="https://www.pixiv.net/" target="_blank" rel="noopener"
>Pixiv&lt;/a>ï¼Œå›¾ç‰‡çš„æ–‡ä»¶åå³ä¸ºPixivä¸Šçš„å›¾ç‰‡idï¼Œä¾µåˆ è‡´æ­‰ã€‚&lt;/p>
&lt;h2 id="è”ç³»æ–¹å¼">&lt;a href="#%e8%81%94%e7%b3%bb%e6%96%b9%e5%bc%8f" class="header-anchor">&lt;/a>è”ç³»æ–¹å¼
&lt;/h2>&lt;ul>
&lt;li>Email: &lt;a class="link" href="mailto:luoboqvq@gmail.com" >luoboqvq@gmail.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="è‡´è°¢">&lt;a href="#%e8%87%b4%e8%b0%a2" class="header-anchor">&lt;/a>è‡´è°¢
&lt;/h2>&lt;p>æ„Ÿè°¢æ‰€æœ‰è¢«æœ¬é¡¹ç›®æ‰€å¼•ç”¨åˆ°çš„å¼€æºé¡¹ç›®&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener"
>Hugo&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>Hugo Theme Stack&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Blogå¸¸ç”¨çš„å‘½ä»¤</title><link>https://lbqaq.top/p/blog%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/</link><pubDate>Tue, 15 Dec 2020 18:02:14 +0800</pubDate><guid>https://lbqaq.top/p/blog%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/</guid><description>&lt;img src="https://lbqaq.top/p/blog%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/80228475.webp" alt="Featured image of post Blogå¸¸ç”¨çš„å‘½ä»¤" />&lt;h2 id="ä¸»é¢˜ç›¸å…³">&lt;a href="#%e4%b8%bb%e9%a2%98%e7%9b%b8%e5%85%b3" class="header-anchor">&lt;/a>ä¸»é¢˜ç›¸å…³
&lt;/h2>&lt;p>FrontMatter å­—æ®µå«ä¹‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">title: æ ‡é¢˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: æè¿°
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">image: æ˜¾ç¤ºçš„ç‰¹è‰²å›¾ç‰‡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">comments: æ˜¾ç¤º / éšè—è¯„è®ºåŒº(T/F)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">license: æ–‡ç« åè®® è¾“å…¥ false å¯ä»¥éšè—
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hidden: éšè—æ–‡ç« ï¼ˆä¸åœ¨é¦–é¡µï¼Œå½’æ¡£ç­‰é¡µé¢æ˜¾ç¤ºï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡é“¾æ¥è®¿é—®ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">math: æ˜¯å¦åŠ è½½ KaTeX è„šæœ¬
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slug: å›ºå®šé“¾æ¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">draft: æ˜¯å¦ä¸ºè‰ç¨¿
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">categories: åˆ†ç±»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tags: æ ‡ç­¾
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lastmod: ä¸Šæ¬¡æ›´æ–°æ—¶é—´
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="markdownç›¸å…³">&lt;a href="#markdown%e7%9b%b8%e5%85%b3" class="header-anchor">&lt;/a>MarkDownç›¸å…³
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Markdown" data-lang="Markdown">&lt;span class="line">&lt;span class="cl">&lt;span class="gh"># æˆ‘æ˜¯ä¸€çº§æ ‡é¢˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh">&lt;/span>&lt;span class="gu">## æˆ‘æ˜¯äºŒçº§æ ‡é¢˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>å¯å¯¹åº”1-6çº§æ ‡é¢˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ge">*æ–œä½“æ–‡æœ¬*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gs">**ç²—ä½“æ–‡æœ¬**&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ge">**&lt;/span>*ç²—æ–œä½“æ–‡æœ¬***
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ä¸€è¡Œä¸­ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„æ˜Ÿå·*ã€å‡å·-ã€åº•çº¿_æ¥å»ºç«‹ä¸€ä¸ªåˆ†éš”çº¿
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">~~åˆ é™¤çº¿~~&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¸¦ä¸‹åˆ’çº¿æ–‡æœ¬&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">åˆ›å»ºè„šæ³¨æ ¼å¼ç±»ä¼¼è¿™æ · [^JiaoZhu]ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[^JiaoZhu]: è„šæ³¨çš„å†…å®¹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">åˆ—è¡¨ï¼š*ã€+ã€-ã€1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">&amp;gt; &lt;/span>&lt;span class="ge">åŒºå—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ge">&lt;/span>[&lt;span class="nt">é“¾æ¥æ–‡æœ¬&lt;/span>](&lt;span class="na">ç½‘å€&lt;/span>) å›¾ç‰‡åœ¨å‰åŠ !
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| è¡¨å¤´ | è¡¨å¤´ |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| ---- | ---- |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| å•å…ƒæ ¼ | å•å…ƒæ ¼ |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| å•å…ƒæ ¼ | å•å…ƒæ ¼ |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-: è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å³å¯¹é½ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:- è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å·¦å¯¹é½ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:-: è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…ä¸­å¯¹é½ã€‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>æ–‡ç« </title><link>https://lbqaq.top/archives/</link><pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate><guid>https://lbqaq.top/archives/</guid><description/></item><item><title>æŸ¥è¯¢</title><link>https://lbqaq.top/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://lbqaq.top/search/</guid><description/></item></channel></rss>