<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Docker on luoboQAQ</title><link>https://lbqaq.top/tags/docker/</link><description>Recent content in Docker on luoboQAQ</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 22 Nov 2023 13:24:00 +0800</lastBuildDate><atom:link href="https://lbqaq.top/tags/docker/index.xml" rel="self" type="application/rss+xml"/><item><title>æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—</title><link>https://lbqaq.top/p/langchao/</link><pubDate>Sun, 03 Sep 2023 14:10:14 +0800</pubDate><guid>https://lbqaq.top/p/langchao/</guid><description>&lt;img src="https://lbqaq.top/p/langchao/102879503.webp" alt="Featured image of post æµªæ½®äººå·¥æ™ºèƒ½å¹³å°ä½¿ç”¨å¿ƒå¾—" />&lt;p>éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹ç®—åŠ›çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚ä½†æˆ‘å®éªŒå®¤çš„ç”µè„‘å¹¶æ²¡æœ‰é…ç½®æ˜¾å¡ï¼Œæ‰€ä»¥ä¾¿éœ€è¦ä½¿ç”¨å­¦é™¢çš„æœåŠ¡å™¨ã€‚æˆåŠŸæ‹¿åˆ°è´¦å·åï¼Œå´å‘ç°è¿™ä¸ªå¹³å°å¹¶æ²¡æœ‰æˆ‘æƒ³è±¡çš„é‚£ä¹ˆå¥½ç”¨ğŸ˜‡ä¸ºäº†è¾¾åˆ°æœ€èˆ’é€‚çš„ä½¿ç”¨ä½“éªŒï¼Œå¼€æï¼&lt;/p>
&lt;h2 id="é…ç½®å¼€å‘é•œåƒ">&lt;a href="#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%8f%91%e9%95%9c%e5%83%8f" class="header-anchor">&lt;/a>é…ç½®å¼€å‘é•œåƒ
&lt;/h2>&lt;p>å¹³å°é‡Œè™½ç„¶é¢„ç½®äº†ä¸€äº›å¼€å‘ç¯å¢ƒï¼Œä½†ä»ç„¶ç¼ºå°‘ä¸€äº›éœ€è¦çš„è½¯ä»¶ï¼Œæ¯æ¬¡è¿å…¥åå†é‡æ–°å®‰è£…å®åœ¨æ˜¯ä¸ä¼˜é›…ã€‚é‚£ä¹ˆæœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯é…ç½®å¥½ä¸€å¥—ç¯å¢ƒï¼Œç›´æ¥æ‹‰å–å°±èƒ½ä½¿ç”¨ã€‚åœ¨æˆ‘ä¹‹å‰ï¼Œå·²ç»æœ‰ä½å¤§ä½¬æ„å»ºäº†ä¸€å¥—å¼€å‘ç¯å¢ƒå¹¶è¿›è¡Œäº†åˆ†äº«ï¼Œå¯æ˜¯é•œåƒå¤§å°è¾¾åˆ°äº†æƒŠäººçš„18.4GğŸ˜¯ï¼ˆå®¹é‡å¤§è¯´æ˜åŠŸèƒ½å¤šï¼Œæ­¤å¤„å¹¶æ²¡æœ‰è´¬ä½çš„æ„æ€ï¼‰ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢Archçš„å“²å­¦ï¼Œå³Keep It Simple, Stupidï¼ˆå¯¹åº”ä¸­æ–‡ä¸ºâ€œä¿æŒç®€å•ï¼Œä¸”ä¸€ç›®äº†ç„¶â€ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘å†³å®šæ„å»ºä¸€ä¸ªæœ€å°åŒ–çš„å¼€å‘ç¯å¢ƒä¸”å¯ä»¥å¼€ç®±å³ç”¨ã€‚&lt;/p>
&lt;p>é€šè¿‡æ¢ç©¶å‘ç°ï¼Œè¿™ä¸ªå¹³å°ä¸Šæ‰€æœ‰çš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯ä¸€ä¸ªDockerå®¹å™¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦æ„å»ºå¥½é•œåƒå¹¶ä¸Šä¼ å°±OKäº†ã€‚æ„å»ºé•œåƒæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è¿›å…¥å®¹å™¨æ‰‹åŠ¨é…ç½®ç„¶åä½¿ç”¨&lt;code>docker commit ...&lt;/code>ä¿å­˜ä¿®æ”¹ï¼›å¦ä¸€ç§åˆ™æ˜¯ä½¿ç”¨&lt;code>Dockerfile&lt;/code>ã€‚ä¸ºäº†ä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ï¼Œæˆ‘é€‰æ‹©äº†ç¬¬äºŒç§ã€‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥å°±æ˜¯æ˜ç¡®éœ€æ±‚äº†ï¼Œæˆ‘å¯¹å…¶çš„è¦æ±‚æœ‰å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰è£…å¥½æ˜¾å¡é©±åŠ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨cuda&lt;/li>
&lt;li>å®‰è£…å¥½condaï¼Œå¯ä»¥ä¾¿æ·çš„ç®¡ç†pythonå¼€å‘ç¯å¢ƒ&lt;/li>
&lt;li>æœ‰ä¸€ä¸ªæ˜“ç”¨çš„ç»ˆç«¯ï¼Œæ–¹ä¾¿è°ƒè¯•&lt;/li>
&lt;/ul>
&lt;p>cudaå¾ˆå¥½è§£å†³ï¼Œç›´æ¥åœ¨nvidiaå®˜æ–¹çš„é•œåƒä¸Šè¿›è¡Œä¿®æ”¹å°±è¡Œäº†&lt;/p>
&lt;p>å¯¹äºcondaï¼ŒåŸç‰ˆçš„Anacondaè¿‡äºè‡ƒè‚¿ï¼Œä¸ç¬¦åˆKISSåŸåˆ™ã€‚åŒæ—¶ï¼Œå½“ç¯å¢ƒå¤æ‚(&lt;code>conda&lt;/code>å’Œ&lt;code>pip&lt;/code>æ··ç”¨)æ—¶ï¼Œ&lt;code>solving environment&lt;/code>è¿™ä¸€æ­¥å¯ä»¥å¡åˆ°ä½ æ€€ç–‘äººç”Ÿï¼Œäºæ˜¯æˆ‘é€‰æ‹©äº†ä½¿ç”¨C++é‡æ„çš„&lt;a class="link" href="https://github.com/mamba-org/mamba" target="_blank" rel="noopener"
>mamba&lt;/a>ï¼Œå¹¶é€‰æ‹©&lt;code>micromamba&lt;/code>è¿›ä¸€æ­¥å‹ç¼©ä½“ç§¯ã€‚&lt;/p>
&lt;p>å¯¹äºç»ˆç«¯ï¼Œé‚£å°±æ— è„‘ä½¿ç”¨&lt;code>zsh&lt;/code>å¹¶åŠ è½½&lt;code>oh-my-zsh&lt;/code>å¹¶å®‰è£…æˆ‘æ—¥å¸¸ä½¿ç”¨çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥å¼€å†™Dockerfileäº†ã€‚&lt;/p>
&lt;details>
&lt;summary>ğŸ“ƒå±•å¼€ä»£ç &lt;/summary>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># base image&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nvidia/cuda:11.3.1-cudnn8-runtime-ubuntu20.04&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> luoboQAQ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># è®¾ç½®å›½å†…é•œåƒæºå¹¶å®‰è£…è½¯ä»¶&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s1">&amp;#39;s@/archive.ubuntu.com/@/mirrors.bfsu.edu.cn/@g&amp;#39;&lt;/span> /etc/apt/sources.list &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get clean &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get update &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y --no-install-recommends openssh-client openssh-server git zsh curl vim &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/* &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®openssh[https://github.com/wjyzzu/inpsur-dockerfile/blob/main/base/ubuntu/Dockerfile]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mkdir -p /var/run/sshd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> /usr/bin/ssh-keygen -A &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/ssh_config &lt;span class="p">|&lt;/span> grep -v StrictHostKeyChecking &amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34; StrictHostKeyChecking no&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/ssh_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cat /etc/ssh/sshd_config &lt;span class="p">|&lt;/span> grep -v PermitRootLogin&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;PermitRootLogin yes&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/ssh/sshd_config.new &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/ssh_config.new /etc/ssh/ssh_config &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mv /etc/ssh/sshd_config.new /etc/ssh/sshd_config&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®oh-my-zsh&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/mirrors/oh-my-zsh ~/.oh-my-zsh &lt;span class="se">\ &lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> git clone https://gitee.com/lightnear/zsh-syntax-highlighting.git &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-syntax-highlighting &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sed -i &lt;span class="s2">&amp;#34;s/plugins=(git.*)&lt;/span>$&lt;span class="s2">/plugins=(git zsh-syntax-highlighting)/&amp;#34;&lt;/span> ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> chsh -s /bin/zsh &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å®‰è£…micromambaå¹¶é…ç½®å›½å†…æº&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest &lt;span class="p">|&lt;/span> tar -xvj bin/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> ./bin/micromamba shell init -s zsh -p ~/micromamba &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nalias conda=&amp;#39;micromamba&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - defaults \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">show_channel_urls: true \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">default_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/main \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/r \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> - https://mirrors.bfsu.edu.cn/anaconda/pkgs/msys2 \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">custom_channels: \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> conda-forge: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> msys2: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> bioconda: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> menpo: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> pytorch-lts: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> simpleitk: https://mirrors.bfsu.edu.cn/anaconda/cloud \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> deepmodeling: https://mirrors.bfsu.edu.cn/anaconda/cloud/&amp;#34;&lt;/span> &amp;gt; ~/.condarc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;[global] \n\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">index-url = https://mirrors.bfsu.edu.cn/pypi/web/simple&amp;#34;&lt;/span> &amp;gt; /etc/pip.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®ç½‘ç»œä»£ç†&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">set&lt;/span> -ex &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;\nexport HTTP_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export HTTPS_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;export ALL_PROXY=&amp;#39;http://127.0.0.1:3128&amp;#39;&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.zshrc&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 22&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /root&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;/bin/zsh&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/details>
&lt;p>é™¤äº†ä¸Šé¢æåˆ°çš„å‡ ç‚¹ï¼Œæˆ‘è¿˜å¢åŠ äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>é•œåƒå·²é…ç½®å¥½å›½å†…é•œåƒæºï¼Œæ–¹ä¾¿æ„å»ºä»¥åŠä½¿ç”¨æ—¶å®‰è£…æ–°çš„åŒ…&lt;/li>
&lt;li>é…ç½®opensshï¼Œä½¿å…¶å¯ä»¥è¢«æµªæ½®å¹³å°æ¥å…¥å¹¶æä¾›SSHæœåŠ¡&lt;/li>
&lt;li>é¢„å…ˆå®‰è£…å¥½vimï¼Œä¾¿äºé…ç½®æ–‡ä»¶çš„ä¿®æ”¹&lt;/li>
&lt;li>æå‰è®¾ç½®å¥½ç½‘ç»œä»£ç†ï¼Œä¾¿äºè¿æ¥äº’è”ç½‘&lt;/li>
&lt;li>è®¾ç½®åˆ«åï¼š&lt;code>conda&lt;/code>-&amp;gt;&lt;code>micromamba&lt;/code>ï¼Œæ–¹ä¾¿æ—¥å¸¸ä½¿ç”¨&lt;/li>
&lt;/ul>
&lt;p>ç”±äºæœåŠ¡å™¨æ²¡æœ‰ç½‘ç»œï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¸Šä¼ é•œåƒï¼Œä½¿ç”¨å‘½ä»¤&lt;code>docker save -o [TAGS]&lt;/code>æ‰“åŒ…æˆtaråŒ…å¹¶ä¸Šä¼ è‡³ç³»ç»Ÿä¸­ã€‚&lt;/p>
&lt;h2 id="å°ç»“">&lt;a href="#%e5%b0%8f%e7%bb%93" class="header-anchor">&lt;/a>å°ç»“
&lt;/h2>&lt;p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©å¤§ä¼™å¿«é€Ÿä¸Šæ‰‹è¯¥å¹³å°ï¼Œæ¯•ç«Ÿæœ‰è¿™ä¹ˆå¥½çš„èµ„æºå°±è¦å¥½å¥½åˆ©ç”¨èµ·æ¥ã€‚&lt;/p></description></item></channel></rss>